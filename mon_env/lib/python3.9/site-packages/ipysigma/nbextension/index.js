/*! For license information please see index.js.LICENSE.txt */
define(["@jupyter-widgets/base"],(e=>(()=>{var t={3889:(e,t,n)=>{(t=n(352)(!1)).push([e.id,"/* Choices.js overrides */\n.ipysigma-widget .choices {\n  margin-bottom: 5px;\n}\n\n.ipysigma-widget .choices__inner {\n  border-radius: 0;\n  background-color: white;\n  border: 1px solid #e0e0e0;\n  box-sizing: border-box;\n  padding-right: 50px;\n}\n\n.ipysigma-widget .choices__item--selectable {\n  padding-right: 0px !important;\n}\n\n.ipysigma-widget .choices__item {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n/* Ipysigma own styles */\n.ipysigma-widget {\n  /* Background color is now set by widget directly! */\n  /* background-color: white; */\n  margin: 0;\n  padding: 0;\n  border: 1px solid #e0e0e0;\n  font-family: sans-serif;\n  color: black;\n}\n\n.ipysigma-widget ~ .ipysigma-widget {\n  border-left: none;\n}\n\n.widget-hbox ~ .widget-hbox .ipysigma-widget {\n  border-top: none;\n}\n\n.ipysigma-widget hr {\n  height: 1px;\n  border: none;\n  background-color: #e0e0e0;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n\n.ipysigma-widget .ipysigma-left-panel {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n}\n\n.ipysigma-widget .ipysigma-right-panel {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  width: 250px;\n  height: 100%;\n}\n\n.ipysigma-widget .ipysigma-right-panel.hidden {\n  pointer-events: none;\n}\n\n.ipysigma-widget .ipysigma-graph-description {\n  background-color: white;\n  border: 1px solid #e0e0e0;\n  padding: 5px 10px;\n  font-size: 12px;\n  /* font-style: italic; */\n  line-height: 16px;\n}\n\n.ipysigma-widget .ipysigma-button {\n  cursor: pointer;\n  text-align: center;\n  background-color: white;\n  border: 1px solid #e0e0e0;\n  user-select: none;\n}\n\n.ipysigma-widget .ipysigma-button.disabled {\n  border: none;\n  cursor: default;\n}\n\n.ipysigma-widget .ipysigma-button.disabled svg {\n  fill: #efefef;\n}\n\n.ipysigma-widget .ipysigma-button:hover {\n  border-color: grey;\n}\n\n.ipysigma-widget .ipysigma-svg-icon {\n  width: 32px;\n  height: 32px;\n  font-size: 24px;\n  line-height: 30px;\n  box-sizing: border-box;\n}\n\n.ipysigma-widget .ipysigma-zoom-button {\n  margin-top: 10px;\n}\n\n.ipysigma-widget .ipysigma-unzoom-button {\n  margin-top: 10px;\n}\n\n.ipysigma-widget .ipysigma-reset-zoom-button {\n  margin-top: 10px;\n}\n\n.ipysigma-widget .ipysigma-fullscreen-button {\n  margin-top: 10px;\n}\n\n.ipysigma-widget .ipysigma-layout-controls {\n  width: 100%;\n  margin-top: 10px;\n  display: flex;\n}\n\n.ipysigma-widget .ipysigma-reset-layout-button,\n.ipysigma-widget .ipysigma-noverlap-button {\n  margin-left: 4px;\n}\n\n.ipysigma-widget .ipysigma-spinner {\n  font-size: 20px;\n  padding-left: 5px;\n  line-height: 26px;\n}\n\n.ipysigma-widget .ipysigma-tab-button.selectable {\n  color: cornflowerblue;\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.ipysigma-widget .ipysigma-information-display {\n  width: 100%;\n  height: calc(100% - 45px - 5px - 20px - 25px);\n  overflow-y: auto;\n  background-color: white;\n  border: 1px solid #e0e0e0;\n  box-sizing: border-box;\n  font-size: 12px;\n  line-height: 16px;\n  padding: 10px;\n}\n\n.ipysigma-widget .ipysigma-information-display.full {\n  height: calc(100% - 20px - 25px);\n}\n\n.ipysigma-widget .ipysigma-information-shadow-display {\n  width: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n  font-size: 12px;\n  line-height: 16px;\n  padding: 10px;\n}\n\n.ipysigma-widget .ipysigma-information-hide-button,\n.ipysigma-widget .ipysigma-information-show-button {\n  float: right;\n  cursor: pointer;\n}\n\n.ipysigma-widget .ipysigma-information-contents,\n.ipysigma-widget .ipysigma-legend {\n  font-family: monospace;\n}\n\n.ipysigma-widget .ipysigma-string {\n  color: #bc2828;\n}\n\n.ipysigma-widget .ipysigma-number {\n  color: #008800;\n}\n\n.ipysigma-widget .ipysigma-boolean,\n.ipysigma-widget .ipysigma-keyword {\n  color: #0457ab;\n}\n\n.ipysigma-widget .ipysigma-download-controls {\n  margin-top: 5px;\n  display: flex;\n  text-align: right;\n  position: absolute;\n  bottom: 20px;\n  right: 0px;\n}\n\n.ipysigma-widget .ipysigma-download-png-button,\n.ipysigma-widget .ipysigma-download-svg-button,\n.ipysigma-widget .ipysigma-download-gexf-button {\n  margin-right: 3px;\n}\n\n.ipysigma-widget .category {\n  cursor: pointer;\n}\n.ipysigma-widget .category.evicted .category-value {\n  color: gray;\n  text-decoration: line-through;\n}\n\n.ipysigma-widget .ipysigma-search,\n.ipysigma-widget .ipysigma-download-controls,\n.ipysigma-widget .ipysigma-information-shadow-display,\n.ipysigma-widget .choices {\n  pointer-events: auto;\n}\n",""]),e.exports=t},3973:(e,t,n)=>{(t=n(352)(!1)).push([e.id,'.choices{position:relative;overflow:hidden;margin-bottom:24px;font-size:16px}.choices:focus{outline:0}.choices:last-child{margin-bottom:0}.choices.is-open{overflow:visible}.choices.is-disabled .choices__inner,.choices.is-disabled .choices__input{background-color:#eaeaea;cursor:not-allowed;-webkit-user-select:none;user-select:none}.choices.is-disabled .choices__item{cursor:not-allowed}.choices [hidden]{display:none!important}.choices[data-type*=select-one]{cursor:pointer}.choices[data-type*=select-one] .choices__inner{padding-bottom:7.5px}.choices[data-type*=select-one] .choices__input{display:block;width:100%;padding:10px;border-bottom:1px solid #ddd;background-color:#fff;margin:0}.choices[data-type*=select-one] .choices__button{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yLjU5Mi4wNDRsMTguMzY0IDE4LjM2NC0yLjU0OCAyLjU0OEwuMDQ0IDIuNTkyeiIvPjxwYXRoIGQ9Ik0wIDE4LjM2NEwxOC4zNjQgMGwyLjU0OCAyLjU0OEwyLjU0OCAyMC45MTJ6Ii8+PC9nPjwvc3ZnPg==);padding:0;background-size:8px;position:absolute;top:50%;right:0;margin-top:-10px;margin-right:25px;height:20px;width:20px;border-radius:10em;opacity:.25}.choices[data-type*=select-one] .choices__button:focus,.choices[data-type*=select-one] .choices__button:hover{opacity:1}.choices[data-type*=select-one] .choices__button:focus{box-shadow:0 0 0 2px #00bcd4}.choices[data-type*=select-one] .choices__item[data-value=""] .choices__button{display:none}.choices[data-type*=select-one]::after{content:"";height:0;width:0;border-style:solid;border-color:#333 transparent transparent;border-width:5px;position:absolute;right:11.5px;top:50%;margin-top:-2.5px;pointer-events:none}.choices[data-type*=select-one].is-open::after{border-color:transparent transparent #333;margin-top:-7.5px}.choices[data-type*=select-one][dir=rtl]::after{left:11.5px;right:auto}.choices[data-type*=select-one][dir=rtl] .choices__button{right:auto;left:0;margin-left:25px;margin-right:0}.choices[data-type*=select-multiple] .choices__inner,.choices[data-type*=text] .choices__inner{cursor:text}.choices[data-type*=select-multiple] .choices__button,.choices[data-type*=text] .choices__button{position:relative;display:inline-block;margin:0 -4px 0 8px;padding-left:16px;border-left:1px solid #008fa1;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yLjU5Mi4wNDRsMTguMzY0IDE4LjM2NC0yLjU0OCAyLjU0OEwuMDQ0IDIuNTkyeiIvPjxwYXRoIGQ9Ik0wIDE4LjM2NEwxOC4zNjQgMGwyLjU0OCAyLjU0OEwyLjU0OCAyMC45MTJ6Ii8+PC9nPjwvc3ZnPg==);background-size:8px;width:8px;line-height:1;opacity:.75;border-radius:0}.choices[data-type*=select-multiple] .choices__button:focus,.choices[data-type*=select-multiple] .choices__button:hover,.choices[data-type*=text] .choices__button:focus,.choices[data-type*=text] .choices__button:hover{opacity:1}.choices__inner{display:inline-block;vertical-align:top;width:100%;background-color:#f9f9f9;padding:7.5px 7.5px 3.75px;border:1px solid #ddd;border-radius:2.5px;font-size:14px;min-height:44px;overflow:hidden}.is-focused .choices__inner,.is-open .choices__inner{border-color:#b7b7b7}.is-open .choices__inner{border-radius:2.5px 2.5px 0 0}.is-flipped.is-open .choices__inner{border-radius:0 0 2.5px 2.5px}.choices__list{margin:0;padding-left:0;list-style:none}.choices__list--single{display:inline-block;padding:4px 16px 4px 4px;width:100%}[dir=rtl] .choices__list--single{padding-right:4px;padding-left:16px}.choices__list--single .choices__item{width:100%}.choices__list--multiple{display:inline}.choices__list--multiple .choices__item{display:inline-block;vertical-align:middle;border-radius:20px;padding:4px 10px;font-size:12px;font-weight:500;margin-right:3.75px;margin-bottom:3.75px;background-color:#00bcd4;border:1px solid #00a5bb;color:#fff;word-break:break-all;box-sizing:border-box}.choices__list--multiple .choices__item[data-deletable]{padding-right:5px}[dir=rtl] .choices__list--multiple .choices__item{margin-right:0;margin-left:3.75px}.choices__list--multiple .choices__item.is-highlighted{background-color:#00a5bb;border:1px solid #008fa1}.is-disabled .choices__list--multiple .choices__item{background-color:#aaa;border:1px solid #919191}.choices__list--dropdown,.choices__list[aria-expanded]{visibility:hidden;z-index:1;position:absolute;width:100%;background-color:#fff;border:1px solid #ddd;top:100%;margin-top:-1px;border-bottom-left-radius:2.5px;border-bottom-right-radius:2.5px;overflow:hidden;word-break:break-all;will-change:visibility}.is-active.choices__list--dropdown,.is-active.choices__list[aria-expanded]{visibility:visible}.is-open .choices__list--dropdown,.is-open .choices__list[aria-expanded]{border-color:#b7b7b7}.is-flipped .choices__list--dropdown,.is-flipped .choices__list[aria-expanded]{top:auto;bottom:100%;margin-top:0;margin-bottom:-1px;border-radius:.25rem .25rem 0 0}.choices__list--dropdown .choices__list,.choices__list[aria-expanded] .choices__list{position:relative;max-height:300px;overflow:auto;-webkit-overflow-scrolling:touch;will-change:scroll-position}.choices__list--dropdown .choices__item,.choices__list[aria-expanded] .choices__item{position:relative;padding:10px;font-size:14px}[dir=rtl] .choices__list--dropdown .choices__item,[dir=rtl] .choices__list[aria-expanded] .choices__item{text-align:right}@media (min-width:640px){.choices__list--dropdown .choices__item--selectable,.choices__list[aria-expanded] .choices__item--selectable{padding-right:100px}.choices__list--dropdown .choices__item--selectable::after,.choices__list[aria-expanded] .choices__item--selectable::after{content:attr(data-select-text);font-size:12px;opacity:0;position:absolute;right:10px;top:50%;transform:translateY(-50%)}[dir=rtl] .choices__list--dropdown .choices__item--selectable,[dir=rtl] .choices__list[aria-expanded] .choices__item--selectable{text-align:right;padding-left:100px;padding-right:10px}[dir=rtl] .choices__list--dropdown .choices__item--selectable::after,[dir=rtl] .choices__list[aria-expanded] .choices__item--selectable::after{right:auto;left:10px}}.choices__list--dropdown .choices__item--selectable.is-highlighted,.choices__list[aria-expanded] .choices__item--selectable.is-highlighted{background-color:#f2f2f2}.choices__list--dropdown .choices__item--selectable.is-highlighted::after,.choices__list[aria-expanded] .choices__item--selectable.is-highlighted::after{opacity:.5}.choices__item{cursor:default}.choices__item--selectable{cursor:pointer}.choices__item--disabled{cursor:not-allowed;-webkit-user-select:none;user-select:none;opacity:.5}.choices__heading{font-weight:600;font-size:12px;padding:10px;border-bottom:1px solid #f7f7f7;color:gray}.choices__button{text-indent:-9999px;-webkit-appearance:none;appearance:none;border:0;background-color:transparent;background-repeat:no-repeat;background-position:center;cursor:pointer}.choices__button:focus,.choices__input:focus{outline:0}.choices__input{display:inline-block;vertical-align:baseline;background-color:#f9f9f9;font-size:14px;margin-bottom:5px;border:0;border-radius:0;max-width:100%;padding:4px 0 4px 2px}.choices__input::-webkit-search-cancel-button,.choices__input::-webkit-search-decoration,.choices__input::-webkit-search-results-button,.choices__input::-webkit-search-results-decoration{display:none}.choices__input::-ms-clear,.choices__input::-ms-reveal{display:none;width:0;height:0}[dir=rtl] .choices__input{padding-right:2px;padding-left:0}.choices__placeholder{opacity:.5}',""]),e.exports=t},146:e=>{e.exports=function(e,t){var n=t.length;if(0!==n){var r=e.length;e.length+=n;for(var i=0;i<n;i++)e[r+i]=t[i]}}},1936:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var o=n(946),a=n(9406),s=WebGLRenderingContext.UNSIGNED_BYTE,c=WebGLRenderingContext.FLOAT,u=["u_matrix","u_sizeRatio","u_dimensions","u_pixelRatio"],l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return{VERTICES:4,ARRAY_ITEMS_PER_VERTEX:9,VERTEX_SHADER_SOURCE:'\nattribute vec4 a_color;\nattribute float a_direction;\nattribute float a_thickness;\nattribute vec2 a_source;\nattribute vec2 a_target;\nattribute float a_current;\nattribute float a_curveness;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_pixelRatio;\nuniform vec2 u_dimensions;\n\nvarying vec4 v_color;\nvarying float v_thickness;\nvarying vec2 v_cpA;\nvarying vec2 v_cpB;\nvarying vec2 v_cpC;\n\nconst float bias = 255.0 / 254.0;\nconst float epsilon = 0.7;\nconst float minThickness = 0.3;\n\nvec2 clipspaceToViewport(vec2 pos, vec2 dimensions) {\n  return vec2(\n    (pos.x + 1.0) * dimensions.x / 2.0,\n    (pos.y + 1.0) * dimensions.y / 2.0\n  );\n}\n\nvec2 viewportToClipspace(vec2 pos, vec2 dimensions) {\n  return vec2(\n    pos.x / dimensions.x * 2.0 - 1.0,\n    pos.y / dimensions.y * 2.0 - 1.0\n  );\n}\n\nvoid main() {\n\n  // Selecting the correct position\n  // Branchless "position = a_source if a_current == 1.0 else a_target"\n  vec2 position = a_source * max(0.0, a_current) + a_target * max(0.0, 1.0 - a_current);\n  position = (u_matrix * vec3(position, 1)).xy;\n\n  vec2 source = (u_matrix * vec3(a_source, 1)).xy;\n  vec2 target = (u_matrix * vec3(a_target, 1)).xy;\n\n  vec2 viewportPosition = clipspaceToViewport(position, u_dimensions);\n  vec2 viewportSource = clipspaceToViewport(source, u_dimensions);\n  vec2 viewportTarget = clipspaceToViewport(target, u_dimensions);\n\n  vec2 delta = viewportTarget.xy - viewportSource.xy;\n  float len = length(delta);\n  vec2 normal = vec2(-delta.y, delta.x) * a_direction;\n  vec2 unitNormal = normal / len;\n  float boundingBoxThickness = len * a_curveness;\n  float curveThickness = max(minThickness, a_thickness / 2.0 / u_sizeRatio * u_pixelRatio);\n\n  v_thickness = curveThickness;\n\n  v_cpA = viewportSource;\n  v_cpB = 0.5 * (viewportSource + viewportTarget) + unitNormal * a_direction * boundingBoxThickness;\n  v_cpC = viewportTarget;\n\n  vec2 viewportOffsetPosition = (\n    viewportPosition +\n    unitNormal * (boundingBoxThickness / 2.0 + curveThickness + epsilon) *\n    max(0.0, a_direction) // NOTE: cutting the bounding box in half to avoid overdraw\n  );\n\n  position = viewportToClipspace(viewportOffsetPosition, u_dimensions);\n  gl_Position = vec4(position, 0, 1);\n\n  v_color = a_color;\n  v_color.a *= bias;\n}\n',FRAGMENT_SHADER_SOURCE:"\nprecision mediump float;\n\nvarying vec4 v_color;\nvarying float v_thickness;\nvarying vec2 v_cpA;\nvarying vec2 v_cpB;\nvarying vec2 v_cpC;\n\nfloat det(vec2 a, vec2 b) {\n  return a.x * b.y - b.x * a.y;\n}\n\nvec2 get_distance_vector(vec2 b0, vec2 b1, vec2 b2) {\n  float a = det(b0, b2), b = 2.0 * det(b1, b0), d = 2.0 * det(b2, b1);\n  float f = b * d - a * a;\n  vec2 d21 = b2 - b1, d10 = b1 - b0, d20 = b2 - b0;\n  vec2 gf = 2.0 * (b * d21 + d * d10 + a * d20);\n  gf = vec2(gf.y, -gf.x);\n  vec2 pp = -f * gf / dot(gf, gf);\n  vec2 d0p = b0 - pp;\n  float ap = det(d0p, d20), bp = 2.0 * det(d10, d0p);\n  float t = clamp((ap + bp) / (2.0 * a + b + d), 0.0, 1.0);\n  return mix(mix(b0, b1, t), mix(b1, b2, t), t);\n}\n\nfloat distToQuadraticBezierCurve(vec2 p, vec2 b0, vec2 b1, vec2 b2) {\n  return length(get_distance_vector(b0 - p, b1 - p, b2 - p));\n}\n\nconst float epsilon = 0.7;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = distToQuadraticBezierCurve(gl_FragCoord.xy, v_cpA, v_cpB, v_cpC);\n\n  if (dist < v_thickness + epsilon) {\n    float inCurve = 1.0 - smoothstep(v_thickness - epsilon, v_thickness + epsilon, dist);\n    gl_FragColor = inCurve * vec4(v_color.rgb * v_color.a, v_color.a);\n  } else {\n    gl_FragColor = transparent;\n  }\n}\n",UNIFORMS:u,ATTRIBUTES:[{name:"a_source",size:2,type:c},{name:"a_target",size:2,type:c},{name:"a_current",size:1,type:c},{name:"a_color",size:4,type:s,normalized:!0},{name:"a_direction",size:1,type:c},{name:"a_thickness",size:1,type:c},{name:"a_curveness",size:1,type:c}]}},t.prototype.reallocateIndices=function(){for(var e=this.verticesCount,t=e+e/2,n=new this.IndicesArray(t),r=0,i=0;r<e;r+=4)n[i++]=r,n[i++]=r+1,n[i++]=r+2,n[i++]=r+2,n[i++]=r+1,n[i++]=r+3;this.indicesArray=n},t.prototype.processVisibleItem=function(e,t,n,r){var i=r.size||1,a=t.x,s=t.y,c=n.x,u=n.y,l=(0,o.floatColor)(r.color),d="number"==typeof r.curveness?r.curveness:.25,h=this.array;h[e++]=a,h[e++]=s,h[e++]=c,h[e++]=u,h[e++]=0,h[e++]=l,h[e++]=1,h[e++]=i,h[e++]=d,h[e++]=a,h[e++]=s,h[e++]=c,h[e++]=u,h[e++]=0,h[e++]=l,h[e++]=-1,h[e++]=i,h[e++]=d,h[e++]=a,h[e++]=s,h[e++]=c,h[e++]=u,h[e++]=1,h[e++]=l,h[e++]=1,h[e++]=i,h[e++]=d,h[e++]=a,h[e++]=s,h[e++]=c,h[e++]=u,h[e++]=1,h[e++]=l,h[e++]=-1,h[e++]=i,h[e++]=d},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_matrix,i=n.u_sizeRatio,o=n.u_dimensions,a=n.u_pixelRatio;if(t.uniformMatrix3fv(r,!1,e.matrix),t.uniform1f(a,e.pixelRatio),t.uniform1f(i,e.sizeRatio),t.uniform2f(o,e.width*e.pixelRatio,e.height*e.pixelRatio),!this.indicesArray)throw new Error("EdgeCurveProgram: indicesArray should be allocated when drawing!");t.drawElements(t.TRIANGLES,this.indicesArray.length,this.indicesType,0)},t}(a.EdgeProgram);t.default=l},8750:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var a=n(4460),s=o(n(2369)),c=n(946),u=["u_sizeRatio","u_correctionRatio","u_matrix","u_ignoreZoom"],l=WebGLRenderingContext.FLOAT,d=WebGLRenderingContext.UNSIGNED_BYTE,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return{VERTICES:3,ARRAY_ITEMS_PER_VERTEX:6,VERTEX_SHADER_SOURCE:"\nattribute vec2 a_position;\nattribute float a_size;\nattribute float a_angle;\nattribute vec4 a_color;\nattribute float a_intensity;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\nuniform float u_ignoreZoom;\n\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\nvarying float v_intensity;\n\nconst float bias = 255.0 / 254.0;\nconst float marginRatio = 1.05;\n\nvoid main() {\n  float size = a_size * u_correctionRatio / u_sizeRatio * u_ignoreZoom * 4.0;\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\n  vec2 position = a_position + diffVector * marginRatio;\n  gl_Position = vec4(\n    (u_matrix * vec3(position, 1)).xy,\n    0,\n    1\n  );\n\n  v_border = u_correctionRatio;\n  v_diffVector = diffVector;\n  v_radius = size / 2.0 / marginRatio;\n\n  v_color = a_color;\n  v_color.a *= bias;\n\n  v_intensity = a_intensity;\n}\n",FRAGMENT_SHADER_SOURCE:"\nprecision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\nvarying float v_intensity;\n\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_diffVector);\n  float intensity = v_intensity * (1.0 - dist);\n\n  if (dist < v_radius) {\n    gl_FragColor = mix(v_color, transparent, pow(dist / v_radius, intensity));\n  }\n  else {\n    gl_FragColor = transparent;\n  }\n}\n",UNIFORMS:u,ATTRIBUTES:[{name:"a_position",size:2,type:l},{name:"a_size",size:1,type:l},{name:"a_color",size:4,type:d,normalized:!0},{name:"a_angle",size:1,type:l},{name:"a_intensity",size:1,type:l}]}},t.prototype.processVisibleItem=function(e,t){var n=this.array,r=(0,c.floatColor)(t.haloColor||t.color),i="number"==typeof t.haloIntensity?t.haloIntensity:1,o=Math.max("number"==typeof t.haloSize?t.haloSize:0,t.size);n[e++]=t.x,n[e++]=t.y,n[e++]=o,n[e++]=r,n[e++]=s.default.ANGLE_1,n[e++]=i,n[e++]=t.x,n[e++]=t.y,n[e++]=o,n[e++]=r,n[e++]=s.default.ANGLE_2,n[e++]=i,n[e++]=t.x,n[e++]=t.y,n[e++]=o,n[e++]=r,n[e++]=s.default.ANGLE_3,n[e++]=i},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_sizeRatio,i=n.u_correctionRatio,o=n.u_matrix,a=n.u_ignoreZoom;t.uniform1f(a,1),t.uniform1f(r,e.sizeRatio),t.uniform1f(i,e.correctionRatio),t.uniformMatrix3fv(o,!1,e.matrix),t.drawArrays(t.TRIANGLES,0,this.verticesCount)},t}(a.NodeProgram);t.default=h},1642:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var o=n(946),a=n(4460),s={correctCentering:!1,forcedSvgSize:void 0,keepWithinCircle:!0},c=1/0,u=function(){function e(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d")}return e.prototype.getCorrectionOffset=function(e,t){this.canvas.width=t,this.canvas.height=t,this.context.clearRect(0,0,t,t),this.context.drawImage(e,0,0,t,t);for(var n=this.context.getImageData(0,0,t,t).data,r=new Uint8ClampedArray(n.length/4),i=0;i<n.length;i++)r[i]=n[4*i+3];for(var o=0,a=0,s=0,c=0;c<t;c++)for(var u=0;u<t;u++){var l=r[c*t+u];s+=l,o+=l*u,a+=l*c}return{x:o/s-t/2,y:a/s-t/2}},e}();t.default=function(e){var t,n=!1!==(e=Object.assign({},s,e)).keepWithinCircle,r=new u,l=[],d={},h=!1,f=void 0,p=0,g=0,m=0;function b(){f=void 0;var n=[];for(var i in d){var o=d[i];"pending"===o.status&&n.push({id:i,image:o.image,size:Math.min(o.image.width,o.image.height)||1})}var a=document.createElement("canvas"),s=a.getContext("2d",{willReadFrequently:!0}),u=h?t.width:0,b=h?t.height:0,y=p,v=g,w=function(n){a.width===u&&a.height===b||(a.width=Math.min(3072,u),a.height=b,h&&s.putImageData(t,0,0)),n.forEach((function(t){var n=t.id,i=t.image,o=t.size,a=Math.min(c,o),u=0,l=0;(i.width||0)>(i.height||0)?u=(i.width-i.height)/2:l=(i.height-i.width)/2;var h=0,f=0;if(null==e?void 0:e.correctCentering){var p=r.getCorrectionOffset(i,o);h=p.x,f=p.y}s.drawImage(i,u+h,l+f,o,o,y,v,a,a),d[n]={status:"ready",x:y,y:v,width:a,height:a},y+=a})),h=!0,t=s.getImageData(0,0,a.width,a.height)},_=[];n.forEach((function(e){var t=e.size,n=Math.min(t,c);p+n>3072&&(_.length>0&&(u=Math.max(p,u),b=Math.max(g+m,b),w(_),_=[],m=0),p=0,g=b,y=0,v=b),_.push(e),p+=n,m=Math.max(m,n)})),u=Math.max(p,u),b=Math.max(g+m,b),w(_),_=[],l.forEach((function(e){return e()}))}var y=WebGLRenderingContext.UNSIGNED_BYTE,v=WebGLRenderingContext.FLOAT,w=["u_sizeRatio","u_pixelRatio","u_matrix","u_atlas","u_keepWithinCircle"];return function(r){function a(e,n){var i=r.call(this,e,n)||this;return l.push((function(){i&&i.rebindTexture&&i.rebindTexture(),n&&n.scheduleRefresh&&n.scheduleRefresh()})),i.texture=e.createTexture(),t?i.rebindTexture():(t=new ImageData(1,1),e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,0,0]))),i}return i(a,r),a.prototype.getDefinition=function(){return{VERTICES:1,ARRAY_ITEMS_PER_VERTEX:8,VERTEX_SHADER_SOURCE:"\nattribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\nattribute vec4 a_texture;\n\nuniform float u_sizeRatio;\nuniform float u_pixelRatio;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\nvarying vec4 v_texture;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\n\n  v_border = (0.5 / a_size) * u_sizeRatio;\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n\n  // Pass the texture coordinates:\n  // NOTE: multiply a_texture by a constant and you get a pattern\n  v_texture = a_texture;\n}\n",FRAGMENT_SHADER_SOURCE:"\nprecision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\nvarying vec4 v_texture;\n\nuniform sampler2D u_atlas;\nuniform float u_keepWithinCircle;\n\nconst float radius = 0.5;\n\nvoid main(void) {\n  vec4 texel = texture2D(u_atlas, v_texture.xy + gl_PointCoord * v_texture.zw, -1.0);\n  vec4 color = mix(gl_FragColor, v_color, texel.a);\n\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = length(m) * u_keepWithinCircle;\n\n  if (dist < radius - v_border) {\n    gl_FragColor = color;\n  }\n}\n",UNIFORMS:w,ATTRIBUTES:[{name:"a_position",size:2,type:v},{name:"a_size",size:1,type:v},{name:"a_color",size:4,type:y,normalized:!0},{name:"a_texture",size:4,type:v}]}},a.prototype.rebindTexture=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.generateMipmap(e.TEXTURE_2D),this.latestRenderParams&&this.render(this.latestRenderParams)},a.prototype.processVisibleItem=function(n,r){var i=this.array,a=r.pictogram,s=a&&d[a];if("string"!=typeof a||s||function(t){if(!d[t]){var n=null==e?void 0:e.forcedSvgSize;if(n)return d[t]={status:"loading"},void fetch(t).then((function(e){return e.text()})).then((function(e){var r=(new DOMParser).parseFromString(e,"image/svg+xml"),i=r.documentElement,o=i.getAttribute("width"),a=i.getAttribute("height");if(!o||!a)throw new Error("createNodePictogramProgram.loadImage: cannot use `forcedSvgSize` if target svg has no definite dimensions.");i.setAttribute("width",""+n),i.setAttribute("height",""+n);var s=(new XMLSerializer).serializeToString(r),c=new Blob([s],{type:"image/svg+xml"}),u=URL.createObjectURL(c),l=new Image;l.src=u,l.addEventListener("load",(function(){d[t]={status:"pending",image:l},"number"!=typeof f&&(f=requestAnimationFrame((function(){return b()}))),URL.revokeObjectURL(u)}),{once:!0})})).catch((function(){d[t]={status:"error"}}));var r=new Image;r.addEventListener("load",(function(){d[t]={status:"pending",image:r},"number"!=typeof f&&(f=requestAnimationFrame((function(){return b()})))})),r.addEventListener("error",(function(){d[t]={status:"error"}})),d[t]={status:"loading"},r.setAttribute("crossOrigin",""),r.src=t}}(a),i[n++]=r.x,i[n++]=r.y,i[n++]=r.size,i[n++]=(0,o.floatColor)(r.pictogramColor||"black"),s&&"ready"===s.status){var c=t.width,u=t.height;i[n++]=s.x/c,i[n++]=s.y/u,i[n++]=s.width/c,i[n++]=s.height/u}else i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0},a.prototype.draw=function(e){this.latestRenderParams=e;var t=this.gl,r=this.uniformLocations,i=r.u_sizeRatio,o=r.u_pixelRatio,a=r.u_matrix,s=r.u_atlas,c=r.u_keepWithinCircle;t.uniform1f(c,n?1:0),t.uniform1f(i,e.sizeRatio),t.uniform1f(o,e.pixelRatio),t.uniformMatrix3fv(a,!1,e.matrix),t.uniform1i(s,0),t.drawArrays(t.POINTS,0,this.verticesCount)},a}(a.NodeProgram)}},213:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var s=a(n(8128)),c=n(946),u=WebGLRenderingContext.FLOAT,l=WebGLRenderingContext.UNSIGNED_BYTE,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return o(o({},e.prototype.getDefinition.call(this)),{ARRAY_ITEMS_PER_VERTEX:6,VERTEX_SHADER_SOURCE:"\nattribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\nattribute vec4 a_borderColor;\nattribute float a_borderRatio;\n\nuniform float u_sizeRatio;\nuniform float u_pixelRatio;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying vec4 v_borderColor;\nvarying float v_border;\nvarying float v_borderRatio;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\n\n  v_border = (0.5 / a_size) * u_sizeRatio;\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n\n  v_borderColor = a_borderColor;\n  v_borderColor.a *= bias;\n\n  v_borderRatio = 0.5 - a_borderRatio / 2.0;\n}\n",FRAGMENT_SHADER_SOURCE:"\nprecision mediump float;\n\nvarying vec4 v_color;\nvarying vec4 v_borderColor;\nvarying float v_border;\nvarying float v_borderRatio;\n\nconst float radius = 0.5;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float distToCenter = length(gl_PointCoord - vec2(0.5, 0.5));\n\n  if (distToCenter < v_borderRatio - v_border)\n    gl_FragColor = v_color;\n  else if (distToCenter < v_borderRatio)\n    gl_FragColor = mix(v_borderColor, v_color, (v_borderRatio - distToCenter) / v_border);\n  else if (distToCenter < radius - v_border)\n    gl_FragColor = v_borderColor;\n  else if (distToCenter < radius)\n    gl_FragColor = mix(transparent, v_borderColor, (radius - distToCenter) / v_border);\n  else\n    gl_FragColor = transparent;\n}\n",ATTRIBUTES:[{name:"a_position",size:2,type:u},{name:"a_size",size:1,type:u},{name:"a_color",size:4,type:l,normalized:!0},{name:"a_borderColor",size:4,type:l,normalized:!0},{name:"a_borderRatio",size:1,type:u}]})},t.prototype.processVisibleItem=function(e,t){var n=this.array,r="number"!=typeof t.borderRatio?.1:t.borderRatio;"number"==typeof t.borderSize&&(r=t.borderSize/t.size),n[e++]=t.x,n[e++]=t.y,n[e++]=t.size,n[e++]=(0,c.floatColor)(t.color),n[e++]=(0,c.floatColor)(t.borderColor||"#7a7a7a"),n[e]=r},t}(s.default);t.default=d},6040:e=>{var t;window,t=function(){return function(){"use strict";var e={282:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearChoices=t.activateChoices=t.filterChoices=t.addChoice=void 0;var r=n(883);t.addChoice=function(e){var t=e.value,n=e.label,i=e.id,o=e.groupId,a=e.disabled,s=e.elementId,c=e.customProperties,u=e.placeholder,l=e.keyCode;return{type:r.ACTION_TYPES.ADD_CHOICE,value:t,label:n,id:i,groupId:o,disabled:a,elementId:s,customProperties:c,placeholder:u,keyCode:l}},t.filterChoices=function(e){return{type:r.ACTION_TYPES.FILTER_CHOICES,results:e}},t.activateChoices=function(e){return void 0===e&&(e=!0),{type:r.ACTION_TYPES.ACTIVATE_CHOICES,active:e}},t.clearChoices=function(){return{type:r.ACTION_TYPES.CLEAR_CHOICES}}},783:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addGroup=void 0;var r=n(883);t.addGroup=function(e){var t=e.value,n=e.id,i=e.active,o=e.disabled;return{type:r.ACTION_TYPES.ADD_GROUP,value:t,id:n,active:i,disabled:o}}},464:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.highlightItem=t.removeItem=t.addItem=void 0;var r=n(883);t.addItem=function(e){var t=e.value,n=e.label,i=e.id,o=e.choiceId,a=e.groupId,s=e.customProperties,c=e.placeholder,u=e.keyCode;return{type:r.ACTION_TYPES.ADD_ITEM,value:t,label:n,id:i,choiceId:o,groupId:a,customProperties:s,placeholder:c,keyCode:u}},t.removeItem=function(e,t){return{type:r.ACTION_TYPES.REMOVE_ITEM,id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:r.ACTION_TYPES.HIGHLIGHT_ITEM,id:e,highlighted:t}}},137:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsLoading=t.resetTo=t.clearAll=void 0;var r=n(883);t.clearAll=function(){return{type:r.ACTION_TYPES.CLEAR_ALL}},t.resetTo=function(e){return{type:r.ACTION_TYPES.RESET_TO,state:e}},t.setIsLoading=function(e){return{type:r.ACTION_TYPES.SET_IS_LOADING,isLoading:e}}},373:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(996)),a=i(n(221)),s=n(282),c=n(783),u=n(464),l=n(137),d=n(520),h=n(883),f=n(789),p=n(799),g=n(655),m=i(n(744)),b=i(n(686)),y="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,v={},w=function(){function e(t,n){var i=this;void 0===t&&(t="[data-choice]"),void 0===n&&(n={}),void 0===n.allowHTML&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=o.default.all([f.DEFAULT_CONFIG,e.defaults.options,n],{arrayMerge:function(e,t){return r([],t,!0)}});var a=(0,p.diff)(this.config,f.DEFAULT_CONFIG);a.length&&console.warn("Unknown config option(s) passed",a.join(", "));var s="string"==typeof t?document.querySelector(t):t;if(!(s instanceof HTMLInputElement||s instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=s.type===h.TEXT_TYPE,this._isSelectOneElement=s.type===h.SELECT_ONE_TYPE,this._isSelectMultipleElement=s.type===h.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),n.addItemFilter&&"function"!=typeof n.addItemFilter){var c=n.addItemFilter instanceof RegExp?n.addItemFilter:new RegExp(n.addItemFilter);this.config.addItemFilter=c.test.bind(c)}if(this._isTextElement?this.passedElement=new d.WrappedInput({element:s,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new d.WrappedSelect({element:s,classNames:this.config.classNames,template:function(e){return i._templates.option(e)}}),this.initialised=!1,this._store=new m.default,this._initialState=g.defaultState,this._currentState=g.defaultState,this._prevState=g.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,p.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var u=window.getComputedStyle(this.passedElement.element).direction;u!==window.getComputedStyle(document.documentElement).direction&&(this._direction=u)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var l=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(l)}if(this.passedElement.options&&this.passedElement.options.forEach((function(e){i._presetChoices.push({value:e.value,label:e.innerHTML,selected:!!e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:e.dataset["custom-properties"]})})),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),void(this.initialised=!0);this.init()}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return v},get templates(){return b.default}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;var e=this.config.callbackOnInit;e&&"function"==typeof e&&e.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=b.default,this.initialised=!1)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var n=e.id,r=e.groupId,i=void 0===r?-1:r,o=e.value,a=void 0===o?"":o,s=e.label,c=void 0===s?"":s,l=i>=0?this._store.getGroupById(i):null;return this._store.dispatch((0,u.highlightItem)(n,!0)),t&&this.passedElement.triggerEvent(h.EVENTS.highlightItem,{id:n,value:a,label:c,groupValue:l&&l.value?l.value:null}),this},e.prototype.unhighlightItem=function(e){if(!e||!e.id)return this;var t=e.id,n=e.groupId,r=void 0===n?-1:n,i=e.value,o=void 0===i?"":i,a=e.label,s=void 0===a?"":a,c=r>=0?this._store.getGroupById(r):null;return this._store.dispatch((0,u.highlightItem)(t,!1)),this.passedElement.triggerEvent(h.EVENTS.highlightItem,{id:t,value:o,label:s,groupValue:c&&c.value?c.value:null}),this},e.prototype.highlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.highlightItem(t)})),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.unhighlightItem(t)})),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.value===e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.id!==e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.highlightedActiveItems.forEach((function(n){t._removeItem(n),e&&t._triggerChange(n.value)})),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame((function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(h.EVENTS.showDropdown,{})})),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame((function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(h.EVENTS.hideDropdown,{})})),this):this},e.prototype.getValue=function(e){void 0===e&&(e=!1);var t=this._store.activeItems.reduce((function(t,n){var r=e?n.value:n;return t.push(r),t}),[]);return this._isSelectOneElement?t[0]:t},e.prototype.setValue=function(e){var t=this;return this.initialised?(e.forEach((function(e){return t._setChoiceOrItem(e)})),this):this},e.prototype.setChoiceByValue=function(e){var t=this;return!this.initialised||this._isTextElement||(Array.isArray(e)?e:[e]).forEach((function(e){return t._findAndSelectChoiceByValue(e)})),this},e.prototype.setChoices=function(e,t,n,r){var i=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===n&&(n="label"),void 0===r&&(r=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(r&&this.clearChoices(),"function"==typeof e){var o=e(this);if("function"==typeof Promise&&o instanceof Promise)return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return i._handleLoadingState(!0)})).then((function(){return o})).then((function(e){return i.setChoices(e,t,n,r)})).catch((function(e){i.config.silent||console.error(e)})).then((function(){return i._handleLoadingState(!1)})).then((function(){return i}));if(!Array.isArray(o))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof o));return this.setChoices(o,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach((function(e){if(e.choices)i._addGroup({id:e.id?parseInt("".concat(e.id),10):null,group:e,valueKey:t,labelKey:n});else{var r=e;i._addChoice({value:r[t],label:r[n],isSelected:!!r.selected,isDisabled:!!r.disabled,placeholder:!!r.placeholder,customProperties:r.customProperties})}})),this._stopLoading(),this},e.prototype.clearChoices=function(){return this._store.dispatch((0,s.clearChoices)()),this},e.prototype.clearStore=function(){return this._store.dispatch((0,l.clearAll)()),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,s.activateChoices)(!0))),this},e.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,n=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),n&&this._renderItems(),this._prevState=this._currentState)}},e.prototype._renderChoices=function(){var e=this,t=this._store,n=t.activeGroups,r=t.activeChoices,i=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame((function(){return e.choiceList.scrollToTop()})),n.length>=1&&!this._isSearching){var o=r.filter((function(e){return!0===e.placeholder&&-1===e.groupId}));o.length>=1&&(i=this._createChoicesFragment(o,i)),i=this._createGroupsFragment(n,r,i)}else r.length>=1&&(i=this._createChoicesFragment(r,i));if(i.childNodes&&i.childNodes.length>0){var a=this._store.activeItems,s=this._canAddItem(a,this.input.value);if(s.response)this.choiceList.append(i),this._highlightChoice();else{var c=this._getTemplate("notice",s.notice);this.choiceList.append(c)}}else{var u=void 0;c=void 0,this._isSearching?(c="function"==typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,u=this._getTemplate("notice",c,"no-results")):(c="function"==typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,u=this._getTemplate("notice",c,"no-choices")),this.choiceList.append(u)}},e.prototype._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},e.prototype._createGroupsFragment=function(e,t,n){var r=this;return void 0===n&&(n=document.createDocumentFragment()),this.config.shouldSort&&e.sort(this.config.sorter),e.forEach((function(e){var i=function(e){return t.filter((function(t){return r._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===r.config.renderSelectedChoices||!t.selected)}))}(e);if(i.length>=1){var o=r._getTemplate("choiceGroup",e);n.appendChild(o),r._createChoicesFragment(i,n,!0)}})),n},e.prototype._createChoicesFragment=function(e,t,n){var i=this;void 0===t&&(t=document.createDocumentFragment()),void 0===n&&(n=!1);var o=this.config,a=o.renderSelectedChoices,s=o.searchResultLimit,c=o.renderChoiceLimit,u=this._isSearching?p.sortByScore:this.config.sorter,l=function(e){if("auto"!==a||i._isSelectOneElement||!e.selected){var n=i._getTemplate("choice",e,i.config.itemSelectText);t.appendChild(n)}},d=e;"auto"!==a||this._isSelectOneElement||(d=e.filter((function(e){return!e.selected})));var h=d.reduce((function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e}),{placeholderChoices:[],normalChoices:[]}),f=h.placeholderChoices,g=h.normalChoices;(this.config.shouldSort||this._isSearching)&&g.sort(u);var m=d.length,b=this._isSelectOneElement?r(r([],f,!0),g,!0):g;this._isSearching?m=s:c&&c>0&&!n&&(m=c);for(var y=0;y<m;y+=1)b[y]&&l(b[y]);return t},e.prototype._createItemsFragment=function(e,t){var n=this;void 0===t&&(t=document.createDocumentFragment());var r=this.config,i=r.shouldSortItems,o=r.sorter,a=r.removeItemButton;return i&&!this._isSelectOneElement&&e.sort(o),this._isTextElement?this.passedElement.value=e.map((function(e){return e.value})).join(this.config.delimiter):this.passedElement.options=e,e.forEach((function(e){var r=n._getTemplate("item",e,a);t.appendChild(r)})),t},e.prototype._triggerChange=function(e){null!=e&&this.passedElement.triggerEvent(h.EVENTS.change,{value:e})},e.prototype._selectPlaceholderChoice=function(e){this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value)},e.prototype._handleButtonAction=function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var n=t.parentNode&&t.parentNode.dataset.id,r=n&&e.find((function(e){return e.id===parseInt(n,10)}));r&&(this._removeItem(r),this._triggerChange(r.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},e.prototype._handleItemAction=function(e,t,n){var r=this;if(void 0===n&&(n=!1),e&&t&&this.config.removeItems&&!this._isSelectOneElement){var i=t.dataset.id;e.forEach((function(e){e.id!==parseInt("".concat(i),10)||e.highlighted?!n&&e.highlighted&&r.unhighlightItem(e):r.highlightItem(e)})),this.input.focus()}},e.prototype._handleChoiceAction=function(e,t){if(e&&t){var n=t.dataset.id,r=n&&this._store.getChoiceById(n);if(r){var i=e[0]&&e[0].keyCode?e[0].keyCode:void 0,o=this.dropdown.isActive;r.keyCode=i,this.passedElement.triggerEvent(h.EVENTS.choice,{choice:r}),r.selected||r.disabled||this._canAddItem(e,r.value).response&&(this._addItem({value:r.value,label:r.label,choiceId:r.id,groupId:r.groupId,customProperties:r.customProperties,placeholder:r.placeholder,keyCode:r.keyCode}),this._triggerChange(r.value)),this.clearInput(),o&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},e.prototype._handleBackspace=function(e){if(this.config.removeItems&&e){var t=e[e.length-1],n=e.some((function(e){return e.highlighted}));this.config.editItems&&!n&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},e.prototype._startLoading=function(){this._store.dispatch((0,l.setIsLoading)(!0))},e.prototype._stopLoading=function(){this._store.dispatch((0,l.setIsLoading)(!1))},e.prototype._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.getChild(".".concat(this.config.classNames.placeholder));e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText))&&this.itemList.append(t):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t&&(t.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(e){if(this.input.isFocussed){var t=this._store.choices,n=this.config,r=n.searchFloor,i=n.searchChoices,o=t.some((function(e){return!e.active}));if(null!=e&&e.length>=r){var a=i?this._searchChoices(e):0;this.passedElement.triggerEvent(h.EVENTS.search,{value:e,resultCount:a})}else o&&(this._isSearching=!1,this._store.dispatch((0,s.activateChoices)(!0)))}},e.prototype._canAddItem=function(e,t){var n=!0,r="function"==typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var i=(0,p.existsInArray)(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,r="function"==typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&i&&n&&(n=!1,r="function"==typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&n&&"function"==typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(n=!1,r="function"==typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:n,notice:r}},e.prototype._searchChoices=function(e){var t="string"==typeof e?e.trim():e,n="string"==typeof this._currentValue?this._currentValue.trim():this._currentValue;if(t.length<1&&t==="".concat(n," "))return 0;var i=this._store.searchableChoices,o=t,c=Object.assign(this.config.fuseOptions,{keys:r([],this.config.searchFields,!0),includeMatches:!0}),u=new a.default(i,c).search(o);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,s.filterChoices)(u)),u.length},e.prototype._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,n=this._store.activeItems,r=this.input.isFocussed,i=this.dropdown.isActive,o=this.itemList.hasChildren(),a=String.fromCharCode(t),s=/[a-zA-Z0-9-_ ]/.test(a),c=h.KEY_CODES.BACK_KEY,u=h.KEY_CODES.DELETE_KEY,l=h.KEY_CODES.ENTER_KEY,d=h.KEY_CODES.A_KEY,f=h.KEY_CODES.ESC_KEY,p=h.KEY_CODES.UP_KEY,g=h.KEY_CODES.DOWN_KEY,m=h.KEY_CODES.PAGE_UP_KEY,b=h.KEY_CODES.PAGE_DOWN_KEY;switch(this._isTextElement||i||!s||(this.showDropdown(),this.input.isFocussed||(this.input.value+=a.toLowerCase())),t){case d:return this._onSelectKey(e,o);case l:return this._onEnterKey(e,n,i);case f:return this._onEscapeKey(i);case p:case m:case g:case b:return this._onDirectionKey(e,i);case u:case c:return this._onDeleteKey(e,n,r)}},e.prototype._onKeyUp=function(e){var t=e.target,n=e.keyCode,r=this.input.value,i=this._store.activeItems,o=this._canAddItem(i,r),a=h.KEY_CODES.BACK_KEY,c=h.KEY_CODES.DELETE_KEY;if(this._isTextElement)if(o.notice&&r){var u=this._getTemplate("notice",o.notice);this.dropdown.element.innerHTML=u.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0);else{var l=(n===a||n===c)&&t&&!t.value,d=!this._isTextElement&&this._isSearching,f=this._canSearch&&o.response;l&&d?(this._isSearching=!1,this._store.dispatch((0,s.activateChoices)(!0))):f&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},e.prototype._onSelectKey=function(e,t){var n=e.ctrlKey,r=e.metaKey;(n||r)&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},e.prototype._onEnterKey=function(e,t,n){var r=e.target,i=h.KEY_CODES.ENTER_KEY,o=r&&r.hasAttribute("data-button");if(this._isTextElement&&r&&r.value){var a=this.input.value;this._canAddItem(t,a).response&&(this.hideDropdown(!0),this._addItem({value:a}),this._triggerChange(a),this.clearInput())}if(o&&(this._handleButtonAction(t,r),e.preventDefault()),n){var s=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));s&&(t[0]&&(t[0].keyCode=i),this._handleChoiceAction(t,s)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())},e.prototype._onEscapeKey=function(e){e&&(this.hideDropdown(!0),this.containerOuter.focus())},e.prototype._onDirectionKey=function(e,t){var n=e.keyCode,r=e.metaKey,i=h.KEY_CODES.DOWN_KEY,o=h.KEY_CODES.PAGE_UP_KEY,a=h.KEY_CODES.PAGE_DOWN_KEY;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var s=n===i||n===a?1:-1,c="[data-choice-selectable]",u=void 0;if(r||n===a||n===o)u=s>0?this.dropdown.element.querySelector("".concat(c,":last-of-type")):this.dropdown.element.querySelector(c);else{var l=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));u=l?(0,p.getAdjacentEl)(l,c,s):this.dropdown.element.querySelector(c)}u&&((0,p.isScrolledIntoView)(u,this.choiceList.element,s)||this.choiceList.scrollToChildElement(u,s),this._highlightChoice(u)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,n){var r=e.target;this._isSelectOneElement||r.value||!n||(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()),this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(y&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild,r="ltr"===this._direction?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft;this._isScrollingOnIe=r}if(t!==this.input.element){var i=t.closest("[data-button],[data-item],[data-choice]");if(i instanceof HTMLElement){var o=e.shiftKey,a=this._store.activeItems,s=i.dataset;"button"in s?this._handleButtonAction(a,i):"item"in s?this._handleItemAction(a,i,o):"choice"in s&&this._handleChoiceAction(a,i)}e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target;this.containerOuter.element.contains(t)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems.length>0&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))},e.prototype._onFocus=function(e){var t,n=this,r=e.target;r&&this.containerOuter.element.contains(r)&&((t={})[h.TEXT_TYPE]=function(){r===n.input.element&&n.containerOuter.addFocusState()},t[h.SELECT_ONE_TYPE]=function(){n.containerOuter.addFocusState(),r===n.input.element&&n.showDropdown(!0)},t[h.SELECT_MULTIPLE_TYPE]=function(){r===n.input.element&&(n.showDropdown(!0),n.containerOuter.addFocusState())},t)[this.passedElement.element.type]()},e.prototype._onBlur=function(e){var t,n=this,r=e.target;if(r&&this.containerOuter.element.contains(r)&&!this._isScrollingOnIe){var i=this._store.activeItems.some((function(e){return e.highlighted}));((t={})[h.TEXT_TYPE]=function(){r===n.input.element&&(n.containerOuter.removeFocusState(),i&&n.unhighlightAll(),n.hideDropdown(!0))},t[h.SELECT_ONE_TYPE]=function(){n.containerOuter.removeFocusState(),(r===n.input.element||r===n.containerOuter.element&&!n._canSearch)&&n.hideDropdown(!0)},t[h.SELECT_MULTIPLE_TYPE]=function(){r===n.input.element&&(n.containerOuter.removeFocusState(),n.hideDropdown(!0),i&&n.unhighlightAll())},t)[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},e.prototype._onFormReset=function(){this._store.dispatch((0,l.resetTo)(this._initialState))},e.prototype._highlightChoice=function(e){var t=this;void 0===e&&(e=null);var n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(n.length){var r=e;Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState))).forEach((function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")})),r?this._highlightPosition=n.indexOf(r):(r=n.length>this._highlightPosition?n[this._highlightPosition]:n[n.length-1])||(r=n[0]),r.classList.add(this.config.classNames.highlightedState),r.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(h.EVENTS.highlightChoice,{el:r}),this.dropdown.isActive&&(this.input.setActiveDescendant(r.id),this.containerOuter.setActiveDescendant(r.id))}},e.prototype._addItem=function(e){var t=e.value,n=e.label,r=void 0===n?null:n,i=e.choiceId,o=void 0===i?-1:i,a=e.groupId,s=void 0===a?-1:a,c=e.customProperties,l=void 0===c?{}:c,d=e.placeholder,f=void 0!==d&&d,p=e.keyCode,g=void 0===p?-1:p,m="string"==typeof t?t.trim():t,b=this._store.items,y=r||m,v=o||-1,w=s>=0?this._store.getGroupById(s):null,_=b?b.length+1:1;this.config.prependValue&&(m=this.config.prependValue+m.toString()),this.config.appendValue&&(m+=this.config.appendValue.toString()),this._store.dispatch((0,u.addItem)({value:m,label:y,id:_,choiceId:v,groupId:s,customProperties:l,placeholder:f,keyCode:g})),this._isSelectOneElement&&this.removeActiveItems(_),this.passedElement.triggerEvent(h.EVENTS.addItem,{id:_,value:m,label:y,customProperties:l,groupValue:w&&w.value?w.value:null,keyCode:g})},e.prototype._removeItem=function(e){var t=e.id,n=e.value,r=e.label,i=e.customProperties,o=e.choiceId,a=e.groupId,s=a&&a>=0?this._store.getGroupById(a):null;t&&o&&(this._store.dispatch((0,u.removeItem)(t,o)),this.passedElement.triggerEvent(h.EVENTS.removeItem,{id:t,value:n,label:r,customProperties:i,groupValue:s&&s.value?s.value:null}))},e.prototype._addChoice=function(e){var t=e.value,n=e.label,r=void 0===n?null:n,i=e.isSelected,o=void 0!==i&&i,a=e.isDisabled,c=void 0!==a&&a,u=e.groupId,l=void 0===u?-1:u,d=e.customProperties,h=void 0===d?{}:d,f=e.placeholder,p=void 0!==f&&f,g=e.keyCode,m=void 0===g?-1:g;if(null!=t){var b=this._store.choices,y=r||t,v=b?b.length+1:1,w="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(v);this._store.dispatch((0,s.addChoice)({id:v,groupId:l,elementId:w,value:t,label:y,disabled:c,customProperties:h,placeholder:p,keyCode:m})),o&&this._addItem({value:t,label:y,choiceId:v,customProperties:h,placeholder:p,keyCode:m})}},e.prototype._addGroup=function(e){var t=this,n=e.group,r=e.id,i=e.valueKey,o=void 0===i?"value":i,a=e.labelKey,s=void 0===a?"label":a,u=(0,p.isType)("Object",n)?n.choices:Array.from(n.getElementsByTagName("OPTION")),l=r||Math.floor((new Date).valueOf()*Math.random()),d=!!n.disabled&&n.disabled;u?(this._store.dispatch((0,c.addGroup)({value:n.label,id:l,active:!0,disabled:d})),u.forEach((function(e){var n=e.disabled||e.parentNode&&e.parentNode.disabled;t._addChoice({value:e[o],label:(0,p.isType)("Object",e)?e[s]:e.innerHTML,isSelected:e.selected,isDisabled:n,groupId:l,customProperties:e.customProperties,placeholder:e.placeholder})}))):this._store.dispatch((0,c.addGroup)({value:n.label,id:n.id,active:!1,disabled:n.disabled}))},e.prototype._getTemplate=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(t=this._templates[e]).call.apply(t,r([this,this.config],n,!1))},e.prototype._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&"function"==typeof e&&(t=e.call(this,p.strToEl)),this._templates=(0,o.default)(b.default,t)},e.prototype._createElements=function(){this.containerOuter=new d.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new d.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new d.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new d.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new d.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new d.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},e.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},e.prototype._addPredefinedGroups=function(e){var t=this,n=this.passedElement.placeholderOption;n&&n.parentNode&&"SELECT"===n.parentNode.tagName&&this._addChoice({value:n.value,label:n.innerHTML,isSelected:n.selected,isDisabled:n.disabled,placeholder:!0}),e.forEach((function(e){return t._addGroup({group:e,id:e.id||null})}))},e.prototype._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var n=e.some((function(e){return e.selected})),r=e.findIndex((function(e){return void 0===e.disabled||!e.disabled}));e.forEach((function(e,i){var o=e.value,a=void 0===o?"":o,s=e.label,c=e.customProperties,u=e.placeholder;if(t._isSelectElement)if(e.choices)t._addGroup({group:e,id:e.id||null});else{var l=!(!t._isSelectOneElement||n||i!==r)||e.selected,d=e.disabled;t._addChoice({value:a,label:s,isSelected:!!l,isDisabled:!!d,placeholder:!!u,customProperties:c})}else t._addChoice({value:a,label:s,isSelected:!!e.selected,isDisabled:!!e.disabled,placeholder:!!e.placeholder,customProperties:c})}))},e.prototype._addPredefinedItems=function(e){var t=this;e.forEach((function(e){"object"==typeof e&&e.value&&t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"==typeof e&&t._addItem({value:e})}))},e.prototype._setChoiceOrItem=function(e){var t=this;({object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}})[(0,p.getType)(e).toLowerCase()]()},e.prototype._findAndSelectChoiceByValue=function(e){var t=this,n=this._store.choices.find((function(n){return t.config.valueComparer(n.value,e)}));n&&!n.selected&&this._addItem({value:n.value,label:n.label,choiceId:n.id,groupId:n.groupId,customProperties:n.customProperties,placeholder:n.placeholder,keyCode:n.keyCode})},e.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var e=this.passedElement.placeholderOption;return e?e.text:null}var t=this.config,n=t.placeholder,r=t.placeholderValue,i=this.passedElement.element.dataset;if(n){if(r)return r;if(i.placeholder)return i.placeholder}return null},e}();t.default=w},613:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(799),i=n(883),o=function(){function e(e){var t=e.element,n=e.type,r=e.classNames,i=e.position;this.element=t,this.classNames=r,this.type=n,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return e.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},e.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.shouldFlip=function(e){if("number"!=typeof e)return!1;var t=!1;return"auto"===this.position?t=!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:"top"===this.position&&(t=!0),t},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},e.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},e.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===i.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===i.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(e){(0,r.wrap)(e,this.element)},e.prototype.unwrap=function(e){this.element.parentNode&&(this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element))},e.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t.default=o},217:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.element,n=e.type,r=e.classNames;this.element=t,this.classNames=r,this.type=n,this.isActive=!1}return Object.defineProperty(e.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}();t.default=n},520:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedSelect=t.WrappedInput=t.List=t.Input=t.Container=t.Dropdown=void 0;var i=r(n(217));t.Dropdown=i.default;var o=r(n(613));t.Container=o.default;var a=r(n(11));t.Input=a.default;var s=r(n(624));t.List=s.default;var c=r(n(541));t.WrappedInput=c.default;var u=r(n(982));t.WrappedSelect=u.default},11:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(799),i=n(883),o=function(){function e(e){var t=e.element,n=e.type,r=e.classNames,i=e.preventPaste;this.element=t,this.type=n,this.classNames=r,this.preventPaste=i,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return(0,r.sanitise)(this.element.value)},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return void 0===e&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element,t=e.style,n=e.value,r=e.placeholder;t.minWidth="".concat(r.length+1,"ch"),t.width="".concat(n.length+1,"ch")},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==i.SELECT_ONE_TYPE&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t.default=o},624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(883),i=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.clear=function(){this.element.innerHTML=""},e.prototype.append=function(e){this.element.appendChild(e)},e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.hasChildren=function(){return this.element.hasChildNodes()},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var n=this;if(e){var r=this.element.offsetHeight,i=this.element.scrollTop+r,o=e.offsetHeight,a=e.offsetTop+o,s=t>0?this.element.scrollTop+a-i:e.offsetTop;requestAnimationFrame((function(){n._animateScroll(s,t)}))}},e.prototype._scrollDown=function(e,t,n){var r=(n-e)/t,i=r>1?r:1;this.element.scrollTop=e+i},e.prototype._scrollUp=function(e,t,n){var r=(e-n)/t,i=r>1?r:1;this.element.scrollTop=e-i},e.prototype._animateScroll=function(e,t){var n=this,i=r.SCROLLING_SPEED,o=this.element.scrollTop,a=!1;t>0?(this._scrollDown(o,i,e),o<e&&(a=!0)):(this._scrollUp(o,i,e),o>e&&(a=!0)),a&&requestAnimationFrame((function(){n._animateScroll(e,t)}))},e}();t.default=i},730:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(799),i=function(){function e(e){var t=e.element,n=e.classNames;if(this.element=t,this.classNames=n,!(t instanceof HTMLInputElement||t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},e.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){(0,r.dispatchEvent)(this.element,e,t)},e}();t.default=i},541:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var n=t.element,r=t.classNames,i=t.delimiter,o=e.call(this,{element:n,classNames:r})||this;return o.delimiter=i,o}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),t}(o(n(730)).default);t.default=a},982:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var n=t.element,r=t.classNames,i=t.template,o=e.call(this,{element:n,classNames:r})||this;return o.template=i,o}return i(t,e),Object.defineProperty(t.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(e){var t=this,n=document.createDocumentFragment();e.forEach((function(e){return r=e,i=t.template(r),void n.appendChild(i);var r,i})),this.appendDocFragment(n)},enumerable:!1,configurable:!0}),t.prototype.appendDocFragment=function(e){this.element.innerHTML="",this.element.appendChild(e)},t}(o(n(730)).default);t.default=a},883:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLLING_SPEED=t.SELECT_MULTIPLE_TYPE=t.SELECT_ONE_TYPE=t.TEXT_TYPE=t.KEY_CODES=t.ACTION_TYPES=t.EVENTS=void 0,t.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},t.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},t.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},t.TEXT_TYPE="text",t.SELECT_ONE_TYPE="select-one",t.SELECT_MULTIPLE_TYPE="select-multiple",t.SCROLLING_SPEED=4},789:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.DEFAULT_CLASSNAMES=void 0;var r=n(799);t.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},t.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:r.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat((0,r.sanitise)(e),'"</b>')},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:t.DEFAULT_CLASSNAMES}},18:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},978:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},948:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},359:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},285:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},533:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},187:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(18),t),i(n(978),t),i(n(948),t),i(n(359),t),i(n(285),t),i(n(533),t),i(n(287),t),i(n(132),t),i(n(837),t),i(n(598),t),i(n(369),t),i(n(37),t),i(n(47),t),i(n(923),t),i(n(876),t)},287:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},132:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},837:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},598:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},37:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},369:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},47:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},923:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},876:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},799:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.diff=t.cloneObject=t.existsInArray=t.dispatchEvent=t.sortByScore=t.sortByAlpha=t.strToEl=t.sanitise=t.isScrolledIntoView=t.getAdjacentEl=t.wrap=t.isType=t.getType=t.generateId=t.generateChars=t.getRandomNumber=void 0,t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)},t.generateChars=function(e){return Array.from({length:e},(function(){return(0,t.getRandomNumber)(0,36).toString(36)})).join("")},t.generateId=function(e,n){var r=e.id||e.name&&"".concat(e.name,"-").concat((0,t.generateChars)(2))||(0,t.generateChars)(4);return r=r.replace(/(:|\.|\[|\]|,)/g,""),"".concat(n,"-").concat(r)},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t.isType=function(e,n){return null!=n&&(0,t.getType)(n)===e},t.wrap=function(e,t){return void 0===t&&(t=document.createElement("div")),e.parentNode&&(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)),t.appendChild(e)},t.getAdjacentEl=function(e,t,n){void 0===n&&(n=1);for(var r="".concat(n>0?"next":"previous","ElementSibling"),i=e[r];i;){if(i.matches(t))return i;i=i[r]}return i},t.isScrolledIntoView=function(e,t,n){return void 0===n&&(n=1),!!e&&(n>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop)},t.sanitise=function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},t.strToEl=(n=document.createElement("div"),function(e){var t=e.trim();n.innerHTML=t;for(var r=n.children[0];n.firstChild;)n.removeChild(n.firstChild);return r}),t.sortByAlpha=function(e,t){var n=e.value,r=e.label,i=void 0===r?n:r,o=t.value,a=t.label,s=void 0===a?o:a;return i.localeCompare(s,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},t.sortByScore=function(e,t){var n=e.score,r=void 0===n?0:n,i=t.score;return r-(void 0===i?0:i)},t.dispatchEvent=function(e,t,n){void 0===n&&(n=null);var r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});return e.dispatchEvent(r)},t.existsInArray=function(e,t,n){return void 0===n&&(n="value"),e.some((function(e){return"string"==typeof t?e[n]===t.trim():e[n]===t}))},t.cloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.diff=function(e,t){var n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.filter((function(e){return r.indexOf(e)<0}))}},273:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,r){switch(void 0===e&&(e=t.defaultState),void 0===r&&(r={}),r.type){case"ADD_CHOICE":var i=r,o={id:i.id,elementId:i.elementId,groupId:i.groupId,value:i.value,label:i.label||i.value,disabled:i.disabled||!1,selected:!1,active:!0,score:9999,customProperties:i.customProperties,placeholder:i.placeholder||!1};return n(n([],e,!0),[o],!1);case"ADD_ITEM":var a=r;return a.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(a.choiceId),10)&&(t.selected=!0),t})):e;case"REMOVE_ITEM":var s=r;return s.choiceId&&s.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(s.choiceId),10)&&(t.selected=!1),t})):e;case"FILTER_CHOICES":var c=r;return e.map((function(e){var t=e;return t.active=c.results.some((function(e){var n=e.item,r=e.score;return n.id===t.id&&(t.score=r,!0)})),t}));case"ACTIVATE_CHOICES":var u=r;return e.map((function(e){var t=e;return t.active=u.active,t}));case"CLEAR_CHOICES":return t.defaultState;default:return e}}},871:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,r){switch(void 0===e&&(e=t.defaultState),void 0===r&&(r={}),r.type){case"ADD_GROUP":var i=r;return n(n([],e,!0),[{id:i.id,value:i.value,active:i.active,disabled:i.disabled}],!1);case"CLEAR_CHOICES":return[];default:return e}}},655:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0;var i=n(857),o=r(n(52)),a=r(n(871)),s=r(n(273)),c=r(n(502)),u=n(799);t.defaultState={groups:[],items:[],choices:[],loading:!1};var l=(0,i.combineReducers)({items:o.default,groups:a.default,choices:s.default,loading:c.default});t.default=function(e,n){var r=e;if("CLEAR_ALL"===n.type)r=t.defaultState;else if("RESET_TO"===n.type)return(0,u.cloneObject)(n.state);return l(r,n)}},52:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,r){switch(void 0===e&&(e=t.defaultState),void 0===r&&(r={}),r.type){case"ADD_ITEM":var i=r;return n(n([],e,!0),[{id:i.id,choiceId:i.choiceId,groupId:i.groupId,value:i.value,label:i.label,active:!0,highlighted:!1,customProperties:i.customProperties,placeholder:i.placeholder||!1,keyCode:null}],!1).map((function(e){var t=e;return t.highlighted=!1,t}));case"REMOVE_ITEM":return e.map((function(e){var t=e;return t.id===r.id&&(t.active=!1),t}));case"HIGHLIGHT_ITEM":var o=r;return e.map((function(e){var t=e;return t.id===o.id&&(t.highlighted=o.highlighted),t}));default:return e}}},502:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=!1,t.default=function(e,n){return void 0===e&&(e=t.defaultState),void 0===n&&(n={}),"SET_IS_LOADING"===n.type?n.isLoading:e}},744:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(857),a=i(n(655)),s=function(){function e(){this._store=(0,o.createStore)(a.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return e.prototype.subscribe=function(e){this._store.subscribe(e)},e.prototype.dispatch=function(e){this._store.dispatch(e)},Object.defineProperty(e.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeItems",{get:function(){return this.items.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter((function(e){return e.active&&e.highlighted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectableChoices",{get:function(){return this.choices.filter((function(e){return!0!==e.disabled}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter((function(e){return!0!==e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholderChoice",{get:function(){return r([],this.choices,!0).reverse().find((function(e){return!0===e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var e=this.groups,t=this.choices;return e.filter((function(e){var n=!0===e.active&&!1===e.disabled,r=t.some((function(e){return!0===e.active&&!1===e.disabled}));return n&&r}),[])},enumerable:!1,configurable:!0}),e.prototype.isLoading=function(){return this.state.loading},e.prototype.getChoiceById=function(e){return this.activeChoices.find((function(t){return t.id===parseInt(e,10)}))},e.prototype.getGroupById=function(e){return this.groups.find((function(t){return t.id===e}))},e}();t.default=s},686:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={containerOuter:function(e,t,n,r,i,o,a){var s=e.classNames.containerOuter,c=Object.assign(document.createElement("div"),{className:s});return c.dataset.type=o,t&&(c.dir=t),r&&(c.tabIndex=0),n&&(c.setAttribute("role",i?"combobox":"listbox"),i&&c.setAttribute("aria-autocomplete","list")),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-expanded","false"),a&&c.setAttribute("aria-labeledby",a),c},containerInner:function(e){var t=e.classNames.containerInner;return Object.assign(document.createElement("div"),{className:t})},itemList:function(e,t){var n=e.classNames,r=n.list,i=n.listSingle,o=n.listItems;return Object.assign(document.createElement("div"),{className:"".concat(r," ").concat(t?i:o)})},placeholder:function(e,t){var n,r=e.allowHTML,i=e.classNames.placeholder;return Object.assign(document.createElement("div"),((n={className:i})[r?"innerHTML":"innerText"]=t,n))},item:function(e,t,n){var r,i,o=e.allowHTML,a=e.classNames,s=a.item,c=a.button,u=a.highlightedState,l=a.itemSelectable,d=a.placeholder,h=t.id,f=t.value,p=t.label,g=t.customProperties,m=t.active,b=t.disabled,y=t.highlighted,v=t.placeholder,w=Object.assign(document.createElement("div"),((r={className:s})[o?"innerHTML":"innerText"]=p,r));if(Object.assign(w.dataset,{item:"",id:h,value:f,customProperties:g}),m&&w.setAttribute("aria-selected","true"),b&&w.setAttribute("aria-disabled","true"),v&&w.classList.add(d),w.classList.add(y?u:l),n){b&&w.classList.remove(l),w.dataset.deletable="";var _="Remove item",E=Object.assign(document.createElement("button"),((i={type:"button",className:c})[o?"innerHTML":"innerText"]=_,i));E.setAttribute("aria-label","".concat(_,": '").concat(f,"'")),E.dataset.button="",w.appendChild(E)}return w},choiceList:function(e,t){var n=e.classNames.list,r=Object.assign(document.createElement("div"),{className:n});return t||r.setAttribute("aria-multiselectable","true"),r.setAttribute("role","listbox"),r},choiceGroup:function(e,t){var n,r=e.allowHTML,i=e.classNames,o=i.group,a=i.groupHeading,s=i.itemDisabled,c=t.id,u=t.value,l=t.disabled,d=Object.assign(document.createElement("div"),{className:"".concat(o," ").concat(l?s:"")});return d.setAttribute("role","group"),Object.assign(d.dataset,{group:"",id:c,value:u}),l&&d.setAttribute("aria-disabled","true"),d.appendChild(Object.assign(document.createElement("div"),((n={className:a})[r?"innerHTML":"innerText"]=u,n))),d},choice:function(e,t,n){var r,i=e.allowHTML,o=e.classNames,a=o.item,s=o.itemChoice,c=o.itemSelectable,u=o.selectedState,l=o.itemDisabled,d=o.placeholder,h=t.id,f=t.value,p=t.label,g=t.groupId,m=t.elementId,b=t.disabled,y=t.selected,v=t.placeholder,w=Object.assign(document.createElement("div"),((r={id:m})[i?"innerHTML":"innerText"]=p,r.className="".concat(a," ").concat(s),r));return y&&w.classList.add(u),v&&w.classList.add(d),w.setAttribute("role",g&&g>0?"treeitem":"option"),Object.assign(w.dataset,{choice:"",id:h,value:f,selectText:n}),b?(w.classList.add(l),w.dataset.choiceDisabled="",w.setAttribute("aria-disabled","true")):(w.classList.add(c),w.dataset.choiceSelectable=""),w},input:function(e,t){var n=e.classNames,r=n.input,i=n.inputCloned,o=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(r," ").concat(i),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return o.setAttribute("role","textbox"),o.setAttribute("aria-autocomplete","list"),o.setAttribute("aria-label",t),o},dropdown:function(e){var t=e.classNames,n=t.list,r=t.listDropdown,i=document.createElement("div");return i.classList.add(n,r),i.setAttribute("aria-expanded","false"),i},notice:function(e,t,n){var r,i=e.allowHTML,o=e.classNames,a=o.item,s=o.itemChoice,c=o.noResults,u=o.noChoices;void 0===n&&(n="");var l=[a,s];return"no-choices"===n?l.push(u):"no-results"===n&&l.push(c),Object.assign(document.createElement("div"),((r={})[i?"innerHTML":"innerText"]=t,r.className=l.join(" "),r))},option:function(e){var t=e.label,n=e.value,r=e.customProperties,i=e.active,o=e.disabled,a=new Option(t,n,!1,i);return r&&(a.dataset.customProperties="".concat(r)),a.disabled=!!o,a}};t.default=n},996:function(e){var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(e)?u?c.arrayMerge(e,n,c):function(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,n,c):r(n,c)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;e.exports=c},221:function(e,t,n){function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===u(e)}function i(e){return"string"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e}function s(e){return null!=e}function c(e){return!e.trim().length}function u(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}n.r(t),n.d(t,{default:function(){return j}});const l=Object.prototype.hasOwnProperty;class d{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=h(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function h(e){let t=null,n=null,o=null,a=1;if(i(e)||r(e))o=e,t=f(e),n=p(e);else{if(!l.call(e,"name"))throw new Error("Missing name property in key");const r=e.name;if(o=r,l.call(e,"weight")&&(a=e.weight,a<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(r));t=f(r),n=p(r)}return{path:t,id:n,weight:a,src:o}}function f(e){return r(e)?e:e.split(".")}function p(e){return r(e)?e.join("."):e}var g={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],c=!1;const l=(e,t,d)=>{if(s(e))if(t[d]){const h=e[t[d]];if(!s(h))return;if(d===t.length-1&&(i(h)||o(h)||function(e){return!0===e||!1===e||function(e){return a(e)&&null!==e}(e)&&"[object Boolean]"==u(e)}(h)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(h));else if(r(h)){c=!0;for(let e=0,n=h.length;e<n;e+=1)l(h[e],t,d+1)}else t.length&&l(h,t,d+1)}else n.push(e)};return l(e,i(t)?t.split("."):t,0),c?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const m=/[^ ]+/g;class b{constructor({getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const i=t.match(m).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,i(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();i(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!s(e)||c(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,o)=>{let a=this.getFn(e,t.path);if(s(a))if(r(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:n,value:o}=t.pop();if(s(o))if(i(o)&&!c(o)){let t={v:o,i:n,n:this.norm.get(o)};e.push(t)}else r(o)&&o.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[o]=e}else if(!c(a)){let e={v:a,n:this.norm.get(a)};n.$[o]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function y(e,t,{getFn:n=g.getFn,fieldNormWeight:r=g.fieldNormWeight}={}){const i=new b({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(h)),i.setSources(t),i.create(),i}function v(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=g.distance,ignoreLocation:o=g.ignoreLocation}={}){const a=t/e.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}const w=32;function _(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class E{constructor(e,{location:t=g.location,threshold:n=g.threshold,distance:r=g.distance,includeMatches:i=g.includeMatches,findAllMatches:o=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,isCaseSensitive:s=g.isCaseSensitive,ignoreLocation:c=g.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:_(e),startIndex:t})},l=this.pattern.length;if(l>w){let e=0;const t=l%w,n=l-t;for(;e<n;)u(this.pattern.substr(e,w),e),e+=w;if(t){const e=l-w;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:c}=this.options;let u=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:h,startIndex:f})=>{const{isMatch:p,score:m,indices:b}=function(e,t,n,{location:r=g.location,distance:i=g.distance,threshold:o=g.threshold,findAllMatches:a=g.findAllMatches,minMatchCharLength:s=g.minMatchCharLength,includeMatches:c=g.includeMatches,ignoreLocation:u=g.ignoreLocation}={}){if(t.length>w)throw new Error("Pattern length exceeds max of 32.");const l=t.length,d=e.length,h=Math.max(0,Math.min(r,d));let f=o,p=h;const m=s>1||c,b=m?Array(d):[];let y;for(;(y=e.indexOf(t,p))>-1;){let e=v(t,{currentLocation:y,expectedLocation:h,distance:i,ignoreLocation:u});if(f=Math.min(e,f),p=y+l,m){let e=0;for(;e<l;)b[y+e]=1,e+=1}}p=-1;let _=[],E=1,x=l+d;const S=1<<l-1;for(let r=0;r<l;r+=1){let o=0,s=x;for(;o<s;)v(t,{errors:r,currentLocation:h+s,expectedLocation:h,distance:i,ignoreLocation:u})<=f?o=s:x=s,s=Math.floor((x-o)/2+o);x=s;let c=Math.max(1,h-s+1),g=a?d:Math.min(h+s,d)+l,y=Array(g+2);y[g+1]=(1<<r)-1;for(let o=g;o>=c;o-=1){let a=o-1,s=n[e.charAt(a)];if(m&&(b[a]=+!!s),y[o]=(y[o+1]<<1|1)&s,r&&(y[o]|=(_[o+1]|_[o])<<1|1|_[o+1]),y[o]&S&&(E=v(t,{errors:r,currentLocation:a,expectedLocation:h,distance:i,ignoreLocation:u}),E<=f)){if(f=E,p=a,p<=h)break;c=Math.max(1,2*h-p)}}if(v(t,{errors:r+1,currentLocation:h,expectedLocation:h,distance:i,ignoreLocation:u})>f)break;_=y}const M={isMatch:p>=0,score:Math.max(.001,E)};if(m){const e=function(e=[],t=g.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let a=e[o];a&&-1===r?r=o:a||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(b,s);e.length?c&&(M.indices=e):M.isMatch=!1}return M}(e,t,h,{location:r+f,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});p&&(d=!0),l+=m,p&&b&&(u=[...u,...b])}));let h={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(h.indices=u),h}}class x{constructor(e){this.pattern=e}static isMultiMatch(e){return S(e,this.multiRegex)}static isSingleMatch(e){return S(e,this.singleRegex)}search(){}}function S(e,t){const n=e.match(t);return n?n[1]:null}class M extends x{constructor(e,{location:t=g.location,threshold:n=g.threshold,distance:r=g.distance,includeMatches:i=g.includeMatches,findAllMatches:o=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,isCaseSensitive:s=g.isCaseSensitive,ignoreLocation:c=g.ignoreLocation}={}){super(e),this._bitapSearch=new E(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class A extends x{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const C=[class extends x{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},A,class extends x{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends x{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends x{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends x{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends x{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},M],L=C.length,T=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,O=new Set([M.type,A.type]);const k=[];function N(e,t){for(let n=0,r=k.length;n<r;n+=1){let r=k[n];if(r.condition(e,t))return new r(e,t)}return new E(e,t)}const D="$and",R=e=>!(!e.$and&&!e.$or),I=e=>({[D]:Object.keys(e).map((t=>({[t]:e[t]})))});function P(e,t,{auto:n=!0}={}){const o=e=>{let s=Object.keys(e);const c=(e=>!!e.$path)(e);if(!c&&s.length>1&&!R(e))return o(I(e));if((e=>!r(e)&&a(e)&&!R(e))(e)){const r=c?e.$path:s[0],o=c?e.$val:e[r];if(!i(o))throw new Error((e=>`Invalid value for key ${e}`)(r));const a={keyId:p(r),pattern:o};return n&&(a.searcher=N(o,t)),a}let u={children:[],operator:s[0]};return s.forEach((t=>{const n=e[t];r(n)&&n.forEach((e=>{u.children.push(o(e))}))})),u};return R(e)||(e=I(e)),o(e)}function F(e,t){const n=e.matches;t.matches=[],s(n)&&n.forEach((e=>{if(!s(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function z(e,t){t.score=e.score}class j{constructor(e,t={},n){this.options={...g,...t},this.options.useExtendedSearch,this._keyStore=new d(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof b))throw new Error("Incorrect 'index' type");this._myIndex=t||y(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){s(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:a,sortFn:s,ignoreFieldNorm:c}=this.options;let u=i(e)?i(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=g.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:i})=>{const o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))})),e.score=n}))}(u,{ignoreFieldNorm:c}),a&&u.sort(s),o(t)&&t>-1&&(u=u.slice(0,t)),function(e,t,{includeMatches:n=g.includeMatches,includeScore:r=g.includeScore}={}){const i=[];return n&&i.push(F),r&&i.push(z),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,r)})),r}))}(u,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=N(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:i})=>{if(!s(e))return;const{isMatch:o,score:a,indices:c}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:i,indices:c}]})})),r}_searchLogical(e){const t=P(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}const i=[];for(let o=0,a=e.children.length;o<a;o+=1){const a=e.children[o],s=n(a,t,r);if(s.length)i.push(...s);else if(e.operator===D)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((({$:e,i:r})=>{if(s(e)){let a=n(t,e,r);a.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),a.forEach((({matches:e})=>{i[r].matches.push(...e)})))}})),o}_searchObjectList(e){const t=N(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:e,i:r})=>{if(!s(e))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),o.length&&i.push({idx:r,item:e,matches:o})})),i}_findMatches({key:e,value:t,searcher:n}){if(!s(t))return[];let i=[];if(r(t))t.forEach((({v:t,i:r,n:o})=>{if(!s(t))return;const{isMatch:a,score:c,indices:u}=n.searchIn(t);a&&i.push({score:c,key:e,value:t,idx:r,norm:o,indices:u})}));else{const{v:r,n:o}=t,{isMatch:a,score:s,indices:c}=n.searchIn(r);a&&i.push({score:s,key:e,value:r,norm:o,indices:c})}return i}}j.version="6.5.3",j.createIndex=y,j.parseIndex=function(e,{getFn:t=g.getFn,fieldNormWeight:n=g.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new b({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},j.config=g,j.parseQuery=P,function(...e){k.push(...e)}(class{constructor(e,{isCaseSensitive:t=g.isCaseSensitive,includeMatches:n=g.includeMatches,minMatchCharLength:r=g.minMatchCharLength,ignoreLocation:i=g.ignoreLocation,findAllMatches:o=g.findAllMatches,location:a=g.location,threshold:s=g.threshold,distance:c=g.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(T).filter((e=>e&&!!e.trim())),r=[];for(let e=0,i=n.length;e<i;e+=1){const i=n[e];let o=!1,a=-1;for(;!o&&++a<L;){const e=C[a];let n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),o=!0)}if(!o)for(a=-1;++a<L;){const e=C[a];let n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,o=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];o.length=0,i=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:c,indices:u,score:l}=r.search(e);if(!c){a=0,i=0,o.length=0;break}if(i+=1,a+=l,n){const e=r.constructor.type;O.has(e)?o=[...o,...u]:o.push(u)}}if(i){let e={isMatch:!0,score:a/i};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}})},857:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return u},applyMiddleware:function(){return m},bindActionCreators:function(){return p},combineReducers:function(){return h},compose:function(){return g},createStore:function(){return d}});var s="function"==typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function l(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(a(1));return n(d)(e,t)}if("function"!=typeof e)throw new Error(a(2));var i=e,o=t,c=[],h=c,f=!1;function p(){h===c&&(h=c.slice())}function g(){if(f)throw new Error(a(3));return o}function m(e){if("function"!=typeof e)throw new Error(a(4));if(f)throw new Error(a(5));var t=!0;return p(),h.push(e),function(){if(t){if(f)throw new Error(a(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),c=null}}}function b(e){if(!l(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(f)throw new Error(a(9));try{f=!0,o=i(o,e)}finally{f=!1}for(var t=c=h,n=0;n<t.length;n++)(0,t[n])();return e}function y(e){if("function"!=typeof e)throw new Error(a(10));i=e,b({type:u.REPLACE})}function v(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return b({type:u.INIT}),(r={dispatch:b,subscribe:m,getState:g,replaceReducer:y})[s]=v,r}function h(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:u.INIT}))throw new Error(a(12));if(void 0===n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},c=0;c<s.length;c++){var u=s[c],l=n[u],d=e[u],h=l(d,t);if(void 0===h)throw t&&t.type,new Error(a(14));i[u]=h,r=r||h!==d}return(r=r||s.length!==Object.keys(e).length)?i:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error(a(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=f(i,t))}return n}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(a(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return r=g.apply(void 0,s)(n.dispatch),o(o({},n),{},{dispatch:r})}}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i,o={};return r=n(373),i=n.n(r),n(187),n(883),n(789),n(686),o.default=i(),o.default}()},e.exports=t()},3965:e=>{"use strict";function t(e,t,n){const r=n||".";let i;{let t;switch(typeof e){case"string":if(e.length<("-"===e[0]?5:4))return e;i=e,t=Number("."!==r?i.replace(r,"."):i);break;case"number":i=String(e),t=e,"."===r||Number.isInteger(e)||(i=i.replace(".",r));break;default:return e}if(-1e3<t&&t<1e3||isNaN(t)||!isFinite(t))return i}{const e=i.lastIndexOf(r);let n;e>-1&&(n=i.slice(e),i=i.slice(0,e));const o=function(e,t){let n=(e.length-1)%3+1;1===n&&"-"===e[0]&&(n=4);const r=[e.slice(0,n)];for(;n<e.length;n+=3)r.push(t,e.substr(n,3));return r}(i,t||",");return n&&o.push(n),o.join("")}}e.exports=t,e.exports.bindWith=function(e,n){return function(r){return t(r,e,n)}}},352:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,o=e[1]||"",a=e[3];if(!a)return o;if(t&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},5503:e=>{function t(e,t,n){var r,i,o,a,s;function c(){var u=Date.now()-a;u<t&&u>=0?r=setTimeout(c,t-u):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var u=function(){o=this,i=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(c,t)),u&&(s=e.apply(o,i),o=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},5939:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,a,u;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8374:function(e,t,n){var r;void 0===(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,n,a){var s=o.URL||o.webkitURL,c=document.createElement("a");n=n||e.name||"download",c.download=n,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):r(c.href)?t(e,n,a):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),n);else if(r(e))t(e,n,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){i(a)}))}}:function(e,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&c||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,h=d.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});o.saveAs=s.saveAs=s,e.exports=s}.apply(t,[]))||(e.exports=r)},250:(e,t,n)=>{var r=n(3834),i=n(9729),o=n(624),a=n(9857),s=n(9768),c=n(9104).createRandomIndex,u=n(5361),l=u.UndirectedLouvainIndex,d=u.DirectedLouvainIndex,h={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function f(e,t,n){var r=e.get(t);void 0===r&&(r=0),r+=n,e.set(t,r)}function p(e,t,n,r,i){return Math.abs(r-i)<1e-10?e!==t&&n>e:r>i}function g(e,t,n){var r,i,o,u,d,h,g,m,b,y,v,w,_,E,x,S,M,A,C,L=new l(t,{getEdgeWeight:n.getEdgeWeight,keepDendrogram:e,resolution:n.resolution}),T=c(n.rng),O=!0,k=!0,N=new a(Float64Array,L.C),D=0,R=0,I=[];for(n.fastLocalMoves&&(o=new s(L.C));O;){if(w=L.C,O=!1,k=!0,n.fastLocalMoves){for(C=0,m=n.randomWalk?T(w):0,b=0;b<w;b++,m++)y=m%w,o.enqueue(y);for(;0!==o.size;){for(y=o.dequeue(),R++,_=0,N.clear(),r=L.belongings[y],u=L.starts[y],d=L.starts[y+1];u<d;u++)v=L.neighborhood[u],_+=h=L.weights[u],f(N,i=L.belongings[v],h);for(S=L.fastDeltaWithOwnCommunity(y,_,N.get(r)||0,r),x=r,g=0;g<N.size;g++)(i=N.dense[g])!==r&&(E=N.vals[g],D++,p(x,r,i,M=L.fastDelta(y,_,E,i),S)&&(S=M,x=i));if(S<0){if((x=L.isolate(y,_))===r)continue}else{if(x===r)continue;L.move(y,_,x)}for(O=!0,C++,u=L.starts[y],d=L.starts[y+1];u<d;u++)v=L.neighborhood[u],(i=L.belongings[v])!==x&&o.enqueue(v)}I.push(C)}else for(A=[],I.push(A);k;){for(k=!1,C=0,m=n.randomWalk?T(w):0,b=0;b<w;b++,m++){for(y=m%w,R++,_=0,N.clear(),r=L.belongings[y],u=L.starts[y],d=L.starts[y+1];u<d;u++)v=L.neighborhood[u],_+=h=L.weights[u],f(N,i=L.belongings[v],h);for(S=L.fastDeltaWithOwnCommunity(y,_,N.get(r)||0,r),x=r,g=0;g<N.size;g++)(i=N.dense[g])!==r&&(E=N.vals[g],D++,p(x,r,i,M=L.fastDelta(y,_,E,i),S)&&(S=M,x=i));if(S<0){if((x=L.isolate(y,_))===r)continue}else{if(x===r)continue;L.move(y,_,x)}k=!0,C++}A.push(C),O=k||O}O&&L.zoomOut()}return{index:L,deltaComputations:D,nodesVisited:R,moves:I}}function m(e,t,n){var r,i,o,u,l,h,g,m,b,y,v,w,_,E,x,S,M,A,C,L,T,O,k=new d(t,{getEdgeWeight:n.getEdgeWeight,keepDendrogram:e,resolution:n.resolution}),N=c(n.rng),D=!0,R=!0,I=new a(Float64Array,k.C),P=0,F=0,z=[];for(n.fastLocalMoves&&(o=new s(k.C));D;){if(E=k.C,D=!1,R=!0,n.fastLocalMoves){for(O=0,y=n.randomWalk?N(E):0,v=0;v<E;v++,y++)w=y%E,o.enqueue(w);for(;0!==o.size;){for(w=o.dequeue(),F++,x=0,S=0,I.clear(),r=k.belongings[w],u=k.starts[w],l=k.starts[w+1],h=k.offsets[w];u<l;u++)g=u<h,_=k.neighborhood[u],m=k.weights[u],g?S+=m:x+=m,f(I,i=k.belongings[_],m);for(C=k.deltaWithOwnCommunity(w,x,S,I.get(r)||0,r),A=r,b=0;b<I.size;b++)(i=I.dense[b])!==r&&(M=I.vals[b],P++,p(A,r,i,L=k.delta(w,x,S,M,i),C)&&(C=L,A=i));if(C<0){if((A=k.isolate(w,x,S))===r)continue}else{if(A===r)continue;k.move(w,x,S,A)}for(D=!0,O++,u=k.starts[w],l=k.starts[w+1];u<l;u++)_=k.neighborhood[u],(i=k.belongings[_])!==A&&o.enqueue(_)}z.push(O)}else for(T=[],z.push(T);R;){for(R=!1,O=0,y=n.randomWalk?N(E):0,v=0;v<E;v++,y++){for(w=y%E,F++,x=0,S=0,I.clear(),r=k.belongings[w],u=k.starts[w],l=k.starts[w+1],h=k.offsets[w];u<l;u++)g=u<h,_=k.neighborhood[u],m=k.weights[u],g?S+=m:x+=m,f(I,i=k.belongings[_],m);for(C=k.deltaWithOwnCommunity(w,x,S,I.get(r)||0,r),A=r,b=0;b<I.size;b++)(i=I.dense[b])!==r&&(M=I.vals[b],P++,p(A,r,i,L=k.delta(w,x,S,M,i),C)&&(C=L,A=i));if(C<0){if((A=k.isolate(w,x,S))===r)continue}else{if(A===r)continue;k.move(w,x,S,A)}R=!0,O++}T.push(O),D=R||D}D&&k.zoomOut()}return{index:k,deltaComputations:P,nodesVisited:F,moves:z}}function b(e,t,n,a){if(!i(n))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var s=o(n);if("mixed"===s)throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");a=r(a,h);var c=0;if(0===n.size){if(e)return void n.forEachNode((function(e){n.setNodeAttribute(e,a.nodeCommunityAttribute,c++)}));var u={};return n.forEachNode((function(e){u[e]=c++})),t?{communities:u,count:n.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:a.resolution}:u}var l=("undirected"===s?g:m)(t,n,a),d=l.index;if(!t)return e?void d.assign(a.nodeCommunityAttribute):d.collect();var f={count:d.C,deltaComputations:l.deltaComputations,dendrogram:d.dendrogram,level:d.level,modularity:d.modularity(),moves:l.moves,nodesVisited:l.nodesVisited,resolution:a.resolution};return e?(d.assign(a.nodeCommunityAttribute),f):(f.communities=d.collect(),f)}var y=b.bind(null,!1,!1);y.assign=b.bind(null,!0,!1),y.detailed=b.bind(null,!1,!0),y.defaults=h,e.exports=y},3476:(e,t,n)=>{t.parse=n(1988),t.write=n(4697)},1988:(e,t,n)=>{var r=n(5170);e.exports=r(DOMParser,Document)},9289:(e,t)=>{t.cast=function(e,t){switch(e){case"boolean":t="true"===t;break;case"integer":case"long":case"float":case"double":t=+t;break;case"liststring":t=t?t.split("|"):[]}return t};var n=/["'<>&\s]/g;t.sanitizeTagName=function(e){return e.replace(n,"").trim()}},5170:(e,t,n)=>{var r=n(7759),i=n(8239).rW,o=n(3850),a=n(1718),s=n(9289).cast;function c(e,t){var n=e.getElementsByTagName("viz:"+t)[0];return n||(n=e.getElementsByTagNameNS("viz",t)[0]),n||(n=e.getElementsByTagName(t)[0]),n}function u(e){for(var t,n,r,i,o={},a={},c=0,u=e.length;c<u;c++)o[r=(t=e[c]).getAttribute("id")||t.getAttribute("for")]={id:r,type:t.getAttribute("type")||"string",title:(i=+r,i==i&&t.getAttribute("title")||r)},(n=t.getElementsByTagName("default")[0])&&(a[o[r].title]=s(o[r].type,n.textContent));return[o,a]}function l(e,t,n){var r={},i=n.getAttribute("label"),o=n.getAttribute("weight");i&&(r.label=i),o&&(r.weight=+o);for(var a,u,l,d=n.getElementsByTagName("attvalue"),h=0,f=d.length;h<f;h++)r[e[u=(a=d[h]).getAttribute("id")||a.getAttribute("for")].title]=s(e[u].type,a.getAttribute("value"));for(l in t)l in r||(r[l]=t[l]);var p,g,m,b=c(n,"color");return b&&(r.color=function(e){var t=e.getAttribute("a"),n=e.getAttribute("r"),r=e.getAttribute("g"),i=e.getAttribute("b");return t?"rgba("+n+","+r+","+i+","+t+")":"rgb("+n+","+r+","+i+")"}(b)),(b=c(n,"size"))&&(r.size=+b.getAttribute("value")),(b=c(n,"position"))&&(p=b.getAttribute("x"),g=b.getAttribute("y"),m=b.getAttribute("z"),p&&(r.x=+p),g&&(r.y=+g),m&&(r.z=+m)),(b=c(n,"shape"))&&(r.shape=b.getAttribute("value")),(b=c(n,"thickness"))&&(r.thickness=+b.getAttribute("value")),r}e.exports=function(e,t){return function(n,s,c){var d,h,f,p,g,m,b,y,v,w,_=!0===(c=c||{}).addMissingNodes,E=s;if(!r(n))throw new Error("graphology-gexf/parser: invalid Graph constructor.");if("string"==typeof s&&(E=(new e).parseFromString(s,"application/xml")),!(E instanceof t))throw new Error("graphology-gexf/parser: source should either be a XML document or a string.");var x=E.getElementsByTagName("graph")[0],S=E.getElementsByTagName("meta")[0],M=S&&S.childNodes||[],A=E.getElementsByTagName("node"),C=E.getElementsByTagName("edge"),L=E.getElementsByTagName("attributes"),T=[],O=[];for(v=0,w=L.length;v<w;v++)"node"===(h=L[v]).getAttribute("class")?T=h.getElementsByTagName("attribute"):"edge"===h.getAttribute("class")&&(O=h.getElementsByTagName("attribute"));var k=x.getAttribute("defaultedgetype")||"undirected";"mutual"===k&&(k="undirected");var N=(f=u(T))[0],D=f[1],R=(f=u(O))[0],I=f[1],P=new n({type:C[0]?C[0].getAttribute("type")||k:"mixed"}),F=function(e){for(var t,n={},r=0,i=e.length;r<i;r++)"#text"!==(t=e[r]).nodeName&&t.textContent.trim()&&(n[t.tagName.toLowerCase()]=t.textContent);return n}(M),z=S&&S.getAttribute("lastmodifieddate");for(P.replaceAttributes(F),z&&P.setAttribute("lastModifiedDate",z),v=0,w=A.length;v<w;v++)h=A[v],P.addNode(h.getAttribute("id"),l(N,D,h));for(v=0,w=C.length;v<w;v++)if(m=(h=C[v]).getAttribute("id"),p=h.getAttribute("type")||k,b=h.getAttribute("source"),y=h.getAttribute("target"),g=l(R,I,h),p!==P.type&&"mixed"!==P.type&&(P=o(P)),!P.multi&&("directed"===p&&P.hasDirectedEdge(b,y)||P.hasUndirectedEdge(b,y))&&(P=a(P)),d=i(P,"directed"!==p,m||null,b,y,g),!_&&(d[2]||d[3]))throw new Error("graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.");return P}}},4697:(e,t,n)=>{var r=n(9729),i=n(624),o=n(4183),a=n(9289).sanitizeTagName,s=new Set(["color","size","x","y","z","shape","thickness"]),c=/^\s*rgba?\s*\(/i,u=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)\s*(?:,\s*([.0-9]*))?\)\s*$/;function l(e){if(!e||"string"!=typeof e)return{};if("#"===e[0])return 3===(e=e.slice(1)).length?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)}:{r:parseInt(e[0]+e[1],16),g:parseInt(e[2]+e[3],16),b:parseInt(e[4]+e[5],16)};if(c.test(e)){var t={};return e=e.match(u),t.r=+e[1],t.g=+e[2],t.b=+e[3],e[4]&&(t.a=+e[4]),t}return{}}function d(e,t,n){var r,i={};for(r in n)"label"===r?i.label=n.label:"edge"===e&&"weight"===r?i.weight=n.weight:s.has(r)?(i.viz=i.viz||{},i.viz[r]=n[r]):(i.attributes=i.attributes||{},i.attributes[r]=n[r]);return i}function h(e){return null==e||""===e||e!=e}function f(e,t){return"liststring"===e&&Array.isArray(t)?t.join("|"):""+t}function p(e){for(var t,n,r,i,o,a={},s=0,c=e.length;s<c;s++)if(t=e[s].attributes)for(r in t)o=void 0,"empty"!=(n=h(i=t[r])?"empty":Array.isArray(i)?"liststring":"boolean"==typeof i?"boolean":"object"==typeof i?"string":"number"==typeof i?i===(0|i)?(o=i)<=2147483647&&o>=-2147483647?"integer":"long":"double":"string")&&(a[r]?"integer"===a[r]&&"long"===n?a[r]=n:a[r]!==n&&(a[r]="string"):a[r]=n);return a}function g(e,t,n){var r;if(Object.keys(t).length){for(r in e.startElement("attributes"),e.writeAttribute("class",n),t)e.startElement("attribute"),e.writeAttribute("id",r),e.writeAttribute("title",r),e.writeAttribute("type",t[r]),e.endElement();e.endElement()}}function m(e,t,n,r){var i,o,a,s,c,u,d,p,g,m,b,y=!Object.keys(n).length;for(e.startElement(t+"s"),m=0,b=r.length;m<b;m++){if(u=(i=r[m]).attributes,p=i.viz,e.startElement(t),e.writeAttribute("id",i.key),"edge"===t&&((c=i.undirected?"undirected":"directed")!==e.defaultEdgeType&&e.writeAttribute("type",c),e.writeAttribute("source",i.source),e.writeAttribute("target",i.target),("number"==typeof(d=i.weight)&&!isNaN(d)||"string"==typeof d)&&e.writeAttribute("weight",i.weight)),i.label&&e.writeAttribute("label",i.label),!y&&u){for(o in e.startElement("attvalues"),n)if(o in u){if(h(s=u[o]))continue;e.startElement("attvalue"),e.writeAttribute("for",o),e.writeAttribute("value",f(n[o],s)),e.endElement()}e.endElement()}if(p){if(p.color){for(g in a=l(p.color),e.startElementNS("viz","color"),a)e.writeAttribute(g,a[g]);e.endElement()}"size"in p&&(e.startElementNS("viz","size"),e.writeAttribute("value",p.size),e.endElement()),("x"in p||"y"in p||"z"in p)&&(e.startElementNS("viz","position"),"x"in p&&e.writeAttribute("x",p.x),"y"in p&&e.writeAttribute("y",p.y),"z"in p&&e.writeAttribute("z",p.z),e.endElement()),p.shape&&(e.startElementNS("viz","shape"),e.writeAttribute("value",p.shape),e.endElement()),"thickness"in p&&(e.startElementNS("viz","thickness"),e.writeAttribute("value",p.thickness),e.endElement())}e.endElement()}e.endElement()}var b={encoding:"UTF-8",pretty:!0,formatNode:d.bind(null,"node"),formatEdge:d.bind(null,"edge")};e.exports=function(e,t){if(!r(e))throw new Error("graphology-gexf/writer: invalid graphology instance.");var n=!1!==(t=t||{}).pretty&&"  ",s=t.formatNode||b.formatNode,c=t.formatEdge||b.formatEdge,u=new o(n);u.startDocument("1.0",t.encoding||b.encoding),u.startElement("gexf"),u.writeAttribute("version","1.2"),u.writeAttribute("xmlns","http://www.gexf.net/1.2draft"),u.writeAttribute("xmlns:viz","http:///www.gexf.net/1.1draft/viz"),u.startElement("meta");var l,d,h=e.getAttributes();for(var f in h.lastModifiedDate&&u.writeAttribute("lastmodifieddate",h.lastModifiedDate),h)"lastModifiedDate"!==f&&(l=a(f))&&("string"!=typeof(d=h[f])&&"number"!=typeof d&&"boolean"!=typeof d||u.writeElement(l,""+d));u.endElement(),u.startElement("graph");var y=i(e);u.defaultEdgeType="mixed"===y?"directed":y,u.writeAttribute("defaultedgetype",u.defaultEdgeType);var v=function(e,t){var n=new Array(e.order),r=0;return e.forEachNode((function(e,i){var o=t(e,i);o.key=e,n[r++]=o})),n}(e,s),w=function(e,t){var n=new Array(e.size),r=0;return e.forEachEdge((function(e,i,o,a,s,c,u){var l=t(e,i);l.key=e,l.source=o,l.target=a,l.undirected=u,n[r++]=l})),n}(e,c),_=p(v);g(u,_,"node");var E=p(w);return g(u,E,"edge"),m(u,"node",_,v),m(u,"edge",E,w),u.toString()}},5361:(e,t,n)=>{var r=n(6021),i=n(3834),o=n(2235).Q6,a=Symbol.for("nodejs.util.inspect.custom"),s={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function c(e,t){var n=(t=i(t,s)).resolution,a=o(t.getEdgeWeight).fromEntry,c=2*(e.size-e.selfLoopCount),u=r.getPointerArray(c),l=r.getPointerArray(e.order+1),d=t.getEdgeWeight?Float64Array:r.getPointerArray(2*e.size);this.C=e.order,this.M=0,this.E=c,this.U=0,this.resolution=n,this.level=0,this.graph=e,this.nodes=new Array(e.order),this.keepDendrogram=t.keepDendrogram,this.neighborhood=new l(c),this.weights=new d(c),this.loops=new d(e.order),this.starts=new u(e.order+1),this.belongings=new l(e.order),this.dendrogram=[],this.mapping=null,this.counts=new l(e.order),this.unused=new l(e.order),this.totalWeights=new d(e.order);var h,f={},p=0,g=0,m=this;e.forEachNode((function(t){m.nodes[p]=t,f[t]=p,g+=e.undirectedDegreeWithoutSelfLoops(t),m.starts[p]=g,m.belongings[p]=p,m.counts[p]=1,p++})),e.forEachEdge((function(e,t,n,r,i,o,s){if(h=a(e,t,n,r,i,o,s),n=f[n],r=f[r],m.M+=h,n===r)m.totalWeights[n]+=2*h,m.loops[n]=2*h;else{m.totalWeights[n]+=h,m.totalWeights[r]+=h;var c=--m.starts[n],u=--m.starts[r];m.neighborhood[c]=r,m.neighborhood[u]=n,m.weights[c]=h,m.weights[u]=h}})),this.starts[p]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}function u(e,t){var n=(t=i(t,s)).resolution,a=o(t.getEdgeWeight).fromEntry,c=2*(e.size-e.selfLoopCount),u=r.getPointerArray(c),l=r.getPointerArray(e.order+1),d=t.getEdgeWeight?Float64Array:r.getPointerArray(2*e.size);this.C=e.order,this.M=0,this.E=c,this.U=0,this.resolution=n,this.level=0,this.graph=e,this.nodes=new Array(e.order),this.keepDendrogram=t.keepDendrogram,this.neighborhood=new l(c),this.weights=new d(c),this.loops=new d(e.order),this.starts=new u(e.order+1),this.offsets=new u(e.order),this.belongings=new l(e.order),this.dendrogram=[],this.counts=new l(e.order),this.unused=new l(e.order),this.totalInWeights=new d(e.order),this.totalOutWeights=new d(e.order);var h,f={},p=0,g=0,m=this;e.forEachNode((function(t){m.nodes[p]=t,f[t]=p,g+=e.outDegreeWithoutSelfLoops(t),m.starts[p]=g,g+=e.inDegreeWithoutSelfLoops(t),m.offsets[p]=g,m.belongings[p]=p,m.counts[p]=1,p++})),e.forEachEdge((function(e,t,n,r,i,o,s){if(h=a(e,t,n,r,i,o,s),n=f[n],r=f[r],m.M+=h,n===r)m.loops[n]+=h,m.totalInWeights[n]+=h,m.totalOutWeights[n]+=h;else{m.totalOutWeights[n]+=h,m.totalInWeights[r]+=h;var c=--m.starts[n],u=--m.offsets[r];m.neighborhood[c]=r,m.neighborhood[u]=n,m.weights[c]=h,m.weights[u]=h}})),this.starts[p]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}c.prototype.isolate=function(e,t){var n=this.belongings[e];if(1===this.counts[n])return n;var r=this.unused[--this.U],i=this.loops[e];return this.totalWeights[n]-=t+i,this.totalWeights[r]+=t+i,this.belongings[e]=r,this.counts[n]--,this.counts[r]++,r},c.prototype.move=function(e,t,n){var r=this.belongings[e],i=this.loops[e];this.totalWeights[r]-=t+i,this.totalWeights[n]+=t+i,this.belongings[e]=n;var o=1==this.counts[r]--;this.counts[n]++,o&&(this.unused[this.U++]=r)},c.prototype.computeNodeDegree=function(e){var t,n,r=0;for(t=this.starts[e],n=this.starts[e+1];t<n;t++)r+=this.weights[t];return r},c.prototype.expensiveIsolate=function(e){var t=this.computeNodeDegree(e);return this.isolate(e,t)},c.prototype.expensiveMove=function(e,t){var n=this.computeNodeDegree(e);this.move(e,n,t)},c.prototype.zoomOut=function(){var e,t,n,i,o,a,s,c,u,l,d,h=new Array(this.C-this.U),f={},p=this.nodes.length,g=0,m=0;for(e=0,n=this.C;e<n;e++)(a=this.belongings[e])in f||(f[a]=g,h[g]={adj:{},totalWeights:this.totalWeights[a],internalWeights:0},g++),this.belongings[e]=f[a];if(this.keepDendrogram){for(l=this.dendrogram[this.level],d=new(r.getPointerArray(g))(p),e=0;e<p;e++)d[e]=this.belongings[l[e]];this.dendrogram.push(d)}else for(e=0;e<p;e++)this.mapping[e]=this.belongings[this.mapping[e]];for(e=0,n=this.C;e<n;e++)for(u=(c=h[a=this.belongings[e]]).adj,c.internalWeights+=this.loops[e],t=this.starts[e],i=this.starts[e+1];t<i;t++)o=this.neighborhood[t],a!==(s=this.belongings[o])?(s in u||(u[s]=0),u[s]+=this.weights[t]):c.internalWeights+=this.weights[t];for(this.C=g,o=0,a=0;a<g;a++)for(s in u=(c=h[a]).adj,a=+a,this.totalWeights[a]=c.totalWeights,this.loops[a]=c.internalWeights,this.counts[a]=1,this.starts[a]=o,this.belongings[a]=a,u)this.neighborhood[o]=+s,this.weights[o]=u[s],m++,o++;return this.starts[g]=m,this.E=m,this.U=0,this.level++,f},c.prototype.modularity=function(){var e,t,n,r,i=0,o=2*this.M,a=new Float64Array(this.C);for(t=0;t<this.C;t++)for(a[e=this.belongings[t]]+=this.loops[t],n=this.starts[t],r=this.starts[t+1];n<r;n++)e===this.belongings[this.neighborhood[n]]&&(a[e]+=this.weights[n]);for(t=0;t<this.C;t++)i+=a[t]/o-Math.pow(this.totalWeights[t]/o,2)*this.resolution;return i},c.prototype.delta=function(e,t,n,r){var i=this.M;return n/i-this.totalWeights[r]*(t+=this.loops[e])*this.resolution/(2*i*i)},c.prototype.deltaWithOwnCommunity=function(e,t,n,r){var i=this.M;return n/i-(this.totalWeights[r]-(t+=this.loops[e]))*t*this.resolution/(2*i*i)},c.prototype.fastDelta=function(e,t,n,r){var i=this.M,o=this.totalWeights[r];return n-(t+=this.loops[e])*o*this.resolution/(2*i)},c.prototype.fastDeltaWithOwnCommunity=function(e,t,n,r){var i=this.M,o=this.totalWeights[r];return n-(t+=this.loops[e])*(o-t)*this.resolution/(2*i)},c.prototype.bounds=function(e){return[this.starts[e],this.starts[e+1]]},c.prototype.project=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach((function(n,r){t[n]=Array.from(e.neighborhood.slice(e.starts[r],e.starts[r+1])).map((function(t){return e.nodes[t]}))})),t},c.prototype.collect=function(e){arguments.length<1&&(e=this.level);var t,n,r={},i=this.keepDendrogram?this.dendrogram[e]:this.mapping;for(t=0,n=i.length;t<n;t++)r[this.nodes[t]]=i[t];return r},c.prototype.assign=function(e,t){arguments.length<2&&(t=this.level);var n,r,i=this.keepDendrogram?this.dendrogram[t]:this.mapping;for(n=0,r=i.length;n<r;n++)this.graph.setNodeAttribute(this.nodes[n],e,i[n])},c.prototype[a]=function(){var e={};Object.defineProperty(e,"constructor",{value:c,enumerable:!1}),e.C=this.C,e.M=this.M,e.E=this.E,e.U=this.U,e.resolution=this.resolution,e.level=this.level,e.nodes=this.nodes,e.starts=this.starts.slice(0,e.C+1);var t=this;return["neighborhood","weights"].forEach((function(n){e[n]=t[n].slice(0,e.E)})),["counts","loops","belongings","totalWeights"].forEach((function(n){e[n]=t[n].slice(0,e.C)})),e.unused=this.unused.slice(0,this.U),this.keepDendrogram?e.dendrogram=this.dendrogram:e.mapping=this.mapping,e},u.prototype.bounds=c.prototype.bounds,u.prototype.inBounds=function(e){return[this.offsets[e],this.starts[e+1]]},u.prototype.outBounds=function(e){return[this.starts[e],this.offsets[e]]},u.prototype.project=c.prototype.project,u.prototype.projectIn=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach((function(n,r){t[n]=Array.from(e.neighborhood.slice(e.offsets[r],e.starts[r+1])).map((function(t){return e.nodes[t]}))})),t},u.prototype.projectOut=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach((function(n,r){t[n]=Array.from(e.neighborhood.slice(e.starts[r],e.offsets[r])).map((function(t){return e.nodes[t]}))})),t},u.prototype.isolate=function(e,t,n){var r=this.belongings[e];if(1===this.counts[r])return r;var i=this.unused[--this.U],o=this.loops[e];return this.totalInWeights[r]-=t+o,this.totalInWeights[i]+=t+o,this.totalOutWeights[r]-=n+o,this.totalOutWeights[i]+=n+o,this.belongings[e]=i,this.counts[r]--,this.counts[i]++,i},u.prototype.move=function(e,t,n,r){var i=this.belongings[e],o=this.loops[e];this.totalInWeights[i]-=t+o,this.totalInWeights[r]+=t+o,this.totalOutWeights[i]-=n+o,this.totalOutWeights[r]+=n+o,this.belongings[e]=r;var a=1==this.counts[i]--;this.counts[r]++,a&&(this.unused[this.U++]=i)},u.prototype.computeNodeInDegree=function(e){var t,n,r=0;for(t=this.offsets[e],n=this.starts[e+1];t<n;t++)r+=this.weights[t];return r},u.prototype.computeNodeOutDegree=function(e){var t,n,r=0;for(t=this.starts[e],n=this.offsets[e];t<n;t++)r+=this.weights[t];return r},u.prototype.expensiveMove=function(e,t){var n=this.computeNodeInDegree(e),r=this.computeNodeOutDegree(e);this.move(e,n,r,t)},u.prototype.zoomOut=function(){var e,t,n,i,o,a,s,c,u,l,d,h,f,p,g,m=new Array(this.C-this.U),b={},y=this.nodes.length,v=0,w=0;for(e=0,n=this.C;e<n;e++)(a=this.belongings[e])in b||(b[a]=v,m[v]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[a],totalOutWeights:this.totalOutWeights[a],internalWeights:0},v++),this.belongings[e]=b[a];if(this.keepDendrogram){for(p=this.dendrogram[this.level],g=new(r.getPointerArray(v))(y),e=0;e<y;e++)g[e]=this.belongings[p[e]];this.dendrogram.push(g)}else for(e=0;e<y;e++)this.mapping[e]=this.belongings[this.mapping[e]];for(e=0,n=this.C;e<n;e++)for(a=this.belongings[e],u=this.offsets[e],h=(c=m[a]).inAdj,f=c.outAdj,c.internalWeights+=this.loops[e],t=this.starts[e],i=this.starts[e+1];t<i;t++)o=this.neighborhood[t],d=(l=t<u)?f:h,a!==(s=this.belongings[o])?(s in d||(d[s]=0),d[s]+=this.weights[t]):l&&(c.internalWeights+=this.weights[t]);for(this.C=v,o=0,a=0;a<v;a++){for(s in h=(c=m[a]).inAdj,f=c.outAdj,a=+a,this.totalInWeights[a]=c.totalInWeights,this.totalOutWeights[a]=c.totalOutWeights,this.loops[a]=c.internalWeights,this.counts[a]=1,this.starts[a]=o,this.belongings[a]=a,f)this.neighborhood[o]=+s,this.weights[o]=f[s],w++,o++;for(s in this.offsets[a]=o,h)this.neighborhood[o]=+s,this.weights[o]=h[s],w++,o++}return this.starts[v]=w,this.E=w,this.U=0,this.level++,b},u.prototype.modularity=function(){var e,t,n,r,i=0,o=this.M,a=new Float64Array(this.C);for(t=0;t<this.C;t++)for(a[e=this.belongings[t]]+=this.loops[t],n=this.starts[t],r=this.offsets[t];n<r;n++)e===this.belongings[this.neighborhood[n]]&&(a[e]+=this.weights[n]);for(t=0;t<this.C;t++)i+=a[t]/o-this.totalInWeights[t]*this.totalOutWeights[t]/Math.pow(o,2)*this.resolution;return i},u.prototype.delta=function(e,t,n,r,i){var o=this.M,a=this.totalInWeights[i],s=this.totalOutWeights[i],c=this.loops[e];return r/o-((n+=c)*a+(t+=c)*s)*this.resolution/(o*o)},u.prototype.deltaWithOwnCommunity=function(e,t,n,r,i){var o=this.M,a=this.totalInWeights[i],s=this.totalOutWeights[i],c=this.loops[e];return r/o-((n+=c)*(a-(t+=c))+t*(s-n))*this.resolution/(o*o)},u.prototype.collect=c.prototype.collect,u.prototype.assign=c.prototype.assign,u.prototype[a]=function(){var e={};Object.defineProperty(e,"constructor",{value:u,enumerable:!1}),e.C=this.C,e.M=this.M,e.E=this.E,e.U=this.U,e.resolution=this.resolution,e.level=this.level,e.nodes=this.nodes,e.starts=this.starts.slice(0,e.C+1);var t=this;return["neighborhood","weights"].forEach((function(n){e[n]=t[n].slice(0,e.E)})),["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"].forEach((function(n){e[n]=t[n].slice(0,e.C)})),e.unused=this.unused.slice(0,this.U),this.keepDendrogram?e.dendrogram=this.dendrogram:e.mapping=this.mapping,e},t.UndirectedLouvainIndex=c,t.DirectedLouvainIndex=u},7406:e=>{e.exports={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}},965:(e,t)=>{t.assign=function(e){e=e||{};var t,n,r,i=Array.prototype.slice.call(arguments).slice(1);for(t=0,r=i.length;t<r;t++)if(i[t])for(n in i[t])e[n]=i[t][n];return e},t.validateSettings=function(e){return"linLogMode"in e&&"boolean"!=typeof e.linLogMode?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in e&&"boolean"!=typeof e.outboundAttractionDistribution?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in e&&"boolean"!=typeof e.adjustSizes?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in e&&"number"!=typeof e.edgeWeightInfluence?{message:"the `edgeWeightInfluence` setting should be a number."}:!("scalingRatio"in e)||"number"==typeof e.scalingRatio&&e.scalingRatio>=0?"strongGravityMode"in e&&"boolean"!=typeof e.strongGravityMode?{message:"the `strongGravityMode` setting should be a boolean."}:!("gravity"in e)||"number"==typeof e.gravity&&e.gravity>=0?"slowDown"in e&&!("number"==typeof e.slowDown||e.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in e&&"boolean"!=typeof e.barnesHutOptimize?{message:"the `barnesHutOptimize` setting should be a boolean."}:!("barnesHutTheta"in e)||"number"==typeof e.barnesHutTheta&&e.barnesHutTheta>=0?null:{message:"the `barnesHutTheta` setting should be a number >= 0."}:{message:"the `gravity` setting should be a number >= 0."}:{message:"the `scalingRatio` setting should be a number >= 0."}},t.graphToByteArrays=function(e,t){var n,r=e.order,i=e.size,o={},a=new Float32Array(10*r),s=new Float32Array(3*i);return n=0,e.forEachNode((function(e,t){o[e]=n,a[n]=t.x,a[n+1]=t.y,a[n+2]=0,a[n+3]=0,a[n+4]=0,a[n+5]=0,a[n+6]=1,a[n+7]=1,a[n+8]=t.size||1,a[n+9]=t.fixed?1:0,n+=10})),n=0,e.forEachEdge((function(e,r,i,c,u,l,d){var h=o[i],f=o[c],p=t(e,r,i,c,u,l,d);a[h+6]+=p,a[f+6]+=p,s[n]=h,s[n+1]=f,s[n+2]=p,n+=3})),{nodes:a,edges:s}},t.assignLayoutChanges=function(e,t,n){var r=0;e.updateEachNodeAttributes((function(e,i){return i.x=t[r],i.y=t[r+1],r+=10,n?n(e,i):i}))},t.readGraphPositions=function(e,t){var n=0;e.forEachNode((function(e,r){t[n]=r.x,t[n+1]=r.y,n+=10}))},t.collectLayoutChanges=function(e,t,n){for(var r=e.nodes(),i={},o=0,a=0,s=t.length;o<s;o+=10){if(n){var c=Object.assign({},e.getNodeAttributes(r[a]));c.x=t[o],c.y=t[o+1],c=n(r[a],c),i[r[a]]={x:c.x,y:c.y}}else i[r[a]]={x:t[o],y:t[o+1]};a++}return i},t.createWorker=function(e){var t=window.URL||window.webkitURL,n=e.toString(),r=t.createObjectURL(new Blob(["("+n+").call(this);"],{type:"text/javascript"})),i=new Worker(r);return t.revokeObjectURL(r),i}},3580:(e,t,n)=>{var r=n(9729),i=n(2235).Q6,o=n(3098),a=n(965),s=n(7406);function c(e,t,n){if(!r(t))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");"number"==typeof n&&(n={iterations:n});var c=n.iterations;if("number"!=typeof c)throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(c<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var u=i("getEdgeWeight"in n?n.getEdgeWeight:"weight").fromEntry,l="function"==typeof n.outputReducer?n.outputReducer:null,d=a.assign({},s,n.settings),h=a.validateSettings(d);if(h)throw new Error("graphology-layout-forceatlas2: "+h.message);var f,p=a.graphToByteArrays(t,u);for(f=0;f<c;f++)o(d,p.nodes,p.edges);if(!e)return a.collectLayoutChanges(t,p.nodes);a.assignLayoutChanges(t,p.nodes,l)}var u=c.bind(null,!1);u.assign=c.bind(null,!0),u.inferSettings=function(e){var t="number"==typeof e?e:e.order;return{barnesHutOptimize:t>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(t)}},e.exports=u},3098:e=>{var t=10;e.exports=function(e,n,r){var i,o,a,s,c,u,l,d,h,f,p,g,m,b,y,v,w,_,E,x,S,M,A,C=n.length,L=r.length,T=e.adjustSizes,O=e.barnesHutTheta*e.barnesHutTheta,k=[];for(a=0;a<C;a+=t)n[a+4]=n[a+2],n[a+5]=n[a+3],n[a+2]=0,n[a+3]=0;if(e.outboundAttractionDistribution){for(p=0,a=0;a<C;a+=t)p+=n[a+6];p/=C/t}if(e.barnesHutOptimize){var N,D,R,I=1/0,P=-1/0,F=1/0,z=-1/0;for(a=0;a<C;a+=t)I=Math.min(I,n[a+0]),P=Math.max(P,n[a+0]),F=Math.min(F,n[a+1]),z=Math.max(z,n[a+1]);var j=P-I,G=z-F;for(j>G?z=(F-=(j-G)/2)+j:P=(I-=(G-j)/2)+G,k[0]=-1,k[1]=(I+P)/2,k[2]=(F+z)/2,k[3]=Math.max(P-I,z-F),k[4]=-1,k[5]=-1,k[6]=0,k[7]=0,k[8]=0,i=1,a=0;a<C;a+=t)for(o=0,R=3;;){if(!(k[o+5]>=0)){if(k[o+0]<0){k[o+0]=a;break}if(k[o+5]=9*i,d=k[o+3]/2,k[(h=k[o+5])+0]=-1,k[h+1]=k[o+1]-d,k[h+2]=k[o+2]-d,k[h+3]=d,k[h+4]=h+9,k[h+5]=-1,k[h+6]=0,k[h+7]=0,k[h+8]=0,k[(h+=9)+0]=-1,k[h+1]=k[o+1]-d,k[h+2]=k[o+2]+d,k[h+3]=d,k[h+4]=h+9,k[h+5]=-1,k[h+6]=0,k[h+7]=0,k[h+8]=0,k[(h+=9)+0]=-1,k[h+1]=k[o+1]+d,k[h+2]=k[o+2]-d,k[h+3]=d,k[h+4]=h+9,k[h+5]=-1,k[h+6]=0,k[h+7]=0,k[h+8]=0,k[(h+=9)+0]=-1,k[h+1]=k[o+1]+d,k[h+2]=k[o+2]+d,k[h+3]=d,k[h+4]=k[o+4],k[h+5]=-1,k[h+6]=0,k[h+7]=0,k[h+8]=0,i+=4,N=n[k[o+0]+0]<k[o+1]?n[k[o+0]+1]<k[o+2]?k[o+5]:k[o+5]+9:n[k[o+0]+1]<k[o+2]?k[o+5]+18:k[o+5]+27,k[o+6]=n[k[o+0]+6],k[o+7]=n[k[o+0]+0],k[o+8]=n[k[o+0]+1],k[N+0]=k[o+0],k[o+0]=-1,N===(D=n[a+0]<k[o+1]?n[a+1]<k[o+2]?k[o+5]:k[o+5]+9:n[a+1]<k[o+2]?k[o+5]+18:k[o+5]+27)){if(R--){o=N;continue}R=3;break}k[D+0]=a;break}N=n[a+0]<k[o+1]?n[a+1]<k[o+2]?k[o+5]:k[o+5]+9:n[a+1]<k[o+2]?k[o+5]+18:k[o+5]+27,k[o+7]=(k[o+7]*k[o+6]+n[a+0]*n[a+6])/(k[o+6]+n[a+6]),k[o+8]=(k[o+8]*k[o+6]+n[a+1]*n[a+6])/(k[o+6]+n[a+6]),k[o+6]+=n[a+6],o=N}}if(e.barnesHutOptimize){for(g=e.scalingRatio,a=0;a<C;a+=t)for(o=0;;)if(k[o+5]>=0){if(v=Math.pow(n[a+0]-k[o+7],2)+Math.pow(n[a+1]-k[o+8],2),4*(f=k[o+3])*f/v<O){if(m=n[a+0]-k[o+7],b=n[a+1]-k[o+8],!0===T?v>0?(w=g*n[a+6]*k[o+6]/v,n[a+2]+=m*w,n[a+3]+=b*w):v<0&&(w=-g*n[a+6]*k[o+6]/Math.sqrt(v),n[a+2]+=m*w,n[a+3]+=b*w):v>0&&(w=g*n[a+6]*k[o+6]/v,n[a+2]+=m*w,n[a+3]+=b*w),(o=k[o+4])<0)break;continue}o=k[o+5]}else if((u=k[o+0])>=0&&u!==a&&(v=(m=n[a+0]-n[u+0])*m+(b=n[a+1]-n[u+1])*b,!0===T?v>0?(w=g*n[a+6]*n[u+6]/v,n[a+2]+=m*w,n[a+3]+=b*w):v<0&&(w=-g*n[a+6]*n[u+6]/Math.sqrt(v),n[a+2]+=m*w,n[a+3]+=b*w):v>0&&(w=g*n[a+6]*n[u+6]/v,n[a+2]+=m*w,n[a+3]+=b*w)),(o=k[o+4])<0)break}else for(g=e.scalingRatio,s=0;s<C;s+=t)for(c=0;c<s;c+=t)m=n[s+0]-n[c+0],b=n[s+1]-n[c+1],!0===T?(v=Math.sqrt(m*m+b*b)-n[s+8]-n[c+8])>0?(w=g*n[s+6]*n[c+6]/v/v,n[s+2]+=m*w,n[s+3]+=b*w,n[c+2]-=m*w,n[c+3]-=b*w):v<0&&(w=100*g*n[s+6]*n[c+6],n[s+2]+=m*w,n[s+3]+=b*w,n[c+2]-=m*w,n[c+3]-=b*w):(v=Math.sqrt(m*m+b*b))>0&&(w=g*n[s+6]*n[c+6]/v/v,n[s+2]+=m*w,n[s+3]+=b*w,n[c+2]-=m*w,n[c+3]-=b*w);for(h=e.gravity/e.scalingRatio,g=e.scalingRatio,a=0;a<C;a+=t)w=0,m=n[a+0],b=n[a+1],v=Math.sqrt(Math.pow(m,2)+Math.pow(b,2)),e.strongGravityMode?v>0&&(w=g*n[a+6]*h):v>0&&(w=g*n[a+6]*h/v),n[a+2]-=m*w,n[a+3]-=b*w;for(g=1*(e.outboundAttractionDistribution?p:1),l=0;l<L;l+=3)s=r[l+0],c=r[l+1],d=r[l+2],y=Math.pow(d,e.edgeWeightInfluence),m=n[s+0]-n[c+0],b=n[s+1]-n[c+1],!0===T?(v=Math.sqrt(m*m+b*b)-n[s+8]-n[c+8],e.linLogMode?e.outboundAttractionDistribution?v>0&&(w=-g*y*Math.log(1+v)/v/n[s+6]):v>0&&(w=-g*y*Math.log(1+v)/v):e.outboundAttractionDistribution?v>0&&(w=-g*y/n[s+6]):v>0&&(w=-g*y)):(v=Math.sqrt(Math.pow(m,2)+Math.pow(b,2)),e.linLogMode?e.outboundAttractionDistribution?v>0&&(w=-g*y*Math.log(1+v)/v/n[s+6]):v>0&&(w=-g*y*Math.log(1+v)/v):e.outboundAttractionDistribution?(v=1,w=-g*y/n[s+6]):(v=1,w=-g*y)),v>0&&(n[s+2]+=m*w,n[s+3]+=b*w,n[c+2]-=m*w,n[c+3]-=b*w);if(!0===T)for(a=0;a<C;a+=t)1!==n[a+9]&&((_=Math.sqrt(Math.pow(n[a+2],2)+Math.pow(n[a+3],2)))>10&&(n[a+2]=10*n[a+2]/_,n[a+3]=10*n[a+3]/_),E=n[a+6]*Math.sqrt((n[a+4]-n[a+2])*(n[a+4]-n[a+2])+(n[a+5]-n[a+3])*(n[a+5]-n[a+3])),x=Math.sqrt((n[a+4]+n[a+2])*(n[a+4]+n[a+2])+(n[a+5]+n[a+3])*(n[a+5]+n[a+3]))/2,S=.1*Math.log(1+x)/(1+Math.sqrt(E)),M=n[a+0]+n[a+2]*(S/e.slowDown),n[a+0]=M,A=n[a+1]+n[a+3]*(S/e.slowDown),n[a+1]=A);else for(a=0;a<C;a+=t)1!==n[a+9]&&(E=n[a+6]*Math.sqrt((n[a+4]-n[a+2])*(n[a+4]-n[a+2])+(n[a+5]-n[a+3])*(n[a+5]-n[a+3])),x=Math.sqrt((n[a+4]+n[a+2])*(n[a+4]+n[a+2])+(n[a+5]+n[a+3])*(n[a+5]+n[a+3]))/2,S=n[a+7]*Math.log(1+x)/(1+Math.sqrt(E)),n[a+7]=Math.min(1,Math.sqrt(S*(Math.pow(n[a+2],2)+Math.pow(n[a+3],2))/(1+Math.sqrt(E)))),M=n[a+0]+n[a+2]*(S/e.slowDown),n[a+0]=M,A=n[a+1]+n[a+3]*(S/e.slowDown),n[a+1]=A);return{}}},3678:e=>{e.exports=function(){var e,t,n,r={};n=10,r.exports=function(e,t,r){var i,o,a,s,c,u,l,d,h,f,p,g,m,b,y,v,w,_,E,x,S,M,A,C=t.length,L=r.length,T=e.adjustSizes,O=e.barnesHutTheta*e.barnesHutTheta,k=[];for(a=0;a<C;a+=n)t[a+4]=t[a+2],t[a+5]=t[a+3],t[a+2]=0,t[a+3]=0;if(e.outboundAttractionDistribution){for(p=0,a=0;a<C;a+=n)p+=t[a+6];p/=C/n}if(e.barnesHutOptimize){var N,D,R,I=1/0,P=-1/0,F=1/0,z=-1/0;for(a=0;a<C;a+=n)I=Math.min(I,t[a+0]),P=Math.max(P,t[a+0]),F=Math.min(F,t[a+1]),z=Math.max(z,t[a+1]);var j=P-I,G=z-F;for(j>G?z=(F-=(j-G)/2)+j:P=(I-=(G-j)/2)+G,k[0]=-1,k[1]=(I+P)/2,k[2]=(F+z)/2,k[3]=Math.max(P-I,z-F),k[4]=-1,k[5]=-1,k[6]=0,k[7]=0,k[8]=0,i=1,a=0;a<C;a+=n)for(o=0,R=3;;){if(!(k[o+5]>=0)){if(k[o+0]<0){k[o+0]=a;break}if(k[o+5]=9*i,d=k[o+3]/2,k[(h=k[o+5])+0]=-1,k[h+1]=k[o+1]-d,k[h+2]=k[o+2]-d,k[h+3]=d,k[h+4]=h+9,k[h+5]=-1,k[h+6]=0,k[h+7]=0,k[h+8]=0,k[(h+=9)+0]=-1,k[h+1]=k[o+1]-d,k[h+2]=k[o+2]+d,k[h+3]=d,k[h+4]=h+9,k[h+5]=-1,k[h+6]=0,k[h+7]=0,k[h+8]=0,k[(h+=9)+0]=-1,k[h+1]=k[o+1]+d,k[h+2]=k[o+2]-d,k[h+3]=d,k[h+4]=h+9,k[h+5]=-1,k[h+6]=0,k[h+7]=0,k[h+8]=0,k[(h+=9)+0]=-1,k[h+1]=k[o+1]+d,k[h+2]=k[o+2]+d,k[h+3]=d,k[h+4]=k[o+4],k[h+5]=-1,k[h+6]=0,k[h+7]=0,k[h+8]=0,i+=4,N=t[k[o+0]+0]<k[o+1]?t[k[o+0]+1]<k[o+2]?k[o+5]:k[o+5]+9:t[k[o+0]+1]<k[o+2]?k[o+5]+18:k[o+5]+27,k[o+6]=t[k[o+0]+6],k[o+7]=t[k[o+0]+0],k[o+8]=t[k[o+0]+1],k[N+0]=k[o+0],k[o+0]=-1,N===(D=t[a+0]<k[o+1]?t[a+1]<k[o+2]?k[o+5]:k[o+5]+9:t[a+1]<k[o+2]?k[o+5]+18:k[o+5]+27)){if(R--){o=N;continue}R=3;break}k[D+0]=a;break}N=t[a+0]<k[o+1]?t[a+1]<k[o+2]?k[o+5]:k[o+5]+9:t[a+1]<k[o+2]?k[o+5]+18:k[o+5]+27,k[o+7]=(k[o+7]*k[o+6]+t[a+0]*t[a+6])/(k[o+6]+t[a+6]),k[o+8]=(k[o+8]*k[o+6]+t[a+1]*t[a+6])/(k[o+6]+t[a+6]),k[o+6]+=t[a+6],o=N}}if(e.barnesHutOptimize){for(g=e.scalingRatio,a=0;a<C;a+=n)for(o=0;;)if(k[o+5]>=0){if(v=Math.pow(t[a+0]-k[o+7],2)+Math.pow(t[a+1]-k[o+8],2),4*(f=k[o+3])*f/v<O){if(m=t[a+0]-k[o+7],b=t[a+1]-k[o+8],!0===T?v>0?(w=g*t[a+6]*k[o+6]/v,t[a+2]+=m*w,t[a+3]+=b*w):v<0&&(w=-g*t[a+6]*k[o+6]/Math.sqrt(v),t[a+2]+=m*w,t[a+3]+=b*w):v>0&&(w=g*t[a+6]*k[o+6]/v,t[a+2]+=m*w,t[a+3]+=b*w),(o=k[o+4])<0)break;continue}o=k[o+5]}else if((u=k[o+0])>=0&&u!==a&&(v=(m=t[a+0]-t[u+0])*m+(b=t[a+1]-t[u+1])*b,!0===T?v>0?(w=g*t[a+6]*t[u+6]/v,t[a+2]+=m*w,t[a+3]+=b*w):v<0&&(w=-g*t[a+6]*t[u+6]/Math.sqrt(v),t[a+2]+=m*w,t[a+3]+=b*w):v>0&&(w=g*t[a+6]*t[u+6]/v,t[a+2]+=m*w,t[a+3]+=b*w)),(o=k[o+4])<0)break}else for(g=e.scalingRatio,s=0;s<C;s+=n)for(c=0;c<s;c+=n)m=t[s+0]-t[c+0],b=t[s+1]-t[c+1],!0===T?(v=Math.sqrt(m*m+b*b)-t[s+8]-t[c+8])>0?(w=g*t[s+6]*t[c+6]/v/v,t[s+2]+=m*w,t[s+3]+=b*w,t[c+2]-=m*w,t[c+3]-=b*w):v<0&&(w=100*g*t[s+6]*t[c+6],t[s+2]+=m*w,t[s+3]+=b*w,t[c+2]-=m*w,t[c+3]-=b*w):(v=Math.sqrt(m*m+b*b))>0&&(w=g*t[s+6]*t[c+6]/v/v,t[s+2]+=m*w,t[s+3]+=b*w,t[c+2]-=m*w,t[c+3]-=b*w);for(h=e.gravity/e.scalingRatio,g=e.scalingRatio,a=0;a<C;a+=n)w=0,m=t[a+0],b=t[a+1],v=Math.sqrt(Math.pow(m,2)+Math.pow(b,2)),e.strongGravityMode?v>0&&(w=g*t[a+6]*h):v>0&&(w=g*t[a+6]*h/v),t[a+2]-=m*w,t[a+3]-=b*w;for(g=1*(e.outboundAttractionDistribution?p:1),l=0;l<L;l+=3)s=r[l+0],c=r[l+1],d=r[l+2],y=Math.pow(d,e.edgeWeightInfluence),m=t[s+0]-t[c+0],b=t[s+1]-t[c+1],!0===T?(v=Math.sqrt(m*m+b*b)-t[s+8]-t[c+8],e.linLogMode?e.outboundAttractionDistribution?v>0&&(w=-g*y*Math.log(1+v)/v/t[s+6]):v>0&&(w=-g*y*Math.log(1+v)/v):e.outboundAttractionDistribution?v>0&&(w=-g*y/t[s+6]):v>0&&(w=-g*y)):(v=Math.sqrt(Math.pow(m,2)+Math.pow(b,2)),e.linLogMode?e.outboundAttractionDistribution?v>0&&(w=-g*y*Math.log(1+v)/v/t[s+6]):v>0&&(w=-g*y*Math.log(1+v)/v):e.outboundAttractionDistribution?(v=1,w=-g*y/t[s+6]):(v=1,w=-g*y)),v>0&&(t[s+2]+=m*w,t[s+3]+=b*w,t[c+2]-=m*w,t[c+3]-=b*w);if(!0===T)for(a=0;a<C;a+=n)1!==t[a+9]&&((_=Math.sqrt(Math.pow(t[a+2],2)+Math.pow(t[a+3],2)))>10&&(t[a+2]=10*t[a+2]/_,t[a+3]=10*t[a+3]/_),E=t[a+6]*Math.sqrt((t[a+4]-t[a+2])*(t[a+4]-t[a+2])+(t[a+5]-t[a+3])*(t[a+5]-t[a+3])),x=Math.sqrt((t[a+4]+t[a+2])*(t[a+4]+t[a+2])+(t[a+5]+t[a+3])*(t[a+5]+t[a+3]))/2,S=.1*Math.log(1+x)/(1+Math.sqrt(E)),M=t[a+0]+t[a+2]*(S/e.slowDown),t[a+0]=M,A=t[a+1]+t[a+3]*(S/e.slowDown),t[a+1]=A);else for(a=0;a<C;a+=n)1!==t[a+9]&&(E=t[a+6]*Math.sqrt((t[a+4]-t[a+2])*(t[a+4]-t[a+2])+(t[a+5]-t[a+3])*(t[a+5]-t[a+3])),x=Math.sqrt((t[a+4]+t[a+2])*(t[a+4]+t[a+2])+(t[a+5]+t[a+3])*(t[a+5]+t[a+3]))/2,S=t[a+7]*Math.log(1+x)/(1+Math.sqrt(E)),t[a+7]=Math.min(1,Math.sqrt(S*(Math.pow(t[a+2],2)+Math.pow(t[a+3],2))/(1+Math.sqrt(E)))),M=t[a+0]+t[a+2]*(S/e.slowDown),t[a+0]=M,A=t[a+1]+t[a+3]*(S/e.slowDown),t[a+1]=A);return{}};var i=r.exports;self.addEventListener("message",(function(n){var r=n.data;e=new Float32Array(r.nodes),r.edges&&(t=new Float32Array(r.edges)),i(r.settings,e,t),self.postMessage({nodes:e.buffer},[e.buffer])}))}},5736:(e,t,n)=>{var r=n(3678),i=n(9729),o=n(2235).Q6,a=n(965),s=n(7406);function c(e,t){if(t=t||{},!i(e))throw new Error("graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.");var n=o("getEdgeWeight"in t?t.getEdgeWeight:"weight").fromEntry,r=a.assign({},s,t.settings),c=a.validateSettings(r);if(c)throw new Error("graphology-layout-forceatlas2/worker: "+c.message);this.worker=null,this.graph=e,this.settings=r,this.getEdgeWeight=n,this.matrices=null,this.running=!1,this.killed=!1,this.outputReducer="function"==typeof t.outputReducer?t.outputReducer:null,this.handleMessage=this.handleMessage.bind(this);var u=void 0,l=this;this.handleGraphUpdate=function(){l.worker&&l.worker.terminate(),u&&clearTimeout(u),u=setTimeout((function(){u=void 0,l.spawnWorker()}),0)},e.on("nodeAdded",this.handleGraphUpdate),e.on("edgeAdded",this.handleGraphUpdate),e.on("nodeDropped",this.handleGraphUpdate),e.on("edgeDropped",this.handleGraphUpdate),this.spawnWorker()}c.prototype.isRunning=function(){return this.running},c.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=a.createWorker(r),this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())},c.prototype.handleMessage=function(e){if(this.running){var t=new Float32Array(e.data.nodes);a.assignLayoutChanges(this.graph,t,this.outputReducer),this.outputReducer&&a.readGraphPositions(this.graph,t),this.matrices.nodes=t,this.askForIterations()}},c.prototype.askForIterations=function(e){var t=this.matrices,n={settings:this.settings,nodes:t.nodes.buffer},r=[t.nodes.buffer];return e&&(n.edges=t.edges.buffer,r.push(t.edges.buffer)),this.worker.postMessage(n,r),this},c.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-forceatlas2/worker.start: layout was killed.");return this.running||(this.matrices=a.graphToByteArrays(this.graph,this.getEdgeWeight),this.running=!0,this.askForIterations(!0)),this},c.prototype.stop=function(){return this.running=!1,this},c.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleGraphUpdate),this.graph.removeListener("edgeAdded",this.handleGraphUpdate),this.graph.removeListener("nodeDropped",this.handleGraphUpdate),this.graph.removeListener("edgeDropped",this.handleGraphUpdate)},e.exports=c},746:e=>{e.exports={gridSize:20,margin:5,expansion:1.1,ratio:1,speed:3}},5421:(e,t)=>{t.validateSettings=function(e){return"gridSize"in e&&"number"!=typeof e.gridSize||e.gridSize<=0?{message:"the `gridSize` setting should be a positive number."}:"margin"in e&&"number"!=typeof e.margin||e.margin<0?{message:"the `margin` setting should be 0 or a positive number."}:"expansion"in e&&"number"!=typeof e.expansion||e.expansion<=0?{message:"the `expansion` setting should be a positive number."}:"ratio"in e&&"number"!=typeof e.ratio||e.ratio<=0?{message:"the `ratio` setting should be a positive number."}:"speed"in e&&"number"!=typeof e.speed||e.speed<=0?{message:"the `speed` setting should be a positive number."}:null},t.graphToByteArray=function(e,t){var n=e.order,r=new Float32Array(3*n),i=0;return e.forEachNode((function(e,n){"function"==typeof t&&(n=t(e,n)),r[i]=n.x,r[i+1]=n.y,r[i+2]=n.size||1,i+=3})),r},t.assignLayoutChanges=function(e,t,n){var r=0;e.forEachNode((function(i){var o={x:t[r],y:t[r+1]};"function"==typeof n&&(o=n(i,o)),e.mergeNodeAttributes(i,o),r+=3}))},t.collectLayoutChanges=function(e,t,n){var r={},i=0;return e.forEachNode((function(e){var o={x:t[i],y:t[i+1]};"function"==typeof n&&(o=n(e,o)),r[e]=o,i+=3})),r},t.createWorker=function(e){var t=window.URL||window.webkitURL,n=e.toString(),r=t.createObjectURL(new Blob(["("+n+").call(this);"],{type:"text/javascript"})),i=new Worker(r);return t.revokeObjectURL(r),i}},9770:e=>{e.exports=function(){var e,t={};!function(){function e(){return.01*(.5-Math.random())}t.exports=function(t,n){var r,i,o,a,s,c,u=t.margin,l=t.ratio,d=t.expansion,h=t.gridSize,f=t.speed,p=!0,g=n.length,m=g/3|0,b=new Float32Array(m),y=new Float32Array(m),v=1/0,w=1/0,_=-1/0,E=-1/0;for(r=0;r<g;r+=3)o=n[r+0],a=n[r+1],c=n[r+2]*l+u,v=Math.min(v,o-c),_=Math.max(_,o+c),w=Math.min(w,a-c),E=Math.max(E,a+c);var x=_-v,S=E-w,M=(v+_)/2,A=(w+E)/2;v=M-d*x/2,_=M+d*x/2,w=A-d*S/2,E=A+d*S/2;var C,L,T,O,k,N,D,R,I,P,F,z,j=new Array(h*h),G=j.length;for(C=0;C<G;C++)j[C]=[];for(r=0;r<g;r+=3)for(o=n[r+0],a=n[r+1],L=o-(c=n[r+2]*l+u),T=o+c,O=a-c,k=a+c,N=Math.floor(h*(L-v)/(_-v)),D=Math.floor(h*(T-v)/(_-v)),R=Math.floor(h*(O-w)/(E-w)),I=Math.floor(h*(k-w)/(E-w)),P=N;P<=D;P++)for(F=R;F<=I;F++)j[P*h+F].push(r);var U,B,W,H,V,q,Y,$,K,X,Z,Q,J=new Set;for(C=0;C<G;C++)for(r=0,s=(z=j[C]).length;r<s;r++)for(W=n[(U=z[r])+0],V=n[U+1],Y=n[U+2],i=r+1;i<s;i++)K=U+""+(B=z[i]),G>1&&J.has(K)||(G>1&&J.add(K),H=n[B+0],q=n[B+1],$=n[B+2],X=H-W,Z=q-V,(Q=Math.sqrt(X*X+Z*Z))<Y*l+u+($*l+u)&&(p=!1,B=B/3|0,Q>0?(b[B]+=X/Q*(1+Y),y[B]+=Z/Q*(1+Y)):(b[B]+=x*e(),y[B]+=S*e())));for(r=0,i=0;r<g;r+=3,i++)n[r+0]+=.1*b[i]*f,n[r+1]+=.1*y[i]*f;return{converged:p}}}();var n=t.exports;self.addEventListener("message",(function(t){var r=t.data;e=new Float32Array(r.nodes);var i=n(r.settings,e);self.postMessage({result:i,nodes:e.buffer},[e.buffer])}))}},7731:(e,t,n)=>{var r=n(9770),i=n(9729),o=n(5421),a=n(746);function s(e,t){if(t=t||{},!i(e))throw new Error("graphology-layout-noverlap/worker: the given graph is not a valid graphology instance.");var n=Object.assign({},a,t.settings),r=o.validateSettings(n);if(r)throw new Error("graphology-layout-noverlap/worker: "+r.message);this.worker=null,this.graph=e,this.settings=n,this.matrices=null,this.running=!1,this.killed=!1,this.inputReducer=t.inputReducer,this.outputReducer=t.outputReducer,this.callbacks={onConverged:"function"==typeof t.onConverged?t.onConverged:null},this.handleMessage=this.handleMessage.bind(this);var s=!1,c=this;this.handleAddition=function(){s||(s=!0,c.spawnWorker(),setTimeout((function(){s=!1}),0))},e.on("nodeAdded",this.handleAddition),e.on("edgeAdded",this.handleAddition),this.spawnWorker()}s.prototype.isRunning=function(){return this.running},s.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=o.createWorker(r),this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())},s.prototype.handleMessage=function(e){if(this.running){var t=new Float32Array(e.data.nodes);if(o.assignLayoutChanges(this.graph,t,this.outputReducer),this.matrices.nodes=t,e.data.result.converged)return this.callbacks.onConverged&&this.callbacks.onConverged(),void this.stop();this.askForIterations()}},s.prototype.askForIterations=function(){var e=this.matrices,t={settings:this.settings,nodes:e.nodes.buffer},n=[e.nodes.buffer];return this.worker.postMessage(t,n),this},s.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-noverlap/worker.start: layout was killed.");return this.running||(this.matrices={nodes:o.graphToByteArray(this.graph,this.inputReducer)},this.running=!0,this.askForIterations()),this},s.prototype.stop=function(){return this.running=!1,this},s.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleAddition),this.graph.removeListener("edgeAdded",this.handleAddition)},e.exports=s},6756:(e,t,n)=>{var r=n(9729);function i(e){return"number"==typeof e&&!isNaN(e)}var o=["x","y"];t.collectLayout=function(e,t){if(!r(e))throw new Error("graphology-layout/utils.collectLayout: the given graph is not a valid graphology instance.");var n=(t=t||{}).dimensions,a=!1!==t.exhaustive;n||(n=o);var s={},c=n.length;return e.forEachNode((function(e,t){var r,o=0,u={};for(r=0;r<c;r++){var l=n[r],d=t[l];i(d)&&(u[l]=d,o++)}a?o===c&&(s[e]=u):o&&(s[e]=u)})),s},t.assignLayout=function(e,t,n){if(!r(e))throw new Error("graphology-layout/utils.assignLayout: the given graph is not a valid graphology instance.");var i,a=(n=n||{}).dimensions||o,s=a.length;e.updateEachNodeAttributes((function(e,n){var r=t[e];if(!r)return n;for(var o=0;o<s;o++)n[i=a[o]]=r[i];return n}),{attributes:a})},t.collectLayoutAsFlatArray=function(e,t){if(!r(e))throw new Error("graphology-layout/utils.collectLayout: the given graph is not a valid graphology instance.");var n=(t=t||{}).dimensions,a=t.type||Float64Array;n||(n=o);var s=n.length,c=new a(e.order*s),u=0;return e.forEachNode((function(e,t){var r;for(r=0;r<s;r++){var o=t[n[r]];i(o)||(o=0),c[u++]=o}})),c},t.assignLayoutAsFlatArray=function(e,t,n){if(!r(e))throw new Error("graphology-layout/utils.assignLayoutAsFlatArray: the given graph is not a valid graphology instance.");var i=(n=n||{}).dimensions;i||(i=o);var a=i.length;if(t.length!==e.order*a)throw new Error("graphology-layout/utils.assignLayoutAsFlatArray: given layout has an incorrect length wrt number of nodes & dimenions.");var s=0;e.updateEachNodeAttributes((function(e,n){for(var r=0;r<a;r++)n[i[r]]=t[s++];return n}),{attributes:i})}},3850:(e,t,n)=>{var r=n(9729);e.exports=function(e){if(!r(e))throw new Error("graphology-operators/to-mixed: expecting a valid graphology instance.");return e.copy({type:"mixed"})}},1718:(e,t,n)=>{var r=n(9729);e.exports=function(e){if(!r(e))throw new Error("graphology-operators/to-multi: expecting a valid graphology instance.");return e.copy({multi:!0})}},9644:e=>{e.exports=function(e,t,n,r){return'<line x1="'+n.x+'" y1="'+n.y+'" x2="'+r.x+'" y2="'+r.y+'" stroke="'+t.color+'" stroke-width="'+t.size+'" />'}},7971:(e,t,n)=>{var r=n(7917).escape;e.exports=function(e,t){return'<text x="'+(t.x+1.1*t.size)+'" y="'+(t.y+t.size/4)+'" font-family="'+r(e.font||"sans-serif")+'" font-size="'+t.size+'">'+r(t.label)+"</text>"}},6912:e=>{e.exports=function(e,t){return'<circle cx="'+t.x+'" cy="'+t.y+'" r="'+t.size+'" fill="'+t.color+'" />'}},9370:(e,t)=>{t.DEFAULTS={margin:20,width:2048,height:2048,nodes:{reducer:null,defaultColor:"#999"},edges:{reducer:null,defaultColor:"#ccc"}},t.DEFAULT_NODE_REDUCER=function(e,t,n){var r={type:n.type||"circle",labelType:n.labelType||"default",label:n.label||t,x:n.x,y:n.y,size:n.size||1,color:n.color||e.nodes.defaultColor};if("number"!=typeof r.x||"number"!=typeof r.y)throw new Error('graphology-svg: the "'+t+'" node has no valid x or y position. Expecting a number.');return r},t.DEFAULT_EDGE_REDUCER=function(e,t,n){return{type:n.type||"line",size:n.size||1,color:n.color||e.edges.defaultColor}}},7917:(e,t,n)=>{var r=n(9370),i=/["'<>&]/g,o={'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;","&":"&amp;"};function a(e){return o[e]}t.reduceNodes=function(e,t){var n,i,o,a=t.width,s=t.height,c=0,u=0,l=0,d={};e.forEachNode((function(e,n){"function"==typeof t.nodes.reducer&&(n=t.nodes.reducer(t,e,n)),n=r.DEFAULT_NODE_REDUCER(t,e,n),d[e]=n,c+=n.size*n.x,u+=n.size*n.y,l+=n.size})),c/=l,u/=l;var h,f=-1/0;for(h in d)o=d[h],(n=Math.pow(o.x-c,2)+Math.pow(o.y-u,2))>f&&(f=n);for(h in i=(Math.min(a,s)-2*t.margin)/(2*Math.sqrt(f)),d)(o=d[h]).x=a/2+(o.x-c)*i,o.y=s/2+(o.y-u)*i,o.size*=i;return d},t.escape=function(e){return e.replace(i,a)}},6524:(e,t,n)=>{var r=n(9729),i=n(7917),o=n(9370),a={nodes:{circle:n(6912)},edges:{line:n(9644)},nodeLabels:{default:n(7971)}};e.exports=function(e,t){if(!r(e))throw new Error("graphology-svg/renderer: expecting a valid graphology instance.");var n=i.reduceNodes(e,t),s=[];e.forEachEdge((function(e,r,i,c){"function"==typeof t.edges.reducer&&(r=t.edges.reducer(t,e,r)),r=o.DEFAULT_EDGE_REDUCER(t,e,r),s.push(a.edges[r.type](t,r,n[i],n[c]))}));var c,u=[],l=[];for(c in n)u.push(a.nodes[n[c].type](t,n[c])),l.push(a.nodeLabels[n[c].labelType](t,n[c]));return'<?xml version="1.0" encoding="utf-8"?><svg width="'+t.width+'" height=" '+t.height+'" viewBox="0 0 '+t.width+" "+t.height+'" version="1.1" xmlns="http://www.w3.org/2000/svg"><g>'+s.join("")+"</g><g>"+u.join("")+"</g><g>"+l.join("")+"</g></svg>"}},8239:(e,t)=>{t.rW=function(e,t,n,r,i,o){return t?null==n?e.mergeUndirectedEdge(r,i,o):e.mergeUndirectedEdgeWithKey(n,r,i,o):null==n?e.mergeDirectedEdge(r,i,o):e.mergeDirectedEdgeWithKey(n,r,i,o)}},3834:e=>{e.exports=function e(t,n){t=t||{};var r,i={};for(var o in n){var a=t[o],s=n[o];!(r=s)||"object"!=typeof r||"function"==typeof r||Array.isArray(r)||r instanceof Set||r instanceof Map||r instanceof RegExp||r instanceof Date?i[o]=void 0===a?s:a:i[o]=e(a,s)}return i}},2235:(e,t)=>{function n(e){return"number"!=typeof e||isNaN(e)?1:e}t.Q6=function(e){return function(e,t){var n={},r=function(e){return void 0===e?t:e};"function"==typeof t&&(r=t);var i=function(t){return r(t[e])},o=function(){return r(void 0)};return"string"==typeof e?(n.fromAttributes=i,n.fromGraph=function(e,t){return i(e.getEdgeAttributes(t))},n.fromEntry=function(e,t){return i(t)},n.fromPartialEntry=n.fromEntry,n.fromMinimalEntry=n.fromEntry):"function"==typeof e?(n.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},n.fromGraph=function(t,n){var i=t.extremities(n);return r(e(n,t.getEdgeAttributes(n),i[0],i[1],t.getNodeAttributes(i[0]),t.getNodeAttributes(i[1]),t.isUndirected(n)))},n.fromEntry=function(t,n,i,o,a,s,c){return r(e(t,n,i,o,a,s,c))},n.fromPartialEntry=function(t,n,i,o){return r(e(t,n,i,o))},n.fromMinimalEntry=function(t,n){return r(e(t,n))}):(n.fromAttributes=o,n.fromGraph=o,n.fromEntry=o,n.fromMinimalEntry=o),n}(e,n)}},624:(e,t,n)=>{var r=n(9729);e.exports=function(e){if(!r(e))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var t=e.type;return"mixed"!==t?t:0===e.directedSize&&0===e.undirectedSize||e.directedSize>0&&e.undirectedSize>0?"mixed":e.directedSize>0?"directed":"undirected"}},7759:e=>{e.exports=function(e){return null!==e&&"function"==typeof e&&"object"==typeof e.prototype&&"function"==typeof e.prototype.addUndirectedEdgeWithKey&&"function"==typeof e.prototype.dropNode}},9729:e=>{e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.addUndirectedEdgeWithKey&&"function"==typeof e.dropNode&&"boolean"==typeof e.multi}},2098:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return o=i()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,n(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,e)},a(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++)if(arguments[t])for(var r in arguments[t])e[r]=arguments[t][r];return e};function u(e,t,n,r){var i=e._nodes.get(t),o=null;return i?o="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function l(t){return"object"===e(t)&&null!==t&&t.constructor===Object}function d(e){var t;for(t in e)return!1;return!0}function h(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:n})}function f(e,t,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(e,t,r)}function p(e){return!(!l(e)||e.attributes&&!Array.isArray(e.attributes))}"function"==typeof Object.assign&&(c=Object.assign);var g,m={exports:{}},b="object"==typeof Reflect?Reflect:null,y=b&&"function"==typeof b.apply?b.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=b&&"function"==typeof b.ownKeys?b.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var v=Number.isNaN||function(e){return e!=e};function w(){w.init.call(this)}m.exports=w,m.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}O(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&O(e,"error",t,{once:!0})}(e,i)}))},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var _=10;function E(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function x(e){return void 0===e._maxListeners?w.defaultMaxListeners:e._maxListeners}function S(e,t,n,r){var i,o,a,s;if(E(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=x(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function M(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=M.bind(r);return i.listener=n,r.wrapFn=i,i}function C(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):T(i,i.length)}function L(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function T(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function O(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}function k(e){if("function"!=typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(e){if("number"!=typeof e||e<0||v(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_=e}}),w.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||v(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},w.prototype.getMaxListeners=function(){return x(this)},w.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)y(s,this,t);else{var c=s.length,u=T(s,c);for(n=0;n<c;++n)y(u[n],this,t)}return!0},w.prototype.addListener=function(e,t){return S(this,e,t,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(e,t){return S(this,e,t,!0)},w.prototype.once=function(e,t){return E(t),this.on(e,A(this,e,t)),this},w.prototype.prependOnceListener=function(e,t){return E(t),this.prependListener(e,A(this,e,t)),this},w.prototype.removeListener=function(e,t){var n,r,i,o,a;if(E(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},w.prototype.listeners=function(e){return C(this,e,!0)},w.prototype.rawListeners=function(e){return C(this,e,!1)},w.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):L.call(e,t)},w.prototype.listenerCount=L,w.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},"undefined"!=typeof Symbol&&(k.prototype[Symbol.iterator]=function(){return this}),k.of=function(){var e=arguments,t=e.length,n=0;return new k((function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}}))},k.empty=function(){return new k((function(){return{done:!0}}))},k.fromSequence=function(e){var t=0,n=e.length;return new k((function(){return t>=n?{done:!0}:{done:!1,value:e[t++]}}))},k.is=function(e){return e instanceof k||"object"==typeof e&&null!==e&&"function"==typeof e.next};var N=k,D={};D.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,D.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var R=N,I=D,P=I.ARRAY_BUFFER_SUPPORT,F=I.SYMBOL_SUPPORT,z=function(e){var t=function(e){return"string"==typeof e||Array.isArray(e)||P&&ArrayBuffer.isView(e)?R.fromSequence(e):"object"!=typeof e||null===e?null:F&&"function"==typeof e[Symbol.iterator]?e[Symbol.iterator]():"function"==typeof e.next?e:null}(e);if(!t)throw new Error("obliterator: target is not iterable nor a valid iterator.");return t},j=z,G=function(e,t){for(var n,r=arguments.length>1?t:1/0,i=r!==1/0?new Array(r):[],o=0,a=j(e);;){if(o===r)return i;if((n=a.next()).done)return o!==t&&(i.length=o),i;i[o++]=n.value}},U=function(e){function n(t){var n;return(n=e.call(this)||this).name="GraphError",n.message=t,n}return t(n,e),n}(a(Error)),B=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(r),n.prototype.constructor),r}return t(n,e),n}(U),W=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(r),n.prototype.constructor),r}return t(n,e),n}(U),H=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(r),n.prototype.constructor),r}return t(n,e),n}(U);function V(e,t){this.key=e,this.attributes=t,this.clear()}function q(e,t){this.key=e,this.attributes=t,this.clear()}function Y(e,t){this.key=e,this.attributes=t,this.clear()}function $(e,t,n,r,i){this.key=t,this.attributes=i,this.undirected=e,this.source=n,this.target=r}function K(e,t,n,r,i,o,a){var s,c,u,l;if(r=""+r,0===n){if(!(s=e._nodes.get(r)))throw new W("Graph.".concat(t,': could not find the "').concat(r,'" node in the graph.'));u=i,l=o}else if(3===n){if(i=""+i,!(c=e._edges.get(i)))throw new W("Graph.".concat(t,': could not find the "').concat(i,'" edge in the graph.'));var d=c.source.key,h=c.target.key;if(r===d)s=c.target;else{if(r!==h)throw new W("Graph.".concat(t,': the "').concat(r,'" node is not attached to the "').concat(i,'" edge (').concat(d,", ").concat(h,")."));s=c.source}u=o,l=a}else{if(!(c=e._edges.get(r)))throw new W("Graph.".concat(t,': could not find the "').concat(r,'" edge in the graph.'));s=1===n?c.source:c.target,u=i,l=o}return[s,u,l]}V.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},Y.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},$.prototype.attach=function(){var e="out",t="in";this.undirected&&(e=t="undirected");var n=this.source.key,r=this.target.key;this.source[e][r]=this,this.undirected&&n===r||(this.target[t][n]=this)},$.prototype.attachMulti=function(){var e="out",t="in",n=this.source.key,r=this.target.key;this.undirected&&(e=t="undirected");var i=this.source[e],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[t][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[t][n]=this},$.prototype.detach=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][t],delete this.target[r][e]},$.prototype.detachMulti=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[n][t],delete this.target[r][e]):(this.next.previous=void 0,this.source[n][t]=this.next,this.target[r][e]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var X=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=K(this,t,n,e,r,i),a=o[0],s=o[1];return a.attributes[s]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){return K(this,t,n,e,r)[0].attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=K(this,t,n,e,r,i),a=o[0],s=o[1];return a.attributes.hasOwnProperty(s)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i,o){var a=K(this,t,n,e,r,i,o),s=a[0],c=a[1],u=a[2];return s.attributes[c]=u,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:c}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i,o){var a=K(this,t,n,e,r,i,o),s=a[0],c=a[1],u=a[2];if("function"!=typeof u)throw new B("Graph.".concat(t,": updater should be a function."));var l=s.attributes,d=u(l[c]);return l[c]=d,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:c}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=K(this,t,n,e,r,i),a=o[0],s=o[1];return delete a.attributes[s],this.emit("nodeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:s}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=K(this,t,n,e,r,i),a=o[0],s=o[1];if(!l(s))throw new B("Graph.".concat(t,": provided attributes are not a plain object."));return a.attributes=s,this.emit("nodeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=K(this,t,n,e,r,i),a=o[0],s=o[1];if(!l(s))throw new B("Graph.".concat(t,": provided attributes are not a plain object."));return c(a.attributes,s),this.emit("nodeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:s}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=K(this,t,n,e,r,i),a=o[0],s=o[1];if("function"!=typeof s)throw new B("Graph.".concat(t,": provided updater is not a function."));return a.attributes=s(a.attributes),this.emit("nodeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}}],Z=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=u(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return i.attributes[r]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e){var r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+e,o=""+arguments[1];if(!(r=u(this,i,o,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(i,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(r=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return r.attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=u(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,s=""+r;if(r=arguments[2],i=arguments[3],!(o=u(this,a,s,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(o=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return o.attributes[r]=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,s=""+r;if(r=arguments[2],i=arguments[3],!(o=u(this,a,s,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(o=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof i)throw new B("Graph.".concat(t,": updater should be a function."));return o.attributes[r]=i(o.attributes[r]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=u(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return delete i.attributes[r],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:r}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=u(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!l(r))throw new B("Graph.".concat(t,": provided attributes are not a plain object."));return i.attributes=r,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=u(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!l(r))throw new B("Graph.".concat(t,": provided attributes are not a plain object."));return c(i.attributes,r),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:r}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=u(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof r)throw new B("Graph.".concat(t,": provided updater is not a function."));return i.attributes=r(i.attributes),this.emit("edgeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}],Q=N,J=z,ee=function(){var e=arguments,t=null,n=-1;return new Q((function(){for(var r=null;;){if(null===t){if(++n>=e.length)return{done:!0};t=J(e[n])}if(!0!==(r=t.next()).done)break;t=null}return r}))},te=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function ne(e,t,n,r){var i=!1;for(var o in t)if(o!==r){var a=t[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),e&&i)return a.key}}function re(e,t,n,r){var i,o,a,s=!1;for(var c in t)if(c!==r){i=t[c];do{if(o=i.source,a=i.target,s=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),e&&s)return i.key;i=i.next}while(void 0!==i)}}function ie(e,t){var n,r=Object.keys(e),i=r.length,o=0;return new N((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===t){n=void 0;continue}n=e[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function oe(e,t,n,r){var i=t[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&e?i.key:void 0}}function ae(e,t,n,r){var i=t[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),e&&o)return i.key;i=i.next}while(void 0!==i)}}function se(e,t){var n=e[t];return void 0!==n.next?new N((function(){if(!n)return{done:!0};var e={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:e}})):N.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function ce(e,t){if(0===e.size)return[];if("mixed"===t||t===e.type)return"function"==typeof Array.from?Array.from(e._edges.keys()):G(e._edges.keys(),e._edges.size);for(var n,r,i="undirected"===t?e.undirectedSize:e.directedSize,o=new Array(i),a="undirected"===t,s=e._edges.values(),c=0;!0!==(n=s.next()).done;)(r=n.value).undirected===a&&(o[c++]=r.key);return o}function ue(e,t,n,r){if(0!==t.size)for(var i,o,a="mixed"!==n&&n!==t.type,s="undirected"===n,c=!1,u=t._edges.values();!0!==(i=u.next()).done;)if(o=i.value,!a||o.undirected===s){var l=o,d=l.key,h=l.attributes,f=l.source,p=l.target;if(c=r(d,h,f.key,p.key,f.attributes,p.attributes,o.undirected),e&&c)return d}}function le(e,t){if(0===e.size)return N.empty();var n="mixed"!==t&&t!==e.type,r="undirected"===t,i=e._edges.values();return new N((function(){for(var e,t;;){if((e=i.next()).done)return e;if(t=e.value,!n||t.undirected===r)break}return{value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected},done:!1}}))}function de(e,t,n,r,i,o){var a,s=t?re:ne;if("undirected"!==n){if("out"!==r&&(a=s(e,i.in,o),e&&a))return a;if("in"!==r&&(a=s(e,i.out,o,r?void 0:i.key),e&&a))return a}if("directed"!==n&&(a=s(e,i.undirected,o),e&&a))return a}function he(e,t,n,r){var i=[];return de(!1,e,t,n,r,(function(e){i.push(e)})),i}function fe(e,t,n){var r=N.empty();return"undirected"!==e&&("out"!==t&&void 0!==n.in&&(r=ee(r,ie(n.in))),"in"!==t&&void 0!==n.out&&(r=ee(r,ie(n.out,t?void 0:n.key)))),"directed"!==e&&void 0!==n.undirected&&(r=ee(r,ie(n.undirected))),r}function pe(e,t,n,r,i,o,a){var s,c=n?ae:oe;if("undirected"!==t){if(void 0!==i.in&&"out"!==r&&(s=c(e,i.in,o,a),e&&s))return s;if(void 0!==i.out&&"in"!==r&&(r||i.key!==o)&&(s=c(e,i.out,o,a),e&&s))return s}if("directed"!==t&&void 0!==i.undirected&&(s=c(e,i.undirected,o,a),e&&s))return s}function ge(e,t,n,r,i){var o=[];return pe(!1,e,t,n,r,i,(function(e){o.push(e)})),o}function me(e,t,n,r){var i=N.empty();return"undirected"!==e&&(void 0!==n.in&&"out"!==t&&r in n.in&&(i=ee(i,se(n.in,r))),void 0!==n.out&&"in"!==t&&r in n.out&&(t||n.key!==r)&&(i=ee(i,se(n.out,r)))),"directed"!==e&&void 0!==n.undirected&&r in n.undirected&&(i=ee(i,se(n.undirected,r))),i}var be=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function ye(){this.A=null,this.B=null}function ve(e,t,n,r,i){for(var o in r){var a=r[o],s=a.source,c=a.target,u=s===n?c:s;if(!t||!t.has(u.key)){var l=i(u.key,u.attributes);if(e&&l)return u.key}}}function we(e,t,n,r,i){if("mixed"!==t){if("undirected"===t)return ve(e,null,r,r.undirected,i);if("string"==typeof n)return ve(e,null,r,r[n],i)}var o,a=new ye;if("undirected"!==t){if("out"!==n){if(o=ve(e,null,r,r.in,i),e&&o)return o;a.wrap(r.in)}if("in"!==n){if(o=ve(e,a,r,r.out,i),e&&o)return o;a.wrap(r.out)}}if("directed"!==t&&(o=ve(e,a,r,r.undirected,i),e&&o))return o}function _e(e,t,n){var r=Object.keys(n),i=r.length,o=0;return new N((function(){var a=null;do{if(o>=i)return e&&e.wrap(n),{done:!0};var s=n[r[o++]],c=s.source,u=s.target;a=c===t?u:c,e&&e.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function Ee(e,t,n,r,i){for(var o,a,s,c,u,l,d,h=r._nodes.values(),f=r.type;!0!==(o=h.next()).done;){var p=!1;if(a=o.value,"undirected"!==f)for(s in c=a.out){u=c[s];do{if(l=u.target,p=!0,d=i(a.key,l.key,a.attributes,l.attributes,u.key,u.attributes,u.undirected),e&&d)return u;u=u.next}while(u)}if("directed"!==f)for(s in c=a.undirected)if(!(t&&a.key>s)){u=c[s];do{if((l=u.target).key!==s&&(l=u.source),p=!0,d=i(a.key,l.key,a.attributes,l.attributes,u.key,u.attributes,u.undirected),e&&d)return u;u=u.next}while(u)}if(n&&!p&&(d=i(a.key,null,a.attributes,null,null,null,null),e&&d))return null}}function xe(e){if(!l(e))throw new B('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in e))throw new B("Graph.import: serialized node is missing its key.");if("attributes"in e&&(!l(e.attributes)||null===e.attributes))throw new B("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Se(e){if(!l(e))throw new B('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in e))throw new B("Graph.import: serialized edge is missing its source.");if(!("target"in e))throw new B("Graph.import: serialized edge is missing its target.");if("attributes"in e&&(!l(e.attributes)||null===e.attributes))throw new B("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in e&&"boolean"!=typeof e.undirected)throw new B("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}ye.prototype.wrap=function(e){null===this.A?this.A=e:null===this.B&&(this.B=e)},ye.prototype.has=function(e){return null!==this.A&&e in this.A||null!==this.B&&e in this.B};var Me,Ae=(Me=255&Math.floor(256*Math.random()),function(){return Me++}),Ce=new Set(["directed","undirected","mixed"]),Le=new Set(["domain","_events","_eventsCount","_maxListeners"]),Te={allowSelfLoops:!0,multi:!1,type:"mixed"};function Oe(e,t,n){var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}function ke(e,t,n,r,i,o,a,s){if(!r&&"undirected"===e.type)throw new H("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new H("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!l(s))throw new B("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(o=""+o,a=""+a,s=s||{},!e.allowSelfLoops&&o===a)throw new H("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var c=e._nodes.get(o),u=e._nodes.get(a);if(!c)throw new W("Graph.".concat(t,': source node "').concat(o,'" not found.'));if(!u)throw new W("Graph.".concat(t,': target node "').concat(a,'" not found.'));var d={key:null,undirected:r,source:o,target:a,attributes:s};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new H("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(r?void 0!==c.undirected[a]:void 0!==c.out[a]))throw new H("Graph.".concat(t,': an edge linking "').concat(o,'" to "').concat(a,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var h=new $(r,i,c,u,s);e._edges.set(i,h);var f=o===a;return r?(c.undirectedDegree++,u.undirectedDegree++,f&&(c.undirectedLoops++,e._undirectedSelfLoopCount++)):(c.outDegree++,u.inDegree++,f&&(c.directedLoops++,e._directedSelfLoopCount++)),e.multi?h.attachMulti():h.attach(),r?e._undirectedSize++:e._directedSize++,d.key=i,e.emit("edgeAdded",d),i}function Ne(e,t,n,r,i,o,a,s,u){if(!r&&"undirected"===e.type)throw new H("Graph.".concat(t,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new H("Graph.".concat(t,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(s)if(u){if("function"!=typeof s)throw new B("Graph.".concat(t,': invalid updater function. Expecting a function but got "').concat(s,'"'))}else if(!l(s))throw new B("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));var d;if(o=""+o,a=""+a,u&&(d=s,s=void 0),!e.allowSelfLoops&&o===a)throw new H("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var h,f,p=e._nodes.get(o),g=e._nodes.get(a);if(!n&&(h=e._edges.get(i))){if(!(h.source.key===o&&h.target.key===a||r&&h.source.key===a&&h.target.key===o))throw new H("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(o,'" source & "').concat(a,'" target vs. ("').concat(h.source.key,'", "').concat(h.target.key,'").'));f=h}if(f||e.multi||!p||(f=r?p.undirected[a]:p.out[a]),f){var m=[f.key,!1,!1,!1];if(u?!d:!s)return m;if(u){var b=f.attributes;f.attributes=d(b),e.emit("edgeAttributesUpdated",{type:"replace",key:f.key,attributes:f.attributes})}else c(f.attributes,s),e.emit("edgeAttributesUpdated",{type:"merge",key:f.key,attributes:f.attributes,data:s});return m}s=s||{},u&&d&&(s=d(s));var y={key:null,undirected:r,source:o,target:a,attributes:s};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new H("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));var v=!1,w=!1;p||(p=Oe(e,o,{}),v=!0,o===a&&(g=p,w=!0)),g||(g=Oe(e,a,{}),w=!0),h=new $(r,i,p,g,s),e._edges.set(i,h);var _=o===a;return r?(p.undirectedDegree++,g.undirectedDegree++,_&&(p.undirectedLoops++,e._undirectedSelfLoopCount++)):(p.outDegree++,g.inDegree++,_&&(p.directedLoops++,e._directedSelfLoopCount++)),e.multi?h.attachMulti():h.attach(),r?e._undirectedSize++:e._directedSize++,y.key=i,e.emit("edgeAdded",y),[i,!0,v,w]}function De(e,t){e._edges.delete(t.key);var n=t.source,r=t.target,i=t.attributes,o=t.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,e._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,e._directedSelfLoopCount--)),e.multi?t.detachMulti():t.detach(),o?e._undirectedSize--:e._directedSize--,e.emit("edgeDropped",{key:t.key,attributes:i,source:n.key,target:r.key,undirected:o})}var Re=function(n){function r(e){var t;if(t=n.call(this)||this,"boolean"!=typeof(e=c({},Te,e)).multi)throw new B("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(e.multi,'".'));if(!Ce.has(e.type))throw new B('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(e.type,'".'));if("boolean"!=typeof e.allowSelfLoops)throw new B("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(e.allowSelfLoops,'".'));var r="mixed"===e.type?V:"directed"===e.type?q:Y;h(s(t),"NodeDataClass",r);var i="geid_"+Ae()+"_",o=0;return h(s(t),"_attributes",{}),h(s(t),"_nodes",new Map),h(s(t),"_edges",new Map),h(s(t),"_directedSize",0),h(s(t),"_undirectedSize",0),h(s(t),"_directedSelfLoopCount",0),h(s(t),"_undirectedSelfLoopCount",0),h(s(t),"_edgeKeyGenerator",(function(){var e;do{e=i+o++}while(t._edges.has(e));return e})),h(s(t),"_options",e),Le.forEach((function(e){return h(s(t),e,t[e])})),f(s(t),"order",(function(){return t._nodes.size})),f(s(t),"size",(function(){return t._edges.size})),f(s(t),"directedSize",(function(){return t._directedSize})),f(s(t),"undirectedSize",(function(){return t._undirectedSize})),f(s(t),"selfLoopCount",(function(){return t._directedSelfLoopCount+t._undirectedSelfLoopCount})),f(s(t),"directedSelfLoopCount",(function(){return t._directedSelfLoopCount})),f(s(t),"undirectedSelfLoopCount",(function(){return t._undirectedSelfLoopCount})),f(s(t),"multi",t._options.multi),f(s(t),"type",t._options.type),f(s(t),"allowSelfLoops",t._options.allowSelfLoops),f(s(t),"implementation",(function(){return"graphology"})),t}t(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(e){return this._nodes.has(""+e)},i.hasDirectedEdge=function(e,t){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);return!!i&&i.out.hasOwnProperty(t)}throw new B("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasUndirectedEdge=function(e,t){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);return!!i&&i.undirected.hasOwnProperty(t)}throw new B("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasEdge=function(e,t){if(1===arguments.length){var n=""+e;return this._edges.has(n)}if(2===arguments.length){e=""+e,t=""+t;var r=this._nodes.get(e);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(t)||void 0!==r.undirected&&r.undirected.hasOwnProperty(t))}throw new B("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.directedEdge=function(e,t){if("undirected"!==this.type){if(e=""+e,t=""+t,this.multi)throw new H("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(e);if(!n)throw new W('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.directedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(e,t){if("directed"!==this.type){if(e=""+e,t=""+t,this.multi)throw new H("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(e);if(!n)throw new W('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.undirectedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.undirected&&n.undirected[t]||void 0;return r?r.key:void 0}},i.edge=function(e,t){if(this.multi)throw new H("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.edge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||n.undirected&&n.undirected[t]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areDirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)},i.areOutNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areOutNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out},i.areInNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areInNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in},i.areUndirectedNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areUndirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"directed"!==this.type&&t in n.undirected},i.areNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)||"directed"!==this.type&&t in n.undirected},i.areInboundNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areInboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in||"directed"!==this.type&&t in n.undirected},i.areOutboundNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areOutboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out||"directed"!==this.type&&t in n.undirected},i.inDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree},i.outDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree},i.directedDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree},i.undirectedDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree},i.inboundDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree),n},i.outboundDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.outDegree),n},i.degree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree),n},i.inDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree-t.directedLoops},i.outDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree-t.directedLoops},i.directedDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree-2*t.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree-2*t.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree,r+=t.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.outDegree,r+=t.directedLoops),n-r},i.degreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.degreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree,r+=2*t.directedLoops),n-r},i.source=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return t.source.key},i.target=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return t.target.key},i.extremities=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[t.source.key,t.target.key]},i.opposite=function(e,t){e=""+e,t=""+t;var n=this._edges.get(t);if(!n)throw new W('Graph.opposite: could not find the "'.concat(t,'" edge in the graph.'));var r=n.source.key,i=n.target.key;if(e===r)return i;if(e===i)return r;throw new W('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(t,'" edge (').concat(r,", ").concat(i,")."))},i.hasExtremity=function(e,t){e=""+e,t=""+t;var n=this._edges.get(e);if(!n)throw new W('Graph.hasExtremity: could not find the "'.concat(e,'" edge in the graph.'));return n.source.key===t||n.target.key===t},i.isUndirected=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isUndirected: could not find the "'.concat(e,'" edge in the graph.'));return t.undirected},i.isDirected=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isDirected: could not find the "'.concat(e,'" edge in the graph.'));return!t.undirected},i.isSelfLoop=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isSelfLoop: could not find the "'.concat(e,'" edge in the graph.'));return t.source===t.target},i.addNode=function(e,t){var n=function(e,t,n){if(n&&!l(n))throw new B('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));if(t=""+t,n=n||{},e._nodes.has(t))throw new H('Graph.addNode: the "'.concat(t,'" node already exist in the graph.'));var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}(this,e,t);return n.key},i.mergeNode=function(e,t){if(t&&!l(t))throw new B('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));e=""+e,t=t||{};var n=this._nodes.get(e);return n?(t&&(c(n.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:n.attributes,data:t})),[e,!1]):(n=new this.NodeDataClass(e,t),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:t}),[e,!0])},i.updateNode=function(e,t){if(t&&"function"!=typeof t)throw new B('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(t,'"'));e=""+e;var n=this._nodes.get(e);if(n){if(t){var r=n.attributes;n.attributes=t(r),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:n.attributes})}return[e,!1]}var i=t?t({}):{};return n=new this.NodeDataClass(e,i),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:i}),[e,!0]},i.dropNode=function(e){e=""+e;var t,n=this._nodes.get(e);if(!n)throw new W('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));if("undirected"!==this.type){for(var r in n.out){t=n.out[r];do{De(this,t),t=t.next}while(t)}for(var i in n.in){t=n.in[i];do{De(this,t),t=t.next}while(t)}}if("directed"!==this.type)for(var o in n.undirected){t=n.undirected[o];do{De(this,t),t=t.next}while(t)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})},i.dropEdge=function(e){var t;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(t=u(this,n,r,this.type)))throw new W('Graph.dropEdge: could not find the "'.concat(n,'" -> "').concat(r,'" edge in the graph.'))}else if(e=""+e,!(t=this._edges.get(e)))throw new W('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));return De(this,t),this},i.dropDirectedEdge=function(e,t){if(arguments.length<2)throw new H("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new H("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=u(this,e=""+e,t=""+t,"directed");if(!n)throw new W('Graph.dropDirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return De(this,n),this},i.dropUndirectedEdge=function(e,t){if(arguments.length<2)throw new H("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new H("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=u(this,e,t,"undirected");if(!n)throw new W('Graph.dropUndirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return De(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},i.clearEdges=function(){for(var e,t=this._nodes.values();!0!==(e=t.next()).done;)e.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},i.getAttribute=function(e){return this._attributes[e]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(e){return this._attributes.hasOwnProperty(e)},i.setAttribute=function(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},i.updateAttribute=function(e,t){if("function"!=typeof t)throw new B("Graph.updateAttribute: updater should be a function.");var n=this._attributes[e];return this._attributes[e]=t(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},i.removeAttribute=function(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this},i.replaceAttributes=function(e){if(!l(e))throw new B("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},i.mergeAttributes=function(e){if(!l(e))throw new B("Graph.mergeAttributes: provided attributes are not a plain object.");return c(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this},i.updateAttributes=function(e){if("function"!=typeof e)throw new B("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(e,t){if("function"!=typeof e)throw new B("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!p(t))throw new B("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=e(r.key,r.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})},i.updateEachEdgeAttributes=function(e,t){if("function"!=typeof e)throw new B("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!p(t))throw new B("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=e(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})},i.forEachAdjacencyEntry=function(e){if("function"!=typeof e)throw new B("Graph.forEachAdjacencyEntry: expecting a callback.");Ee(!1,!1,!1,this,e)},i.forEachAdjacencyEntryWithOrphans=function(e){if("function"!=typeof e)throw new B("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Ee(!1,!1,!0,this,e)},i.forEachAssymetricAdjacencyEntry=function(e){if("function"!=typeof e)throw new B("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Ee(!1,!0,!1,this,e)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(e){if("function"!=typeof e)throw new B("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Ee(!1,!0,!0,this,e)},i.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):G(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(e){if("function"!=typeof e)throw new B("Graph.forEachNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)},i.findNode=function(e){if("function"!=typeof e)throw new B("Graph.findNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return n.key},i.mapNodes=function(e){if("function"!=typeof e)throw new B("Graph.mapNode: expecting a callback.");for(var t,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(t=r.next()).done;)n=t.value,i[o++]=e(n.key,n.attributes);return i},i.someNode=function(e){if("function"!=typeof e)throw new B("Graph.someNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return!0;return!1},i.everyNode=function(e){if("function"!=typeof e)throw new B("Graph.everyNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(!e((n=t.value).key,n.attributes))return!1;return!0},i.filterNodes=function(e){if("function"!=typeof e)throw new B("Graph.filterNodes: expecting a callback.");for(var t,n,r=this._nodes.values(),i=[];!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(e,t){if("function"!=typeof e)throw new B("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new B("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var n,r,i=t,o=this._nodes.values();!0!==(n=o.next()).done;)i=e(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var e=this._nodes.values();return new N((function(){var t=e.next();if(t.done)return t;var n=t.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var e=this,t=new Array(this._nodes.size),n=0;this._nodes.forEach((function(e,r){t[n++]=function(e,t){var n={key:e};return d(t.attributes)||(n.attributes=c({},t.attributes)),n}(r,e)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(t,i){r[n++]=function(e,t,n){var r={key:t,source:n.source.key,target:n.target.key};return d(n.attributes)||(r.attributes=c({},n.attributes)),"mixed"===e&&n.undirected&&(r.undirected=!0),r}(e.type,i,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:r}},i.import=function(e){var t,n,i,o,a,s=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof r)return e.forEachNode((function(e,t){c?s.mergeNode(e,t):s.addNode(e,t)})),e.forEachEdge((function(e,t,n,r,i,o,a){c?a?s.mergeUndirectedEdgeWithKey(e,n,r,t):s.mergeDirectedEdgeWithKey(e,n,r,t):a?s.addUndirectedEdgeWithKey(e,n,r,t):s.addDirectedEdgeWithKey(e,n,r,t)})),this;if(!l(e))throw new B("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!l(e.attributes))throw new B("Graph.import: invalid attributes. Expecting a plain object.");c?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}if(e.nodes){if(i=e.nodes,!Array.isArray(i))throw new B("Graph.import: invalid nodes. Expecting an array.");for(t=0,n=i.length;t<n;t++){xe(o=i[t]);var u=o,d=u.key,h=u.attributes;c?this.mergeNode(d,h):this.addNode(d,h)}}if(e.edges){var f=!1;if("undirected"===this.type&&(f=!0),i=e.edges,!Array.isArray(i))throw new B("Graph.import: invalid edges. Expecting an array.");for(t=0,n=i.length;t<n;t++){Se(a=i[t]);var p=a,g=p.source,m=p.target,b=p.attributes,y=p.undirected,v=void 0===y?f:y;"key"in a?(c?v?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:v?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,m,b):(c?v?this.mergeUndirectedEdge:this.mergeDirectedEdge:v?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,m,b)}}return this},i.nullCopy=function(e){var t=new r(c({},this._options,e));return t.replaceAttributes(c({},this.getAttributes())),t},i.emptyCopy=function(e){var t=this.nullCopy(e);return this._nodes.forEach((function(e,n){var r=c({},e.attributes);e=new t.NodeDataClass(n,r),t._nodes.set(n,e)})),t},i.copy=function(e){if("string"==typeof(e=e||{}).type&&e.type!==this.type&&"mixed"!==e.type)throw new H('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(e.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof e.multi&&e.multi!==this.multi&&!0!==e.multi)throw new H("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof e.allowSelfLoops&&e.allowSelfLoops!==this.allowSelfLoops&&!0!==e.allowSelfLoops)throw new H("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var t,n,r=this.emptyCopy(e),i=this._edges.values();!0!==(t=i.next()).done;)ke(r,"copy",!1,(n=t.value).undirected,n.key,n.source.key,n.target.key,c({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return"[object Graph]"},i.inspect=function(){var t=this,n={};this._nodes.forEach((function(e,t){n[t]=e.attributes}));var r={},i={};this._edges.forEach((function(e,n){var o,a=e.undirected?"--":"->",s="",c=e.source.key,u=e.target.key;e.undirected&&c>u&&(o=c,c=u,u=o);var l="(".concat(c,")").concat(a,"(").concat(u,")");n.startsWith("geid_")?t.multi&&(void 0===i[l]?i[l]=0:i[l]++,s+="".concat(i[l],". ")):s+="[".concat(n,"]: "),r[s+=l]=e.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Le.has(a)&&"function"!=typeof this[a]&&"symbol"!==e(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,h(o,"constructor",this.constructor),o},r}(m.exports.EventEmitter);"undefined"!=typeof Symbol&&(Re.prototype[Symbol.for("nodejs.util.inspect.custom")]=Re.prototype.inspect),[{name:function(e){return"".concat(e,"Edge")},generateKey:!0},{name:function(e){return"".concat(e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(e){return"".concat(e,"EdgeWithKey")}},{name:function(e){return"".concat(e,"DirectedEdgeWithKey")},type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(e){["add","merge","update"].forEach((function(t){var n=e.name(t),r="add"===t?ke:Ne;e.generateKey?Re.prototype[n]=function(i,o,a){return r(this,n,!0,"undirected"===(e.type||this.type),null,i,o,a,"update"===t)}:Re.prototype[n]=function(i,o,a,s){return r(this,n,!1,"undirected"===(e.type||this.type),i,o,a,s,"update"===t)}}))})),function(e){X.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Node"),0),r(e,n("Source"),1),r(e,n("Target"),2),r(e,n("Opposite"),3)}))}(Re),function(e){Z.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Edge"),"mixed"),r(e,n("DirectedEdge"),"directed"),r(e,n("UndirectedEdge"),"undirected")}))}(Re),function(e){te.forEach((function(t){!function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return ce(this,r);if(1===arguments.length){e=""+e;var o=this._nodes.get(e);if(void 0===o)throw new W("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return he(this.multi,"mixed"===r?this.type:r,i,o)}if(2===arguments.length){e=""+e,t=""+t;var a=this._nodes.get(e);if(!a)throw new W("Graph.".concat(n,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(n,':  could not find the "').concat(t,'" target node in the graph.'));return ge(r,this.multi,i,a,t)}throw new B("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return ue(!1,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var a=this._nodes.get(e);if(void 0===a)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return de(!1,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){e=""+e,t=""+t;var s=this._nodes.get(e);if(!s)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return pe(!1,r,this.multi,i,s,t,n)}throw new B("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var a="map"+n[0].toUpperCase()+n.slice(1);e.prototype[a]=function(){var e,t=Array.prototype.slice.call(arguments),n=t.pop();if(0===t.length){var i=0;"directed"!==r&&(i+=this.undirectedSize),"undirected"!==r&&(i+=this.directedSize),e=new Array(i);var a=0;t.push((function(t,r,i,o,s,c,u){e[a++]=n(t,r,i,o,s,c,u)}))}else e=[],t.push((function(t,r,i,o,a,s,c){e.push(n(t,r,i,o,a,s,c))}));return this[o].apply(this,t),e};var s="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=[];return e.push((function(e,r,i,o,a,s,c){t(e,r,i,o,a,s,c)&&n.push(e)})),this[o].apply(this,e),n};var c="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[c]=function(){var e,t,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new B("Graph.".concat(c,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(n.length,")."));if("function"==typeof n[n.length-1]&&"function"!=typeof n[n.length-2])throw new B("Graph.".concat(c,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===n.length?(e=n[0],t=n[1],n=[]):3===n.length?(e=n[1],t=n[2],n=[n[0]]):4===n.length&&(e=n[2],t=n[3],n=[n[0],n[1]]);var r=t;return n.push((function(t,n,i,o,a,s,c){r=e(r,t,n,i,o,a,s,c)})),this[o].apply(this,n),r}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="find"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return ue(!0,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var a=this._nodes.get(e);if(void 0===a)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return de(!0,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){e=""+e,t=""+t;var s=this._nodes.get(e);if(!s)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return pe(!0,r,this.multi,i,s,t,n)}throw new B("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var a="some"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,i,o,a,s){return t(e,n,r,i,o,a,s)})),!!this[o].apply(this,e)};var s="every"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[s]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,i,o,a,s){return!t(e,n,r,i,o,a,s)})),!this[o].apply(this,e)}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return N.empty();if(!arguments.length)return le(this,r);if(1===arguments.length){e=""+e;var n=this._nodes.get(e);if(!n)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return fe(r,i,n)}if(2===arguments.length){e=""+e,t=""+t;var a=this._nodes.get(e);if(!a)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return me(r,i,a,t)}throw new B("Graph.".concat(o,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t)}))}(Re),function(e){be.forEach((function(t){(function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new W("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return Object.keys(n.undirected);if("string"==typeof t)return Object.keys(n[t])}var r=[];return we(!1,e,t,n,(function(e){r.push(e)})),r}("mixed"===r?this.type:r,i,t)}})(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));we(!1,"mixed"===r?this.type:r,i,n,t)}};var a="map"+n[0].toUpperCase()+n.slice(1);e.prototype[a]=function(e,t){var n=[];return this[o](e,(function(e,r){n.push(t(e,r))})),n};var s="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(e,t){var n=[];return this[o](e,(function(e,r){t(e,r)&&n.push(e)})),n};var c="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[c]=function(e,t,n){if(arguments.length<3)throw new B("Graph.".concat(c,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var r=n;return this[o](e,(function(e,n){r=t(r,e,n)})),r}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o=n[0].toUpperCase()+n.slice(1,-1),a="find"+o;e.prototype[a]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new W("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return we(!0,"mixed"===r?this.type:r,i,n,t)}};var s="some"+o;e.prototype[s]=function(e,t){return!!this[a](e,t)};var c="every"+o;e.prototype[c]=function(e,t){return!this[a](e,(function(e,n){return!t(e,n)}))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return N.empty();e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return _e(null,n,n.undirected);if("string"==typeof t)return _e(null,n,n[t])}var r=N.empty(),i=new ye;return"undirected"!==e&&("out"!==t&&(r=ee(r,_e(i,n,n.in))),"in"!==t&&(r=ee(r,_e(i,n,n.out)))),"directed"!==e&&(r=ee(r,_e(i,n,n.undirected))),r}("mixed"===r?this.type:r,i,t)}}(e,t)}))}(Re);var Ie=function(e){function n(t){var n=c({type:"directed"},t);if("multi"in n&&!1!==n.multi)throw new B("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==n.type)throw new B('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Re),Pe=function(e){function n(t){var n=c({type:"undirected"},t);if("multi"in n&&!1!==n.multi)throw new B("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==n.type)throw new B('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Re),Fe=function(e){function n(t){var n=c({multi:!0},t);if("multi"in n&&!0!==n.multi)throw new B("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return e.call(this,n)||this}return t(n,e),n}(Re),ze=function(e){function n(t){var n=c({type:"directed",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new B("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==n.type)throw new B('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Re),je=function(e){function n(t){var n=c({type:"undirected",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new B("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==n.type)throw new B('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Re);function Ge(e){e.from=function(t,n){var r=c({},t.options,n),i=new e(r);return i.import(t),i}}return Ge(Re),Ge(Ie),Ge(Pe),Ge(Fe),Ge(ze),Ge(je),Re.Graph=Re,Re.DirectedGraph=Ie,Re.UndirectedGraph=Pe,Re.MultiGraph=Fe,Re.MultiDirectedGraph=ze,Re.MultiUndirectedGraph=je,Re.InvalidArgumentsGraphError=B,Re.NotFoundGraphError=W,Re.UsageGraphError=H,Re}()},2800:(e,t,n)=>{var r=n(2067),i={protanope:{x:.7465,y:.2535,m:1.273463,yint:-.073894},deuteranope:{x:1.4,y:-.4,m:.968437,yint:.003331},tritanope:{x:.1748,y:0,m:.062921,yint:.292119}};function o(){this.cache={}}o.prototype.simulate=function(e,t,n){n=n||1;var o=e.join("-")+"-"+t+"-"+n,a=this.cache[o];if(a)return a;var s=i[t].x,c=i[t].y,u=i[t].m,l=i[t].yint,d=r.labToRgb(e),h=d[0],f=d[1],p=d[2],g=h,m=f,b=p,y=Math.pow(h,2.2),v=Math.pow(f,2.2),w=Math.pow(p,2.2),_=.412424*y+.357579*v+.180464*w,E=.212656*y+.715158*v+.0721856*w,x=.0193324*y+.119193*v+.950444*w,S=_/(_+E+x),M=E/(_+E+x),A=(M-c)/(S-s),C=M-S*A,L=(l-C)/(A-u),T=A*L+C,O=.312713*E/.329016-(_=L*E/T),k=.358271*E/.329016-(x=(1-(L+T))*E/T),N=3.24071*O+-.498571*k,D=-.969258*O+.0415557*k,R=.0556352*O+1.05707*k,I=(((g=3.24071*_+-1.53726*E+-.498571*x)<0?0:1)-g)/N,P=(((m=-.969258*_+1.87599*E+.0415557*x)<0?0:1)-m)/D,F=(((b=.0556352*_+-.203996*E+1.05707*x)<0?0:1)-b)/R,z=Math.max(I>1||I<0?0:I,P>1||P<0?0:P,F>1||F<0?0:F);g+=z*N,m+=z*D,b+=z*R;var j=[g=h*(1-n)+(g=Math.pow(g,1/2.2))*n,m=f*(1-n)+(m=Math.pow(m,1/2.2))*n,b=p*(1-n)+(b=Math.pow(b,1/2.2))*n],G=r.rgbToLab(j);return this.cache[o]=G,G},o.prototype.euclidean=function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))},o.prototype.cmc=function(e,t,n,r){for(var i=n[0],o=r[0],a=n[1],s=r[1],c=n[2],u=r[2],l=Math.sqrt(Math.pow(a,2)+Math.pow(c,2)),d=l-Math.sqrt(Math.pow(s,2)+Math.pow(u,2)),h=i-o,f=a-s,p=c-u,g=Math.sqrt(Math.pow(f,2)+Math.pow(p,2)+Math.pow(d,2)),m=Math.atan2(c,a)*(180/Math.PI);m<0;)m+=360;var b=Math.sqrt(Math.pow(l,4)/(Math.pow(l,4)+1900)),y=m>=164&&m<=345?.56+Math.abs(.2*Math.cos(m+168)):.36+Math.abs(.4*Math.cos(m+35)),v=n[0]<16?.511:.040975*i/(1+.01765*i),w=.0638*l/(1+.0131*l)+.638,_=w*(b*y+1-b);return Math.sqrt(Math.pow(h/(e*v),2)+Math.pow(d/(t*w),2)+Math.pow(g/_,2))}.bind(null,2,1),o.prototype.colorblind=function(e,t,n){return t=this.simulate(t,e),n=this.simulate(n,e),this.cmc(t,n)},Object.keys(i).forEach((function(e){o.prototype[e]=function(t,n){return this.colorblind(e,t,n)}})),o.prototype.compromise=function(e,t){var n=0,r=this.cmc(e,t);return n+=1e3*r,r=this.colorblind("protanope",e,t),isNaN(r)||(n+=100*r),r=this.colorblind("deuteranope",e,t),isNaN(r)||(n+=500*r),r=this.colorblind("tritanope",e,t),isNaN(r)||(n+=1*r),n/1601},o.prototype.get=function(e){return e in i?this.colorblind.bind(this,e):this[e].bind(this)},e.exports=o},2067:(e,t)=>{var n=.95047,r=1.08883,i=.137931034,o=.12841855;function a(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function s(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function c(e){return e>.008856452?Math.pow(e,1/3):e/o+i}function u(e){return e>.206896552?e*e*e:o*(e-i)}function l(e){var t=e[0],i=e[1],o=e[2],s=(t+16)/116,c=isNaN(i)?s:s+i/500,l=isNaN(o)?s:s-o/200;return s=1*u(s),[a(3.2404542*(c=n*u(c))-1.5371385*s-.4985314*(l=r*u(l))),a(-.969266*c+1.8760108*s+.041556*l),o=a(.0556434*c-.2040259*s+1.0572252*l)]}function d(e){return("0"+e.toString(16)).slice(-2)}var h=180/Math.PI;t.validateRgb=function(e){var t=e[0],n=e[1],r=e[2];return t>=0&&t<=255&&n>=0&&n<=255&&r>=0&&r<=255},t.labToRgb=l,t.labToRgbHex=function(e){var t=l(e);return"#"+d(t[0])+d(t[1])+d(t[2])},t.rgbToLab=function(e){var t=function(e){var t=e[0],i=e[1],o=e[2];return[c((.4124564*(t=s(t))+.3575761*(i=s(i))+.1804375*(o=s(o)))/n),c((.2126729*t+.7151522*i+.072175*o)/1),c((.0193339*t+.119192*i+.9503041*o)/r)]}(e),i=t[0],o=t[1],a=116*o-16;return[a<0?0:a,500*(i-o),200*(o-t[2])]},t.labToHcl=function(e){var t=e[0],n=e[1],r=e[2],i=Math.sqrt(n*n+r*r),o=(Math.atan2(r,n)*h+360)%360;return 0===Math.round(1e4*i)&&(o=NaN),[o,i,t]},t.diffSort=function(e,t){for(var n,r,i,o,a,s,c=[(t=t.slice()).shift()];t.length>0;){for(n=-1,r=-1/0,i=0;i<t.length;i++)for(o=t[i],s=0;s<c.length;s++)(a=e(o,c[s]))>r&&(r=a,n=i);c.push(t[n]),t.splice(n,1)}return c},t.computeQualityMetrics=function(e,t){var n,r,i,o,a=1/0,s=0,c=0;for(n=0,i=t.length;n<i;n++)for(r=n+1;r<i;r++)(o=e(t[n],t[r]))<a&&(a=o),s+=o,c++;return{min:a,mean:s/c}}},9265:(e,t,n)=>{var r=n(9220),i=n(2800),o=n(2067),a=n(7976),s=o.validateRgb,c=o.labToRgb,u=o.labToRgbHex,l=o.labToHcl,d=o.diffSort,h={attempts:1,colorFilter:null,colorSpace:"default",clustering:"k-means",quality:50,ultraPrecision:!1,distance:"euclidean",seed:null},f=new Set(["force-vector","k-means"]),p=new Set(["euclidean","cmc","compromise","protanope","deuteranope","tritanope"]),g=new Set(Object.keys(a));function m(e,t,n){for(var r,i,o=new Array(t),a=0;a<t;a++){do{r=[100*e(),100*(2*e()-1),100*(2*e()-1)],i=c(r)}while(!n(i,r));o[a]=r}return o}function b(e,t,n,r,i){for(var o,a,s,u,l,d,h,f,p,g,m,b,y,v=new Array(r.length),w=20*i.quality,_=r.length;w-- >0;){for(o=0;o<_;o++)v[o]={dl:0,da:0,db:0};for(o=0;o<_;o++)for(s=r[o],a=0;a<o;a++)(l=t(s,u=r[a]))>0?(d=s[0]-u[0],h=s[1]-u[1],f=s[2]-u[2],p=100/Math.pow(l,2),v[o].dl+=d*p/l,v[o].da+=h*p/l,v[o].db+=f*p/l,v[a].dl-=d*p/l,v[a].da-=h*p/l,v[a].db-=f*p/l):(v[a].dl+=2-4*e(),v[a].da+=2-4*e(),v[a].db+=2-4*e());for(o=0;o<_;o++)m=r[o],(y=100*Math.sqrt(Math.pow(v[o].dl,2)+Math.pow(v[o].da,2)+Math.pow(v[o].db,2)))>0&&(b=100*Math.min(.1,y)/y,g=[m[0]+v[o].dl*b,m[1]+v[o].da*b,m[2]+v[o].db*b],n(c(g),g)&&(r[o]=g))}}function y(e,t,n,r){var i,o,a,s,u=[],l=[],d=5,h=10,f=10;for(r.ultraPrecision&&(d=1,h=5,f=5),i=0;i<=100;i+=d)for(o=-100;o<=100;o+=h)for(a=-100;a<=100;a+=f)t(c(s=[i,o,a]),s)&&(u.push(s),l.push(null));for(var p,g,m,b,y,v,w,_,E,x=r.quality,S=u.length,M=n.length;x-- >0;){for(p=0;p<S;p++)for(m=u[p],y=1/0,g=0;g<M;g++)(b=e(n[g],m))<y&&(y=b,l[p]=g);for(v=u.slice(),g=0;g<M;g++){for(w=0,_=[0,0,0],p=0;p<S;p++)l[p]===g&&(w++,_[0]+=u[p][0],_[1]+=u[p][1],_[2]+=u[p][2]);if(0!==w)if(_[0]/=w,_[1]/=w,_[2]/=w,t(c(_),_))n[g]=_;else{if(v.length>0){for(y=1/0,E=-1,p=0;p<v.length;p++)(b=e(v[p],_))<y&&(y=b,E=p);n[g]=u[E]}else{for(y=1/0,E=-1,p=0;p<u.length;p++)(b=e(u[p],_))<y&&(y=b,E=p);n[g]=u[E]}v=v.filter((function(e){return e[0]!==n[g][0]||e[1]!==n[g][1]||e[2]!==n[g][2]}))}}}return n}e.exports=function(e,t){if("number"!=typeof e||e<1)throw new Error("iwanthue: expecting a color count > 1.");t=function(e){var t=Object.assign({},h,e);if("number"!=typeof t.attempts||t.attempts<=0)throw new Error("iwanthue: invalid `attempts` setting. Expecting a positive number.");if(t.colorFilter&&"function"!=typeof t.colorFilter)throw new Error("iwanthue: invalid `colorFilter` setting. Expecting a function.");if(!f.has(t.clustering))throw new Error('iwanthue: unknown `clustering` "'+t.clustering+'".');if("number"!=typeof t.quality||isNaN(t.quality)||t.quality<1)throw new Error("iwanthue: invalid `quality`. Expecting a number > 0.");if("boolean"!=typeof t.ultraPrecision)throw new Error("iwanthue: invalid `ultraPrecision`. Expecting a boolean.");if(!p.has(t.distance))throw new Error('iwanthue: unknown `distance` "'+t.distance+'".');if("string"==typeof t.seed&&(t.seed=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n);return t}(t.seed)),null!==t.seed&&"number"!=typeof t.seed)throw new Error("iwanthue: invalid `seed`. Expecting an integer or a string.");if(!t.colorFilter&&t.colorSpace&&"all"!==t.colorSpace){var n;if("string"==typeof t.colorSpace){if(!g.has(t.colorSpace))throw new Error('iwanthue: unknown `colorSpace` "'+t.colorSpace+'".');n=a[t.colorSpace]}else if(Array.isArray(t.colorSpace)){if(6!==t.colorSpace.length)throw new Error("iwanthue: expecting a `colorSpace` array of length 6 ([hmin, hmax, cmin, cmax, lmin, lmax]).");n=t.colorSpace}else n=[t.colorSpace.hmin||0,t.colorSpace.hmax||360,t.colorSpace.cmin||0,t.colorSpace.cmax||100,t.colorSpace.lmin||0,t.colorSpace.lmax||100];n[0]<n[1]?t.colorFilter=function(e,t){var r=l(t);return r[0]>=n[0]&&r[0]<=n[1]&&r[1]>=n[2]&&r[1]<=n[3]&&r[2]>=n[4]&&r[2]<=n[5]}:t.colorFilter=function(e,t){var r=l(t);return(r[0]>=n[0]||r[0]<=n[1])&&r[1]>=n[2]&&r[1]<=n[3]&&r[2]>=n[4]&&r[2]<=n[5]}}return t}(t);var n,c=new r(t.seed),v=function(){return c.nextFloat()},w=(new i).get(t.distance),_=function(e,n){return!(!s(e)||t.colorFilter&&!t.colorFilter(e,n))};if(1===e)return n=m(v,e,_),[u(n[0])];for(var E,x,S=t.attempts,M=-1/0;S>0;)n=m(v,e,_),"force-vector"===t.clustering?b(v,w,_,n,t):y(w,_,n,t),(E=o.computeQualityMetrics(w,n)).min>M&&(M=E.min,x=n),S--;return(n=d(w,n=x)).map(u)}},7976:e=>{e.exports={all:[0,360,0,100,0,100],default:[0,360,30,80,35,80],sensible:[0,360,25.59,55.59,60.94,90.94],colorblind:[0,360,40,70,15,85],"fancy-light":[0,360,15,40,70,100],"fancy-dark":[0,360,8,40,7,40],shades:[0,240,0,15,0,100],tarnish:[0,360,0,15,30,70],pastel:[0,360,0,30,70,100],pimp:[0,360,30,100,25,70],intense:[0,360,20,100,15,80],fluo:[0,300,35,100,75,100],"red-roses":[330,20,10,100,35,100],"ochre-sand":[20,60,20,50,35,100],"yellow-lime":[60,90,10,100,35,100],"green-mint":[90,150,10,100,35,100],"ice-cube":[150,200,0,100,35,100],"blue-ocean":[220,260,8,80,0,50],"indigo-night":[260,290,40,100,35,100],"purple-wine":[290,330,0,100,0,40]}},9220:e=>{function t(e){var t;e||(0,t=Math.pow(2,31)-1,e=0+Math.floor(Math.random()*(t-0+1))),this.seed=e%2147483647,this.seed<=0&&(this.seed+=2147483646)}t.prototype.next=function(){return this.seed=16807*this.seed%2147483647,this.seed},t.prototype.nextFloat=function(){return(this.next()-1)/2147483646},e.exports=t},899:(e,t,n)=>{var r=n(5245),i=n(6456),o=r.DEFAULT_COMPARATOR,a=r.reverseComparator;function s(e,t,n,r){for(var o,a=n,s=r,c=t[r],u=2*r+1;u<a;)(o=u+1)<a&&e(t[u],t[o])>=0&&(u=o),t[r]=t[u],u=2*(r=u)+1;t[r]=c,i.siftDown(e,t,s,r)}function c(e,t,n,r){for(var i,o,a=r,c=new e(r);a>0;)i=n[--a],0!==a&&(o=n[0],n[0]=i,s(t,n,--r,0),i=o),c[a]=i;return c}function u(e,t,n){if(2===arguments.length&&(n=t,t=null),this.ArrayClass=e,this.capacity=n,this.items=new e(n),this.clear(),this.comparator=t||o,"number"!=typeof n&&n<=0)throw new Error("mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.");if("function"!=typeof this.comparator)throw new Error("mnemonist/FixedReverseHeap.constructor: given comparator should be a function.");this.comparator=a(this.comparator)}u.prototype.clear=function(){this.size=0},u.prototype.push=function(e){return this.size<this.capacity?(this.items[this.size]=e,i.siftDown(this.comparator,this.items,0,this.size),this.size++):this.comparator(e,this.items[0])>0&&i.replace(this.comparator,this.items,e),this.size},u.prototype.peek=function(){return this.items[0]},u.prototype.consume=function(){var e=c(this.ArrayClass,this.comparator,this.items,this.size);return this.size=0,e},u.prototype.toArray=function(){return c(this.ArrayClass,this.comparator,this.items.slice(0,this.size),this.size)},u.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:u,enumerable:!1}),e},"undefined"!=typeof Symbol&&(u.prototype[Symbol.for("nodejs.util.inspect.custom")]=u.prototype.inspect),e.exports=u},6456:(e,t,n)=>{var r=n(842),i=n(5245),o=n(3469),a=i.DEFAULT_COMPARATOR,s=i.reverseComparator;function c(e,t,n,r){for(var i,o,a=t[r];r>n&&e(a,o=t[i=r-1>>1])<0;)t[r]=o,r=i;t[r]=a}function u(e,t,n){for(var r,i=t.length,o=n,a=t[n],s=2*n+1;s<i;)(r=s+1)<i&&e(t[s],t[r])>=0&&(s=r),t[n]=t[s],s=2*(n=s)+1;t[n]=a,c(e,t,o,n)}function l(e,t,n){t.push(n),c(e,t,0,t.length-1)}function d(e,t){var n=t.pop();if(0!==t.length){var r=t[0];return t[0]=n,u(e,t,0),r}return n}function h(e,t,n){if(0===t.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var r=t[0];return t[0]=n,u(e,t,0),r}function f(e,t,n){var r;return 0!==t.length&&e(t[0],n)<0&&(r=t[0],t[0]=n,n=r,u(e,t,0)),n}function p(e,t){for(var n=t.length>>1;--n>=0;)u(e,t,n)}function g(e,t){for(var n=t.length,r=0,i=new Array(n);r<n;)i[r++]=d(e,t);return i}function m(e){if(this.clear(),this.comparator=e||a,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function b(e){if(this.clear(),this.comparator=e||a,"function"!=typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=s(this.comparator)}m.prototype.clear=function(){this.items=[],this.size=0},m.prototype.push=function(e){return l(this.comparator,this.items,e),++this.size},m.prototype.peek=function(){return this.items[0]},m.prototype.pop=function(){return 0!==this.size&&this.size--,d(this.comparator,this.items)},m.prototype.replace=function(e){return h(this.comparator,this.items,e)},m.prototype.pushpop=function(e){return f(this.comparator,this.items,e)},m.prototype.consume=function(){return this.size=0,g(this.comparator,this.items)},m.prototype.toArray=function(){return g(this.comparator,this.items.slice())},m.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:m,enumerable:!1}),e},"undefined"!=typeof Symbol&&(m.prototype[Symbol.for("nodejs.util.inspect.custom")]=m.prototype.inspect),b.prototype=m.prototype,m.from=function(e,t){var n,r=new m(t);return n=o.isArrayLike(e)?e.slice():o.toArray(e),p(r.comparator,n),r.items=n,r.size=n.length,r},b.from=function(e,t){var n,r=new b(t);return n=o.isArrayLike(e)?e.slice():o.toArray(e),p(r.comparator,n),r.items=n,r.size=n.length,r},m.siftUp=u,m.siftDown=c,m.push=l,m.pop=d,m.replace=h,m.pushpop=f,m.heapify=p,m.consume=g,m.nsmallest=function(e,t,n){2===arguments.length&&(n=t,t=e,e=a);var i,c,u,l,d=s(e),f=1/0;if(1===t){if(o.isArrayLike(n)){for(i=0,c=n.length;i<c;i++)u=n[i],(f===1/0||e(u,f)<0)&&(f=u);return(l=new n.constructor(1))[0]=f,l}return r(n,(function(t){(f===1/0||e(t,f)<0)&&(f=t)})),[f]}if(o.isArrayLike(n)){if(t>=n.length)return n.slice().sort(e);for(l=n.slice(0,t),p(d,l),i=t,c=n.length;i<c;i++)d(n[i],l[0])>0&&h(d,l,n[i]);return l.sort(e)}var g=o.guessLength(n);return null!==g&&g<t&&(t=g),l=new Array(t),i=0,r(n,(function(e){i<t?l[i]=e:(i===t&&p(d,l),d(e,l[0])>0&&h(d,l,e)),i++})),l.length>i&&(l.length=i),l.sort(e)},m.nlargest=function(e,t,n){2===arguments.length&&(n=t,t=e,e=a);var i,c,u,l,d=s(e),f=-1/0;if(1===t){if(o.isArrayLike(n)){for(i=0,c=n.length;i<c;i++)u=n[i],(f===-1/0||e(u,f)>0)&&(f=u);return(l=new n.constructor(1))[0]=f,l}return r(n,(function(t){(f===-1/0||e(t,f)>0)&&(f=t)})),[f]}if(o.isArrayLike(n)){if(t>=n.length)return n.slice().sort(d);for(l=n.slice(0,t),p(e,l),i=t,c=n.length;i<c;i++)e(n[i],l[0])>0&&h(e,l,n[i]);return l.sort(d)}var g=o.guessLength(n);return null!==g&&g<t&&(t=g),l=new Array(t),i=0,r(n,(function(n){i<t?l[i]=n:(i===t&&p(e,l),e(n,l[0])>0&&h(e,l,n)),i++})),l.length>i&&(l.length=i),l.sort(d)},m.MinHeap=m,m.MaxHeap=b,e.exports=m},8965:(e,t,n)=>{var r=n(7796),i=n(842),o=n(899),a=function(e,t){return e[1]>t[1]?-1:e[1]<t[1]?1:0};function s(){this.items=new Map,Object.defineProperty(this.items,"constructor",{value:s,enumerable:!1}),this.clear()}s.prototype.clear=function(){this.size=0,this.dimension=0,this.items.clear()},s.prototype.add=function(e,t){if(0===t)return this;if(t<0)return this.remove(e,-t);if("number"!=typeof(t=t||1))throw new Error("mnemonist/multi-set.add: given count should be a number.");this.size+=t;const n=this.items.get(e);return void 0===n?this.dimension++:t+=n,this.items.set(e,t),this},s.prototype.set=function(e,t){var n;if("number"!=typeof t)throw new Error("mnemonist/multi-set.set: given count should be a number.");return t<=0?(void 0!==(n=this.items.get(e))&&(this.size-=n,this.dimension--),this.items.delete(e),this):(t=t||1,"number"==typeof(n=this.items.get(e))?this.items.set(e,n+t):(this.dimension++,this.items.set(e,t)),this.size+=t,this)},s.prototype.has=function(e){return this.items.has(e)},s.prototype.delete=function(e){var t=this.items.get(e);return 0!==t&&(this.size-=t,this.dimension--,this.items.delete(e),!0)},s.prototype.remove=function(e,t){if(0!==t){if(t<0)return this.add(e,-t);if("number"!=typeof(t=t||1))throw new Error("mnemonist/multi-set.remove: given count should be a number.");var n=this.items.get(e);if(void 0!==n){var r=Math.max(0,n-t);0===r?(this.items.delete(e),this.size-=n,this.dimension--):(this.items.set(e,r),this.size-=t)}}},s.prototype.edit=function(e,t){var n=this.multiplicity(e);if(0!==n){var r=this.multiplicity(t);return this.items.set(t,n+r),this.items.delete(e),this}},s.prototype.multiplicity=function(e){var t=this.items.get(e);return void 0===t?0:t},s.prototype.get=s.prototype.multiplicity,s.prototype.count=s.prototype.multiplicity,s.prototype.frequency=function(e){return 0===this.size?0:this.multiplicity(e)/this.size},s.prototype.top=function(e){if("number"!=typeof e||e<=0)throw new Error("mnemonist/multi-set.top: n must be a number > 0.");for(var t,n=new o(Array,a,e),r=this.items.entries();!(t=r.next()).done;)n.push(t.value);return n.consume()},s.prototype.forEach=function(e,t){var n;t=arguments.length>1?t:this,this.items.forEach((function(r,i){for(n=0;n<r;n++)e.call(t,i,i)}))},s.prototype.forEachMultiplicity=function(e,t){t=arguments.length>1?t:this,this.items.forEach(e,t)},s.prototype.keys=function(){return this.items.keys()},s.prototype.values=function(){var e,t,n,i,o=this.items.entries(),a=!1;return new r((function r(){if(!a){if((e=o.next()).done)return{done:!0};a=!0,t=e.value[0],n=e.value[1],i=0}return i>=n?(a=!1,r()):(i++,{done:!1,value:t})}))},s.prototype.multiplicities=function(){return this.items.entries()},"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=s.prototype.values),s.prototype.inspect=function(){return this.items},"undefined"!=typeof Symbol&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.prototype.toJSON=function(){return this.items},s.from=function(e){var t=new s;return i(e,(function(e){t.add(e)})),t},s.isSubset=function(e,t){var n,r,i,o=e.multiplicities();if(e===t)return!0;if(e.dimension>t.dimension)return!1;for(;!(n=o.next()).done;)if(r=n.value[0],i=n.value[1],t.multiplicity(r)<i)return!1;return!0},s.isSuperset=function(e,t){return s.isSubset(t,e)},e.exports=s},9857:(e,t,n)=>{var r=n(7796),i=n(6021).getPointerArray;function o(e,t){arguments.length<2&&(t=e,e=Array);var n=i(t);this.size=0,this.length=t,this.dense=new n(t),this.sparse=new n(t),this.vals=new e(t)}o.prototype.clear=function(){this.size=0},o.prototype.has=function(e){var t=this.sparse[e];return t<this.size&&this.dense[t]===e},o.prototype.get=function(e){var t=this.sparse[e];if(t<this.size&&this.dense[t]===e)return this.vals[t]},o.prototype.set=function(e,t){var n=this.sparse[e];return n<this.size&&this.dense[n]===e?(this.vals[n]=t,this):(this.dense[this.size]=e,this.sparse[e]=this.size,this.vals[this.size]=t,this.size++,this)},o.prototype.delete=function(e){var t=this.sparse[e];return!(t>=this.size||this.dense[t]!==e||(t=this.dense[this.size-1],this.dense[this.sparse[e]]=t,this.sparse[t]=this.sparse[e],this.size--,0))},o.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=0;n<this.size;n++)e.call(t,this.vals[n],this.dense[n])},o.prototype.keys=function(){var e=this.size,t=this.dense,n=0;return new r((function(){if(n<e){var r=t[n];return n++,{value:r}}return{done:!0}}))},o.prototype.values=function(){var e=this.size,t=this.vals,n=0;return new r((function(){if(n<e){var r=t[n];return n++,{value:r}}return{done:!0}}))},o.prototype.entries=function(){var e=this.size,t=this.dense,n=this.vals,i=0;return new r((function(){if(i<e){var r=[t[i],n[i]];return i++,{value:r}}return{done:!0}}))},"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.entries),o.prototype.inspect=function(){for(var e=new Map,t=0;t<this.size;t++)e.set(this.dense[t],this.vals[t]);return Object.defineProperty(e,"constructor",{value:o,enumerable:!1}),e.length=this.length,this.vals.constructor!==Array&&(e.type=this.vals.constructor.name),e},"undefined"!=typeof Symbol&&(o.prototype[Symbol.for("nodejs.util.inspect.custom")]=o.prototype.inspect),e.exports=o},9768:(e,t,n)=>{var r=n(7796),i=n(6021).getPointerArray;function o(e){var t=i(e);this.start=0,this.size=0,this.capacity=e,this.dense=new t(e),this.sparse=new t(e)}o.prototype.clear=function(){this.start=0,this.size=0},o.prototype.has=function(e){if(0===this.size)return!1;var t=this.sparse[e];return(t<this.capacity&&t>=this.start&&t<this.start+this.size||t<(this.start+this.size)%this.capacity)&&this.dense[t]===e},o.prototype.enqueue=function(e){var t=this.sparse[e];return 0!==this.size&&(t<this.capacity&&t>=this.start&&t<this.start+this.size||t<(this.start+this.size)%this.capacity)&&this.dense[t]===e||(t=(this.start+this.size)%this.capacity,this.dense[t]=e,this.sparse[e]=t,this.size++),this},o.prototype.dequeue=function(){if(0!==this.size){var e=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var t=this.dense[e];return this.sparse[t]=this.capacity,t}},o.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=this.capacity,r=this.size,i=this.start,o=0;o<r;)e.call(t,this.dense[i],o,this),o++,++i===n&&(i=0)},o.prototype.values=function(){var e=this.dense,t=this.capacity,n=this.size,i=this.start,o=0;return new r((function(){if(o>=n)return{done:!0};var r=e[i];return i++,o++,i===t&&(i=0),{value:r,done:!1}}))},"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.values),o.prototype.inspect=function(){var e=[];return this.forEach((function(t){e.push(t)})),Object.defineProperty(e,"constructor",{value:o,enumerable:!1}),e.capacity=this.capacity,e},"undefined"!=typeof Symbol&&(o.prototype[Symbol.for("nodejs.util.inspect.custom")]=o.prototype.inspect),e.exports=o},5245:(e,t)=>{t.DEFAULT_COMPARATOR=function(e,t){return e<t?-1:e>t?1:0},t.DEFAULT_REVERSE_COMPARATOR=function(e,t){return e<t?1:e>t?-1:0},t.reverseComparator=function(e){return function(t,n){return e(n,t)}},t.createTupleComparator=function(e){return 2===e?function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}:function(t,n){for(var r=0;r<e;){if(t[r]<n[r])return-1;if(t[r]>n[r])return 1;r++}return 0}}},3469:(e,t,n)=>{var r=n(842),i=n(6021);function o(e){return"number"==typeof e.length?e.length:"number"==typeof e.size?e.size:void 0}t.isArrayLike=function(e){return Array.isArray(e)||i.isTypedArray(e)},t.guessLength=o,t.toArray=function(e){var t=o(e),n="number"==typeof t?new Array(t):[],i=0;return r(e,(function(e){n[i++]=e})),n},t.toArrayWithIndices=function(e){var t=o(e),n="number"==typeof t?i.getPointerArray(t):Array,a="number"==typeof t?new Array(t):[],s="number"==typeof t?new n(t):[],c=0;return r(e,(function(e){a[c]=e,s[c]=c++})),[a,s]}},6021:(e,t)=>{var n=Math.pow(2,8)-1,r=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,a=Math.pow(2,15)-1,s=Math.pow(2,31)-1;t.getPointerArray=function(e){var t=e-1;if(t<=n)return Uint8Array;if(t<=r)return Uint16Array;if(t<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(e){var t=e-1;return t<=o?Int8Array:t<=a?Int16Array:t<=s?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,n){var r,i,o,a,s,u=null,l=0;for(a=0,s=e.length;a<s;a++)o=n?n(e[a]):e[a],i=t.getNumberType(o),(r=c[i.name])>l&&(l=r,u=i);return u},t.isTypedArray=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,n,r=0;for(e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;var i=new arguments[0].constructor(r);for(e=0,t=0;e<n;e++)i.set(arguments[e],t),t+=arguments[e].length;return i},t.indices=function(e){for(var n=new(t.getPointerArray(e))(e),r=0;r<e;r++)n[r]=r;return n}},842:(e,t,n)=>{var r=n(7382),i=r.ARRAY_BUFFER_SUPPORT,o=r.SYMBOL_SUPPORT;e.exports=function(e,t){var n,r,a,s,c;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof t)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||i&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(a=0,s=e.length;a<s;a++)t(e[a],a);else if("function"!=typeof e.forEach)if(o&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(r in e)e.hasOwnProperty(r)&&t(e[r],r);else for(n=e,a=0;!0!==(c=n.next()).done;)t(c.value,a),a++;else e.forEach(t)}},7796:e=>{function t(e){if("function"!=typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}"undefined"!=typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,n=e.length,r=0;return new t((function(){return r>=n?{done:!0}:{done:!1,value:e[r++]}}))},t.empty=function(){return new t((function(){return{done:!0}}))},t.fromSequence=function(e){var n=0,r=e.length;return new t((function(){return n>=r?{done:!0}:{done:!1,value:e[n++]}}))},t.is=function(e){return e instanceof t||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=t},7382:(e,t)=>{t.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,t.SYMBOL_SUPPORT="undefined"!=typeof Symbol},9104:e=>{function t(e){return function(t){return"number"!=typeof t&&(t=t.length),Math.floor(e()*t)}}var n=t(Math.random);n.createRandomIndex=t,e.exports=n},8141:e=>{function t(e){return function(t,n){return t+Math.floor(e()*(n-t+1))}}var n=t(Math.random);n.createRandom=t,e.exports=n},2530:(e,t,n)=>{var r=n(8141).createRandom;function i(e){var t=r(e);return function(e){for(var n=e.length,r=n-1,i=-1;++i<n;){var o=t(i,r),a=e[o];e[o]=e[i],e[i]=a}}}var o=i(Math.random);o.createShuffleInPlace=i,e.exports=o},2474:(e,t,n)=>{var r=n(5898),i=n(776),o=n(920),a=n(2707),s=n(9655),c=n(4668),u=n(2064);u.alea=r,u.xor128=i,u.xorwow=o,u.xorshift7=a,u.xor4096=s,u.tychei=c,e.exports=u},5898:function(e,t,n){var r;!function(e,i,o){function a(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function c(e,t){var n=new a(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.alea=c}(0,e=n.nmd(e),n.amdD)},4668:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function c(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.tychei=c}(0,e=n.nmd(e),n.amdD)},776:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function c(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.xor128=c}(0,e=n.nmd(e),n.amdD)},9655:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,a,s=[],c=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,c=Math.max(c,t.length)),i=0,o=-32;o<c;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=a,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function c(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.xor4096=c}(0,e=n.nmd(e),n.amdD)},2707:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function c(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.xorshift7=c}(0,e=n.nmd(e),n.amdD)},920:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function c(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.xorwow=c}(0,e=n.nmd(e),n.amdD)},2064:function(e,t,n){var r;!function(i,o,a){var s,c=256,u=a.pow(c,6),l=a.pow(2,52),d=2*l,h=255;function f(e,t,n){var r=[],h=b(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(c):(e=new Uint8Array(c),(i.crypto||i.msCrypto).getRandomValues(e)),y(e)}catch(e){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,y(o)]}}():e,3),r),f=new p(r),v=function(){for(var e=f.g(6),t=u,n=0;e<l;)e=(e+n)*c,t*=c,n=f.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|f.g(4)},v.quick=function(){return f.g(4)/4294967296},v.double=v,b(y(f.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&g(r,f),e.state=function(){return g(f,{})}),n?(a.random=e,t):e})(v,h,"global"in t?t.global:this==a,t.state)}function p(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);i<c;)a[i]=i++;for(i=0;i<c;i++)a[i]=a[o=h&o+e[i%n]+(t=a[i])],a[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,a=r.S;e--;)t=a[i=h&i+1],n=n*c+a[h&(a[i]=a[o=h&o+t])+(a[o]=t)];return r.i=i,r.j=o,n})(c)}function g(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(m(e[n],t-1))}catch(e){}return r.length?r:"string"==i?e:e+"\0"}function b(e,t){for(var n,r=e+"",i=0;i<r.length;)t[h&i]=h&(n^=19*t[h&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(b(a.random(),o),e.exports){e.exports=f;try{s=n(5042)}catch(e){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},5484:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9466),s=o(n(5799)),c=n(946),u=n(478),l=1.5,d=function(e){function t(){var t=e.call(this)||this;return t.x=.5,t.y=.5,t.angle=0,t.ratio=1,t.minRatio=null,t.maxRatio=null,t.nextFrame=null,t.previousState=null,t.enabled=!0,t.previousState=t.getState(),t}return i(t,e),t.from=function(e){return(new t).setState(e)},t.prototype.enable=function(){return this.enabled=!0,this},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},t.prototype.hasState=function(e){return this.x===e.x&&this.y===e.y&&this.ratio===e.ratio&&this.angle===e.angle},t.prototype.getPreviousState=function(){var e=this.previousState;return e?{x:e.x,y:e.y,angle:e.angle,ratio:e.ratio}:null},t.prototype.getBoundedRatio=function(e){var t=e;return"number"==typeof this.minRatio&&(t=Math.max(t,this.minRatio)),"number"==typeof this.maxRatio&&(t=Math.min(t,this.maxRatio)),t},t.prototype.validateState=function(e){var t={};return"number"==typeof e.x&&(t.x=e.x),"number"==typeof e.y&&(t.y=e.y),"number"==typeof e.angle&&(t.angle=e.angle),"number"==typeof e.ratio&&(t.ratio=this.getBoundedRatio(e.ratio)),t},t.prototype.isAnimated=function(){return!!this.nextFrame},t.prototype.setState=function(e){if(!this.enabled)return this;this.previousState=this.getState();var t=this.validateState(e);return"number"==typeof t.x&&(this.x=t.x),"number"==typeof t.y&&(this.y=t.y),"number"==typeof t.angle&&(this.angle=t.angle),"number"==typeof t.ratio&&(this.ratio=t.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},t.prototype.updateState=function(e){return this.setState(e(this.getState())),this},t.prototype.animate=function(e,t,n){var r=this;if(this.enabled){var i=Object.assign({},a.ANIMATE_DEFAULTS,t),o=this.validateState(e),u="function"==typeof i.easing?i.easing:s.default[i.easing],l=Date.now(),d=this.getState(),h=function(){var e=(Date.now()-l)/i.duration;if(e>=1)return r.nextFrame=null,r.setState(o),void(r.animationCallback&&(r.animationCallback.call(null),r.animationCallback=void 0));var t=u(e),n={};"number"==typeof o.x&&(n.x=d.x+(o.x-d.x)*t),"number"==typeof o.y&&(n.y=d.y+(o.y-d.y)*t),"number"==typeof o.angle&&(n.angle=d.angle+(o.angle-d.angle)*t),"number"==typeof o.ratio&&(n.ratio=d.ratio+(o.ratio-d.ratio)*t),r.setState(n),r.nextFrame=(0,c.requestFrame)(h)};this.nextFrame?((0,c.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,c.requestFrame)(h)):h(),this.animationCallback=n}},t.prototype.animatedZoom=function(e){if(e){if("number"==typeof e)return this.animate({ratio:this.ratio/e});this.animate({ratio:this.ratio/(e.factor||l)},e)}else this.animate({ratio:this.ratio/l})},t.prototype.animatedUnzoom=function(e){if(e){if("number"==typeof e)return this.animate({ratio:this.ratio*e});this.animate({ratio:this.ratio*(e.factor||l)},e)}else this.animate({ratio:this.ratio*l})},t.prototype.animatedReset=function(e){this.animate({x:.5,y:.5,ratio:1,angle:0},e)},t.prototype.copy=function(){return t.from(this.getState())},t}(u.TypedEventEmitter);t.default=d},3060:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getWheelDelta=t.getTouchCoords=t.getTouchesArray=t.getWheelCoords=t.getMouseCoords=t.getPosition=void 0;var a=n(478);function s(e,t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function c(e,t){var n=o(o({},s(e,t)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){n.sigmaDefaultPrevented=!0},original:e});return n}function u(e){for(var t=[],n=0,r=Math.min(e.length,2);n<r;n++)t.push(e[n]);return t}function l(e){if(void 0!==e.deltaY)return-3*e.deltaY/360;if(void 0!==e.detail)return e.detail/-9;throw new Error("Captor: could not extract delta from event.")}t.getPosition=s,t.getMouseCoords=c,t.getWheelCoords=function(e,t){return o(o({},c(e,t)),{delta:l(e)})},t.getTouchesArray=u,t.getTouchCoords=function(e,t){return{touches:u(e.touches).map((function(e){return s(e,t)})),original:e}},t.getWheelDelta=l;var d=function(e){function t(t,n){var r=e.call(this)||this;return r.container=t,r.renderer=n,r}return i(t,e),t}(a.TypedEventEmitter);t.default=d},6724:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(3060)),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.enabled=!0,r.draggedEvents=0,r.downStartTime=null,r.lastMouseX=null,r.lastMouseY=null,r.isMouseDown=!1,r.isMoving=!1,r.movingTimeout=null,r.startCameraState=null,r.clicks=0,r.doubleClickTimeout=null,r.currentWheelDirection=0,r.handleClick=r.handleClick.bind(r),r.handleRightClick=r.handleRightClick.bind(r),r.handleDown=r.handleDown.bind(r),r.handleUp=r.handleUp.bind(r),r.handleMove=r.handleMove.bind(r),r.handleWheel=r.handleWheel.bind(r),r.handleOut=r.handleOut.bind(r),t.addEventListener("click",r.handleClick,!1),t.addEventListener("contextmenu",r.handleRightClick,!1),t.addEventListener("mousedown",r.handleDown,!1),t.addEventListener("wheel",r.handleWheel,!1),t.addEventListener("mouseout",r.handleOut,!1),document.addEventListener("mousemove",r.handleMove,!1),document.addEventListener("mouseup",r.handleUp,!1),r}return i(t,e),t.prototype.kill=function(){var e=this.container;e.removeEventListener("click",this.handleClick),e.removeEventListener("contextmenu",this.handleRightClick),e.removeEventListener("mousedown",this.handleDown),e.removeEventListener("wheel",this.handleWheel),e.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},t.prototype.handleClick=function(e){var t=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,"number"==typeof this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(e);setTimeout((function(){t.clicks=0,t.doubleClickTimeout=null}),300),this.draggedEvents<3&&this.emit("click",(0,c.getMouseCoords)(e,this.container))}},t.prototype.handleRightClick=function(e){this.enabled&&this.emit("rightClick",(0,c.getMouseCoords)(e,this.container))},t.prototype.handleDoubleClick=function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var t=(0,c.getMouseCoords)(e,this.container);if(this.emit("doubleClick",t),!t.sigmaDefaultPrevented){var n=this.renderer.getCamera(),r=n.getBoundedRatio(n.getState().ratio/2.2);n.animate(this.renderer.getViewportZoomedState((0,c.getPosition)(e,this.container),r),{easing:"quadraticInOut",duration:200})}}},t.prototype.handleDown=function(e){if(this.enabled){if(0===e.button){this.startCameraState=this.renderer.getCamera().getState();var t=(0,c.getPosition)(e,this.container),n=t.x,r=t.y;this.lastMouseX=n,this.lastMouseY=r,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",(0,c.getMouseCoords)(e,this.container))}},t.prototype.handleUp=function(e){var t=this;if(this.enabled&&this.isMouseDown){var n=this.renderer.getCamera();this.isMouseDown=!1,"number"==typeof this.movingTimeout&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var r=(0,c.getPosition)(e,this.container),i=r.x,o=r.y,a=n.getState(),s=n.getPreviousState()||{x:0,y:0};this.isMoving?n.animate({x:a.x+3*(a.x-s.x),y:a.y+3*(a.y-s.y)},{duration:200,easing:"quadraticOut"}):this.lastMouseX===i&&this.lastMouseY===o||n.setState({x:a.x,y:a.y}),this.isMoving=!1,setTimeout((function(){t.draggedEvents=0,t.renderer.refresh()}),0),this.emit("mouseup",(0,c.getMouseCoords)(e,this.container))}},t.prototype.handleMove=function(e){var t=this;if(this.enabled){var n=(0,c.getMouseCoords)(e,this.container);if(this.emit("mousemovebody",n),e.target===this.container&&this.emit("mousemove",n),!n.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,"number"==typeof this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){t.movingTimeout=null,t.isMoving=!1}),100);var r=this.renderer.getCamera(),i=(0,c.getPosition)(e,this.container),o=i.x,a=i.y,s=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),u=this.renderer.viewportToFramedGraph({x:o,y:a}),l=s.x-u.x,d=s.y-u.y,h=r.getState(),f=h.x+l,p=h.y+d;r.setState({x:f,y:p}),this.lastMouseX=o,this.lastMouseY=a,e.preventDefault(),e.stopPropagation()}}},t.prototype.handleWheel=function(e){var t=this;if(this.enabled){e.preventDefault(),e.stopPropagation();var n=(0,c.getWheelDelta)(e);if(n){var r=(0,c.getWheelCoords)(e,this.container);if(this.emit("wheel",r),!r.sigmaDefaultPrevented){var i=n>0?1/1.7:1.7,o=this.renderer.getCamera(),a=o.getBoundedRatio(o.getState().ratio*i),s=n>0?1:-1,u=Date.now();this.currentWheelDirection===s&&this.lastWheelTriggerTime&&u-this.lastWheelTriggerTime<50||(o.animate(this.renderer.getViewportZoomedState((0,c.getPosition)(e,this.container),a),{easing:"quadraticOut",duration:250},(function(){t.currentWheelDirection=0})),this.currentWheelDirection=s,this.lastWheelTriggerTime=u)}}}},t.prototype.handleOut=function(){},t}(c.default);t.default=u},6583:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(3060)),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.enabled=!0,r.isMoving=!1,r.hasMoved=!1,r.touchMode=0,r.startTouchesPositions=[],r.handleStart=r.handleStart.bind(r),r.handleLeave=r.handleLeave.bind(r),r.handleMove=r.handleMove.bind(r),t.addEventListener("touchstart",r.handleStart,!1),t.addEventListener("touchend",r.handleLeave,!1),t.addEventListener("touchcancel",r.handleLeave,!1),t.addEventListener("touchmove",r.handleMove,!1),r}return i(t,e),t.prototype.kill=function(){var e=this.container;e.removeEventListener("touchstart",this.handleStart),e.removeEventListener("touchend",this.handleLeave),e.removeEventListener("touchcancel",this.handleLeave),e.removeEventListener("touchmove",this.handleMove)},t.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},t.prototype.dispatchRelatedMouseEvent=function(e,t,n,r){var i=n||t.touches[0],o=new MouseEvent(e,{clientX:i.clientX,clientY:i.clientY,altKey:t.altKey,ctrlKey:t.ctrlKey});o.isFakeSigmaMouseEvent=!0,(r||this.container).dispatchEvent(o)},t.prototype.handleStart=function(e){var t=this;if(this.enabled){e.preventDefault(),1===e.touches.length&&this.dispatchRelatedMouseEvent("mousedown",e);var n=(0,u.getTouchesArray)(e.touches);if(this.touchMode=n.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=n.map((function(e){return(0,u.getPosition)(e,t.container)})),this.lastTouches=n,this.lastTouchesPositions=this.startTouchesPositions,2===this.touchMode){var r=c(this.startTouchesPositions,2),i=r[0],o=i.x,a=i.y,s=r[1],l=s.x,d=s.y;this.startTouchesAngle=Math.atan2(d-a,l-o),this.startTouchesDistance=Math.sqrt(Math.pow(l-o,2)+Math.pow(d-a,2))}this.emit("touchdown",(0,u.getTouchCoords)(e,this.container))}},t.prototype.handleLeave=function(e){if(this.enabled){switch(e.preventDefault(),0===e.touches.length&&this.lastTouches&&this.lastTouches.length&&(this.dispatchRelatedMouseEvent("mouseup",e,this.lastTouches[0],document),this.hasMoved||this.dispatchRelatedMouseEvent("click",e,this.lastTouches[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(1===e.touches.length){this.handleStart(e),e.preventDefault();break}case 1:if(this.isMoving){var t=this.renderer.getCamera(),n=t.getState(),r=t.getPreviousState()||{x:0,y:0};t.animate({x:n.x+3*(n.x-r.x),y:n.y+3*(n.y-r.y)},{duration:200,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0}this.emit("touchup",(0,u.getTouchCoords)(e,this.container))}},t.prototype.handleMove=function(e){var t,n=this;if(this.enabled){e.preventDefault(),1===e.touches.length&&this.dispatchRelatedMouseEvent("mousemove",e);var r=(0,u.getTouchesArray)(e.touches),i=r.map((function(e){return(0,u.getPosition)(e,n.container)}));if(this.lastTouches=r,this.lastTouchesPositions=i,this.hasMoved||(this.hasMoved=i.some((function(e,t){var r=n.startTouchesPositions[t];return e.x!==r.x||e.y!==r.y}))),this.hasMoved){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){n.isMoving=!1}),200);var o=this.renderer.getCamera(),a=this.startCameraState;switch(this.touchMode){case 1:var s=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),l=s.x,d=s.y,h=this.renderer.viewportToFramedGraph(i[0]),f=h.x,p=h.y;o.setState({x:a.x+l-f,y:a.y+d-p});break;case 2:var g={},m=i[0],b=m.x,y=m.y,v=i[1],w=v.x,_=v.y,E=Math.atan2(_-y,w-b)-this.startTouchesAngle,x=Math.hypot(_-y,w-b)/this.startTouchesDistance,S=o.getBoundedRatio(a.ratio/x);g.ratio=S,g.angle=a.angle+E;var M=this.getDimensions(),A=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:a}),C=Math.min(M.width,M.height),L=C/M.width,T=S/C;p=y-C/2/(C/M.height),f=(t=c([(f=b-C/2/L)*Math.cos(-g.angle)-p*Math.sin(-g.angle),p*Math.cos(-g.angle)+f*Math.sin(-g.angle)],2))[0],p=t[1],g.x=A.x-f*T,g.y=A.y+p*T,o.setState(g)}this.emit("touchmove",(0,u.getTouchCoords)(e,this.container))}}},t}(u.default);t.default=l},7332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.edgeLabelsToDisplayFromNodes=t.LabelGrid=void 0;var n=function(){function e(e,t){this.key=e,this.size=t}return e.compare=function(e,t){return e.size>t.size?-1:e.size<t.size||e.key>t.key?1:-1},e}(),r=function(){function e(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return e.prototype.resizeAndClear=function(e,t){this.width=e.width,this.height=e.height,this.cellSize=t,this.columns=Math.ceil(e.width/t),this.rows=Math.ceil(e.height/t),this.cells={}},e.prototype.getIndex=function(e){var t=Math.floor(e.x/this.cellSize);return Math.floor(e.y/this.cellSize)*this.columns+t},e.prototype.add=function(e,t,r){var i=new n(e,t),o=this.getIndex(r),a=this.cells[o];a||(a=[],this.cells[o]=a),a.push(i)},e.prototype.organize=function(){for(var e in this.cells)this.cells[e].sort(n.compare)},e.prototype.getLabelsToDisplay=function(e,t){var n=this.cellSize*this.cellSize,r=n/e/e*t/n,i=Math.ceil(r),o=[];for(var a in this.cells)for(var s=this.cells[a],c=0;c<Math.min(i,s.length);c++)o.push(s[c].key);return o},e}();t.LabelGrid=r,t.edgeLabelsToDisplayFromNodes=function(e){var t=e.graph,n=e.hoveredNode,r=e.highlightedNodes,i=e.displayedNodeLabels,o=[];return t.forEachEdge((function(e,t,a,s){(a===n||s===n||r.has(a)||r.has(s)||i.has(a)&&i.has(s))&&o.push(e)})),o}},7975:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rectangleCollidesWithQuad=t.squareCollidesWithQuad=t.getCircumscribedAlignedRectangle=t.isRectangleAligned=void 0;var i=r(n(146)),o=!1;function a(e){return e.x1===e.x2||e.y1===e.y2}function s(e){var t=Math.sqrt(Math.pow(e.x2-e.x1,2)+Math.pow(e.y2-e.y1,2)),n=(e.y1-e.y2)*e.height/t,r=(e.x2-e.x1)*e.height/t,i={x:e.x1,y:e.y1},o={x:e.x2,y:e.y2},a={x:e.x1+n,y:e.y1+r},s={x:e.x2+n,y:e.y2+r},c=Math.min(i.x,o.x,a.x,s.x),u=Math.max(i.x,o.x,a.x,s.x),l=Math.min(i.y,o.y,a.y,s.y);return{x1:c,y1:l,x2:u,y2:l,height:Math.max(i.y,o.y,a.y,s.y)-l}}function c(e,t,n,r,i,o,a){return e<r+o&&e+n>r&&t<i+a&&t+n>i}function u(e,t,n,r,i,o,a,s){return e<i+a&&e+n>i&&t<o+s&&t+r>o}function l(e,t,n,r,i,o){var a=e<n+i/2;return t<r+o/2?a?1:2:a?3:4}t.isRectangleAligned=a,t.getCircumscribedAlignedRectangle=s,t.squareCollidesWithQuad=c,t.rectangleCollidesWithQuad=u;var d=function(){function e(e){var t;void 0===e&&(e={}),this.containers=((t={})[5460]=[],t),this.cache=null,this.lastRectangle=null;var n=Math.pow(4,5);this.data=new Float32Array((4*n-1)/3*4),e.boundaries?this.resize(e.boundaries):this.resize({x:0,y:0,width:1,height:1})}return e.prototype.add=function(e,t,n,r){return function(e,t,n,r,i,a,s){for(var u=i-s,l=a-s,d=2*s,h=0,f=0;;){if(h>=5)return n[f]=n[f]||[],void n[f].push(r);var p=4*f+4,g=4*f+8,m=4*f+12,b=4*f+16,y=c(u,l,d,t[p+0],t[p+1],t[p+2],t[p+3]),v=c(u,l,d,t[g+0],t[g+1],t[g+2],t[g+3]),w=c(u,l,d,t[m+0],t[m+1],t[m+2],t[m+3]),_=c(u,l,d,t[b+0],t[b+1],t[b+2],t[b+3]),E=[y,v,w,_].reduce((function(e,t){return t?e+1:e}),0);if(0===E&&0===h)return n[5460].push(r),void(!o&&n[5460].length>=5&&(o=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box.")));if(0===E)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(h,", key: ").concat(r,", x: ").concat(i,", y: ").concat(a,", size: ").concat(s,")."));if(3===E)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(h,", key: ").concat(r,", x: ").concat(i,", y: ").concat(a,", size: ").concat(s,")."));if(E>1)return n[f]=n[f]||[],void n[f].push(r);h++,y&&(f=p),v&&(f=g),w&&(f=m),_&&(f=b)}}(0,this.data,this.containers,e,t,n,r),this},e.prototype.resize=function(e){this.clear(),this.data[0]=e.x,this.data[1]=e.y,this.data[2]=e.width,this.data[3]=e.height,function(e,t){for(var n=[0,0];n.length;){var r=n.pop(),i=n.pop(),o=4*i+4,a=4*i+8,s=4*i+12,c=4*i+16,u=t[i+0],l=t[i+1],d=t[i+2]/2,h=t[i+3]/2;t[o+0]=u,t[o+1]=l,t[o+2]=d,t[o+3]=h,t[a+0]=u+d,t[a+1]=l,t[a+2]=d,t[a+3]=h,t[s+0]=u,t[s+1]=l+h,t[s+2]=d,t[s+3]=h,t[c+0]=u+d,t[c+1]=l+h,t[c+2]=d,t[c+3]=h,r<4&&(n.push(c,r+1),n.push(s,r+1),n.push(a,r+1),n.push(o,r+1))}}(0,this.data)},e.prototype.clear=function(){var e;return this.containers=((e={})[5460]=[],e),this},e.prototype.point=function(e,t){var n=this.containers[5460].slice(),r=0,o=0;do{this.containers[r]&&(0,i.default)(n,this.containers[r]),r=4*r+4*l(e,t,this.data[r+0],this.data[r+1],this.data[r+2],this.data[r+3]),o++}while(o<=5);return n},e.prototype.rectangle=function(e,t,n,r,o){var c=this.lastRectangle;return c&&e===c.x1&&n===c.x2&&t===c.y1&&r===c.y2&&o===c.height||(this.lastRectangle={x1:e,y1:t,x2:n,y2:r,height:o},a(this.lastRectangle)||(this.lastRectangle=s(this.lastRectangle)),this.cache=function(e,t,n,r,o,a,s){for(var c,l=[0,0],d=[];l.length;){var h=l.pop(),f=l.pop();if((c=n[f])&&(0,i.default)(d,c),!(h>=5)){var p=4*f+4,g=4*f+8,m=4*f+12,b=4*f+16,y=u(r,o,a,s,t[p+0],t[p+1],t[p+2],t[p+3]),v=u(r,o,a,s,t[g+0],t[g+1],t[g+2],t[g+3]),w=u(r,o,a,s,t[m+0],t[m+1],t[m+2],t[m+3]),_=u(r,o,a,s,t[b+0],t[b+1],t[b+2],t[b+3]);y&&l.push(p,h+1),v&&l.push(g,h+1),w&&l.push(m,h+1),_&&l.push(b,h+1)}}return d}(0,this.data,this.containers,e,t,Math.abs(e-n)||Math.abs(t-r),o),(0,i.default)(this.cache,this.containers[5460])),this.cache},e}();t.default=d},9884:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sigma=t.MouseCaptor=t.QuadTree=t.Camera=void 0;var i=r(n(4938));t.Sigma=i.default;var o=r(n(5484));t.Camera=o.default;var a=r(n(7975));t.QuadTree=a.default;var s=r(n(6724));t.MouseCaptor=s.default,t.default=i.default},179:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){var o=i.edgeLabelSize,a=i.edgeLabelFont,s=i.edgeLabelWeight,c=i.edgeLabelColor.attribute?t[i.edgeLabelColor.attribute]||i.edgeLabelColor.color||"#000":i.edgeLabelColor.color,u=t.label;if(u){e.fillStyle=c,e.font="".concat(s," ").concat(o,"px ").concat(a);var l,d,h=n.size,f=r.size,p=n.x,g=n.y,m=r.x,b=r.y,y=m-p,v=b-g,w=Math.sqrt(y*y+v*v);if(!(w<h+f)){l=((p+=y*h/w)+(m-=y*f/w))/2,d=((g+=v*h/w)+(b-=v*f/w))/2,y=m-p,v=b-g,w=Math.sqrt(y*y+v*v);var _,E=e.measureText(u).width;if(E>w){for(u+="",E=e.measureText(u).width;E>w&&u.length>1;)u=u.slice(0,-2)+"",E=e.measureText(u).width;if(u.length<4)return}_=y>0?v>0?Math.acos(y/w):Math.asin(v/w):v>0?Math.acos(y/w)+Math.PI:Math.asin(y/w)+Math.PI/2,e.save(),e.translate(l,d),e.rotate(_),e.fillText(u,-E/2,t.size/2+o),e.restore()}}}},4768:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7172));t.default=function(e,t,n){var r=n.labelSize,o=n.labelFont,a=n.labelWeight;if(e.font="".concat(a," ").concat(r,"px ").concat(o),e.fillStyle="#FFF",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor="#000","string"==typeof t.label){var s=e.measureText(t.label).width,c=Math.round(s+5),u=Math.round(r+4),l=Math.max(t.size,r/2)+2,d=Math.asin(u/2/l),h=Math.sqrt(Math.abs(Math.pow(l,2)-Math.pow(u/2,2)));e.beginPath(),e.moveTo(t.x+h,t.y+u/2),e.lineTo(t.x+l+c,t.y+u/2),e.lineTo(t.x+l+c,t.y-u/2),e.lineTo(t.x+h,t.y-u/2),e.arc(t.x,t.y,l,d,-d),e.closePath(),e.fill()}else e.beginPath(),e.arc(t.x,t.y,t.size+2,0,2*Math.PI),e.closePath(),e.fill();e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0,(0,i.default)(e,t,n)}},7172:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(t.label){var r=n.labelSize,i=n.labelFont,o=n.labelWeight,a=n.labelColor.attribute?t[n.labelColor.attribute]||n.labelColor.color||"#000":n.labelColor.color;e.fillStyle=a,e.font="".concat(o," ").concat(r,"px ").concat(i),e.fillText(t.label,t.x+t.size+3,t.y+r/3)}}},9406:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.createEdgeCompoundProgram=t.EdgeProgram=t.AbstractEdgeProgram=void 0;var o=n(7706),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o.AbstractProgram);t.AbstractEdgeProgram=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.process=function(e,t,n,r){var i=e*this.STRIDE;if(!(r.hidden||t.hidden||n.hidden))return this.processVisibleItem(i,t,n,r);for(var o=i+this.STRIDE;i<o;i++)this.array[i]=0},t}(o.Program);t.EdgeProgram=s,t.createEdgeCompoundProgram=function(e){return function(){function t(t,n){this.programs=e.map((function(e){return new e(t,n)}))}return t.prototype.reallocate=function(e){this.programs.forEach((function(t){return t.reallocate(e)}))},t.prototype.process=function(e,t,n,r){this.programs.forEach((function(i){return i.process(e,t,n,r)}))},t.prototype.render=function(e){this.programs.forEach((function(t){return t.render(e)}))},t}()}},4460:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeCompoundProgram=t.NodeProgram=t.AbstractNodeProgram=void 0;var o=n(7706),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o.AbstractProgram);t.AbstractNodeProgram=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.process=function(e,t){var n=e*this.STRIDE;if(!t.hidden)return this.processVisibleItem(n,t);for(var r=n+this.STRIDE;n<r;n++)this.array[n]=0},t}(o.Program);t.NodeProgram=s,t.createNodeCompoundProgram=function(e){return function(){function t(t,n){this.programs=e.map((function(e){return new e(t,n)}))}return t.prototype.reallocate=function(e){this.programs.forEach((function(t){return t.reallocate(e)}))},t.prototype.process=function(e,t){this.programs.forEach((function(n){return n.process(e,t)}))},t.prototype.render=function(e){this.programs.forEach((function(t){return t.render(e)}))},t}()}},7706:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Program=t.AbstractProgram=void 0;var i=n(946),o=n(5358),a=((r={})[WebGL2RenderingContext.BOOL]=1,r[WebGL2RenderingContext.BYTE]=1,r[WebGL2RenderingContext.UNSIGNED_BYTE]=1,r[WebGL2RenderingContext.SHORT]=2,r[WebGL2RenderingContext.UNSIGNED_SHORT]=2,r[WebGL2RenderingContext.INT]=4,r[WebGL2RenderingContext.UNSIGNED_INT]=4,r[WebGL2RenderingContext.FLOAT]=4,r);t.AbstractProgram=function(e,t){};var s=function(){function e(e,t){var n=this;this.array=new Float32Array,this.indicesArray=null,this.uniformLocations={},this.attributeLocations={},this.capacity=0,this.verticesCount=0;var r=this.getDefinition();this.VERTICES=r.VERTICES,this.ARRAY_ITEMS_PER_VERTEX=r.ARRAY_ITEMS_PER_VERTEX,this.VERTEX_SHADER_SOURCE=r.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=r.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=r.UNIFORMS,this.ATTRIBUTES=r.ATTRIBUTES,this.STRIDE=this.VERTICES*this.ARRAY_ITEMS_PER_VERTEX,this.gl=e,this.renderer=t;var a=e.createBuffer();if(null===a)throw new Error("Program: error while creating the webgl buffer.");this.buffer=a;var s=e.createBuffer();if(null===s)throw new Error("Program: error while creating the webgl indices buffer.");this.indicesBuffer=s,this.vertexShader=(0,o.loadVertexShader)(this.gl,this.VERTEX_SHADER_SOURCE),this.fragmentShader=(0,o.loadFragmentShader)(this.gl,this.FRAGMENT_SHADER_SOURCE),this.program=(0,o.loadProgram)(this.gl,[this.vertexShader,this.fragmentShader]),this.canUse32BitsIndices=(0,i.canUse32BitsIndices)(this.gl),this.indicesType=this.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,this.IndicesArray=this.canUse32BitsIndices?Uint32Array:Uint16Array,this.UNIFORMS.forEach((function(e){var t=n.gl.getUniformLocation(n.program,e);if(null===t)throw new Error('Program: error while getting location for uniform "'.concat(e,'".'));n.uniformLocations[e]=t})),this.ATTRIBUTES.forEach((function(e){var t=n.gl.getAttribLocation(n.program,e.name);if(-1===t)throw new Error('Program: error while getting location for attribute "'.concat(e.name,'".'));n.attributeLocations[e.name]=t}))}return e.prototype.bind=function(){var e=this,t=this.gl;for(var n in t.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.indicesArray&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),this.attributeLocations)t.enableVertexAttribArray(this.attributeLocations[n]);var r=0;this.ATTRIBUTES.forEach((function(n){var i=e.attributeLocations[n.name];t.vertexAttribPointer(i,n.size,n.type,n.normalized||!1,e.ARRAY_ITEMS_PER_VERTEX*Float32Array.BYTES_PER_ELEMENT,r);var o=a[n.type];if("number"!=typeof o)throw new Error('Program.bind: yet unsupported attribute type "'.concat(n.type,'"!'));r+=n.size*o}))},e.prototype.bufferData=function(){var e=this.gl;this.gl.bufferData(e.ARRAY_BUFFER,this.array,e.DYNAMIC_DRAW),this.indicesArray&&this.gl.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},e.prototype.reallocateIndices=function(){},e.prototype.reallocate=function(e){e!==this.capacity&&(this.capacity=e,this.verticesCount=this.VERTICES*e,this.array=new Float32Array(this.verticesCount*this.ARRAY_ITEMS_PER_VERTEX),"function"==typeof this.reallocateIndices&&this.reallocateIndices())},e.prototype.hasNothingToRender=function(){return 0===this.verticesCount},e.prototype.render=function(e){this.hasNothingToRender()||(this.bind(),this.bufferData(),this.gl.useProgram(this.program),this.draw(e))},e}();t.Program=s},3646:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9406),o=r(n(6087)),a=r(n(3405)),s=(0,i.createEdgeCompoundProgram)([a.default,o.default]);t.default=s},6087:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(946),s=n(9406),c=o(n(8464)),u=o(n(3713)),l=WebGLRenderingContext.UNSIGNED_BYTE,d=WebGLRenderingContext.FLOAT,h=["u_matrix","u_sizeRatio","u_correctionRatio"],f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return{VERTICES:3,ARRAY_ITEMS_PER_VERTEX:9,VERTEX_SHADER_SOURCE:c.default,FRAGMENT_SHADER_SOURCE:u.default,UNIFORMS:h,ATTRIBUTES:[{name:"a_position",size:2,type:d},{name:"a_normal",size:2,type:d},{name:"a_radius",size:1,type:d},{name:"a_color",size:4,type:l,normalized:!0},{name:"a_barycentric",size:3,type:d}]}},t.prototype.processVisibleItem=function(e,t,n,r){var i=r.size||1,o=n.size||1,s=t.x,c=t.y,u=n.x,l=n.y,d=(0,a.floatColor)(r.color),h=u-s,f=l-c,p=h*h+f*f,g=0,m=0;p&&(g=-f*(p=1/Math.sqrt(p))*i,m=h*p*i);var b=this.array;b[e++]=u,b[e++]=l,b[e++]=-g,b[e++]=-m,b[e++]=o,b[e++]=d,b[e++]=1,b[e++]=0,b[e++]=0,b[e++]=u,b[e++]=l,b[e++]=-g,b[e++]=-m,b[e++]=o,b[e++]=d,b[e++]=0,b[e++]=1,b[e++]=0,b[e++]=u,b[e++]=l,b[e++]=-g,b[e++]=-m,b[e++]=o,b[e++]=d,b[e++]=0,b[e++]=0,b[e]=1},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_matrix,i=n.u_sizeRatio,o=n.u_correctionRatio;t.uniformMatrix3fv(r,!1,e.matrix),t.uniform1f(i,e.sizeRatio),t.uniform1f(o,e.correctionRatio),t.drawArrays(t.TRIANGLES,0,this.verticesCount)},t}(s.EdgeProgram);t.default=f},3405:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(7143)),c=a(n(7523)),u=n(946),l=WebGLRenderingContext.UNSIGNED_BYTE,d=WebGLRenderingContext.FLOAT,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return o(o({},e.prototype.getDefinition.call(this)),{ARRAY_ITEMS_PER_VERTEX:6,VERTEX_SHADER_SOURCE:c.default,ATTRIBUTES:[{name:"a_position",size:2,type:d},{name:"a_normal",size:2,type:d},{name:"a_color",size:4,type:l,normalized:!0},{name:"a_radius",size:1,type:d}]})},t.prototype.processVisibleItem=function(e,t,n,r){var i=r.size||1,o=t.x,a=t.y,s=n.x,c=n.y,l=(0,u.floatColor)(r.color),d=s-o,h=c-a,f=n.size||1,p=d*d+h*h,g=0,m=0;p&&(g=-h*(p=1/Math.sqrt(p))*i,m=d*p*i);var b=this.array;b[e++]=o,b[e++]=a,b[e++]=g,b[e++]=m,b[e++]=l,b[e++]=0,b[e++]=o,b[e++]=a,b[e++]=-g,b[e++]=-m,b[e++]=l,b[e++]=0,b[e++]=s,b[e++]=c,b[e++]=g,b[e++]=m,b[e++]=l,b[e++]=f,b[e++]=s,b[e++]=c,b[e++]=-g,b[e++]=-m,b[e++]=l,b[e]=-f},t}(s.default);t.default=h},8487:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(946),s=n(9406),c=o(n(7467)),u=o(n(8167)),l=WebGLRenderingContext.UNSIGNED_BYTE,d=WebGLRenderingContext.FLOAT,h=["u_matrix"],f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return{VERTICES:2,ARRAY_ITEMS_PER_VERTEX:3,VERTEX_SHADER_SOURCE:c.default,FRAGMENT_SHADER_SOURCE:u.default,UNIFORMS:h,ATTRIBUTES:[{name:"a_position",size:2,type:d},{name:"a_color",size:4,type:l,normalized:!0}]}},t.prototype.processVisibleItem=function(e,t,n,r){var i=this.array,o=t.x,s=t.y,c=n.x,u=n.y,l=(0,a.floatColor)(r.color);i[e++]=o,i[e++]=s,i[e++]=l,i[e++]=c,i[e++]=u,i[e]=l},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations.u_matrix;t.uniformMatrix3fv(n,!1,e.matrix),t.drawArrays(t.LINES,0,this.verticesCount)},t}(s.EdgeProgram);t.default=f},7143:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(946),s=n(9406),c=o(n(445)),u=o(n(7324)),l=WebGLRenderingContext.UNSIGNED_BYTE,d=WebGLRenderingContext.FLOAT,h=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio"],f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return{VERTICES:4,ARRAY_ITEMS_PER_VERTEX:5,VERTEX_SHADER_SOURCE:c.default,FRAGMENT_SHADER_SOURCE:u.default,UNIFORMS:h,ATTRIBUTES:[{name:"a_position",size:2,type:d},{name:"a_normal",size:2,type:d},{name:"a_color",size:4,type:l,normalized:!0}]}},t.prototype.reallocateIndices=function(){for(var e=this.verticesCount,t=e+e/2,n=new this.IndicesArray(t),r=0,i=0;r<e;r+=4)n[i++]=r,n[i++]=r+1,n[i++]=r+2,n[i++]=r+2,n[i++]=r+1,n[i++]=r+3;this.indicesArray=n},t.prototype.processVisibleItem=function(e,t,n,r){var i=r.size||1,o=t.x,s=t.y,c=n.x,u=n.y,l=(0,a.floatColor)(r.color),d=c-o,h=u-s,f=d*d+h*h,p=0,g=0;f&&(p=-h*(f=1/Math.sqrt(f))*i,g=d*f*i);var m=this.array;m[e++]=o,m[e++]=s,m[e++]=p,m[e++]=g,m[e++]=l,m[e++]=o,m[e++]=s,m[e++]=-p,m[e++]=-g,m[e++]=l,m[e++]=c,m[e++]=u,m[e++]=p,m[e++]=g,m[e++]=l,m[e++]=c,m[e++]=u,m[e++]=-p,m[e++]=-g,m[e]=l},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_matrix,i=n.u_zoomRatio,o=n.u_correctionRatio,a=n.u_sizeRatio;if(t.uniformMatrix3fv(r,!1,e.matrix),t.uniform1f(i,e.zoomRatio),t.uniform1f(a,e.sizeRatio),t.uniform1f(o,e.correctionRatio),!this.indicesArray)throw new Error("EdgeRectangleProgram: indicesArray should be allocated when drawing!");t.drawElements(t.TRIANGLES,this.indicesArray.length,this.indicesType,0)},t}(s.EdgeProgram);t.default=f},3658:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(946),s=n(9406),c=o(n(4644)),u=o(n(4198)),l=WebGLRenderingContext.UNSIGNED_BYTE,d=WebGLRenderingContext.FLOAT,h=["u_matrix","u_sizeRatio","u_correctionRatio"],f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return{VERTICES:3,ARRAY_ITEMS_PER_VERTEX:5,VERTEX_SHADER_SOURCE:c.default,FRAGMENT_SHADER_SOURCE:u.default,UNIFORMS:h,ATTRIBUTES:[{name:"a_position",size:2,type:d},{name:"a_normal",size:2,type:d},{name:"a_color",size:4,type:l,normalized:!0}]}},t.prototype.processVisibleItem=function(e,t,n,r){var i=r.size||1,o=t.x,s=t.y,c=n.x,u=n.y,l=(0,a.floatColor)(r.color),d=c-o,h=u-s,f=d*d+h*h,p=0,g=0;f&&(p=-h*(f=1/Math.sqrt(f))*i,g=d*f*i);var m=this.array;m[e++]=o,m[e++]=s,m[e++]=p,m[e++]=g,m[e++]=l,m[e++]=o,m[e++]=s,m[e++]=-p,m[e++]=-g,m[e++]=l,m[e++]=c,m[e++]=u,m[e++]=0,m[e++]=0,m[e]=l},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_matrix,i=n.u_sizeRatio,o=n.u_correctionRatio;t.uniformMatrix3fv(r,!1,e.matrix),t.uniform1f(i,e.sizeRatio),t.uniform1f(o,e.correctionRatio),t.drawArrays(t.TRIANGLES,0,this.verticesCount)},t}(s.EdgeProgram);t.default=f},2369:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(946),s=n(4460),c=o(n(5430)),u=o(n(8230)),l=WebGLRenderingContext.UNSIGNED_BYTE,d=WebGLRenderingContext.FLOAT,h=["u_sizeRatio","u_correctionRatio","u_matrix"],f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return{VERTICES:3,ARRAY_ITEMS_PER_VERTEX:5,VERTEX_SHADER_SOURCE:c.default,FRAGMENT_SHADER_SOURCE:u.default,UNIFORMS:h,ATTRIBUTES:[{name:"a_position",size:2,type:d},{name:"a_size",size:1,type:d},{name:"a_color",size:4,type:l,normalized:!0},{name:"a_angle",size:1,type:d}]}},t.prototype.processVisibleItem=function(e,n){var r=this.array,i=(0,a.floatColor)(n.color);r[e++]=n.x,r[e++]=n.y,r[e++]=n.size,r[e++]=i,r[e++]=t.ANGLE_1,r[e++]=n.x,r[e++]=n.y,r[e++]=n.size,r[e++]=i,r[e++]=t.ANGLE_2,r[e++]=n.x,r[e++]=n.y,r[e++]=n.size,r[e++]=i,r[e]=t.ANGLE_3},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_sizeRatio,i=n.u_correctionRatio,o=n.u_matrix;t.uniform1f(r,e.sizeRatio),t.uniform1f(i,e.correctionRatio),t.uniformMatrix3fv(o,!1,e.matrix),t.drawArrays(t.TRIANGLES,0,this.verticesCount)},t.ANGLE_1=0,t.ANGLE_2=2*Math.PI/3,t.ANGLE_3=4*Math.PI/3,t}(s.NodeProgram);t.default=f},8128:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(946),s=n(4460),c=o(n(406)),u=o(n(2594)),l=WebGLRenderingContext.UNSIGNED_BYTE,d=WebGLRenderingContext.FLOAT,h=["u_sizeRatio","u_pixelRatio","u_matrix"],f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDefinition=function(){return{VERTICES:1,ARRAY_ITEMS_PER_VERTEX:4,VERTEX_SHADER_SOURCE:c.default,FRAGMENT_SHADER_SOURCE:u.default,UNIFORMS:h,ATTRIBUTES:[{name:"a_position",size:2,type:d},{name:"a_size",size:1,type:d},{name:"a_color",size:4,type:l,normalized:!0}]}},t.prototype.processVisibleItem=function(e,t){var n=this.array;n[e++]=t.x,n[e++]=t.y,n[e++]=t.size,n[e]=(0,a.floatColor)(t.color)},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_sizeRatio,i=n.u_pixelRatio,o=n.u_matrix;t.uniform1f(r,e.sizeRatio),t.uniform1f(i,e.pixelRatio),t.uniformMatrix3fv(o,!1,e.matrix),t.drawArrays(t.POINTS,0,this.verticesCount)},t}(s.NodeProgram);t.default=f},3713:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n";e.exports=n})()},8464:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_radius;\nattribute vec4 a_color;\nattribute vec3 a_barycentric;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadWidthLengthRatio = 0.66;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl and\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\n  // happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\n\n  float da = a_barycentric.x;\n  float db = a_barycentric.y;\n  float dc = a_barycentric.z;\n\n  vec2 delta = vec2(\n      da * (webGLNodeRadius * unitNormal.y)\n    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)\n    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),\n\n      da * (-webGLNodeRadius * unitNormal.x)\n    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)\n    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)\n  );\n\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=n})()},7523:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\nattribute float a_radius;\n\nuniform mat3 u_matrix;\nuniform float u_zoomRatio;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl. Please read it to\n  // get better comments on what's happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n\n  // Here, we move the point to leave space for the arrow head:\n  float direction = sign(a_radius);\n  float webGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);\n\n  v_thickness = webGLThickness / u_zoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=n})()},8167:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n";e.exports=n})()},7467:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="attribute vec2 a_position;\nattribute vec4 a_color;\n\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  // Scale from [[-1 1] [-1 1]] to the container:\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=n})()},7324:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 0.001;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, transparent, t);\n}\n";e.exports=n})()},445:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r='attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_zoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // We require edges to be at least `minThickness` pixels thick *on screen*\n  // (so we need to compensate the size ratio):\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\n  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction\n  // ratio:\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\n\n  // For the fragment shader though, we need a thickness that takes the "magic"\n  // correction ratio into account (as in webGLThickness), but so that the\n  // antialiasing effect does not depend on the zoom level. So here\'s yet\n  // another thickness version:\n  v_thickness = webGLThickness / u_zoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n';e.exports=n})()},4198:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n";e.exports=n})()},4644:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  // The only different here with edge.vert.glsl is that we need to handle null\n  // input normal vector. Apart from that, you can read edge.vert.glsl more info\n  // on how it works:\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n  if (normalLength <= 0.0) unitNormal = a_normal;\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\n\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=n})()},8230:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\n\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_diffVector) - v_radius;\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  gl_FragColor = mix(v_color, transparent, t);\n}\n";e.exports=n})()},5430:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="attribute vec2 a_position;\nattribute float a_size;\nattribute float a_angle;\nattribute vec4 a_color;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\nconst float marginRatio = 1.05;\n\nvoid main() {\n  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\n  vec2 position = a_position + diffVector * marginRatio;\n  gl_Position = vec4(\n    (u_matrix * vec3(position, 1)).xy,\n    0,\n    1\n  );\n\n  v_border = u_correctionRatio;\n  v_diffVector = diffVector;\n  v_radius = size / 2.0 / marginRatio;\n\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=n})()},2594:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  gl_FragColor = mix(transparent, v_color, t);\n}\n";e.exports=n})()},406:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_sizeRatio;\nuniform float u_pixelRatio;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\n\n  v_border = (0.5 / a_size) * u_sizeRatio;\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=n})()},5358:(e,t)=>{"use strict";function n(e,t,n){var r="VERTEX"===e?t.VERTEX_SHADER:t.FRAGMENT_SHADER,i=t.createShader(r);if(null===i)throw new Error("loadShader: error while creating the shader");if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(i);throw t.deleteShader(i),new Error("loadShader: error while compiling the shader:\n".concat(o,"\n").concat(n))}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.loadProgram=t.loadFragmentShader=t.loadVertexShader=void 0,t.loadVertexShader=function(e,t){return n("VERTEX",e,t)},t.loadFragmentShader=function(e,t){return n("FRAGMENT",e,t)},t.loadProgram=function(e,t){var n,r,i=e.createProgram();if(null===i)throw new Error("loadProgram: error while creating the program.");for(n=0,r=t.length;n<r;n++)e.attachShader(i,t[n]);if(e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw e.deleteProgram(i),new Error("loadProgram: error while linking the program.");return i}},8489:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSettings=t.validateSettings=t.DEFAULT_EDGE_PROGRAM_CLASSES=t.DEFAULT_NODE_PROGRAM_CLASSES=t.DEFAULT_SETTINGS=void 0;var i=n(946),o=r(n(7172)),a=r(n(4768)),s=r(n(179)),c=r(n(8128)),u=r(n(7143)),l=r(n(3646));t.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeClickEvents:!1,enableEdgeWheelEvents:!1,enableEdgeHoverEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,zoomToSizeRatioFunction:Math.sqrt,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,labelRenderer:o.default,hoverRenderer:a.default,edgeLabelRenderer:s.default,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},t.DEFAULT_NODE_PROGRAM_CLASSES={circle:c.default},t.DEFAULT_EDGE_PROGRAM_CLASSES={arrow:l.default,line:u.default},t.validateSettings=function(e){if("number"!=typeof e.labelDensity||e.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var t=e.minCameraRatio,n=e.maxCameraRatio;if("number"==typeof t&&"number"==typeof n&&n<t)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")},t.resolveSettings=function(e){var n=(0,i.assign)({},t.DEFAULT_SETTINGS,e);return n.nodeProgramClasses=(0,i.assign)({},t.DEFAULT_NODE_PROGRAM_CLASSES,n.nodeProgramClasses),n.edgeProgramClasses=(0,i.assign)({},t.DEFAULT_EDGE_PROGRAM_CLASSES,n.edgeProgramClasses),n}},4938:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(146)),u=s(n(5484)),l=s(n(6724)),d=s(n(7975)),h=n(478),f=n(946),p=n(7332),g=n(8489),m=s(n(6583)),b=n(7635),y=n(6787);function v(e,t,n){if(!n.hasOwnProperty("x")||!n.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(t,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return n.color||(n.color=e.defaultNodeColor),n.label||""===n.label||(n.label=null),void 0!==n.label&&null!==n.label?n.label=""+n.label:n.label=null,n.size||(n.size=2),n.hasOwnProperty("hidden")||(n.hidden=!1),n.hasOwnProperty("highlighted")||(n.highlighted=!1),n.hasOwnProperty("forceLabel")||(n.forceLabel=!1),n.type&&""!==n.type||(n.type=e.defaultNodeType),n.zIndex||(n.zIndex=0),n}function w(e,t,n){return n.color||(n.color=e.defaultEdgeColor),n.label||(n.label=""),n.size||(n.size=.5),n.hasOwnProperty("hidden")||(n.hidden=!1),n.hasOwnProperty("forceLabel")||(n.forceLabel=!1),n.type&&""!==n.type||(n.type=e.defaultEdgeType),n.zIndex||(n.zIndex=0),n}var _=function(e){function t(t,n,r){void 0===r&&(r={});var i=e.call(this)||this;if(i.elements={},i.canvasContexts={},i.webGLContexts={},i.activeListeners={},i.quadtree=new d.default,i.labelGrid=new p.LabelGrid,i.nodeDataCache={},i.edgeDataCache={},i.nodesWithForcedLabels=[],i.edgesWithForcedLabels=[],i.nodeExtent={x:[0,1],y:[0,1]},i.matrix=(0,b.identity)(),i.invMatrix=(0,b.identity)(),i.correctionRatio=1,i.customBBox=null,i.normalizationFunction=(0,f.createNormalizationFunction)({x:[0,1],y:[0,1]}),i.cameraSizeRatio=1,i.width=0,i.height=0,i.pixelRatio=(0,f.getPixelRatio)(),i.displayedNodeLabels=new Set,i.displayedEdgeLabels=new Set,i.highlightedNodes=new Set,i.hoveredNode=null,i.hoveredEdge=null,i.renderFrame=null,i.renderHighlightedNodesFrame=null,i.needToProcess=!1,i.checkEdgesEventsFrame=null,i.nodePrograms={},i.nodeHoverPrograms={},i.edgePrograms={},i.settings=(0,g.resolveSettings)(r),(0,g.validateSettings)(i.settings),(0,f.validateGraph)(t),!(n instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");for(var o in i.graph=t,i.container=n,i.createWebGLContext("edges",{preserveDrawingBuffer:!0}),i.createCanvasContext("edgeLabels"),i.createWebGLContext("nodes"),i.createCanvasContext("labels"),i.createCanvasContext("hovers"),i.createWebGLContext("hoverNodes"),i.createCanvasContext("mouse"),i.webGLContexts){var a=i.webGLContexts[o];a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),a.enable(a.BLEND)}for(var s in i.settings.nodeProgramClasses){var c=i.settings.nodeProgramClasses[s];i.nodePrograms[s]=new c(i.webGLContexts.nodes,i);var h=c;s in i.settings.nodeHoverProgramClasses&&(h=i.settings.nodeHoverProgramClasses[s]),i.nodeHoverPrograms[s]=new h(i.webGLContexts.hoverNodes,i)}for(var s in i.settings.edgeProgramClasses){var y=i.settings.edgeProgramClasses[s];i.edgePrograms[s]=new y(i.webGLContexts.edges,i)}return i.resize(),i.camera=new u.default,i.bindCameraHandlers(),i.mouseCaptor=new l.default(i.elements.mouse,i),i.touchCaptor=new m.default(i.elements.mouse,i),i.bindEventHandlers(),i.bindGraphHandlers(),i.handleSettingsUpdate(),i.refresh(),i}return i(t,e),t.prototype.createCanvas=function(e){var t=(0,f.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(e)});return this.elements[e]=t,this.container.appendChild(t),t},t.prototype.createCanvasContext=function(e){var t=this.createCanvas(e);return this.canvasContexts[e]=t.getContext("2d",{preserveDrawingBuffer:!1,antialias:!1}),this},t.prototype.createWebGLContext=function(e,t){var n,r=this.createCanvas(e),i=o({preserveDrawingBuffer:!1,antialias:!1},t||{});return(n=r.getContext("webgl2",i))||(n=r.getContext("webgl",i)),n||(n=r.getContext("experimental-webgl",i)),this.webGLContexts[e]=n,this},t.prototype.bindCameraHandlers=function(){var e=this;return this.activeListeners.camera=function(){e.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this},t.prototype.mouseIsOnNode=function(e,t,n){var r=e.x,i=e.y,o=t.x,a=t.y;return r>o-n&&r<o+n&&i>a-n&&i<a+n&&Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))<n},t.prototype.getQuadNodes=function(e){var t=this.viewportToFramedGraph(e);return this.quadtree.point(t.x,1-t.y)},t.prototype.getNodeAtPosition=function(e){for(var t=e.x,n=e.y,r=this.getQuadNodes(e),i=1/0,o=null,a=0,s=r.length;a<s;a++){var c=r[a],u=this.nodeDataCache[c],l=this.framedGraphToViewport(u),d=this.scaleSize(u.size);if(!u.hidden&&this.mouseIsOnNode(e,l,d)){var h=Math.sqrt(Math.pow(t-l.x,2)+Math.pow(n-l.y,2));h<i&&(i=h,o=c)}}return o},t.prototype.bindEventHandlers=function(){var e=this;this.activeListeners.handleResize=function(){e.scheduleRender()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(t){var n={event:t,preventSigmaDefault:function(){t.preventSigmaDefault()}},r=e.getNodeAtPosition(t);if(r&&e.hoveredNode!==r&&!e.nodeDataCache[r].hidden)return e.hoveredNode&&e.emit("leaveNode",o(o({},n),{node:e.hoveredNode})),e.hoveredNode=r,e.emit("enterNode",o(o({},n),{node:r})),void e.scheduleHighlightedNodesRender();if(e.hoveredNode){var i=e.nodeDataCache[e.hoveredNode],a=e.framedGraphToViewport(i),s=e.scaleSize(i.size);if(!e.mouseIsOnNode(t,a,s)){var c=e.hoveredNode;return e.hoveredNode=null,e.emit("leaveNode",o(o({},n),{node:c})),void e.scheduleHighlightedNodesRender()}}!0===e.settings.enableEdgeHoverEvents?e.checkEdgeHoverEvents(n):"debounce"===e.settings.enableEdgeHoverEvents&&(e.checkEdgesEventsFrame||(e.checkEdgesEventsFrame=(0,f.requestFrame)((function(){e.checkEdgeHoverEvents(n),e.checkEdgesEventsFrame=null}))))};var t=function(t){return function(n){var r={event:n,preventSigmaDefault:function(){n.preventSigmaDefault()}},i=n.original.isFakeSigmaMouseEvent?e.getNodeAtPosition(n):e.hoveredNode;if(i)return e.emit("".concat(t,"Node"),o(o({},r),{node:i}));if("wheel"===t?e.settings.enableEdgeWheelEvents:e.settings.enableEdgeClickEvents){var a=e.getEdgeAtPoint(n.x,n.y);if(a)return e.emit("".concat(t,"Edge"),o(o({},r),{edge:a}))}return e.emit("".concat(t,"Stage"),r)}};return this.activeListeners.handleClick=t("click"),this.activeListeners.handleRightClick=t("rightClick"),this.activeListeners.handleDoubleClick=t("doubleClick"),this.activeListeners.handleWheel=t("wheel"),this.activeListeners.handleDown=t("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},t.prototype.bindGraphHandlers=function(){var e=this,t=this.graph;return this.activeListeners.graphUpdate=function(){e.scheduleRefresh()},this.activeListeners.dropNodeGraphUpdate=function(t){delete e.nodeDataCache[t.key],e.hoveredNode===t.key&&(e.hoveredNode=null),e.activeListeners.graphUpdate()},this.activeListeners.dropEdgeGraphUpdate=function(t){delete e.edgeDataCache[t.key],e.hoveredEdge===t.key&&(e.hoveredEdge=null),e.activeListeners.graphUpdate()},this.activeListeners.clearEdgesGraphUpdate=function(){e.edgeDataCache={},e.hoveredEdge=null,e.activeListeners.graphUpdate()},this.activeListeners.clearGraphUpdate=function(){e.nodeDataCache={},e.hoveredNode=null,e.activeListeners.clearEdgesGraphUpdate()},t.on("nodeAdded",this.activeListeners.graphUpdate),t.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),t.on("nodeAttributesUpdated",this.activeListeners.graphUpdate),t.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),t.on("edgeAdded",this.activeListeners.graphUpdate),t.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),t.on("edgeAttributesUpdated",this.activeListeners.graphUpdate),t.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),t.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),t.on("cleared",this.activeListeners.clearGraphUpdate),this},t.prototype.unbindGraphHandlers=function(){var e=this.graph;e.removeListener("nodeAdded",this.activeListeners.graphUpdate),e.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),e.removeListener("nodeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgeAdded",this.activeListeners.graphUpdate),e.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.removeListener("edgeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.removeListener("cleared",this.activeListeners.clearGraphUpdate)},t.prototype.checkEdgeHoverEvents=function(e){var t=this.hoveredNode?null:this.getEdgeAtPoint(e.event.x,e.event.y);return t!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",o(o({},e),{edge:this.hoveredEdge})),t&&this.emit("enterEdge",o(o({},e),{edge:t})),this.hoveredEdge=t),this},t.prototype.getEdgeAtPoint=function(e,t){var n,r,i=this,o=this.edgeDataCache,s=this.nodeDataCache;if(!(0,y.isPixelColored)(this.webGLContexts.edges,e*this.pixelRatio,t*this.pixelRatio))return null;var c=this.viewportToGraph({x:e,y:t}),u=c.x,l=c.y,d=0;if(this.graph.someEdge((function(e,t,n,r,a,c){var u=a.x,l=a.y,h=c.x,f=c.y;if(o[e].hidden||s[n].hidden||s[r].hidden)return!1;if(u!==h||l!==f){var p=Math.sqrt(Math.pow(h-u,2)+Math.pow(f-l,2)),g=i.graphToViewport({x:u,y:l}),m=g.x,b=g.y,y=i.graphToViewport({x:h,y:f}),v=y.x,w=y.y,_=Math.sqrt(Math.pow(v-m,2)+Math.pow(w-b,2));return d=p/_,!0}})),!d)return null;var h=this.graph.filterEdges((function(e,t,n,r,a,c){return!(o[e].hidden||s[n].hidden||s[r].hidden)&&(!!(0,y.doEdgeCollideWithPoint)(u,l,a.x,a.y,c.x,c.y,o[e].size*d/i.cameraSizeRatio)||void 0)}));if(0===h.length)return null;var f=h[h.length-1],p=-1/0;try{for(var g=a(h),m=g.next();!m.done;m=g.next()){var b=m.value,v=this.graph.getEdgeAttribute(b,"zIndex");v>=p&&(f=b,p=v)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}return f},t.prototype.process=function(){var e=this,t=this.graph,n=this.settings,r=this.getDimensions(),i=[1/0,-1/0],o=[1/0,-1/0];this.quadtree.clear(),this.labelGrid.resizeAndClear(r,n.labelGridCellSize),this.highlightedNodes=new Set,this.nodeExtent=(0,f.graphExtent)(t),this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[];var a=new u.default,s=(0,f.matrixFromCamera)(a.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.normalizationFunction=(0,f.createNormalizationFunction)(this.customBBox||this.nodeExtent);for(var c={},l=t.nodes(),d=0,h=l.length;d<h;d++){var p=l[d],g=Object.assign({},t.getNodeAttributes(p));n.nodeReducer&&(g=n.nodeReducer(p,g)),c[(b=v(this.settings,p,g)).type]=(c[b.type]||0)+1,this.nodeDataCache[p]=b,this.normalizationFunction.applyTo(b),b.forceLabel&&this.nodesWithForcedLabels.push(p),this.settings.zIndex&&(b.zIndex<i[0]&&(i[0]=b.zIndex),b.zIndex>i[1]&&(i[1]=b.zIndex))}for(var m in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(m))throw new Error('Sigma: could not find a suitable program for node type "'.concat(m,'"!'));this.nodePrograms[m].reallocate(c[m]||0),c[m]=0}for(this.settings.zIndex&&i[0]!==i[1]&&(l=(0,f.zIndexOrdering)(i,(function(t){return e.nodeDataCache[t].zIndex}),l)),d=0,h=l.length;d<h;d++){p=l[d];var b=this.nodeDataCache[p];this.quadtree.add(p,b.x,1-b.y,b.size/this.width),"string"!=typeof b.label||b.hidden||this.labelGrid.add(p,b.size,this.framedGraphToViewport(b,{matrix:s}));var y=this.nodePrograms[b.type];if(!y)throw new Error('Sigma: could not find a suitable program for node type "'.concat(b.type,'"!'));y.process(c[b.type]++,b),b.highlighted&&!b.hidden&&this.highlightedNodes.add(p)}this.labelGrid.organize();var _={},E=t.edges();for(d=0,h=E.length;d<h;d++){var x=E[d];g=Object.assign({},t.getEdgeAttributes(x)),n.edgeReducer&&(g=n.edgeReducer(x,g)),_[(b=w(this.settings,0,g)).type]=(_[b.type]||0)+1,this.edgeDataCache[x]=b,b.forceLabel&&!b.hidden&&this.edgesWithForcedLabels.push(x),this.settings.zIndex&&(b.zIndex<o[0]&&(o[0]=b.zIndex),b.zIndex>o[1]&&(o[1]=b.zIndex))}for(var m in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(m))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(m,'"!'));this.edgePrograms[m].reallocate(_[m]||0),_[m]=0}for(this.settings.zIndex&&o[0]!==o[1]&&(E=(0,f.zIndexOrdering)(o,(function(t){return e.edgeDataCache[t].zIndex}),E)),d=0,h=E.length;d<h;d++){x=E[d],b=this.edgeDataCache[x];var S=t.extremities(x),M=this.nodeDataCache[S[0]],A=this.nodeDataCache[S[1]];this.edgePrograms[b.type].process(_[b.type]++,M,A,b)}return this},t.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},t.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var e=this.camera.getState(),t=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity);(0,c.default)(t,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var n=this.canvasContexts.labels,r=0,i=t.length;r<i;r++){var a=t[r],s=this.nodeDataCache[a];if(!this.displayedNodeLabels.has(a)&&!s.hidden){var u=this.framedGraphToViewport(s),l=u.x,d=u.y,h=this.scaleSize(s.size);!s.forceLabel&&h<this.settings.labelRenderedSizeThreshold||l<-150||l>this.width+150||d<-50||d>this.height+50||(this.displayedNodeLabels.add(a),this.settings.labelRenderer(n,o(o({key:a},s),{size:h,x:l,y:d}),this.settings))}}return this},t.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var e=this.canvasContexts.edgeLabels;e.clearRect(0,0,this.width,this.height);for(var t=(0,p.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes}).concat(this.edgesWithForcedLabels),n=new Set,r=0,i=t.length;r<i;r++){var a=t[r],s=this.graph.extremities(a),c=this.nodeDataCache[s[0]],u=this.nodeDataCache[s[1]],l=this.edgeDataCache[a];n.has(a)||l.hidden||c.hidden||u.hidden||(this.settings.edgeLabelRenderer(e,o(o({key:a},l),{size:this.scaleSize(l.size)}),o(o(o({key:s[0]},c),this.framedGraphToViewport(c)),{size:this.scaleSize(c.size)}),o(o(o({key:s[1]},u),this.framedGraphToViewport(u)),{size:this.scaleSize(u.size)}),this.settings),n.add(a))}return this.displayedEdgeLabels=n,this},t.prototype.renderHighlightedNodes=function(){var e=this,t=this.canvasContexts.hovers;t.clearRect(0,0,this.width,this.height);var n=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&n.push(this.hoveredNode),this.highlightedNodes.forEach((function(t){t!==e.hoveredNode&&n.push(t)})),n.forEach((function(n){return function(n){var r=e.nodeDataCache[n],i=e.framedGraphToViewport(r),a=i.x,s=i.y,c=e.scaleSize(r.size);e.settings.hoverRenderer(t,o(o({key:n},r),{size:c,x:a,y:s}),e.settings)}(n)}));var r={};for(var i in n.forEach((function(t){var n=e.nodeDataCache[t].type;r[n]=(r[n]||0)+1})),this.nodeHoverPrograms)this.nodeHoverPrograms[i].reallocate(r[i]||0),r[i]=0;for(var i in n.forEach((function(t){var n=e.nodeDataCache[t];e.nodeHoverPrograms[n.type].process(r[n.type]++,n)})),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.nodeHoverPrograms)this.nodeHoverPrograms[i].render({matrix:this.matrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,sizeRatio:this.settings.zoomToSizeRatioFunction(this.camera.ratio),correctionRatio:this.correctionRatio})},t.prototype.scheduleHighlightedNodesRender=function(){var e=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,f.requestFrame)((function(){e.renderHighlightedNodesFrame=null,e.renderHighlightedNodes(),e.renderEdgeLabels()})))},t.prototype.render=function(){var e=this;this.emit("beforeRender");var t=function(){return e.emit("afterRender"),e};if(this.renderFrame&&((0,f.cancelFrame)(this.renderFrame),this.renderFrame=null),this.resize(),this.updateCachedValues(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),!this.graph.order)return t();var n=this.mouseCaptor,r=this.camera.isAnimated()||n.isMoving||n.draggedEvents||n.currentWheelDirection,i=this.camera.getState(),o=this.getDimensions(),a=this.getGraphDimensions(),s=this.getSetting("stagePadding")||0;this.matrix=(0,f.matrixFromCamera)(i,o,a,s),this.invMatrix=(0,f.matrixFromCamera)(i,o,a,s,!0),this.correctionRatio=(0,f.getMatrixImpact)(this.matrix,i,o);var c={matrix:this.matrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,sizeRatio:this.settings.zoomToSizeRatioFunction(this.camera.ratio),correctionRatio:this.correctionRatio};for(var u in this.nodePrograms)this.nodePrograms[u].render(c);if(!this.settings.hideEdgesOnMove||!r)for(var u in this.edgePrograms)this.edgePrograms[u].render(c);return this.settings.hideLabelsOnMove&&r||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),t()},t.prototype.updateCachedValues=function(){var e=this.camera.getState().ratio;this.cameraSizeRatio=this.settings.zoomToSizeRatioFunction(e)},t.prototype.getCamera=function(){return this.camera},t.prototype.getContainer=function(){return this.container},t.prototype.getGraph=function(){return this.graph},t.prototype.setGraph=function(e){e!==this.graph&&(this.unbindGraphHandlers(),this.nodeDataCache={},this.edgeDataCache={},this.displayedNodeLabels.clear(),this.displayedEdgeLabels.clear(),this.highlightedNodes.clear(),this.hoveredNode=null,this.hoveredEdge=null,this.nodesWithForcedLabels.length=0,this.edgesWithForcedLabels.length=0,null!==this.checkEdgesEventsFrame&&((0,f.cancelFrame)(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=e,this.bindGraphHandlers(),this.refresh())},t.prototype.getMouseCaptor=function(){return this.mouseCaptor},t.prototype.getTouchCaptor=function(){return this.touchCaptor},t.prototype.getDimensions=function(){return{width:this.width,height:this.height}},t.prototype.getGraphDimensions=function(){var e=this.customBBox||this.nodeExtent;return{width:e.x[1]-e.x[0]||1,height:e.y[1]-e.y[0]||1}},t.prototype.getNodeDisplayData=function(e){var t=this.nodeDataCache[e];return t?Object.assign({},t):void 0},t.prototype.getEdgeDisplayData=function(e){var t=this.edgeDataCache[e];return t?Object.assign({},t):void 0},t.prototype.getNodeDisplayedLabels=function(){return new Set(this.displayedNodeLabels)},t.prototype.getEdgeDisplayedLabels=function(){return new Set(this.displayedEdgeLabels)},t.prototype.getSettings=function(){return o({},this.settings)},t.prototype.getSetting=function(e){return this.settings[e]},t.prototype.setSetting=function(e,t){return this.settings[e]=t,(0,g.validateSettings)(this.settings),this.handleSettingsUpdate(),this.scheduleRefresh(),this},t.prototype.updateSetting=function(e,t){return this.settings[e]=t(this.settings[e]),(0,g.validateSettings)(this.settings),this.handleSettingsUpdate(),this.scheduleRefresh(),this},t.prototype.resize=function(){var e=this.width,t=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,f.getPixelRatio)(),0===this.width){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");this.width=1}if(0===this.height){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");this.height=1}if(e===this.width&&t===this.height)return this;for(var n in this.emit("resize"),this.elements){var r=this.elements[n];r.style.width=this.width+"px",r.style.height=this.height+"px"}for(var n in this.canvasContexts)this.elements[n].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[n].setAttribute("height",this.height*this.pixelRatio+"px"),1!==this.pixelRatio&&this.canvasContexts[n].scale(this.pixelRatio,this.pixelRatio);for(var n in this.webGLContexts)this.elements[n].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[n].setAttribute("height",this.height*this.pixelRatio+"px"),this.webGLContexts[n].viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);return this},t.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},t.prototype.refresh=function(){return this.needToProcess=!0,this.render(),this},t.prototype.scheduleRender=function(){var e=this;return this.renderFrame||(this.renderFrame=(0,f.requestFrame)((function(){e.render()}))),this},t.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this.scheduleRender(),this},t.prototype.getViewportZoomedState=function(e,t){var n=this.camera.getState(),r=n.ratio,i=n.angle,o=n.x,a=n.y,s=t/r,c={x:this.width/2,y:this.height/2},u=this.viewportToFramedGraph(e),l=this.viewportToFramedGraph(c);return{angle:i,x:(u.x-l.x)*(1-s)+o,y:(u.y-l.y)*(1-s)+a,ratio:t}},t.prototype.viewRectangle=function(){var e=0*this.width/8,t=0*this.height/8,n=this.viewportToFramedGraph({x:0-e,y:0-t}),r=this.viewportToFramedGraph({x:this.width+e,y:0-t}),i=this.viewportToFramedGraph({x:0,y:this.height+t});return{x1:n.x,y1:n.y,x2:r.x,y2:r.y,height:r.y-i.y}},t.prototype.framedGraphToViewport=function(e,t){void 0===t&&(t={});var n=!!t.cameraState||!!t.viewportDimensions||!!t.graphDimensions,r=t.matrix?t.matrix:n?(0,f.matrixFromCamera)(t.cameraState||this.camera.getState(),t.viewportDimensions||this.getDimensions(),t.graphDimensions||this.getGraphDimensions(),t.padding||this.getSetting("stagePadding")||0):this.matrix,i=(0,b.multiplyVec2)(r,e);return{x:(1+i.x)*this.width/2,y:(1-i.y)*this.height/2}},t.prototype.viewportToFramedGraph=function(e,t){void 0===t&&(t={});var n=!!t.cameraState||!!t.viewportDimensions||!t.graphDimensions,r=t.matrix?t.matrix:n?(0,f.matrixFromCamera)(t.cameraState||this.camera.getState(),t.viewportDimensions||this.getDimensions(),t.graphDimensions||this.getGraphDimensions(),t.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,i=(0,b.multiplyVec2)(r,{x:e.x/this.width*2-1,y:1-e.y/this.height*2});return isNaN(i.x)&&(i.x=0),isNaN(i.y)&&(i.y=0),i},t.prototype.viewportToGraph=function(e,t){return void 0===t&&(t={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(e,t))},t.prototype.graphToViewport=function(e,t){return void 0===t&&(t={}),this.framedGraphToViewport(this.normalizationFunction(e),t)},t.prototype.getBBox=function(){return(0,f.graphExtent)(this.graph)},t.prototype.getCustomBBox=function(){return this.customBBox},t.prototype.setCustomBBox=function(e){return this.customBBox=e,this.scheduleRender(),this},t.prototype.kill=function(){this.emit("kill"),this.removeAllListeners(),this.camera.removeListener("updated",this.activeListeners.camera),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.quadtree=new d.default,this.nodeDataCache={},this.edgeDataCache={},this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[],this.highlightedNodes.clear(),this.renderFrame&&((0,f.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,f.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var e=this.container;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.scaleSize=function(e){return e/this.cameraSizeRatio},t.prototype.getCanvases=function(){return o({},this.elements)},t}(h.TypedEventEmitter);t.default=_},478:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var o=function(e){function t(){var t=e.call(this)||this;return t.rawEmitter=t,t}return i(t,e),t}(n(5939).EventEmitter);t.TypedEventEmitter=o},9466:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.animateNodes=t.ANIMATE_DEFAULTS=void 0;var i=n(946),o=r(n(5799));t.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150},t.animateNodes=function(e,n,r,a){var s=Object.assign({},t.ANIMATE_DEFAULTS,r),c="function"==typeof s.easing?s.easing:o.default[s.easing],u=Date.now(),l={};for(var d in n){var h=n[d];for(var f in l[d]={},h)l[d][f]=e.getNodeAttribute(d,f)}var p=null,g=function(){p=null;var t=(Date.now()-u)/s.duration;if(t>=1){for(var r in n){var o=n[r];for(var d in o)e.setNodeAttribute(r,d,o[d])}"function"==typeof a&&a()}else{for(var r in t=c(t),n){o=n[r];var h=l[r];for(var d in o)e.setNodeAttribute(r,d,o[d]*t+h[d]*(1-t))}p=(0,i.requestFrame)(g)}};return g(),function(){p&&(0,i.cancelFrame)(p)}}},4474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML_COLORS=void 0,t.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"}},5799:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cubicInOut=t.cubicOut=t.cubicIn=t.quadraticInOut=t.quadraticOut=t.quadraticIn=t.linear=void 0,t.linear=function(e){return e},t.quadraticIn=function(e){return e*e},t.quadraticOut=function(e){return e*(2-e)},t.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},t.cubicIn=function(e){return e*e*e},t.cubicOut=function(e){return--e*e*e+1},t.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};var n={linear:t.linear,quadraticIn:t.quadraticIn,quadraticOut:t.quadraticOut,quadraticInOut:t.quadraticInOut,cubicIn:t.cubicIn,cubicOut:t.cubicOut,cubicInOut:t.cubicInOut};t.default=n},6787:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doEdgeCollideWithPoint=t.isPixelColored=void 0,t.isPixelColored=function(e,t,n){var r=new Uint8Array(4);return e.readPixels(t,e.drawingBufferHeight-n,1,1,e.RGBA,e.UNSIGNED_BYTE,r),r[3]>0},t.doEdgeCollideWithPoint=function(e,t,n,r,i,o,a){return!(e<n-a&&e<i-a||t<r-a&&t<o-a||e>n+a&&e>i+a||t>r+a&&t>o+a||!(Math.abs((i-n)*(r-t)-(n-e)*(o-r))/Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2))<a/2))}},946:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateGraph=t.canUse32BitsIndices=t.extractPixel=t.getMatrixImpact=t.matrixFromCamera=t.getCorrectionRatio=t.floatColor=t.floatArrayColor=t.parseColor=t.zIndexOrdering=t.createNormalizationFunction=t.graphExtent=t.getPixelRatio=t.createElement=t.cancelFrame=t.requestFrame=t.assignDeep=t.assign=t.isPlainObject=void 0;var o=i(n(9729)),a=n(7635),s=n(4474);function c(e){return"object"==typeof e&&null!==e&&e.constructor===Object}t.isPlainObject=c,t.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=e||{};for(var r=0,i=t.length;r<i;r++){var o=t[r];o&&Object.assign(e,o)}return e},t.assignDeep=function e(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t=t||{};for(var i=0,o=n.length;i<o;i++){var a=n[i];if(a)for(var s in a)c(a[s])?t[s]=e(t[s],a[s]):t[s]=a[s]}return t},t.requestFrame="undefined"!=typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,0)},t.cancelFrame="undefined"!=typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:function(e){return clearTimeout(e)},t.createElement=function(e,t,n){var r=document.createElement(e);if(t)for(var i in t)r.style[i]=t[i];if(n)for(var i in n)r.setAttribute(i,n[i]);return r},t.getPixelRatio=function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},t.graphExtent=function(e){if(!e.order)return{x:[0,1],y:[0,1]};var t=1/0,n=-1/0,r=1/0,i=-1/0;return e.forEachNode((function(e,o){var a=o.x,s=o.y;a<t&&(t=a),a>n&&(n=a),s<r&&(r=s),s>i&&(i=s)})),{x:[t,n],y:[r,i]}},t.createNormalizationFunction=function(e){var t=r(e.x,2),n=t[0],i=t[1],o=r(e.y,2),a=o[0],s=o[1],c=Math.max(i-n,s-a),u=(i+n)/2,l=(s+a)/2;(0===c||Math.abs(c)===1/0||isNaN(c))&&(c=1),isNaN(u)&&(u=0),isNaN(l)&&(l=0);var d=function(e){return{x:.5+(e.x-u)/c,y:.5+(e.y-l)/c}};return d.applyTo=function(e){e.x=.5+(e.x-u)/c,e.y=.5+(e.y-l)/c},d.inverse=function(e){return{x:u+c*(e.x-.5),y:l+c*(e.y-.5)}},d.ratio=c,d},t.zIndexOrdering=function(e,t,n){return n.sort((function(e,n){var r=t(e)||0,i=t(n)||0;return r<i?-1:r>i?1:0}))};var u=new Int8Array(4),l=new Int32Array(u.buffer,0,1),d=new Float32Array(u.buffer,0,1),h=/^\s*rgba?\s*\(/,f=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function p(e){var t=0,n=0,r=0,i=1;if("#"===e[0])4===e.length?(t=parseInt(e.charAt(1)+e.charAt(1),16),n=parseInt(e.charAt(2)+e.charAt(2),16),r=parseInt(e.charAt(3)+e.charAt(3),16)):(t=parseInt(e.charAt(1)+e.charAt(2),16),n=parseInt(e.charAt(3)+e.charAt(4),16),r=parseInt(e.charAt(5)+e.charAt(6),16)),9===e.length&&(i=parseInt(e.charAt(7)+e.charAt(8),16)/255);else if(h.test(e)){var o=e.match(f);o&&(t=+o[1],n=+o[2],r=+o[3],o[4]&&(i=+o[4]))}return{r:t,g:n,b:r,a:i}}t.parseColor=p;var g={};for(var m in s.HTML_COLORS)g[m]=b(s.HTML_COLORS[m]),g[s.HTML_COLORS[m]]=g[m];function b(e){if(void 0!==g[e])return g[e];var t=p(e),n=t.r,r=t.g,i=t.b,o=t.a;o=255*o|0,l[0]=4278190079&(o<<24|i<<16|r<<8|n);var a=d[0];return g[e]=a,a}function y(e,t){var n=e.height/e.width,r=t.height/t.width;return n<1&&r>1||n>1&&r<1?1:Math.min(Math.max(r,1/r),Math.max(1/n,n))}t.floatArrayColor=function(e){var t=p(e=s.HTML_COLORS[e]||e),n=t.r,r=t.g,i=t.b,o=t.a;return new Float32Array([n/255,r/255,i/255,o])},t.floatColor=b,t.getCorrectionRatio=y,t.matrixFromCamera=function(e,t,n,r,i){var o=e.angle,s=e.ratio,c=e.x,u=e.y,l=t.width,d=t.height,h=(0,a.identity)(),f=Math.min(l,d)-2*r,p=y(t,n);return i?((0,a.multiply)(h,(0,a.translate)((0,a.identity)(),c,u)),(0,a.multiply)(h,(0,a.scale)((0,a.identity)(),s)),(0,a.multiply)(h,(0,a.rotate)((0,a.identity)(),o)),(0,a.multiply)(h,(0,a.scale)((0,a.identity)(),l/f/2/p,d/f/2/p))):((0,a.multiply)(h,(0,a.scale)((0,a.identity)(),f/l*2*p,f/d*2*p)),(0,a.multiply)(h,(0,a.rotate)((0,a.identity)(),-o)),(0,a.multiply)(h,(0,a.scale)((0,a.identity)(),1/s)),(0,a.multiply)(h,(0,a.translate)((0,a.identity)(),-c,-u))),h},t.getMatrixImpact=function(e,t,n){var r=(0,a.multiplyVec2)(e,{x:Math.cos(t.angle),y:Math.sin(t.angle)},0),i=r.x,o=r.y;return 1/Math.sqrt(Math.pow(i,2)+Math.pow(o,2))/n.width},t.extractPixel=function(e,t,n,r){var i=r||new Uint8Array(4);return e.readPixels(t,n,1,1,e.RGBA,e.UNSIGNED_BYTE,i),i},t.canUse32BitsIndices=function(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||!!e.getExtension("OES_element_index_uint")},t.validateGraph=function(e){if(!(0,o.default)(e))throw new Error("Sigma: invalid graph instance.");e.forEachNode((function(e,t){if(!Number.isFinite(t.x)||!Number.isFinite(t.y))throw new Error("Sigma: Coordinates of node ".concat(e," are invalid. A node must have a numeric 'x' and 'y' attribute."))}))}},7635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiplyVec2=t.multiply=t.translate=t.rotate=t.scale=t.identity=void 0,t.identity=function(){return Float32Array.of(1,0,0,0,1,0,0,0,1)},t.scale=function(e,t,n){return e[0]=t,e[4]="number"==typeof n?n:t,e},t.rotate=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[3]=-n,e[4]=r,e},t.translate=function(e,t,n){return e[6]=t,e[7]=n,e},t.multiply=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],d=t[0],h=t[1],f=t[2],p=t[3],g=t[4],m=t[5],b=t[6],y=t[7],v=t[8];return e[0]=d*n+h*o+f*c,e[1]=d*r+h*a+f*u,e[2]=d*i+h*s+f*l,e[3]=p*n+g*o+m*c,e[4]=p*r+g*a+m*u,e[5]=p*i+g*s+m*l,e[6]=b*n+y*o+v*c,e[7]=b*r+y*a+v*u,e[8]=b*i+y*s+v*l,e},t.multiplyVec2=function(e,t,n){void 0===n&&(n=1);var r=e[0],i=e[1],o=e[3],a=e[4],s=e[6],c=e[7],u=t.x,l=t.y;return{x:u*r+l*o+s*n,y:u*i+l*a+c*n}}},4183:(e,t,n)=>{e.exports=n(6845)},6845:e=>{function t(e){return"number"!=typeof e&&!e}function n(e){if("string"==typeof e)return e;if("number"==typeof e)return e+"";if("function"==typeof e)return e();if(e instanceof r)return e.toString();throw Error("Bad Parameter")}function r(e,t){if(!(this instanceof r))return new r;this.name_regex=/[_:A-Za-z][-._:A-Za-z0-9]*/,this.indent=!!e,this.indentString=this.indent&&"string"==typeof e?e:"    ",this.output="",this.stack=[],this.tags=0,this.attributes=0,this.attribute=0,this.texts=0,this.comment=0,this.dtd=0,this.root="",this.pi=0,this.cdata=0,this.started_write=!1,this.writer,this.writer_encoding="UTF-8",this.writer="function"==typeof t?t:function(e,t){this.output+=e}}r.prototype={toString:function(){return this.flush(),this.output},indenter:function(){if(this.indent){this.write("\n");for(var e=1;e<this.tags;e++)this.write(this.indentString)}},write:function(){for(var e=0;e<arguments.length;e++)this.writer(arguments[e],this.writer_encoding)},flush:function(){for(var e=this.tags;e>0;e--)this.endElement();this.tags=0},startDocument:function(e,t,n){return this.tags||this.attributes||(this.startPI("xml"),this.startAttribute("version"),this.text("string"==typeof e?e:"1.0"),this.endAttribute(),"string"==typeof t&&(this.startAttribute("encoding"),this.text(t),this.endAttribute(),this.writer_encoding=t),n&&(this.startAttribute("standalone"),this.text("yes"),this.endAttribute()),this.endPI(),this.indent||this.write("\n")),this},endDocument:function(){return this.attributes&&this.endAttributes(),this},writeElement:function(e,t){return this.startElement(e).text(t).endElement()},writeElementNS:function(e,t,n,r){return r||(r=n),this.startElementNS(e,t,n).text(r).endElement()},startElement:function(e){if(!(e=n(e)).match(this.name_regex))throw Error("Invalid Parameter");if(0===this.tags&&this.root&&this.root!==e)throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:e,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",e),this.startAttributes(),this.started_write=!0,this},startElementNS:function(e,t,r){if(e=n(e),t=n(t),!e.match(this.name_regex))throw Error("Invalid Parameter");if(!t.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:e+":"+t,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",e+":"+t),this.startAttributes(),this.started_write=!0,this},endElement:function(){if(!this.tags)return this;var e=this.stack.pop();return this.attributes>0?(this.attribute&&(this.texts&&this.endAttribute(),this.endAttribute()),this.write("/"),this.endAttributes()):(e.containsTag&&this.indenter(),this.write("</",e.name,">")),--this.tags,this.texts=0,this},writeAttribute:function(e,n){return"function"==typeof n&&(n=n()),t(n)?this:this.startAttribute(e).text(n).endAttribute()},writeAttributeNS:function(e,n,r,i){return i||(i=r),"function"==typeof i&&(i=i()),t(i)?this:this.startAttributeNS(e,n,r).text(i).endAttribute()},startAttributes:function(){return this.attributes=1,this},endAttributes:function(){return this.attributes?(this.attribute&&this.endAttribute(),this.attributes=0,this.attribute=0,this.texts=0,this.write(">"),this):this},startAttribute:function(e){if(!(e=n(e)).match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?(this.attribute||(this.attribute=1,this.write(" ",e,'="')),this):this},startAttributeNS:function(e,t,r){if(e=n(e),t=n(t),!e.match(this.name_regex))throw Error("Invalid Parameter");if(!t.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?(this.attribute||(this.attribute=1,this.write(" ",e+":"+t,'="')),this):this},endAttribute:function(){return this.attribute?(this.attribute=0,this.texts=0,this.write('"'),this):this},text:function(e){return e=n(e),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),this.comment||this.cdata?this.write(e):this.write(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),++this.texts,this.started_write=!0,this):this},writeComment:function(e){return this.startComment().text(e).endComment()},startComment:function(){return this.comment||(this.attributes&&this.endAttributes(),this.indenter(),this.write("\x3c!--"),this.comment=1,this.started_write=!0),this},endComment:function(){return this.comment?(this.write("--\x3e"),this.comment=0,this):this},writeDocType:function(e,t,n,r){return this.startDocType(e,t,n,r).endDocType()},startDocType:function(e,t,r,i){if(this.dtd||this.tags)return this;if(e=n(e),t=t?n(t):t,r=r?n(r):r,i=i?n(i):i,!e.match(this.name_regex))throw Error("Invalid Parameter");if(t&&!t.match(/^[\w\-][\w\s\-\/\+\:\.]*/))throw Error("Invalid Parameter");if(r&&!r.match(/^[\w\.][\w\-\/\\\:\.]*/))throw Error("Invalid Parameter");if(i&&!i.match(/[\w\s\<\>\+\.\!\#\-\?\*\,\(\)\|]*/))throw Error("Invalid Parameter");return t=t?' PUBLIC "'+t+'"':r?" SYSTEM":"",r=r?' "'+r+'"':"",i=i?" ["+i+"]":"",this.started_write&&this.indenter(),this.write("<!DOCTYPE ",e,t,r,i),this.root=e,this.dtd=1,this.started_write=!0,this},endDocType:function(){return this.dtd?(this.write(">"),this):this},writePI:function(e,t){return this.startPI(e).text(t).endPI()},startPI:function(e){if(!(e=n(e)).match(this.name_regex))throw Error("Invalid Parameter");return this.pi||(this.attributes&&this.endAttributes(),this.started_write&&this.indenter(),this.write("<?",e),this.pi=1,this.started_write=!0),this},endPI:function(){return this.pi?(this.write("?>"),this.pi=0,this):this},writeCData:function(e){return this.startCData().text(e).endCData()},startCData:function(){return this.cdata||(this.attributes&&this.endAttributes(),this.indenter(),this.write("<![CDATA["),this.cdata=1,this.started_write=!0),this},endCData:function(){return this.cdata?(this.write("]]>"),this.cdata=0,this):this},writeRaw:function(e){return e=n(e),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(e.replace("&","&amp;").replace('"',"&quot;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),++this.texts,this.write(e),this.started_write=!0,this):this}},e.exports=r},7204:(e,t,n)=>{var r=n(3379),i=n(3889);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},6263:(e,t,n)=>{var r=n(3379),i=n(3973);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3379:(e,t,n)=>{"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],c=t.base?s[0]+t.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:l,updater:g(h,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,l=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,p=0;function g(e,t){var n,r,i;if(t.singleton){var o=p++;n=f||(f=c(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=c(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var c=s(e,t),u=0;u<n.length;u++){var l=a(n[u]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=c}}}},4580:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(9117));t.default=function(e,t,n){const r=t.labelSize||n.labelSize,o=n.labelFont,a=n.labelWeight;if(t=Object.assign(Object.assign({},t),{label:t.label||t.hoverLabel}),e.font=`${a} ${r}px ${o}`,e.fillStyle="#FFF",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor="#000","string"==typeof t.label){const n=e.measureText(t.label).width,i=Math.round(n+5),o=Math.round(r+4),a=Math.max(t.size,r/2)+2,s=Math.asin(o/2/a),c=Math.sqrt(Math.abs(Math.pow(a,2)-Math.pow(o/2,2)));e.beginPath(),e.moveTo(t.x+c,t.y+o/2),e.lineTo(t.x+a+i,t.y+o/2),e.lineTo(t.x+a+i,t.y-o/2),e.lineTo(t.x+c,t.y-o/2),e.arc(t.x,t.y,a,s,-s),e.closePath(),e.fill()}else e.beginPath(),e.arc(t.x,t.y,t.size+2,0,2*Math.PI),e.closePath(),e.fill();e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0,(0,i.default)(e,t,n)}},9117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!t.label)return;const r=t.labelSize||n.labelSize,i=n.labelFont,o=n.labelWeight,a=t.labelColor||n.labelColor.color;e.fillStyle=a,e.font=`${o} ${r}px ${i}`,e.fillText(t.label,t.x+t.size+3,t.y+r/3)}},112:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),window.__webpack_public_path__=document.querySelector("body").getAttribute("data-base-url")+"nbextensions/ipysigma",i(n(3607),t)},4672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scatterIcon=t.fullscreenExitIcon=t.fullscreenEnterIcon=t.pauseIcon=t.playIcon=t.resetLayoutIcon=t.resetZoomIcon=t.unzoomIcon=t.zoomIcon=void 0,t.zoomIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></svg>',t.unzoomIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path></svg>',t.resetZoomIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></svg>',t.resetLayoutIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><path d="M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"></path></svg>',t.playIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>',t.pauseIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>',t.fullscreenEnterIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></svg>',t.fullscreenExitIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></svg>',t.scatterIcon='<svg width="20" height="20" focusable="false" viewBox="0 0 24 24"><circle cx="7" cy="14" r="3"></circle><circle cx="11" cy="6" r="3"></circle><circle cx="16.6" cy="17.6" r="3"></circle></svg>'},3607:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8412),t),i(n(3891),t)},2126:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(9265)),c=o(n(4099)),u=n(2530),l=a(n(2474)),d=n(9059);function h(e){return"color"===e?"#ccc":d.UNKNOWN_SHAPE}class f{constructor(e,t,n,r){this.name=e,this.kind=t,this.map=n,this.defaultValue=r,this.size=this.map.size}get(e){const t=this.map.get(e);return void 0===t?this.defaultValue:t}forEach(e){this.map.forEach(e)}static getMacroDefault(e){return"color"===e?"#ccc":d.UNKNOWN_SHAPE}static fromScheme(e,t,n,r,i){const o=c["scheme"+n];let a;if(Array.isArray(o[o.length-1])){const e=o.findIndex((e=>Array.isArray(e)));a=o[Math.min(Math.max(e,r.length),o.length)]}else a=o.slice(),(0,u.createShuffleInPlace)((0,l.default)(e))(a),a=a.slice(0,Math.min(r.length,a.length));const s=new Map;return r.slice(0,a.length).forEach(((e,t)=>{s.set(e,a[t])})),new f(e,t,s,i||h(t))}static fromEntries(e,t,n,r){return new f(e,t,new Map(n),r||h(t))}static generateFromValues(e,t,n,r){if("color"===t){const i={colorSpace:"sensible",seed:e,clustering:"force-vector",attempts:5};if(0===n.length)return new f(e,t,new Map,r||h(t));const o=(0,s.default)(n.length,i),a=new Map;return n.forEach(((e,t)=>{a.set(e,o[t])})),new f(e,t,a,r||h(t))}{const i=new Map;return d.USEFUL_SHAPES.slice(0,Math.min(n.length,d.USEFUL_SHAPES.length)).forEach(((e,t)=>{i.set(n[t],e.name)})),new f(e,t,i,r||h(t))}}}t.default=f},9059:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shapeToPicto=t.UNKNOWN_SHAPE=t.USEFUL_SHAPES=void 0,t.USEFUL_SHAPES=[{name:"circle",pictogram:"circle"},{name:"triangle",pictogram:"change_history"},{name:"square",pictogram:"square"},{name:"pentagon",pictogram:"pentagon"},{name:"star",pictogram:"star"},{name:"hexagon",pictogram:"hexagon"},{name:"heart",pictogram:"favorite"},{name:"cloud",pictogram:"cloudy"}],t.UNKNOWN_SHAPE="help";const n=new Map;t.USEFUL_SHAPES.forEach((({name:e,pictogram:t})=>{n.set(e,t)})),t.shapeToPicto=function(e){return n.get(e)||e}},8593:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pictogramToUrl=t.saveAsSVG=t.saveAsGEXF=t.saveAsJSON=t.saveAsPNG=t.renderAsDataURL=void 0;const s=a(n(9884)),c=a(n(8374)),u=o(n(3476)),l=a(n(6524)),d=n(9370);function h(e,t){const{width:n,height:r}=e.getDimensions(),i=window.devicePixelRatio||1,o=document.createElement("DIV");o.style.width=`${n}px`,o.style.height=`${r}px`,o.style.position="absolute",o.style.right="101%",o.style.bottom="101%",document.body.appendChild(o);const a=new s.default(e.getGraph(),o,e.getSettings());a.getCamera().setState(e.getCamera().getState()),a.refresh();const c=document.createElement("CANVAS");c.setAttribute("width",n*i+""),c.setAttribute("height",r*i+"");const u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,n*i,r*i);const l=a.getCanvases();return(t?t.filter((e=>!!l[e])):Object.keys(l)).forEach((e=>{u.drawImage(l[e],0,0,n*i,r*i,0,0,n*i,r*i)})),[c,()=>{a.kill(),o.remove()}]}t.renderAsDataURL=function(e){const[t,n]=h(e),r=t.toDataURL();return n(),r},t.saveAsPNG=function(e){const[t,n]=h(e);t.toBlob((e=>{e&&c.default.saveAs(e,"graph.png"),n()}),"image/png")},t.saveAsJSON=function(e){const t=JSON.stringify(e.getGraph(),null,2);c.default.saveAs(new Blob([t],{type:"application/json"}),"graph.json")},t.saveAsGEXF=function(e){const t=u.write(function(e){const t=e.getGraph().copy();return t.updateEachNodeAttributes(((t,n)=>{const r=e.getNodeDisplayData(t),{x:i,y:o}=e.graphToViewport(r);return Object.assign(Object.assign({},n),{color:r.color,size:r.size,x:i,y:o})})),t.updateEachEdgeAttributes(((t,n)=>{const r=e.getEdgeDisplayData(t);return Object.assign(Object.assign({},n),{color:r.color,size:r.size})})),t}(e));c.default.saveAs(new Blob([t],{type:"application/xml"}),"graph.gexf")},t.saveAsSVG=function(e){const t=e.getSettings(),n=Object.assign({},d.DEFAULTS);n.nodes={reducer:(e,n,r)=>t.nodeReducer(n,r),defaultColor:t.defaultNodeColor},n.edges={reducer:(e,n,r)=>t.edgeReducer(n,r),defaultColor:t.defaultEdgeColor};const r=(0,l.default)(e.getGraph(),n);c.default.saveAs(new Blob([r],{type:"image/svg+xml"}),"graph.svg")},t.pictogramToUrl=function(e,t="default"){return e.startsWith("http")?e:`https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/${e}/${t}/48px.svg`}},8412:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const r=n(4147);t.MODULE_VERSION=r.version,t.MODULE_NAME=r.name},7779:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VisualVariableScalesBuilder=t.CategorySummary=t.AttributeCategories=t.AttributeExtents=t.Extent=void 0;const s=a(n(8965)),c=a(n(2126)),u=n(6776),l=o(n(4099));function d(e){return"number"==typeof e&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0}function h(e,t){const n=function(e){return"string"==typeof e.range||"string"==typeof e.range[0]?"string"==typeof e.default?e.default:Array.isArray(e.range)&&"string"==typeof e.range[0]?e.range[0]:"black":d(e.default)?e.default:Array.isArray(e.range)&&d(e.range[0])?e.range[0]:1}(e);if(r=e.range,Array.isArray(r)&&("string"==typeof r[0]?r[0]===r[1]:Math.abs(r[0]-r[1])<=1e-8)||t.isConstant())return()=>n;var r;let i;const o=e.scale;let a=!1;if(o){const[e,t]=o;if("lin"===e)i=(0,u.scaleLinear)();else if("log"===e||"log+1"===e)a="log+1"===e,i=(0,u.scaleLog)(),t&&i.base(t);else if("pow"===e)i=(0,u.scalePow)(),i.exponent(t||2);else{if("sqrt"!==e)throw new Error("unknown scale type");i=(0,u.scaleSqrt)(),t&&i.exponent(1/t)}}else i=(0,u.scaleLinear)();const s=a?1:0;if(i.domain([t.min+s,t.max+s]),"string"==typeof e.range){const t=l["interpolate"+e.range];return r=>{let o=r[e.attribute];return d(o)?(o+=s,t(i(o))):n}}if(e.range)return i.range(e.range),t=>{let r=t[e.attribute];return d(r)?(r+=s,i(r)):n};throw new Error("could not create valid continuous scale")}class f{constructor(){this.min=1/0,this.max=-1/0}add(e){e<this.min&&(this.min=e),e>this.max&&(this.max=e)}isConstant(){return this.min===1/0||this.min===this.max}}t.Extent=f;class p{constructor(e){this.attributes={},e.forEach((e=>this.attributes[e]=new f))}add(e){for(const t in this.attributes){const n=e[t];d(n)&&this.attributes[t].add(n)}}}t.AttributeExtents=p;class g{constructor(e){this.attributes={},e.forEach((e=>this.attributes[e]=new s.default))}add(e){for(const t in this.attributes)this.attributes[t].add(e[t])}}t.AttributeCategories=g;class m{constructor(e,t,n,r=!1){this.name=e,this.kind=t,this.palette=n,this.overflowing=r}static fromTopValues(e,t,n,r,i,o=10){const a=Math.min(o,n.dimension),s=n.top(a),u=a<n.dimension,l=s.map((e=>e[0])),d=i&&"IWantHue"!==i?c.default.fromScheme(e,t,i,l,r):c.default.generateFromValues(e,t,l,r);return new m(e,t,d,u)}static fromEntries(e,t,n,r){const i=c.default.fromEntries(e,t,n,r);return new m(e,t,i)}}t.CategorySummary=m,t.VisualVariableScalesBuilder=class{constructor(e,t=10){this.variables=e,this.maxCategories=t;const n=[],r=[],i=[],o=[];for(const t in e){const a=e[t];t.startsWith("node")?"category"===a.type?a.palette&&"string"!=typeof a.palette||r.push(a.attribute):"continuous"!==a.type&&"nodeSize"!==t||n.push(a.attribute):t.startsWith("edge")&&("category"===a.type?a.palette&&"string"!=typeof a.palette||o.push(a.attribute):"continuous"===a.type&&i.push(a.attribute))}this.nodeExtents=new p(n),this.edgeExtents=new p(i),this.nodeCategories=new g(r),this.edgeCategories=new g(o)}readGraph(e){e.forEachNode(((e,t)=>{this.nodeExtents.add(t),this.nodeCategories.add(t)})),e.forEachEdge(((e,t)=>{this.edgeExtents.add(t),this.edgeCategories.add(t)}))}build(){const e={};for(const t in this.variables){const n=this.variables[t];let r=null;if("raw"===n.type)r=e=>e[n.attribute]||n.default;else if("constant"===n.type)r=()=>n.default;else if("category"===n.type){const e=t.startsWith("node")?this.nodeCategories:this.edgeCategories,i=n.palette&&"string"!=typeof n.palette?m.fromEntries(n.attribute,n.kind||"color",n.palette,n.default):m.fromTopValues(n.attribute,n.kind||"color",e.attributes[n.attribute],n.default,n.palette,this.maxCategories),o=i.palette;r=e=>o.get(e[n.attribute]),r.summary=i}else if("continuous"===n.type){const e=(t.startsWith("node")?this.nodeExtents:this.edgeExtents).attributes[n.attribute];r=h(n,e)}r&&(e[t]=r)}return e}inferLabelRenderedSizeThreshold(){const e=this.variables.nodeSize;if("continuous"===e.type){const t=e.range;return Math.min(6,t[0])}return 6}}},3891:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SigmaView=t.SigmaModel=void 0;const i=n(9146),o=r(n(2098)),a=r(n(5736)),s=r(n(7731)),c=r(n(3580)),u=r(n(250)),l=n(6756),d=r(n(6302)),h=r(n(9884)),f=n(9466),p=n(4460),g=r(n(8128)),m=r(n(213)),b=r(n(8750)),y=r(n(1642)),v=r(n(8487)),w=r(n(7143)),_=r(n(3658)),E=r(n(1936)),x=r(n(5939)),S=r(n(2474)),M=r(n(3965)),A=r(n(6040)),C=r(n(2641)),L=r(n(5503)),T=n(8412),O=r(n(4580)),k=r(n(9117)),N=n(7779),D=n(8593),R=n(9059),I=n(4672);n(6263),n(7204);const P=new Set(["label","size","color","x","y"]),F=new Set(["label","size","color"]),z="#ccc",j="ipysigma_kwarg_",G=`\n<div class="ipysigma-container"></div>\n<div class="ipysigma-left-panel">\n  <div class="ipysigma-graph-description"></div>\n  <div>\n    <button class="ipysigma-zoom-button ipysigma-button ipysigma-svg-icon" title="zoom">\n      ${I.zoomIcon}\n    </button>\n    <button class="ipysigma-unzoom-button ipysigma-button ipysigma-svg-icon" title="unzoom">\n      ${I.unzoomIcon}\n    </button>\n    <button class="ipysigma-reset-zoom-button ipysigma-button ipysigma-svg-icon" title="reset zoom">\n      ${I.resetZoomIcon}\n    </button>\n  </div>\n  <div>\n    <button class="ipysigma-fullscreen-button ipysigma-button ipysigma-svg-icon" title="enter fullscreen">\n      ${I.fullscreenEnterIcon}\n    </button>\n  </div>\n  <div class="ipysigma-layout-controls">\n    <button class="ipysigma-layout-button ipysigma-button ipysigma-svg-icon" title="start layout">\n      ${I.playIcon}\n    </button>\n    <button class="ipysigma-noverlap-button ipysigma-button ipysigma-svg-icon" title="spread nodes">\n      ${I.scatterIcon}\n    </button>\n    <button class="ipysigma-reset-layout-button ipysigma-button ipysigma-svg-icon" title="reset layout">\n      ${I.resetLayoutIcon}\n    </button>\n  </div>\n</div>\n<div class="ipysigma-right-panel">\n  <select class="ipysigma-search">\n    <option value="">Search a node...</option>\n  </select>\n  <div class="ipysigma-information-shadow-display" style="display: none;">\n    <span class="ipysigma-information-show-button">show info</span>\n  </div>\n  <div class="ipysigma-information-display">\n    <div class="ipysigma-information-display-tabs">\n      <span class="ipysigma-information-legend-button ipysigma-tab-button">legend</span>\n      &middot;\n      <span class="ipysigma-information-info-button ipysigma-tab-button">info</span>\n      <span class="ipysigma-information-hide-button">hide</span>\n    </div>\n    <hr>\n    <div class="ipysigma-legend"></div>\n    <div class="ipysigma-information-contents"></div>\n  </div>\n  <div class="ipysigma-download-controls">\n    <button class="ipysigma-download-png-button ipysigma-button">\n      png\n    </button>\n    <button class="ipysigma-download-svg-button ipysigma-button">\n      svg\n    </button>\n    <button class="ipysigma-download-gexf-button ipysigma-button">\n      gexf\n    </button>\n    <button class="ipysigma-download-json-button ipysigma-button">\n      json\n    </button>\n  </div>\n</div>\n`;class U extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:U.model_name,_model_module:U.model_module,_model_module_version:U.model_module_version,_view_name:U.view_name,_view_module:U.view_module,_view_module_version:U.view_module_version,data:{nodes:[],edges:[]},height:500,start_layout:!1,snapshot:null,layout:null,clickableEdges:!1,visual_variables:{}})}}function B(){return(0,S.default)("ipysigma")}function W(e){return"number"==typeof e&&!isNaN(e)}function H(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function V(e){let t=H(""+e),n="unknown";return"number"==typeof e?n="number":"string"==typeof e?n="string":"boolean"==typeof e?(n="boolean",t=e?"True":"False"):null===e&&(n="keyword",t="null"),`<span class="ipysigma-${n}" title="${n}">${t}</span>`}function q(e){e.style.display="none"}function Y(e){e.style.display="block"}function $(e){e.classList.add("disabled"),e.disabled=!0}function K(e){e.classList.remove("disabled"),e.disabled=!1}t.SigmaModel=U,U.serializers=Object.assign({},i.DOMWidgetModel.serializers),U.model_name="SigmaModel",U.model_module=T.MODULE_NAME,U.model_module_version=T.MODULE_VERSION,U.view_name="SigmaView",U.view_module=T.MODULE_NAME,U.view_module_version=T.MODULE_VERSION;const X=["","","","","","","",""];function Z(){const e=function(e,t){const n=document.createElement("span"),{className:r,style:i,innerHTML:o,title:a}=t||{};r&&n.setAttribute("class",r);for(const e in i)n.style[e]=i[e];return o&&(n.innerHTML=o),a&&n.setAttribute("title",a),n}(0,{className:"ipysigma-spinner",innerHTML:X[0]});let t=-1,n=null;const r=()=>{t++,t%=X.length,e.innerHTML=X[t],n=setTimeout(r,80)};return r(),[e,()=>null!==n&&clearTimeout(n)]}const Q=new Map;class J extends i.DOMWidgetView{constructor(){super(...arguments),this.emitter=new x.default,this.edgeWeightAttribute=null,this.syncHoveredNode=null,this.syncListeners={},this.layoutSpinner=null,this.currentTab="legend",this.isInformationShown=!0,this.selectedNode=null,this.selectedEdge=null,this.focusedNodes=null,this.selectedNodeCategoryValues=null,this.selectedEdgeCategoryValues=null}render(){super.render(),this.el.classList.add("ipysigma-widget");const e=this.model.get("height"),t=this.model.get("background_color"),n=this.model.get("name"),r=this.model.get("data");this.el.style.backgroundColor=t;const i=function(e,t){const n=o.default.from(e);return n.updateEachNodeAttributes(((e,n)=>(W(n.x)||(n.x=t()),W(n.y)||(n.y=t()),n))),n}(r,B());this.graph=i;const a=this.model.get("layout");a?(0,l.assignLayout)(i,a):this.saveLayout(),this.originalLayoutPositions=(0,l.collectLayout)(i);const s=this.model.get("selected_node_category_values"),c=this.model.get("selected_edge_category_values");s&&(this.selectedNodeCategoryValues=new Set(s)),c&&(this.selectedEdgeCategoryValues=new Set(c)),this.edgeWeightAttribute=this.model.get("edge_weight");let f=this.model.get("node_metrics")||{};f=JSON.parse(JSON.stringify(f));for(const e in f){const t=f[e],n=t.name;if("louvain"!==n)throw new Error(`unkown metric "${n}"`+n);{const n=(0,u.default)(i,{getEdgeWeight:this.edgeWeightAttribute,rng:B(),resolution:t.resolution||1});t.result=n,i.updateEachNodeAttributes(((t,r)=>(r[e]=n[t],r)),{attributes:[e]})}}this.model.set("node_metrics",f),this.touch(),this.el.insertAdjacentHTML("beforeend",G),this.el.style.width="100%",this.el.style.height=e,this.container=this.el.querySelector(".ipysigma-container"),this.container.style.width="100%",this.container.style.height=e,this.el.querySelector(".ipysigma-graph-description").innerHTML=function(e,t){let n="";return e&&(n+=`<u>${H(e)}</u><br>`),n+=`${t.multi?"Multi ":""}${"undirected"===t.type?"Undirected":"Directed"} Graph<br><b>${(0,M.default)(t.order)}</b> nodes<br><b>${(0,M.default)(t.size)}</b> edges`,n}(n,i),this.zoomButton=this.el.querySelector(".ipysigma-zoom-button"),this.unzoomButton=this.el.querySelector(".ipysigma-unzoom-button"),this.resetZoomButton=this.el.querySelector(".ipysigma-reset-zoom-button"),this.fullscreenButton=this.el.querySelector(".ipysigma-fullscreen-button"),this.layoutControls=this.el.querySelector(".ipysigma-layout-controls"),this.layoutButton=this.el.querySelector(".ipysigma-layout-button"),this.noverlapButton=this.el.querySelector(".ipysigma-noverlap-button"),this.resetLayoutButton=this.el.querySelector(".ipysigma-reset-layout-button");var S=this.el.querySelector(".ipysigma-search");const C=this.model.get("visual_variables").nodeLabel.attribute,L=i.mapNodes(((e,t)=>{let n=[H(e)];const r=t[C];return r&&r!==e&&n.push(` <small style="font-size: 75%;">${H(r)}</small>`),{value:e,label:n.join(" ")}}));this.choices=new A.default(S,{allowHTML:!0,removeItemButton:!0,renderChoiceLimit:10,choices:L,itemSelectText:"",position:"bottom"}),this.informationDisplayElement=this.el.querySelector(".ipysigma-information-display"),this.informationShadowDisplayElement=this.el.querySelector(".ipysigma-information-shadow-display"),this.itemInfoElement=this.el.querySelector(".ipysigma-information-contents"),this.legendElement=this.el.querySelector(".ipysigma-legend"),this.nodeInfoButton=this.el.querySelector(".ipysigma-information-info-button"),this.legendButton=this.el.querySelector(".ipysigma-information-legend-button"),this.hideInformationButton=this.el.querySelector(".ipysigma-information-hide-button"),this.showInformationButton=this.el.querySelector(".ipysigma-information-show-button"),this.changeInformationDisplayTab("legend"),this.downloadPNGButton=this.el.querySelector(".ipysigma-download-png-button"),this.downloadGEXFButton=this.el.querySelector(".ipysigma-download-gexf-button"),this.downloadSVGButton=this.el.querySelector(".ipysigma-download-svg-button"),this.downloadJSONButton=this.el.querySelector(".ipysigma-download-json-button"),this.displayed.then((()=>{var e,t,n;const r=this.model.get("visual_variables"),o="disabled"!==r.nodeColorSaturation.type,a="disabled"!==r.nodeBorderColor.type&&("disabled"!==r.nodeBorderSize.type||"disabled"!==r.nodeBorderRatio.type),s="disabled"!==r.nodePictogram.type,c="disabled"!==r.nodeShape.type,u="disabled"!==r.nodeHaloSize.type&&"disabled"!==r.nodeHaloColor.type,l={rectangle:w.default,line:v.default,triangle:_.default,curve:E.default},f=(0,y.default)({correctCentering:!0,forcedSvgSize:384,keepWithinCircle:!0}),M=(0,y.default)({correctCentering:!0,forcedSvgSize:384,keepWithinCircle:!1}),A={point:g.default,halo:(0,p.createNodeCompoundProgram)([b.default,g.default]),border:m.default,picto:(0,p.createNodeCompoundProgram)([g.default,f]),shape:M,"border+picto":(0,p.createNodeCompoundProgram)([m.default,f]),"border+halo":(0,p.createNodeCompoundProgram)([b.default,m.default]),"border+halo+picto":(0,p.createNodeCompoundProgram)([b.default,m.default,f]),"halo+picto":(0,p.createNodeCompoundProgram)([b.default,g.default,f])},C={halo:g.default,"border+halo":m.default,"border+halo+picto":(0,p.createNodeCompoundProgram)([m.default,f]),"halo+picto":(0,p.createNodeCompoundProgram)([g.default,f])};let L=this.model.get("renderer_settings");L=Object.assign({hoverRenderer:O.default,labelRenderer:k.default,edgeProgramClasses:l,nodeProgramClasses:A,nodeHoverProgramClasses:C,defaultNodeType:"point",defaultEdgeType:"rectangle"},L);const T=this.model.get("max_categorical_colors"),I=new N.VisualVariableScalesBuilder(r,T);I.readGraph(i),"labelRenderedSizeThreshold"in L||(L.labelRenderedSizeThreshold=I.inferLabelRenderedSizeThreshold());const P=I.build();this.updateLegend(r,{nodeColor:null===(e=P.nodeColor)||void 0===e?void 0:e.summary,nodeBorderColor:null===(t=P.nodeBorderColor)||void 0===t?void 0:t.summary,edgeColor:null===(n=P.edgeColor)||void 0===n?void 0:n.summary});const F={},j="category"===r.nodeColor.type?r.nodeColor.attribute:null,G="category"===r.edgeColor.type?r.edgeColor.attribute:null,U="dependent"===r.edgeColor.type?r.edgeColor.value:null,B="dependent"===r.nodeBorderColor.type?r.nodeBorderColor.value:void 0;L.nodeReducer=(e,t)=>{const n={x:t.x,y:t.y},i=j?t[j]:void 0;if(void 0!==i&&(n.categoryValue=i),n.color=P.nodeColor(t),n.size=P.nodeSize(t),n.label=P.nodeLabel(t)||e,n.labelSize=P.nodeLabelSize(t),n.labelColor=P.nodeLabelColor(t),o){const e=(0,d.default)(n.color);n.color=e.set("lch.c",e.get("lch.c")*P.nodeColorSaturation(t)).hex()}if(a&&("disabled"!==r.nodeBorderRatio.type?n.borderRatio=P.nodeBorderRatio(t):(n.borderSize=P.nodeBorderSize(t),n.size+=n.borderSize),n.borderColor=B?(0,d.default)(n.color).darken().hex():P.nodeBorderColor(t)),s&&(n.pictogram=(0,D.pictogramToUrl)(P.nodePictogram(t)),n.pictogramColor=P.nodePictogramColor(t)),c&&(n.pictogram=(0,D.pictogramToUrl)((0,R.shapeToPicto)(P.nodeShape(t))||"circle","wght700fill1"),n.pictogramColor=n.color),u){const e=P.nodeHaloSize(t);n.haloSize=0!==e?n.size+e:0,n.haloColor=P.nodeHaloColor(t)}return e!==this.selectedNode&&e!==this.syncHoveredNode||(n.highlighted=!0),this.focusedNodes&&!this.focusedNodes.has(e)||this.selectedNodeCategoryValues&&!this.selectedNodeCategoryValues.has(i)?(c?n.pictogramColor=z:(n.type="point",n.color=z),n.zIndex=0,n.size=n.size?n.size/2:1,n.hoverLabel=n.label,n.label=""):n.zIndex=1,F[e]=n,n},L.edgeReducer=(e,t)=>{var n,r;const o={},[a,s]=i.extremities(e),c=G?t[G]:null;return o.color=U?F["source"===U?a:s].color:P.edgeColor(t),o.size=P.edgeSize(t),P.edgeLabel&&(o.label=P.edgeLabel(t)),"curve"===L.defaultEdgeType&&(o.curveness=P.edgeCurveness(t)),this.selectedNode&&this.focusedNodes&&a!==this.selectedNode&&s!==this.selectedNode&&(o.hidden=!0),this.selectedNodeCategoryValues&&(this.selectedNodeCategoryValues.has(null===(n=F[a])||void 0===n?void 0:n.categoryValue)||this.selectedNodeCategoryValues.has(null===(r=F[s])||void 0===r?void 0:r.categoryValue)||(o.hidden=!0)),this.selectedEdgeCategoryValues&&(this.selectedEdgeCategoryValues.has(c)||(o.hidden=!0)),this.selectedEdge&&(o.hidden=e!==this.selectedEdge),o},this.renderer=new h.default(i,this.container,L);const W=this.model.get("ui_settings"),H=this.model.get("camera_state");this.renderer.getCamera().setState(H);const V=this.model.get("selected_node"),Y=this.model.get("selected_edge");if(V?this.selectItem("node",V):Y?this.selectItem("edge",i.edge(Y[0],Y[1])):this.clearSelectedItem(),W.hideInfoPanel&&this.toggleInformationDisplay(),W.hideSearch&&(this.choices.destroy(),q(S),this.informationDisplayElement.classList.add("full")),this.bindMessageHandlers(),this.bindRendererHandlers(),this.bindChoicesHandlers(),this.bindInformationDisplayHandlers(),this.bindDownloadHandlers(),this.bindCameraHandlers(),this.bindFullscreenHandlers(),this.bindLayoutHandlers(),this.syncKey=this.model.get("sync_key"),this.syncKey){const e=Q.get(this.syncKey);if(e)e.renderers.add(this.renderer),this.bindSyncEvents(e.emitter);else{const e=new x.default;Q.set(this.syncKey,{emitter:e,renderers:new Set([this.renderer])}),this.bindSyncEvents(e)}}}))}renderSnapshot(){this.model.set("snapshot",(0,D.renderAsDataURL)(this.renderer)),this.touch()}saveCameraState(e){this.model.set("camera_state",e),this.touch()}saveLayout(){const e=(0,l.collectLayout)(this.graph);this.model.set("layout",e),this.touch()}resetLayout(){this.model.set("layout",this.originalLayoutPositions),this.touch()}changeInformationDisplayTab(e){"legend"===e?(q(this.itemInfoElement),Y(this.legendElement),this.legendButton.classList.remove("selectable"),this.nodeInfoButton.classList.add("selectable")):(q(this.legendElement),Y(this.itemInfoElement),this.legendButton.classList.add("selectable"),this.nodeInfoButton.classList.remove("selectable"))}toggleInformationDisplay(){var e,t;this.isInformationShown?(q(this.informationDisplayElement),Y(this.informationShadowDisplayElement),null===(e=this.el.querySelector(".ipysigma-right-panel"))||void 0===e||e.classList.add("hidden"),this.isInformationShown=!1):(Y(this.informationDisplayElement),q(this.informationShadowDisplayElement),null===(t=this.el.querySelector(".ipysigma-right-panel"))||void 0===t||t.classList.remove("hidden"),this.isInformationShown=!0)}updateLegend(e,t){const n=new Map;let r=0;function i(e,t,i,o,a){if("disabled"===i.type||"constant"===i.type)return null;let s=`<b>${t}</b><br>`;if("dependent"===i.type)s+=`based on <span class="ipysigma-keyword">${i.value}</span> color`;else{const t=i.attribute.startsWith(j)?"kwarg":"attribute",c=i.attribute.startsWith(j)?i.attribute.slice(j.length):i.attribute;if("raw"===i.type)s+=`<span class="ipysigma-keyword">${H(c)}</span> ${t}`;else if("continuous"===i.type)s+=`<span class="ipysigma-keyword">${H(c)}</span> ${t} `,"string"==typeof i.range?s+=`(using the <span class="ipysigma-keyword">${i.range}</span> color scheme)`:"number"==typeof i.range[0]?s+=`(scaled to <span class="ipysigma-number">${i.range[0]}</span>-<span class="ipysigma-number">${i.range[1]}</span> px)`:s+=`(from <span style="color: ${i.range[0]}"></span> ${i.range[0]} to <span style="color: ${i.range[1]}"></span> ${i.range[1]})`;else{s+=`<span class="ipysigma-keyword">${H(c)}</span> ${t} as a category:`;const i=[];if(o&&"color"===o.kind){const t=[];n.set(r,{type:e,values:t});let a=0;o.palette.forEach(((e,n)=>{t.push(n),i.push(`<span title="click to filter" class="category" data-key="${r}" data-index="${a++}"><span style="color: ${e}"></span> <span class="category-value">${n}</span></span>`)})),r++,o.overflowing&&i.push(`<span style="color: ${o.palette.defaultValue}"></span> ...`)}else i.push(`<span style="color: ${a}"></span> default`);s+="<br>"+i.join("<br>")}}return s}const o=[i("node","Node labels",e.nodeLabel),i("node","Node colors",e.nodeColor,t.nodeColor),i("node","Node border colors",e.nodeBorderColor,t.nodeBorderColor),i("node","Node sizes",e.nodeSize),i("edge","Edge colors",e.edgeColor,t.edgeColor),i("edge","Edge sizes",e.edgeSize),i("edge","Edge labels",e.edgeLabel)];function a(e){const t=+e.getAttribute("data-key"),r=+e.getAttribute("data-index"),i=n.get(t);if(!i)throw new Error("error registering category span click event handlers");return{type:i.type,value:i.values[r]}}this.legendElement.innerHTML=o.filter((e=>e)).join("<hr>");const s=this.legendElement.querySelectorAll(".category"),c=()=>{s.forEach((e=>{const{type:t,value:n}=a(e);"node"===t?!this.selectedNodeCategoryValues||this.selectedNodeCategoryValues.has(n)?e.classList.remove("evicted"):e.classList.add("evicted"):"edge"===t&&(!this.selectedEdgeCategoryValues||this.selectedEdgeCategoryValues.has(n)?e.classList.remove("evicted"):e.classList.add("evicted"))}))};s.forEach((e=>{e.onclick=()=>{const{type:n,value:r}=a(e),i="node"===n?t.nodeColor:t.edgeColor;this.toggleCategoryValue(n,i.palette.size,r),c(),this.renderer.refresh()}})),c()}clearSelectedItem(){this.selectedEdge=null,this.selectedNode=null,this.focusedNodes=null,this.syncHoveredNode=null,this.choices.setChoiceByValue(""),this.model.get("clickable_edges")?this.itemInfoElement.innerHTML="<i>Click on a node/edge or search a node to display information about it...</i>":this.itemInfoElement.innerHTML="<i>Click on a node or search a node to display information about it...</i>",this.changeInformationDisplayTab("legend"),this.model.set("selected_node",null),this.model.set("selected_edge",null),this.touch(),this.renderer.refresh(),this.emitter.emit("clearSelectedItem")}toggleCategoryValue(e,t,n){let r="node"===e?this.selectedNodeCategoryValues:this.selectedEdgeCategoryValues;r?r.size===t-1?r=null:r.has(n)?1===r.size?r=null:r.delete(n):r.add(n):r=new Set([n]);const i=r?Array.from(r):null;"node"===e?(this.selectedNodeCategoryValues=r,this.model.set("selected_node_category_values",i)):(this.selectedEdgeCategoryValues=r,this.model.set("selected_edge_category_values",i)),this.touch()}selectItem(e,t){const n=this.graph;if("node"===e){this.selectedEdge=null,this.selectedNode=t;const e=new Set;e.add(this.selectedNode),n.forEachNeighbor(t,(t=>{e.add(t)})),this.focusedNodes=e,this.choices.setChoiceByValue(t),this.model.set("selected_node",t),this.model.set("selected_edge",null)}else{const e=n.extremities(t);this.selectedEdge=t,this.selectedNode=null,this.focusedNodes=new Set(e),this.choices.setChoiceByValue(""),this.model.set("selected_edge",e),this.model.set("selected_node",null)}this.touch();const r="node"===e?n.getNodeAttributes(t):n.getEdgeAttributes(t);let i="";if("node"===e)i+=`<b>Node</b> <i>${V(t)}</i>`;else{const[e,n]=this.graph.extremities(t);i+="<b>Edge</b>",t.startsWith("geid_")||(i+=` <i>${V(t)}</i>`),i+=`<br>from ${V(e)} to ${V(n)}`}const o=[],a=[],s=[],c="node"===e?P:F;for(let e in r){let t=s;c.has(e)?t=a:e.startsWith(j)&&(t=o),t.push(`<b>${e.startsWith(j)?e.slice(j.length):e}</b> ${V(r[e])}`)}0!==o.length&&(i+="<hr>From kwargs:<br>"+o.join("<br>")),0!==s.length&&(i+="<hr>Attributes:<br>"+s.join("<br>")),0!==a.length&&(i+="<hr>Known viz data:<br>"+a.join("<br>")),"node"===e&&(i+="<hr>Computed metrics:<br>",i+=`<b>degree</b> ${V(n.degree(t))}<br>`,0!==n.directedSize&&(i+=`<b>indegree</b> ${V(n.inDegree(t))}<br>`,i+=`<b>outdegree</b> ${V(n.outDegree(t))}<br>`)),this.itemInfoElement.innerHTML=i,this.changeInformationDisplayTab("info"),this.renderer.refresh(),this.emitter.emit("selectItem",{type:e,key:t})}moveCameraToNode(e){const t=this.renderer.getNodeDisplayData(e);t&&this.renderer.getCamera().animate(t,{duration:500})}bindMessageHandlers(){this.model.on("msg:custom",(e=>{"render_snapshot"===e.msg&&this.renderSnapshot()}))}bindRendererHandlers(){const e=(0,L.default)(this.saveCameraState.bind(this),500);this.renderer.getCamera().on("updated",(t=>{e(t)}));let t=0;this.renderer.on("enterNode",(()=>{t++,this.container.style.cursor="pointer"})),this.renderer.on("leaveNode",(()=>{t--,0===t&&(this.container.style.cursor="default")})),this.renderer.on("clickNode",(({node:e})=>{e!==this.selectedNode&&this.selectItem("node",e)})),this.renderer.on("clickStage",(()=>{(this.selectedNode||this.selectedEdge)&&this.clearSelectedItem()})),this.model.get("clickable_edges")&&(this.renderer.on("enterEdge",(()=>{t++,this.container.style.cursor="pointer"})),this.renderer.on("leaveEdge",(()=>{t--,0===t&&(this.container.style.cursor="default")})),this.renderer.on("clickEdge",(({edge:e})=>{e!==this.selectedEdge&&this.selectItem("edge",e)})))}bindChoicesHandlers(){this.choices.passedElement.element.addEventListener("change",(e=>{const t=e.detail.value;if(t!==this.selectedNode){if(!t)return this.clearSelectedItem();this.selectItem("node",t),this.renderer.getCamera().getState().ratio>=1||this.moveCameraToNode(t)}}))}bindInformationDisplayHandlers(){this.legendButton.onclick=()=>{this.legendButton.classList.contains("selectable")&&this.changeInformationDisplayTab("legend")},this.nodeInfoButton.onclick=()=>{this.nodeInfoButton.classList.contains("selectable")&&this.changeInformationDisplayTab("info")},this.hideInformationButton.onclick=()=>{this.toggleInformationDisplay()},this.showInformationButton.onclick=()=>{this.toggleInformationDisplay()}}bindDownloadHandlers(){this.downloadPNGButton.onclick=()=>{(0,D.saveAsPNG)(this.renderer)},this.downloadGEXFButton.onclick=()=>{(0,D.saveAsGEXF)(this.renderer)},this.downloadSVGButton.onclick=()=>{(0,D.saveAsSVG)(this.renderer)},this.downloadJSONButton.onclick=()=>{(0,D.saveAsJSON)(this.renderer)}}bindCameraHandlers(){this.zoomButton.onclick=()=>{this.renderer.getCamera().animatedZoom()},this.unzoomButton.onclick=()=>{this.renderer.getCamera().animatedUnzoom()},this.resetZoomButton.onclick=()=>{this.renderer.getCamera().animatedReset()}}bindFullscreenHandlers(){const e=()=>{this.el.style.height="100%",this.container.style.height="100%",this.fullscreenButton.innerHTML=I.fullscreenExitIcon,this.fullscreenButton.setAttribute("title","exit fullscreen"),this.renderer.scheduleRefresh()},t=()=>{const e=this.model.get("height");this.el.style.height=e,this.container.style.height=e,this.fullscreenButton.innerHTML=I.fullscreenEnterIcon,this.fullscreenButton.setAttribute("title","enter fullscreen"),this.renderer.scheduleRefresh()};C.default.onchange((()=>{C.default.isFullscreen?e():t()})),this.fullscreenButton.onclick=()=>{C.default.isFullscreen?C.default.exit():C.default.request(this.el)}}bindLayoutHandlers(){const e=this.graph,t=this.renderer;let n=this.model.get("layout_settings")||{};const r=c.default.inferSettings(e);n=Object.assign(r,n),this.layout=new a.default(e,{settings:n,getEdgeWeight:this.edgeWeightAttribute}),this.noverlap=new s.default(e,{inputReducer(e,n){var r;const i=t.graphToViewport(n);return{x:i.x,y:i.y,size:null===(r=t.getNodeDisplayData(e))||void 0===r?void 0:r.size}},outputReducer:(e,n)=>t.viewportToGraph(n),onConverged(){l(!0)},settings:{ratio:1,margin:3}}),q(this.resetLayoutButton);let i=null;const o=()=>{i&&clearTimeout(i),i=null,this.layoutSpinner&&(this.layoutControls.removeChild(this.layoutSpinner[0]),this.layoutSpinner[1](),this.layoutSpinner=null),this.layoutButton.innerHTML=I.playIcon,this.layoutButton.setAttribute("title","start layout"),this.layout.stop(),this.saveLayout(),K(this.noverlapButton),Y(this.resetLayoutButton)},u=()=>{this.layoutSpinner=Z(),this.layoutButton.innerHTML=I.pauseIcon,this.layoutControls.appendChild(this.layoutSpinner[0]),this.layoutButton.setAttribute("title","stop layout"),this.layout.start(),$(this.noverlapButton),q(this.resetLayoutButton)},l=(e=!1)=>{this.layoutSpinner&&(this.layoutControls.removeChild(this.layoutSpinner[0]),this.layoutSpinner[1](),this.layoutSpinner=null),this.noverlapButton.innerHTML=I.scatterIcon,this.noverlapButton.setAttribute("title","spread nodes"),this.noverlap.stop(),this.saveLayout(),K(this.layoutButton),Y(this.resetLayoutButton),e&&$(this.noverlapButton)},d=()=>{this.layoutSpinner=Z(),this.noverlapButton.innerHTML=I.pauseIcon,this.layoutControls.appendChild(this.layoutSpinner[0]),this.noverlapButton.setAttribute("title","stop"),this.noverlap.start(),$(this.layoutButton),q(this.resetLayoutButton)},h=()=>{K(this.noverlapButton),q(this.resetLayoutButton),this.resetLayout(),(0,f.animateNodes)(e,this.originalLayoutPositions,{duration:250})};if(this.model.get("start_layout")){const e=this.model.get("start_layout_for_seconds");e&&(i=setTimeout((()=>{o()}),1e3*e)),u()}this.layoutButton.onclick=()=>{this.layout.isRunning()?o():u()},this.noverlapButton.onclick=()=>{this.noverlap.isRunning()?l():d()},this.resetLayoutButton.onclick=()=>{h()}}bindSyncEvents(e){let t={camera:!1,nodeAttributesUpdated:!1,eachNodeAttributesUpdated:!1,selectItem:!1,clearSelectedItem:!1};const n=new Set(this.model.get("sync_targets"));let r=null;const i=e=>{t[e]=!0,r||(r=setTimeout((()=>{r=null,(()=>{for(const e in t)t[e]=!1})()}),0))},o=this.renderer.getCamera(),a=this.renderer.getGraph();n.has("camera")&&(o.on("updated",(n=>{t.camera?t.camera=!1:e.emit("camera",{state:n,renderer:this.renderer})})),this.syncListeners.camera=({state:e,renderer:t})=>{t!==this.renderer&&(i("camera"),o.setState(e))}),n.has("layout")&&(a.on("nodeAttributesUpdated",(({key:n,attributes:r})=>{t.nodeAttributesUpdated?t.nodeAttributesUpdated=!1:e.emit("nodePosition",{node:n,position:{x:r.x,y:r.y},renderer:this.renderer})})),a.on("eachNodeAttributesUpdated",(()=>{t.eachNodeAttributesUpdated?t.eachNodeAttributesUpdated=!1:e.emit("layout",{layout:(0,l.collectLayout)(a),renderer:this.renderer})})),this.syncListeners.layout=({layout:e,renderer:t})=>{t!==this.renderer&&(i("eachNodeAttributesUpdated"),(0,l.assignLayout)(a,e))},this.syncListeners.nodePosition=({node:e,position:t,renderer:n})=>{n!==this.renderer&&(i("nodeAttributesUpdated"),a.mergeNodeAttributes(e,t))}),n.has("selection")&&(this.emitter.on("selectItem",(n=>{if(t.selectItem)return void(t.selectItem=!1);const r=n.type;let i=n.key;"edge"===r&&(i=this.graph.extremities(i)),e.emit("selectItem",{type:r,key:i,renderer:this.renderer})})),this.emitter.on("clearSelectedItem",(()=>{t.clearSelectedItem?t.clearSelectedItem=!1:e.emit("clearSelectedItem",{renderer:this.renderer})})),this.syncListeners.selectItem=({renderer:e,key:t,type:n})=>{e!==this.renderer&&(i("selectItem"),"edge"===n&&(t=this.graph.edge(t[0],t[1])),this.selectItem(n,t))},this.syncListeners.clearSelectedItem=({renderer:e})=>{e!==this.renderer&&(i("clearSelectedItem"),this.clearSelectedItem())}),n.has("hover")&&(this.renderer.on("enterNode",(({node:t})=>{e.emit("enterNode",{node:t,renderer:this.renderer})})),this.renderer.on("leaveNode",(({node:t})=>{e.emit("leaveNode",{node:t,renderer:this.renderer})})),this.syncListeners.enterNode=({node:e,renderer:t})=>{t!==this.renderer&&(this.syncHoveredNode=e,this.renderer.scheduleRefresh())},this.syncListeners.leaveNode=({renderer:e})=>{e!==this.renderer&&(this.syncHoveredNode=null,this.renderer.scheduleRefresh())});for(const t in this.syncListeners)e.on(t,this.syncListeners[t])}remove(){if(this.renderer&&this.renderer.kill(),this.layout&&this.layout.kill(),this.noverlap&&this.noverlap.kill(),this.syncKey){const e=Q.get(this.syncKey);if(!e)throw new Error("sync entry not found on remove. this should not happen!");if(e.renderers.size>1){e.renderers.delete(this.renderer);for(const t in this.syncListeners)e.emitter.removeListener(t,this.syncListeners[t])}else e.emitter.removeAllListeners(),Q.delete(this.syncKey)}this.emitter.removeAllListeners(),super.remove()}}t.SigmaView=J},9146:t=>{"use strict";t.exports=e},5042:()=>{},6302:function(e){e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=e,n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var a=function(e){return n[Object.prototype.toString.call(e)]||"object"},s=a,c=a,u=Math.PI,l={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:e,type:a,unpack:function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==s(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==c(e[t])?e[t].toLowerCase():null},PI:u,TWOPI:2*u,PITHIRD:u/3,DEG2RAD:u/180,RAD2DEG:180/u},d={format:{},autodetect:[]},h=l.last,f=l.clip_rgb,p=l.type,g=d,m=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===p(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=h(e),i=!1;if(!r){i=!0,g.sorted||(g.autodetect=g.autodetect.sort((function(e,t){return t.p-e.p})),g.sorted=!0);for(var o=0,a=g.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,e))break}}if(!g.format[r])throw new Error("unknown format: "+e);var c=g.format[r].apply(null,i?e:e.slice(0,-1));n._rgb=f(c),3===n._rgb.length&&n._rgb.push(1)};m.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var b=m,y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(y.Color,[null].concat(e)))};y.Color=b,y.version="2.4.2";var v=y,w=l.unpack,_=Math.max,E=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=w(e,"rgb"),r=n[0],i=n[1],o=n[2],a=1-_(r/=255,_(i/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-i-a)*s,(1-o-a)*s,a]},x=l.unpack,S=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=x(e,"cmyk"))[0],r=e[1],i=e[2],o=e[3],a=e.length>4?e[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},M=v,A=b,C=d,L=l.unpack,T=l.type,O=E;A.prototype.cmyk=function(){return O(this._rgb)},M.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(A,[null].concat(e,["cmyk"])))},C.format.cmyk=S,C.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=L(e,"cmyk"),"array"===T(e)&&4===e.length)return"cmyk"}});var k=l.unpack,N=l.last,D=function(e){return Math.round(100*e)/100},R=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=k(e,"hsla"),r=N(e)||"lsa";return n[0]=D(n[0]||0),n[1]=D(100*n[1])+"%",n[2]=D(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},I=l.unpack,P=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=I(e,"rgba"))[0],r=e[1],i=e[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),c=Math.max(n,r,i),u=(c+s)/2;return c===s?(o=0,a=Number.NaN):o=u<.5?(c-s)/(c+s):(c-s)/(2-c-s),n==c?a=(r-i)/(c-s):r==c?a=2+(i-n)/(c-s):i==c&&(a=4+(n-r)/(c-s)),(a*=60)<0&&(a+=360),e.length>3&&void 0!==e[3]?[a,o,u,e[3]]:[a,o,u]},F=l.unpack,z=l.last,j=R,G=P,U=Math.round,B=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=F(e,"rgba"),r=z(e)||"rgb";return"hsl"==r.substr(0,3)?j(G(n),r):(n[0]=U(n[0]),n[1]=U(n[1]),n[2]=U(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},W=l.unpack,H=Math.round,V=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,i,o,a=(t=W(t,"hsl"))[0],s=t[1],c=t[2];if(0===s)r=i=o=255*c;else{var u=[0,0,0],l=[0,0,0],d=c<.5?c*(1+s):c+s-c*s,h=2*c-d,f=a/360;u[0]=f+1/3,u[1]=f,u[2]=f-1/3;for(var p=0;p<3;p++)u[p]<0&&(u[p]+=1),u[p]>1&&(u[p]-=1),6*u[p]<1?l[p]=h+6*(d-h)*u[p]:2*u[p]<1?l[p]=d:3*u[p]<2?l[p]=h+(d-h)*(2/3-u[p])*6:l[p]=h;r=(e=[H(255*l[0]),H(255*l[1]),H(255*l[2])])[0],i=e[1],o=e[2]}return t.length>3?[r,i,o,t[3]]:[r,i,o,1]},q=V,Y=d,$=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,K=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,X=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Z=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Q=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,J=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ee=Math.round,te=function(e){var t;if(e=e.toLowerCase().trim(),Y.format.named)try{return Y.format.named(e)}catch(e){}if(t=e.match($)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(K)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(X)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=ee(2.55*a[s]);return a[3]=1,a}if(t=e.match(Z)){for(var c=t.slice(1,5),u=0;u<3;u++)c[u]=ee(2.55*c[u]);return c[3]=+c[3],c}if(t=e.match(Q)){var l=t.slice(1,4);l[1]*=.01,l[2]*=.01;var d=q(l);return d[3]=1,d}if(t=e.match(J)){var h=t.slice(1,4);h[1]*=.01,h[2]*=.01;var f=q(h);return f[3]=+t[4],f}};te.test=function(e){return $.test(e)||K.test(e)||X.test(e)||Z.test(e)||Q.test(e)||J.test(e)};var ne=v,re=b,ie=d,oe=l.type,ae=B,se=te;re.prototype.css=function(e){return ae(this._rgb,e)},ne.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(re,[null].concat(e,["css"])))},ie.format.css=se,ie.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===oe(e)&&se.test(e))return"css"}});var ce=b,ue=v,le=l.unpack;d.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=le(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},ue.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ce,[null].concat(e,["gl"])))},ce.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var de=l.unpack,he=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=de(e,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),c=Math.max(i,o,a),u=c-s,l=100*u/255,d=s/(255-u)*100;return 0===u?n=Number.NaN:(i===c&&(n=(o-a)/u),o===c&&(n=2+(a-i)/u),a===c&&(n=4+(i-o)/u),(n*=60)<0&&(n+=360)),[n,l,d]},fe=l.unpack,pe=Math.floor,ge=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var c,u,l,d=(a=fe(a,"hcg"))[0],h=a[1],f=a[2];f*=255;var p=255*h;if(0===h)c=u=l=f;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var g=pe(d/=60),m=d-g,b=f*(1-h),y=b+p*(1-m),v=b+p*m,w=b+p;switch(g){case 0:c=(e=[w,v,b])[0],u=e[1],l=e[2];break;case 1:c=(t=[y,w,b])[0],u=t[1],l=t[2];break;case 2:c=(n=[b,w,v])[0],u=n[1],l=n[2];break;case 3:c=(r=[b,y,w])[0],u=r[1],l=r[2];break;case 4:c=(i=[v,b,w])[0],u=i[1],l=i[2];break;case 5:c=(o=[w,b,y])[0],u=o[1],l=o[2]}}return[c,u,l,a.length>3?a[3]:1]},me=l.unpack,be=l.type,ye=v,ve=b,we=d,_e=he;ve.prototype.hcg=function(){return _e(this._rgb)},ye.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ve,[null].concat(e,["hcg"])))},we.format.hcg=ge,we.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=me(e,"hcg"),"array"===be(e)&&3===e.length)return"hcg"}});var Ee=l.unpack,xe=l.last,Se=Math.round,Me=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ee(e,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=xe(e)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var c="000000"+((r=Se(r))<<16|(i=Se(i))<<8|(o=Se(o))).toString(16);c=c.substr(c.length-6);var u="0"+Se(255*a).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return"#"+c+u;case"argb":return"#"+u+c;default:return"#"+c}},Ae=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ce=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Le=function(e){if(e.match(Ae)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Ce)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},Te=v,Oe=b,ke=l.type,Ne=d,De=Me;Oe.prototype.hex=function(e){return De(this._rgb,e)},Te.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Oe,[null].concat(e,["hex"])))},Ne.format.hex=Le,Ne.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===ke(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var Re=l.unpack,Ie=l.TWOPI,Pe=Math.min,Fe=Math.sqrt,ze=Math.acos,je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=Re(e,"rgb"),i=r[0],o=r[1],a=r[2],s=Pe(i/=255,o/=255,a/=255),c=(i+o+a)/3,u=c>0?1-s/c:0;return 0===u?n=NaN:(n=(i-o+(i-a))/2,n/=Fe((i-o)*(i-o)+(i-a)*(o-a)),n=ze(n),a>o&&(n=Ie-n),n/=Ie),[360*n,u,c]},Ge=l.unpack,Ue=l.limit,Be=l.TWOPI,We=l.PITHIRD,He=Math.cos,Ve=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=Ge(e,"hsi"))[0],a=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*He(Be*o)/He(We-Be*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*He(Be*(o-=1/3))/He(We-Be*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*He(Be*(o-=2/3))/He(We-Be*o))/3)),[255*(n=Ue(s*n*3)),255*(r=Ue(s*r*3)),255*(i=Ue(s*i*3)),e.length>3?e[3]:1]},qe=l.unpack,Ye=l.type,$e=v,Ke=b,Xe=d,Ze=je;Ke.prototype.hsi=function(){return Ze(this._rgb)},$e.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ke,[null].concat(e,["hsi"])))},Xe.format.hsi=Ve,Xe.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=qe(e,"hsi"),"array"===Ye(e)&&3===e.length)return"hsi"}});var Qe=l.unpack,Je=l.type,et=v,tt=b,nt=d,rt=P;tt.prototype.hsl=function(){return rt(this._rgb)},et.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(tt,[null].concat(e,["hsl"])))},nt.format.hsl=V,nt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Qe(e,"hsl"),"array"===Je(e)&&3===e.length)return"hsl"}});var it=l.unpack,ot=Math.min,at=Math.max,st=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=it(e,"rgb"))[0],a=e[1],s=e[2],c=ot(o,a,s),u=at(o,a,s),l=u-c;return i=u/255,0===u?(n=Number.NaN,r=0):(r=l/u,o===u&&(n=(a-s)/l),a===u&&(n=2+(s-o)/l),s===u&&(n=4+(o-a)/l),(n*=60)<0&&(n+=360)),[n,r,i]},ct=l.unpack,ut=Math.floor,lt=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var c,u,l,d=(a=ct(a,"hsv"))[0],h=a[1],f=a[2];if(f*=255,0===h)c=u=l=f;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var p=ut(d/=60),g=d-p,m=f*(1-h),b=f*(1-h*g),y=f*(1-h*(1-g));switch(p){case 0:c=(e=[f,y,m])[0],u=e[1],l=e[2];break;case 1:c=(t=[b,f,m])[0],u=t[1],l=t[2];break;case 2:c=(n=[m,f,y])[0],u=n[1],l=n[2];break;case 3:c=(r=[m,b,f])[0],u=r[1],l=r[2];break;case 4:c=(i=[y,m,f])[0],u=i[1],l=i[2];break;case 5:c=(o=[f,m,b])[0],u=o[1],l=o[2]}}return[c,u,l,a.length>3?a[3]:1]},dt=l.unpack,ht=l.type,ft=v,pt=b,gt=d,mt=st;pt.prototype.hsv=function(){return mt(this._rgb)},ft.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pt,[null].concat(e,["hsv"])))},gt.format.hsv=lt,gt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=dt(e,"hsv"),"array"===ht(e)&&3===e.length)return"hsv"}});var bt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},yt=bt,vt=l.unpack,wt=Math.pow,_t=function(e){return(e/=255)<=.04045?e/12.92:wt((e+.055)/1.055,2.4)},Et=function(e){return e>yt.t3?wt(e,1/3):e/yt.t2+yt.t0},xt=function(e,t,n){return e=_t(e),t=_t(t),n=_t(n),[Et((.4124564*e+.3575761*t+.1804375*n)/yt.Xn),Et((.2126729*e+.7151522*t+.072175*n)/yt.Yn),Et((.0193339*e+.119192*t+.9503041*n)/yt.Zn)]},St=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=vt(e,"rgb"),r=n[0],i=n[1],o=n[2],a=xt(r,i,o),s=a[0],c=a[1],u=116*c-16;return[u<0?0:u,500*(s-c),200*(c-a[2])]},Mt=bt,At=l.unpack,Ct=Math.pow,Lt=function(e){return 255*(e<=.00304?12.92*e:1.055*Ct(e,1/2.4)-.055)},Tt=function(e){return e>Mt.t1?e*e*e:Mt.t2*(e-Mt.t0)},Ot=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=At(e,"lab"))[0],a=e[1],s=e[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=Mt.Yn*Tt(r),n=Mt.Xn*Tt(n),i=Mt.Zn*Tt(i),[Lt(3.2404542*n-1.5371385*r-.4985314*i),Lt(-.969266*n+1.8760108*r+.041556*i),Lt(.0556434*n-.2040259*r+1.0572252*i),e.length>3?e[3]:1]},kt=l.unpack,Nt=l.type,Dt=v,Rt=b,It=d,Pt=St;Rt.prototype.lab=function(){return Pt(this._rgb)},Dt.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Rt,[null].concat(e,["lab"])))},It.format.lab=Ot,It.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=kt(e,"lab"),"array"===Nt(e)&&3===e.length)return"lab"}});var Ft=l.unpack,zt=l.RAD2DEG,jt=Math.sqrt,Gt=Math.atan2,Ut=Math.round,Bt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ft(e,"lab"),r=n[0],i=n[1],o=n[2],a=jt(i*i+o*o),s=(Gt(o,i)*zt+360)%360;return 0===Ut(1e4*a)&&(s=Number.NaN),[r,a,s]},Wt=l.unpack,Ht=St,Vt=Bt,qt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Wt(e,"rgb"),r=n[0],i=n[1],o=n[2],a=Ht(r,i,o),s=a[0],c=a[1],u=a[2];return Vt(s,c,u)},Yt=l.unpack,$t=l.DEG2RAD,Kt=Math.sin,Xt=Math.cos,Zt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Yt(e,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,Xt(o*=$t)*i,Kt(o)*i]},Qt=l.unpack,Jt=Zt,en=Ot,tn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Qt(e,"lch"))[0],r=e[1],i=e[2],o=Jt(n,r,i),a=o[0],s=o[1],c=o[2],u=en(a,s,c);return[u[0],u[1],u[2],e.length>3?e[3]:1]},nn=l.unpack,rn=tn,on=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=nn(e,"hcl").reverse();return rn.apply(void 0,n)},an=l.unpack,sn=l.type,cn=v,un=b,ln=d,dn=qt;un.prototype.lch=function(){return dn(this._rgb)},un.prototype.hcl=function(){return dn(this._rgb).reverse()},cn.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(un,[null].concat(e,["lch"])))},cn.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(un,[null].concat(e,["hcl"])))},ln.format.lch=tn,ln.format.hcl=on,["lch","hcl"].forEach((function(e){return ln.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=an(t,e),"array"===sn(t)&&3===t.length)return e}})}));var hn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fn=d,pn=l.type,gn=hn,mn=Le,bn=Me;b.prototype.name=function(){for(var e=bn(this._rgb,"rgb"),t=0,n=Object.keys(gn);t<n.length;t+=1){var r=n[t];if(gn[r]===e)return r.toLowerCase()}return e},fn.format.named=function(e){if(e=e.toLowerCase(),gn[e])return mn(gn[e]);throw new Error("unknown color name: "+e)},fn.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===pn(e)&&gn[e.toLowerCase()])return"named"}});var yn=l.unpack,vn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=yn(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},wn=l.type,_n=function(e){if("number"==wn(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},En=v,xn=b,Sn=d,Mn=l.type,An=vn;xn.prototype.num=function(){return An(this._rgb)},En.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(xn,[null].concat(e,["num"])))},Sn.format.num=_n,Sn.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Mn(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Cn=v,Ln=b,Tn=d,On=l.unpack,kn=l.type,Nn=Math.round;Ln.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Nn)},Ln.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:Nn(t):t}))},Cn.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ln,[null].concat(e,["rgb"])))},Tn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=On(e,"rgba");return void 0===n[3]&&(n[3]=1),n},Tn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=On(e,"rgba"),"array"===kn(e)&&(3===e.length||4===e.length&&"number"==kn(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var Dn=Math.log,Rn=function(e){var t,n,r,i=e/100;return i<66?(t=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Dn(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*Dn(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*Dn(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Dn(n),r=255),[t,n,r,1]},In=Rn,Pn=l.unpack,Fn=Math.round,zn=v,jn=b,Gn=d,Un=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=Pn(e,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,c=.4;s-a>c;){var u=In(n=.5*(s+a));u[2]/u[0]>=o/i?s=n:a=n}return Fn(n)};jn.prototype.temp=jn.prototype.kelvin=jn.prototype.temperature=function(){return Un(this._rgb)},zn.temp=zn.kelvin=zn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(jn,[null].concat(e,["temp"])))},Gn.format.temp=Gn.format.kelvin=Gn.format.temperature=Rn;var Bn=l.unpack,Wn=Math.cbrt,Hn=Math.pow,Vn=Math.sign,qn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Bn(e,"rgb"),r=n[0],i=n[1],o=n[2],a=[Yn(r/255),Yn(i/255),Yn(o/255)],s=a[0],c=a[1],u=a[2],l=Wn(.4122214708*s+.5363325363*c+.0514459929*u),d=Wn(.2119034982*s+.6806995451*c+.1073969566*u),h=Wn(.0883024619*s+.2817188376*c+.6299787005*u);return[.2104542553*l+.793617785*d-.0040720468*h,1.9779984951*l-2.428592205*d+.4505937099*h,.0259040371*l+.7827717662*d-.808675766*h]};function Yn(e){var t=Math.abs(e);return t<.04045?e/12.92:(Vn(e)||1)*Hn((t+.055)/1.055,2.4)}var $n=l.unpack,Kn=Math.pow,Xn=Math.sign,Zn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=$n(e,"lab"))[0],r=e[1],i=e[2],o=Kn(n+.3963377774*r+.2158037573*i,3),a=Kn(n-.1055613458*r-.0638541728*i,3),s=Kn(n-.0894841775*r-1.291485548*i,3);return[255*Qn(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Qn(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Qn(-.0041960863*o-.7034186147*a+1.707614701*s),e.length>3?e[3]:1]};function Qn(e){var t=Math.abs(e);return t>.0031308?(Xn(e)||1)*(1.055*Kn(t,1/2.4)-.055):12.92*e}var Jn=l.unpack,er=l.type,tr=v,nr=b,rr=d,ir=qn;nr.prototype.oklab=function(){return ir(this._rgb)},tr.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(nr,[null].concat(e,["oklab"])))},rr.format.oklab=Zn,rr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Jn(e,"oklab"),"array"===er(e)&&3===e.length)return"oklab"}});var or=l.unpack,ar=qn,sr=Bt,cr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=or(e,"rgb"),r=n[0],i=n[1],o=n[2],a=ar(r,i,o),s=a[0],c=a[1],u=a[2];return sr(s,c,u)},ur=l.unpack,lr=Zt,dr=Zn,hr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=ur(e,"lch"))[0],r=e[1],i=e[2],o=lr(n,r,i),a=o[0],s=o[1],c=o[2],u=dr(a,s,c);return[u[0],u[1],u[2],e.length>3?e[3]:1]},fr=l.unpack,pr=l.type,gr=v,mr=b,br=d,yr=cr;mr.prototype.oklch=function(){return yr(this._rgb)},gr.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(mr,[null].concat(e,["oklch"])))},br.format.oklch=hr,br.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=fr(e,"oklch"),"array"===pr(e)&&3===e.length)return"oklch"}});var vr=b,wr=l.type;vr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===wr(e)?t?(this._rgb[3]=e,this):new vr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},b.prototype.clipped=function(){return this._rgb._clipped||!1};var _r=b,Er=bt;_r.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=Er.Kn*e,new _r(t,"lab").alpha(this.alpha(),!0)},_r.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},_r.prototype.darker=_r.prototype.darken,_r.prototype.brighter=_r.prototype.brighten,b.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var xr=b,Sr=l.type,Mr=Math.pow;xr.prototype.luminance=function(e){if(void 0!==e&&"number"===Sr(e)){if(0===e)return new xr([0,0,0,this._rgb[3]],"rgb");if(1===e)return new xr([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,r=function(t,i){var o=t.interpolate(i,.5,"rgb"),a=o.luminance();return Math.abs(e-a)<1e-7||!n--?o:a>e?r(t,o):r(o,i)},i=(t>e?r(new xr([0,0,0]),this):r(this,new xr([255,255,255]))).rgb();return new xr(i.concat([this._rgb[3]]))}return Ar.apply(void 0,this._rgb.slice(0,3))};var Ar=function(e,t,n){return.2126*(e=Cr(e))+.7152*(t=Cr(t))+.0722*Cr(n)},Cr=function(e){return(e/=255)<=.03928?e/12.92:Mr((e+.055)/1.055,2.4)},Lr={},Tr=b,Or=l.type,kr=Lr,Nr=function(e,t,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(kr[o]||r.length||(o=Object.keys(kr)[0]),!kr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Or(e)&&(e=new Tr(e)),"object"!==Or(t)&&(t=new Tr(t)),kr[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))},Dr=b,Rr=Nr;Dr.prototype.mix=Dr.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Rr.apply(void 0,[this,e,t].concat(n))};var Ir=b;Ir.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new Ir([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};var Pr=b,Fr=bt;Pr.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=Fr.Kn*e,t[1]<0&&(t[1]=0),new Pr(t,"lch").alpha(this.alpha(),!0)},Pr.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var zr=b,jr=l.type;zr.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==jr(t))switch(t.charAt(0)){case"+":case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else{if("number"!==jr(t))throw new Error("unsupported value for Color.set");a[s]=t}var c=new zr(a,i);return n?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+o+" in mode "+i)}return a};var Gr=b;Lr.rgb=function(e,t,n){var r=e._rgb,i=t._rgb;return new Gr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var Ur=b,Br=Math.sqrt,Wr=Math.pow;Lr.lrgb=function(e,t,n){var r=e._rgb,i=r[0],o=r[1],a=r[2],s=t._rgb,c=s[0],u=s[1],l=s[2];return new Ur(Br(Wr(i,2)*(1-n)+Wr(c,2)*n),Br(Wr(o,2)*(1-n)+Wr(u,2)*n),Br(Wr(a,2)*(1-n)+Wr(l,2)*n),"rgb")};var Hr=b;Lr.lab=function(e,t,n){var r=e.lab(),i=t.lab();return new Hr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var Vr=b,qr=function(e,t,n,r){var i,o,a,s,c,u,l,d,h,f,p,g,m;return"hsl"===r?(a=e.hsl(),s=t.hsl()):"hsv"===r?(a=e.hsv(),s=t.hsv()):"hcg"===r?(a=e.hcg(),s=t.hcg()):"hsi"===r?(a=e.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=e.hcl(),s=t.hcl()):"oklch"===r&&(a=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(c=(i=a)[0],l=i[1],h=i[2],u=(o=s)[0],d=o[1],f=o[2]),isNaN(c)||isNaN(u)?isNaN(c)?isNaN(u)?g=Number.NaN:(g=u,1!=h&&0!=h||"hsv"==r||(p=d)):(g=c,1!=f&&0!=f||"hsv"==r||(p=l)):g=c+n*(u>c&&u-c>180?u-(c+360):u<c&&c-u>180?u+360-c:u-c),void 0===p&&(p=l+n*(d-l)),m=h+n*(f-h),new Vr("oklch"===r?[m,p,g]:[g,p,m],r)},Yr=qr,$r=function(e,t,n){return Yr(e,t,n,"lch")};Lr.lch=$r,Lr.hcl=$r;var Kr=b;Lr.num=function(e,t,n){var r=e.num(),i=t.num();return new Kr(r+n*(i-r),"num")};var Xr=qr;Lr.hcg=function(e,t,n){return Xr(e,t,n,"hcg")};var Zr=qr;Lr.hsi=function(e,t,n){return Zr(e,t,n,"hsi")};var Qr=qr;Lr.hsl=function(e,t,n){return Qr(e,t,n,"hsl")};var Jr=qr;Lr.hsv=function(e,t,n){return Jr(e,t,n,"hsv")};var ei=b;Lr.oklab=function(e,t,n){var r=e.oklab(),i=t.oklab();return new ei(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};var ti=qr;Lr.oklch=function(e,t,n){return ti(e,t,n,"oklch")};var ni=b,ri=l.clip_rgb,ii=Math.pow,oi=Math.sqrt,ai=Math.PI,si=Math.cos,ci=Math.sin,ui=Math.atan2,li=function(e,t){for(var n=e.length,r=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],a=t[i]/n,s=o._rgb;r[0]+=ii(s[0],2)*a,r[1]+=ii(s[1],2)*a,r[2]+=ii(s[2],2)*a,r[3]+=s[3]*a}return r[0]=oi(r[0]),r[1]=oi(r[1]),r[2]=oi(r[2]),r[3]>.9999999&&(r[3]=1),new ni(ri(r))},di=v,hi=l.type,fi=Math.pow,pi=function(e){var t="rgb",n=di("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,c=[],u=!1,l=0,d=1,h=!1,f={},p=!0,g=1,m=function(e){if((e=e||["#fff","#000"])&&"string"===hi(e)&&di.brewer&&di.brewer[e.toLowerCase()]&&(e=di.brewer[e.toLowerCase()]),"array"===hi(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=di(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return w(),c=e},b=function(e){return e},y=function(e){return e},v=function(e,r){var i,u;if(null==r&&(r=!1),isNaN(e)||null===e)return n;u=r?e:s&&s.length>2?function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0}(e)/(s.length-2):d!==l?(e-l)/(d-l):1,u=y(u),r||(u=b(u)),1!==g&&(u=fi(u,g)),u=a[0]+u*(1-a[0]-a[1]),u=Math.min(1,Math.max(0,u));var h=Math.floor(1e4*u);if(p&&f[h])i=f[h];else{if("array"===hi(c))for(var m=0;m<o.length;m++){var v=o[m];if(u<=v){i=c[m];break}if(u>=v&&m===o.length-1){i=c[m];break}if(u>v&&u<o[m+1]){u=(u-v)/(o[m+1]-v),i=di.interpolate(c[m],c[m+1],u,t);break}}else"function"===hi(c)&&(i=c(u));p&&(f[h]=i)}return i},w=function(){return f={}};m(e);var _=function(e){var t=di(v(e));return u&&t[u]?t[u]():t};return _.classes=function(e){if(null!=e){if("array"===hi(e))s=e,i=[e[0],e[e.length-1]];else{var t=di.analyze(i);s=0===e?[t.min,t.max]:di.limits(t,"e",e)}return _}return s},_.domain=function(e){if(!arguments.length)return i;l=e[0],d=e[e.length-1],o=[];var t=c.length;if(e.length===t&&l!==d)for(var n=0,r=Array.from(e);n<r.length;n+=1){var a=r[n];o.push((a-l)/(d-l))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var u=e.map((function(t,n){return n/(e.length-1)})),h=e.map((function(e){return(e-l)/(d-l)}));h.every((function(e,t){return u[t]===e}))||(y=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=h[t+1];)t++;var n=(e-h[t])/(h[t+1]-h[t]);return u[t]+n*(u[t+1]-u[t])})}}return i=[l,d],_},_.mode=function(e){return arguments.length?(t=e,w(),_):t},_.range=function(e,t){return m(e),_},_.out=function(e){return u=e,_},_.spread=function(e){return arguments.length?(r=e,_):r},_.correctLightness=function(e){return null==e&&(e=!0),h=e,w(),b=h?function(e){for(var t=v(0,!0).lab()[0],n=v(1,!0).lab()[0],r=t>n,i=v(e,!0).lab()[0],o=t+(n-t)*e,a=i-o,s=0,c=1,u=20;Math.abs(a)>.01&&u-- >0;)r&&(a*=-1),a<0?(s=e,e+=.5*(c-e)):(c=e,e+=.5*(s-e)),a=(i=v(e,!0).lab()[0])-o;return e}:function(e){return e},_},_.padding=function(e){return null!=e?("number"===hi(e)&&(e=[e,e]),a=e,_):a},_.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=c.slice(0);else if(1===t)r=[_(.5)];else if(t>1){var o=i[0],a=i[1]-o;r=gi(0,t,!1).map((function(e){return _(o+e/(t-1)*a)}))}else{e=[];var u=[];if(s&&s.length>2)for(var l=1,d=s.length,h=1<=d;h?l<d:l>d;h?l++:l--)u.push(.5*(s[l-1]+s[l]));else u=i;r=u.map((function(e){return _(e)}))}return di[n]&&(r=r.map((function(e){return e[n]()}))),r},_.cache=function(e){return null!=e?(p=e,_):p},_.gamma=function(e){return null!=e?(g=e,_):g},_.nodata=function(e){return null!=e?(n=di(e),_):n},_};function gi(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,a=e;i?a<o:a>o;i?a++:a--)r.push(a);return r}var mi=b,bi=pi,yi=v,vi=function(e,t,n){if(!vi[n])throw new Error("unknown blend mode "+n);return vi[n](e,t)},wi=function(e){return function(t,n){var r=yi(n).rgb(),i=yi(t).rgb();return yi.rgb(e(r,i))}},_i=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}};vi.normal=wi(_i((function(e){return e}))),vi.multiply=wi(_i((function(e,t){return e*t/255}))),vi.screen=wi(_i((function(e,t){return 255*(1-(1-e/255)*(1-t/255))}))),vi.overlay=wi(_i((function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}))),vi.darken=wi(_i((function(e,t){return e>t?t:e}))),vi.lighten=wi(_i((function(e,t){return e>t?e:t}))),vi.dodge=wi(_i((function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e}))),vi.burn=wi(_i((function(e,t){return 255*(1-(1-t/255)/(e/255))})));for(var Ei=vi,xi=l.type,Si=l.clip_rgb,Mi=l.TWOPI,Ai=Math.pow,Ci=Math.sin,Li=Math.cos,Ti=v,Oi=b,ki=Math.floor,Ni=Math.random,Di=a,Ri=Math.log,Ii=Math.pow,Pi=Math.floor,Fi=Math.abs,zi=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Di(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Di(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return ji(n,e,t)},n},ji=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==Di(e)&&(e=zi(e));var r=e.min,i=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,i];var a=[];if("c"===t.substr(0,1)&&(a.push(r),a.push(i)),"e"===t.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*Ri(r),u=Math.LOG10E*Ri(i);a.push(r);for(var l=1;l<n;l++)a.push(Ii(10,c+l/n*(u-c)));a.push(i)}else if("q"===t.substr(0,1)){a.push(r);for(var d=1;d<n;d++){var h=(o.length-1)*d/n,f=Pi(h);if(f===h)a.push(o[f]);else{var p=h-f;a.push(o[f]*(1-p)+o[f+1]*p)}}a.push(i)}else if("k"===t.substr(0,1)){var g,m=o.length,b=new Array(m),y=new Array(n),v=!0,w=0,_=null;(_=[]).push(r);for(var E=1;E<n;E++)_.push(r+E/n*(i-r));for(_.push(i);v;){for(var x=0;x<n;x++)y[x]=0;for(var S=0;S<m;S++)for(var M=o[S],A=Number.MAX_VALUE,C=void 0,L=0;L<n;L++){var T=Fi(_[L]-M);T<A&&(A=T,C=L),y[C]++,b[S]=C}for(var O=new Array(n),k=0;k<n;k++)O[k]=null;for(var N=0;N<m;N++)null===O[g=b[N]]?O[g]=o[N]:O[g]+=o[N];for(var D=0;D<n;D++)O[D]*=1/y[D];v=!1;for(var R=0;R<n;R++)if(O[R]!==_[R]){v=!0;break}_=O,++w>200&&(v=!1)}for(var I={},P=0;P<n;P++)I[P]=[];for(var F=0;F<m;F++)I[g=b[F]].push(o[F]);for(var z=[],j=0;j<n;j++)z.push(I[j][0]),z.push(I[j][I[j].length-1]);z=z.sort((function(e,t){return e-t})),a.push(z[0]);for(var G=1;G<z.length;G+=2){var U=z[G];isNaN(U)||-1!==a.indexOf(U)||a.push(U)}}return a},Gi={analyze:zi,limits:ji},Ui=b,Bi=b,Wi=Math.sqrt,Hi=Math.pow,Vi=Math.min,qi=Math.max,Yi=Math.atan2,$i=Math.abs,Ki=Math.cos,Xi=Math.sin,Zi=Math.exp,Qi=Math.PI,Ji=b,eo=b,to=v,no=pi,ro={cool:function(){return no([to.hsl(180,1,.9),to.hsl(250,.7,.4)])},hot:function(){return no(["#000","#f00","#ff0","#fff"]).mode("rgb")}},io={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},oo=0,ao=Object.keys(io);oo<ao.length;oo+=1){var so=ao[oo];io[so.toLowerCase()]=io[so]}var co=io,uo=v;return uo.average=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=i})),e=e.map((function(e){return new ni(e)})),"lrgb"===t)return li(e,n);for(var o=e.shift(),a=o.get(t),s=[],c=0,u=0,l=0;l<a.length;l++)if(a[l]=(a[l]||0)*n[0],s.push(isNaN(a[l])?0:n[0]),"h"===t.charAt(l)&&!isNaN(a[l])){var d=a[l]/180*ai;c+=si(d)*n[0],u+=ci(d)*n[0]}var h=o.alpha()*n[0];e.forEach((function(e,r){var i=e.get(t);h+=e.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===t.charAt(o)){var l=i[o]/180*ai;c+=si(l)*n[r+1],u+=ci(l)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var f=0;f<a.length;f++)if("h"===t.charAt(f)){for(var p=ui(u/s[f],c/s[f])/ai*180;p<0;)p+=360;for(;p>=360;)p-=360;a[f]=p}else a[f]=a[f]/s[f];return h/=r,new ni(a,t).alpha(h>.99999?1:h,!0)},uo.bezier=function(e){var t=function(e){var t,n,r,i,o,a,s;if(2===(e=e.map((function(e){return new mi(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],a=t[1],i=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(a[t]-o[t])}));return new mi(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),o=n[0],a=n[1],s=n[2],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]}));return new mi(t,"lab")};else if(4===e.length){var c;r=e.map((function(e){return e.lab()})),o=r[0],a=r[1],s=r[2],c=r[3],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*c[t]}));return new mi(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var u,l,d;u=e.map((function(e){return e.lab()})),d=e.length-1,l=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t}(d),i=function(e){var t=1-e,n=[0,1,2].map((function(n){return u.reduce((function(r,i,o){return r+l[o]*Math.pow(t,d-o)*Math.pow(e,o)*i[n]}),0)}));return new mi(n,"lab")}}return i}(e);return t.scale=function(){return bi(t)},t},uo.blend=Ei,uo.cubehelix=function(e,t,n,r,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===xi(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var c=Mi*((e+120)/360+t*s),u=Ai(i[0]+o*s,r),l=(0!==a?n[0]+s*a:n)*u*(1-u)/2,d=Li(c),h=Ci(c);return Ti(Si([255*(u+l*(-.14861*d+1.78277*h)),255*(u+l*(-.29227*d-.90649*h)),255*(u+l*(1.97294*d)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===xi(n=e)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(e){return null==e?i:("array"===xi(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),s)},s.scale=function(){return Ti.scale(s)},s.hue(n),s},uo.mix=uo.interpolate=Nr,uo.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(ki(16*Ni()));return new Oi(e,"hex")},uo.scale=pi,uo.analyze=Gi.analyze,uo.contrast=function(e,t){e=new Ui(e),t=new Ui(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},uo.deltaE=function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(e){return 360*e/(2*Qi)},a=function(e){return 2*Qi*e/360};e=new Bi(e),t=new Bi(t);var s=Array.from(e.lab()),c=s[0],u=s[1],l=s[2],d=Array.from(t.lab()),h=d[0],f=d[1],p=d[2],g=(c+h)/2,m=(Wi(Hi(u,2)+Hi(l,2))+Wi(Hi(f,2)+Hi(p,2)))/2,b=.5*(1-Wi(Hi(m,7)/(Hi(m,7)+Hi(25,7)))),y=u*(1+b),v=f*(1+b),w=Wi(Hi(y,2)+Hi(l,2)),_=Wi(Hi(v,2)+Hi(p,2)),E=(w+_)/2,x=o(Yi(l,y)),S=o(Yi(p,v)),M=x>=0?x:x+360,A=S>=0?S:S+360,C=$i(M-A)>180?(M+A+360)/2:(M+A)/2,L=1-.17*Ki(a(C-30))+.24*Ki(a(2*C))+.32*Ki(a(3*C+6))-.2*Ki(a(4*C-63)),T=A-M;T=$i(T)<=180?T:A<=M?T+360:T-360,T=2*Wi(w*_)*Xi(a(T)/2);var O=h-c,k=_-w,N=1+.015*Hi(g-50,2)/Wi(20+Hi(g-50,2)),D=1+.045*E,R=1+.015*E*L,I=30*Zi(-Hi((C-275)/25,2)),P=-2*Wi(Hi(E,7)/(Hi(E,7)+Hi(25,7)))*Xi(2*a(I)),F=Wi(Hi(O/(n*N),2)+Hi(k/(r*D),2)+Hi(T/(i*R),2)+P*(k/(r*D))*(T/(i*R)));return qi(0,Vi(100,F))},uo.distance=function(e,t,n){void 0===n&&(n="lab"),e=new Ji(e),t=new Ji(t);var r=e.get(n),i=t.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},uo.limits=Gi.limits,uo.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(eo,[null].concat(e))),!0}catch(e){return!1}},uo.scales=ro,uo.colors=hn,uo.brewer=co,uo}()},1891:(e,t,n)=>{"use strict";n.d(t,{B8:()=>S,Il:()=>i,J5:()=>a,SU:()=>x,Ss:()=>M,ZP:()=>w,xV:()=>o});var r=n(5601);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,d=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),h=new RegExp(`^rgb\\(${u},${u},${u}\\)$`),f=new RegExp(`^rgba\\(${s},${s},${s},${c}\\)$`),p=new RegExp(`^rgba\\(${u},${u},${u},${c}\\)$`),g=new RegExp(`^hsl\\(${c},${u},${u}\\)$`),m=new RegExp(`^hsla\\(${c},${u},${u},${c}\\)$`),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_(t):3===n?new M(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?E(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?E(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new M(t[1],t[2],t[3],1):(t=h.exec(e))?new M(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=f.exec(e))?E(t[1],t[2],t[3],t[4]):(t=p.exec(e))?E(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?k(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?k(t[1],t[2]/100,t[3]/100,t[4]):b.hasOwnProperty(e)?_(b[e]):"transparent"===e?new M(NaN,NaN,NaN,0):null}function _(e){return new M(e>>16&255,e>>8&255,255&e,1)}function E(e,t,n,r){return r<=0&&(e=t=n=NaN),new M(e,t,n,r)}function x(e){return e instanceof i||(e=w(e)),e?new M((e=e.rgb()).r,e.g,e.b,e.opacity):new M}function S(e,t,n,r){return 1===arguments.length?x(e):new M(e,t,n,null==r?1:r)}function M(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function A(){return`#${O(this.r)}${O(this.g)}${O(this.b)}`}function C(){const e=L(this.opacity);return`${1===e?"rgb(":"rgba("}${T(this.r)}, ${T(this.g)}, ${T(this.b)}${1===e?")":`, ${e})`}`}function L(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function T(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function O(e){return((e=T(e))<16?"0":"")+e.toString(16)}function k(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new D(e,t,n,r)}function N(e){if(e instanceof D)return new D(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=w(e)),!e)return new D;if(e instanceof D)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-o,u=(a+o)/2;return c?(s=t===a?(n-r)/c+6*(n<r):n===a?(r-t)/c+2:(t-n)/c+4,c/=u<.5?a+o:2-a-o,s*=60):c=u>0&&u<1?0:s,new D(s,c,u,e.opacity)}function D(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function R(e){return(e=(e||0)%360)<0?e+360:e}function I(e){return Math.max(0,Math.min(1,e||0))}function P(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,r.Z)(i,w,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return N(this).formatHsl()},formatRgb:v,toString:v}),(0,r.Z)(M,S,(0,r.l)(i,{brighter(e){return e=null==e?a:Math.pow(a,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new M(T(this.r),T(this.g),T(this.b),L(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatHex8:function(){return`#${O(this.r)}${O(this.g)}${O(this.b)}${O(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:C,toString:C})),(0,r.Z)(D,(function(e,t,n,r){return 1===arguments.length?N(e):new D(e,t,n,null==r?1:r)}),(0,r.l)(i,{brighter(e){return e=null==e?a:Math.pow(a,e),new D(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new D(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new M(P(e>=240?e-240:e+120,i,r),P(e,i,r),P(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new D(R(this.h),I(this.s),I(this.l),L(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=L(this.opacity);return`${1===e?"hsl(":"hsla("}${R(this.h)}, ${100*I(this.s)}%, ${100*I(this.l)}%${1===e?")":`, ${e})`}`}}))},5601:(e,t,n)=>{"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,{Z:()=>r,l:()=>i})},7939:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,wx:()=>o,yi:()=>a});var r=n(9879);function i(e,t){return function(n){return e+n*t}}function o(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.Z)(isNaN(e)?t:e)}function a(e){return 1==(e=+e)?s:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,r.Z)(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?i(e,n):(0,r.Z)(isNaN(e)?t:e)}},9879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>()=>e},7920:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,hD:()=>c});var r=n(1891);function i(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var o=n(7939);const a=function e(t){var n=(0,o.yi)(t);function i(e,t){var i=n((e=(0,r.B8)(e)).r,(t=(0,r.B8)(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),c=(0,o.ZP)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=s(t),e.opacity=c(t),e+""}}return i.gamma=e,i}(1);function s(e){return function(t){var n,i,o=t.length,a=new Array(o),s=new Array(o),c=new Array(o);for(n=0;n<o;++n)i=(0,r.B8)(t[n]),a[n]=i.r||0,s[n]=i.g||0,c[n]=i.b||0;return a=e(a),s=e(s),c=e(c),i.opacity=1,function(e){return i.r=a(e),i.g=s(e),i.b=c(e),i+""}}}var c=s((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],s=r>0?e[r-1]:2*o-a,c=r<t-1?e[r+2]:2*a-o;return i((n-r/t)*t,s,o,a,c)}}));s((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],c=e[(r+2)%t];return i((n-r/t)*t,o,a,s,c)}}))},4099:(e,t,n)=>{"use strict";function r(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}n.r(t),n.d(t,{interpolateBlues:()=>oe,interpolateBrBG:()=>b,interpolateBuGn:()=>I,interpolateBuPu:()=>F,interpolateCividis:()=>me,interpolateCool:()=>Fe,interpolateCubehelixDefault:()=>Ie,interpolateGnBu:()=>j,interpolateGreens:()=>se,interpolateGreys:()=>ue,interpolateInferno:()=>$e,interpolateMagma:()=>Ye,interpolateOrRd:()=>U,interpolateOranges:()=>ge,interpolatePRGn:()=>v,interpolatePiYG:()=>_,interpolatePlasma:()=>Ke,interpolatePuBu:()=>V,interpolatePuBuGn:()=>W,interpolatePuOr:()=>x,interpolatePuRd:()=>Y,interpolatePurples:()=>de,interpolateRainbow:()=>je,interpolateRdBu:()=>M,interpolateRdGy:()=>C,interpolateRdPu:()=>K,interpolateRdYlBu:()=>T,interpolateRdYlGn:()=>k,interpolateReds:()=>fe,interpolateSinebow:()=>We,interpolateSpectral:()=>D,interpolateTurbo:()=>He,interpolateViridis:()=>qe,interpolateWarm:()=>Pe,interpolateYlGn:()=>J,interpolateYlGnBu:()=>Z,interpolateYlOrBr:()=>te,interpolateYlOrRd:()=>re,schemeAccent:()=>o,schemeBlues:()=>ie,schemeBrBG:()=>m,schemeBuGn:()=>R,schemeBuPu:()=>P,schemeCategory10:()=>i,schemeDark2:()=>a,schemeGnBu:()=>z,schemeGreens:()=>ae,schemeGreys:()=>ce,schemeOrRd:()=>G,schemeOranges:()=>pe,schemePRGn:()=>y,schemePaired:()=>s,schemePastel1:()=>c,schemePastel2:()=>u,schemePiYG:()=>w,schemePuBu:()=>H,schemePuBuGn:()=>B,schemePuOr:()=>E,schemePuRd:()=>q,schemePurples:()=>le,schemeRdBu:()=>S,schemeRdGy:()=>A,schemeRdPu:()=>$,schemeRdYlBu:()=>L,schemeRdYlGn:()=>O,schemeReds:()=>he,schemeSet1:()=>l,schemeSet2:()=>d,schemeSet3:()=>h,schemeSpectral:()=>N,schemeTableau10:()=>f,schemeYlGn:()=>Q,schemeYlGnBu:()=>X,schemeYlOrBr:()=>ee,schemeYlOrRd:()=>ne});const i=r("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),o=r("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a=r("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),s=r("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),c=r("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),u=r("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),l=r("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),d=r("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),h=r("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),f=r("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var p=n(7920);const g=e=>(0,p.hD)(e[e.length-1]);var m=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r);const b=g(m);var y=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r);const v=g(y);var w=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r);const _=g(w);var E=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r);const x=g(E);var S=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r);const M=g(S);var A=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r);const C=g(A);var L=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r);const T=g(L);var O=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r);const k=g(O);var N=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r);const D=g(N);var R=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r);const I=g(R);var P=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r);const F=g(P);var z=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r);const j=g(z);var G=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r);const U=g(G);var B=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r);const W=g(B);var H=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r);const V=g(H);var q=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r);const Y=g(q);var $=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r);const K=g($);var X=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r);const Z=g(X);var Q=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r);const J=g(Q);var ee=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r);const te=g(ee);var ne=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r);const re=g(ne);var ie=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r);const oe=g(ie);var ae=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r);const se=g(ae);var ce=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r);const ue=g(ce);var le=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r);const de=g(le);var he=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r);const fe=g(he);var pe=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r);const ge=g(pe);function me(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}var be=n(5601),ye=n(1891);const ve=Math.PI/180,we=180/Math.PI;var _e=-.14861,Ee=1.78277,xe=-.29227,Se=-.90649,Me=1.97294,Ae=Me*Se,Ce=Me*Ee,Le=Ee*xe-Se*_e;function Te(e){if(e instanceof ke)return new ke(e.h,e.s,e.l,e.opacity);e instanceof ye.Ss||(e=(0,ye.SU)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Le*r+Ae*t-Ce*n)/(Le+Ae-Ce),o=r-i,a=(Me*(n-i)-xe*o)/Se,s=Math.sqrt(a*a+o*o)/(Me*i*(1-i)),c=s?Math.atan2(a,o)*we-120:NaN;return new ke(c<0?c+360:c,s,i,e.opacity)}function Oe(e,t,n,r){return 1===arguments.length?Te(e):new ke(e,t,n,null==r?1:r)}function ke(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}(0,be.Z)(ke,Oe,(0,be.l)(ye.Il,{brighter(e){return e=null==e?ye.J5:Math.pow(ye.J5,e),new ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ye.xV:Math.pow(ye.xV,e),new ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*ve,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ye.Ss(255*(t+n*(_e*r+Ee*i)),255*(t+n*(xe*r+Se*i)),255*(t+n*(Me*r)),this.opacity)}}));var Ne=n(7939);function De(e){return function t(n){function r(t,r){var i=e((t=Oe(t)).h,(r=Oe(r)).h),o=(0,Ne.ZP)(t.s,r.s),a=(0,Ne.ZP)(t.l,r.l),s=(0,Ne.ZP)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}De(Ne.wx);var Re=De(Ne.ZP);const Ie=Re(Oe(300,.5,0),Oe(-240,.5,1));var Pe=Re(Oe(-100,.75,.35),Oe(80,1.5,.8)),Fe=Re(Oe(260,.75,.35),Oe(80,1.5,.8)),ze=Oe();function je(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ze.h=360*e-100,ze.s=1.5-1.5*t,ze.l=.8-.9*t,ze+""}var Ge=(0,ye.B8)(),Ue=Math.PI/3,Be=2*Math.PI/3;function We(e){var t;return e=(.5-e)*Math.PI,Ge.r=255*(t=Math.sin(e))*t,Ge.g=255*(t=Math.sin(e+Ue))*t,Ge.b=255*(t=Math.sin(e+Be))*t,Ge+""}function He(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function Ve(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const qe=Ve(r("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Ye=Ve(r("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$e=Ve(r("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ke=Ve(r("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},6776:(e,t,n)=>{"use strict";function r(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function i(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function o(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}n.r(t),n.d(t,{scaleBand:()=>p,scaleDiverging:()=>Rr,scaleDivergingLog:()=>Ir,scaleDivergingPow:()=>Fr,scaleDivergingSqrt:()=>zr,scaleDivergingSymlog:()=>Pr,scaleIdentity:()=>me,scaleImplicit:()=>h,scaleLinear:()=>ge,scaleLog:()=>Me,scaleOrdinal:()=>f,scalePoint:()=>m,scalePow:()=>Re,scaleQuantile:()=>qe,scaleQuantize:()=>Ye,scaleRadial:()=>ze,scaleSequential:()=>Ar,scaleSequentialLog:()=>Cr,scaleSequentialPow:()=>Tr,scaleSequentialQuantile:()=>kr,scaleSequentialSqrt:()=>Or,scaleSequentialSymlog:()=>Lr,scaleSqrt:()=>Ie,scaleSymlog:()=>Te,scaleThreshold:()=>$e,scaleTime:()=>Er,scaleUtc:()=>xr,tickFormat:()=>fe});class a extends Map{constructor(e,t=d){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(c(this,e))}has(e){return super.has(c(this,e))}set(e,t){return super.set(u(this,e),t)}delete(e){return super.delete(l(this,e))}}class s extends Set{constructor(e,t=d){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(c(this,e))}add(e){return super.add(u(this,e))}delete(e){return super.delete(l(this,e))}}function c({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function u({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function l({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function d(e){return null!==e&&"object"==typeof e?e.valueOf():e}const h=Symbol("implicit");function f(){var e=new a,t=[],n=[],r=h;function o(i){let o=e.get(i);if(void 0===o){if(r!==h)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new a;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return f(t,n).unknown(r)},i.apply(o,arguments),o}function p(){var e,t,n=f().unknown(void 0),o=n.domain,a=n.range,s=0,c=1,u=!1,l=0,d=0,h=.5;function g(){var n=o().length,i=c<s,f=i?c:s,p=i?s:c;e=(p-f)/Math.max(1,n-l+2*d),u&&(e=Math.floor(e)),f+=(p-f-e*(n-l))*h,t=e*(1-l),u&&(f=Math.round(f),t=Math.round(t));var g=r(n).map((function(t){return f+e*t}));return a(i?g.reverse():g)}return delete n.unknown,n.domain=function(e){return arguments.length?(o(e),g()):o()},n.range=function(e){return arguments.length?([s,c]=e,s=+s,c=+c,g()):[s,c]},n.rangeRound=function(e){return[s,c]=e,s=+s,c=+c,u=!0,g()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(u=!!e,g()):u},n.padding=function(e){return arguments.length?(l=Math.min(1,d=+e),g()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),g()):l},n.paddingOuter=function(e){return arguments.length?(d=+e,g()):d},n.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),g()):h},n.copy=function(){return p(o(),[s,c]).round(u).paddingInner(l).paddingOuter(d).align(h)},i.apply(g(),arguments)}function g(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return g(t())},e}function m(){return g(p.apply(null,arguments).paddingInner(1))}var b=Math.sqrt(50),y=Math.sqrt(10),v=Math.sqrt(2);function w(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=_(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function _(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=b?10:o>=y?5:o>=v?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=b?10:o>=y?5:o>=v?2:1)}function E(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=b?i*=10:o>=y?i*=5:o>=v&&(i*=2),t<e?-i:i}function x(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=x,n=(t,n)=>x(e(t),n),r=(t,n)=>e(t)-n):(t=e===x||e===S?e:A,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function A(){return 0}function C(e){return null===e?NaN:+e}const L=M(x),T=L.right,O=(L.left,M(C).center,T);var k=n(1891),N=n(7920);function D(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=B(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function R(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function I(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function P(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=B(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var F=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z=new RegExp(F.source,"g");function j(e,t){var n,r,i,o=F.lastIndex=z.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=F.exec(e))&&(r=z.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:I(n,r)})),o=z.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}var G=n(9879);function U(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function B(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?(0,G.Z)(t):("number"===i?I:"string"===i?(n=(0,k.ZP)(t))?(t=n,N.ZP):j:t instanceof k.ZP?N.ZP:t instanceof Date?R:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?D:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?P:I:U))(e,t)}function W(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function H(e){return+e}var V=[0,1];function q(e){return e}function Y(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function $(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Y(i,r),o=n(a,o)):(r=Y(r,i),o=n(o,a)),function(e){return o(r(e))}}function K(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Y(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=O(e,t,1,r)-1;return o[n](i[n](t))}}function X(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Z(){var e,t,n,r,i,o,a=V,s=V,c=B,u=q;function l(){var e,t,n,c=Math.min(a.length,s.length);return u!==q&&(e=a[0],t=a[c-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),r=c>2?K:$,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,c)))(e(u(t)))}return d.invert=function(n){return u(t((o||(o=r(s,a.map(e),I)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,H),l()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),c=W,l()},d.clamp=function(e){return arguments.length?(u=!!e||q,l()):u!==q},d.interpolate=function(e){return arguments.length?(c=e,l()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,l()}}function Q(){return Z()(q,q)}var J,ee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function te(e){if(!(t=ee.exec(e)))throw new Error("invalid format: "+e);var t;return new ne({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ne(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function re(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ie(e){return(e=re(Math.abs(e)))?e[1]:NaN}function oe(e,t){var n=re(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}te.prototype=ne.prototype,ne.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ae={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oe(100*e,t),r:oe,s:function(e,t){var n=re(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(J=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+re(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function se(e){return e}var ce,ue,le,de=Array.prototype.map,he=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fe(e,t,n,r){var i,o=E(e,t,n);switch((r=te(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ie(t)/3)))-ie(Math.abs(e)))}(o,a))||(r.precision=i),le(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ie(t)-ie(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-ie(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return ue(r)}function pe(e){var t=e.domain;return e.ticks=function(e){var n=t();return w(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return fe(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,c=o[a],u=o[s],l=10;for(u<c&&(i=c,c=u,u=i,i=a,a=s,s=i);l-- >0;){if((i=_(c,u,n))===r)return o[a]=c,o[s]=u,t(o);if(i>0)c=Math.floor(c/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function ge(){var e=Q();return e.copy=function(){return X(e,ge())},i.apply(e,arguments),pe(e)}function me(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,H),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return me(e).unknown(t)},e=arguments.length?Array.from(e,H):[0,1],pe(n)}function be(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function ye(e){return Math.log(e)}function ve(e){return Math.exp(e)}function we(e){return-Math.log(-e)}function _e(e){return-Math.exp(-e)}function Ee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xe(e){return(t,n)=>-e(-t,n)}function Se(e){const t=e(ye,ve),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?Ee:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=xe(r),i=xe(i),e(we,_e)):e(ye,ve),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const c=s<a;c&&([a,s]=[s,a]);let u,l,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(u=1;u<o;++u)if(l=d<0?u/i(-d):u*i(d),!(l<a)){if(l>s)break;p.push(l)}}else for(;d<=h;++d)for(u=o-1;u>=1;--u)if(l=d>0?u/i(-d):u*i(d),!(l<a)){if(l>s)break;p.push(l)}2*p.length<f&&(p=w(a,s,f))}else p=w(d,h,Math.min(h-d,f)).map(i);return c?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=te(n)).precision||(n.trim=!0),n=ue(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(be(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Me(){const e=Se(Z()).domain([1,10]);return e.copy=()=>X(e,Me()).base(e.base()),i.apply(e,arguments),e}function Ae(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ce(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Le(e){var t=1,n=e(Ae(t),Ce(t));return n.constant=function(n){return arguments.length?e(Ae(t=+n),Ce(t)):t},pe(n)}function Te(){var e=Le(Z());return e.copy=function(){return X(e,Te()).constant(e.constant())},i.apply(e,arguments)}function Oe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ne(e){return e<0?-e*e:e*e}function De(e){var t=e(q,q),n=1;function r(){return 1===n?e(q,q):.5===n?e(ke,Ne):e(Oe(n),Oe(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},pe(t)}function Re(){var e=De(Z());return e.copy=function(){return X(e,Re()).exponent(e.exponent())},i.apply(e,arguments),e}function Ie(){return Re.apply(null,arguments).exponent(.5)}function Pe(e){return Math.sign(e)*e*e}function Fe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ze(){var e,t=Q(),n=[0,1],r=!1;function o(n){var i=Fe(t(n));return isNaN(i)?e:r?Math.round(i):i}return o.invert=function(e){return t.invert(Pe(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((n=Array.from(e,H)).map(Pe)),o):n.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(r=!!e,o):r},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return ze(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},i.apply(o,arguments),pe(o)}function je(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Ge(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Ue(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Be(e,t,n=0,r=e.length-1,i){for(i=void 0===i?Ue:function(e=x){if(e===x)return Ue;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*c*(o-c)/o)*(a-o/2<0?-1:1);Be(e,t,Math.max(n,Math.floor(t-a*c/o+u)),Math.min(r,Math.floor(t+(o-a)*c/o+u)),i)}const o=e[t];let a=n,s=r;for(We(e,n,t),i(e[r],o)>0&&We(e,n,r);a<s;){for(We(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?We(e,n,s):(++s,We(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function We(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function He(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),r=e.length){if((t=+t)<=0||r<2)return Ge(e);if(t>=1)return je(e);var r,i=(r-1)*t,o=Math.floor(i),a=je(Be(e,o).subarray(0,o+1));return a+(Ge(e.subarray(o+1))-a)*(i-o)}}function Ve(e,t,n=C){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function qe(){var e,t=[],n=[],r=[];function o(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Ve(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[O(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(x),o()},a.range=function(e){return arguments.length?(n=Array.from(e),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return qe().domain(t).range(n).unknown(e)},i.apply(a,arguments)}function Ye(){var e,t=0,n=1,r=1,o=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[O(o,t,0,r)]:e}function c(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,c()):[t,n]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,c()):a.slice()},s.invertExtent=function(e){var i=a.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,o[0]]:i>=r?[o[r-1],n]:[o[i-1],o[i]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return Ye().domain([t,n]).range(a).unknown(e)},i.apply(pe(s),arguments)}function $e(){var e,t=[.5],n=[0,1],r=1;function o(i){return null!=i&&i<=i?n[O(t,i,0,r)]:e}return o.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),o):t.slice()},o.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),o):n.slice()},o.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return $e().domain(t).range(n).unknown(e)},i.apply(o,arguments)}ce=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?se:(t=de.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?se:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(de.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=te(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,b=e.trim,y=e.type;"n"===y?(g=!0,y="g"):ae[y]||(void 0===m&&(m=12),b=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?c:"",_=ae[y],E=/[defgprs%]/.test(y);function x(e){var i,o,c,h=v,x=w;if("c"===y)x=_(e)+x,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:_(Math.abs(e),m),b&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0==+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:u:"-"===d||"("===d?"":d)+h,x=("s"===y?he[8+J/3]:"")+x+(S&&"("===d?")":""),E)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){x=(46===c?a+e.slice(i+1):e.slice(i))+x,e=e.slice(0,i);break}}g&&!f&&(e=r(e,1/0));var M=h.length+e.length+x.length,A=M<p?new Array(p-M+1).join(t):"";switch(g&&f&&(e=r(A+e,A.length?p-x.length:1/0),A=""),n){case"<":e=h+e+x+A;break;case"=":e=h+A+e+x;break;case"^":e=A.slice(0,M=A.length>>1)+h+e+x+A.slice(M);break;default:e=A+h+e+x}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return e+""},x}return{format:d,formatPrefix:function(e,t){var n=d(((e=te(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ie(t)/3))),i=Math.pow(10,-r),o=he[8+r/3];return function(e){return n(i*e)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),ue=ce.format,le=ce.formatPrefix;const Ke=1e3,Xe=6e4,Ze=36e5,Qe=864e5,Je=6048e5,et=31536e6;var tt=new Date,nt=new Date;function rt(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return rt((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return tt.setTime(+t),nt.setTime(+r),e(tt),e(nt),Math.floor(n(tt,nt))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var it=rt((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));it.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?rt((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):it:null};const ot=it;it.range;var at=rt((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Ke)}),(function(e,t){return(t-e)/Ke}),(function(e){return e.getUTCSeconds()}));const st=at;at.range;var ct=rt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ke)}),(function(e,t){e.setTime(+e+t*Xe)}),(function(e,t){return(t-e)/Xe}),(function(e){return e.getMinutes()}));const ut=ct;ct.range;var lt=rt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ke-e.getMinutes()*Xe)}),(function(e,t){e.setTime(+e+t*Ze)}),(function(e,t){return(t-e)/Ze}),(function(e){return e.getHours()}));const dt=lt;lt.range;var ht=rt((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xe)/Qe),(e=>e.getDate()-1));const ft=ht;function pt(e){return rt((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xe)/Je}))}ht.range;var gt=pt(0),mt=pt(1),bt=pt(2),yt=pt(3),vt=pt(4),wt=pt(5),_t=pt(6),Et=(gt.range,mt.range,bt.range,yt.range,vt.range,wt.range,_t.range,rt((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})));const xt=Et;Et.range;var St=rt((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));St.every=function(e){return isFinite(e=Math.floor(e))&&e>0?rt((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const Mt=St;St.range;var At=rt((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Xe)}),(function(e,t){return(t-e)/Xe}),(function(e){return e.getUTCMinutes()}));const Ct=At;At.range;var Lt=rt((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*Ze)}),(function(e,t){return(t-e)/Ze}),(function(e){return e.getUTCHours()}));const Tt=Lt;Lt.range;var Ot=rt((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/Qe}),(function(e){return e.getUTCDate()-1}));const kt=Ot;function Nt(e){return rt((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Je}))}Ot.range;var Dt=Nt(0),Rt=Nt(1),It=Nt(2),Pt=Nt(3),Ft=Nt(4),zt=Nt(5),jt=Nt(6),Gt=(Dt.range,Rt.range,It.range,Pt.range,Ft.range,zt.range,jt.range,rt((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})));const Ut=Gt;Gt.range;var Bt=rt((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Bt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?rt((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const Wt=Bt;function Ht(e,t,n,r,i,o){const a=[[st,1,Ke],[st,5,5e3],[st,15,15e3],[st,30,3e4],[o,1,Xe],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Ze],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Qe],[r,2,1728e5],[n,1,Je],[t,1,2592e6],[t,3,7776e6],[e,1,et]];function s(t,n,r){const i=Math.abs(n-t)/r,o=M((([,,e])=>e)).right(a,i);if(o===a.length)return e.every(E(t/et,n/et,r));if(0===o)return ot.every(Math.max(E(t,n,r),1));const[s,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}Bt.range;const[Vt,qt]=Ht(Wt,Ut,Dt,kt,Tt,Ct),[Yt,$t]=Ht(Mt,xt,gt,ft,dt,ut);function Kt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Qt,Jt,en,tn={"-":"",_:" ",0:"0"},nn=/^\s*\d+/,rn=/^%/,on=/[\\^$*+?|[\]().{}]/g;function an(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function sn(e){return e.replace(on,"\\$&")}function cn(e){return new RegExp("^(?:"+e.map(sn).join("|")+")","i")}function un(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function ln(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function dn(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hn(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fn(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pn(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function gn(e,t,n){var r=nn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mn(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yn(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function vn(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wn(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _n(e,t,n){var r=nn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function En(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xn(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Sn(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Mn(e,t,n){var r=nn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function An(e,t,n){var r=nn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cn(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ln(e,t,n){var r=nn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Tn(e,t,n){var r=nn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function On(e,t){return an(e.getDate(),t,2)}function kn(e,t){return an(e.getHours(),t,2)}function Nn(e,t){return an(e.getHours()%12||12,t,2)}function Dn(e,t){return an(1+ft.count(Mt(e),e),t,3)}function Rn(e,t){return an(e.getMilliseconds(),t,3)}function In(e,t){return Rn(e,t)+"000"}function Pn(e,t){return an(e.getMonth()+1,t,2)}function Fn(e,t){return an(e.getMinutes(),t,2)}function zn(e,t){return an(e.getSeconds(),t,2)}function jn(e){var t=e.getDay();return 0===t?7:t}function Gn(e,t){return an(gt.count(Mt(e)-1,e),t,2)}function Un(e){var t=e.getDay();return t>=4||0===t?vt(e):vt.ceil(e)}function Bn(e,t){return e=Un(e),an(vt.count(Mt(e),e)+(4===Mt(e).getDay()),t,2)}function Wn(e){return e.getDay()}function Hn(e,t){return an(mt.count(Mt(e)-1,e),t,2)}function Vn(e,t){return an(e.getFullYear()%100,t,2)}function qn(e,t){return an((e=Un(e)).getFullYear()%100,t,2)}function Yn(e,t){return an(e.getFullYear()%1e4,t,4)}function $n(e,t){var n=e.getDay();return an((e=n>=4||0===n?vt(e):vt.ceil(e)).getFullYear()%1e4,t,4)}function Kn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+an(t/60|0,"0",2)+an(t%60,"0",2)}function Xn(e,t){return an(e.getUTCDate(),t,2)}function Zn(e,t){return an(e.getUTCHours(),t,2)}function Qn(e,t){return an(e.getUTCHours()%12||12,t,2)}function Jn(e,t){return an(1+kt.count(Wt(e),e),t,3)}function er(e,t){return an(e.getUTCMilliseconds(),t,3)}function tr(e,t){return er(e,t)+"000"}function nr(e,t){return an(e.getUTCMonth()+1,t,2)}function rr(e,t){return an(e.getUTCMinutes(),t,2)}function ir(e,t){return an(e.getUTCSeconds(),t,2)}function or(e){var t=e.getUTCDay();return 0===t?7:t}function ar(e,t){return an(Dt.count(Wt(e)-1,e),t,2)}function sr(e){var t=e.getUTCDay();return t>=4||0===t?Ft(e):Ft.ceil(e)}function cr(e,t){return e=sr(e),an(Ft.count(Wt(e),e)+(4===Wt(e).getUTCDay()),t,2)}function ur(e){return e.getUTCDay()}function lr(e,t){return an(Rt.count(Wt(e)-1,e),t,2)}function dr(e,t){return an(e.getUTCFullYear()%100,t,2)}function hr(e,t){return an((e=sr(e)).getUTCFullYear()%100,t,2)}function fr(e,t){return an(e.getUTCFullYear()%1e4,t,4)}function pr(e,t){var n=e.getUTCDay();return an((e=n>=4||0===n?Ft(e):Ft.ceil(e)).getUTCFullYear()%1e4,t,4)}function gr(){return"+0000"}function mr(){return"%"}function br(e){return+e}function yr(e){return Math.floor(+e/1e3)}function vr(e){return new Date(e)}function wr(e){return e instanceof Date?+e:+new Date(+e)}function _r(e,t,n,r,i,o,a,s,c,u){var l=Q(),d=l.invert,h=l.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),b=u("%a %d"),y=u("%b %d"),v=u("%B"),w=u("%Y");function _(e){return(c(e)<e?f:s(e)<e?p:a(e)<e?g:o(e)<e?m:r(e)<e?i(e)<e?b:y:n(e)<e?v:w)(e)}return l.invert=function(e){return new Date(d(e))},l.domain=function(e){return arguments.length?h(Array.from(e,wr)):h().map(vr)},l.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?_:u(t)},l.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(be(n,e)):l},l.copy=function(){return X(l,_r(e,t,n,r,i,o,a,s,c,u))},l}function Er(){return i.apply(_r(Yt,$t,Mt,xt,gt,ft,dt,ut,st,Jt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xr(){return i.apply(_r(Vt,qt,Wt,Ut,Dt,kt,Tt,Ct,st,en).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sr(){var e,t,n,r,i,o=0,a=1,s=q,c=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(c=!!e,u):c},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=l(B),u.rangeRound=l(W),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function Mr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ar(){var e=pe(Sr()(q));return e.copy=function(){return Mr(e,Ar())},o.apply(e,arguments)}function Cr(){var e=Se(Sr()).domain([1,10]);return e.copy=function(){return Mr(e,Cr()).base(e.base())},o.apply(e,arguments)}function Lr(){var e=Le(Sr());return e.copy=function(){return Mr(e,Lr()).constant(e.constant())},o.apply(e,arguments)}function Tr(){var e=De(Sr());return e.copy=function(){return Mr(e,Tr()).exponent(e.exponent())},o.apply(e,arguments)}function Or(){return Tr.apply(null,arguments).exponent(.5)}function kr(){var e=[],t=q;function n(n){if(null!=n&&!isNaN(n=+n))return t((O(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(x),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>He(e,r/t)))},n.copy=function(){return kr(t).domain(e)},o.apply(n,arguments)}function Nr(e,t){void 0===t&&(t=e,e=B);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function Dr(){var e,t,n,r,i,o,a,s=0,c=.5,u=1,l=1,d=q,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(l*e<l*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=Nr(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,c,u]=a,e=o(s=+s),t=o(c=+c),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,f):[s,c,u]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(B),f.rangeRound=p(W),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(c),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,f}}function Rr(){var e=pe(Dr()(q));return e.copy=function(){return Mr(e,Rr())},o.apply(e,arguments)}function Ir(){var e=Se(Dr()).domain([.1,1,10]);return e.copy=function(){return Mr(e,Ir()).base(e.base())},o.apply(e,arguments)}function Pr(){var e=Le(Dr());return e.copy=function(){return Mr(e,Pr()).constant(e.constant())},o.apply(e,arguments)}function Fr(){var e=De(Dr());return e.copy=function(){return Mr(e,Fr()).exponent(e.exponent())},o.apply(e,arguments)}function zr(){return Fr.apply(null,arguments).exponent(.5)}Qt=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,u=cn(i),l=un(i),d=cn(o),h=un(o),f=cn(a),p=un(a),g=cn(s),m=un(s),b=cn(c),y=un(c),v={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:On,e:On,f:In,g:qn,G:$n,H:kn,I:Nn,j:Dn,L:Rn,m:Pn,M:Fn,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:br,s:yr,S:zn,u:jn,U:Gn,V:Bn,w:Wn,W:Hn,x:null,X:null,y:Vn,Y:Yn,Z:Kn,"%":mr},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Xn,e:Xn,f:tr,g:hr,G:pr,H:Zn,I:Qn,j:Jn,L:er,m:nr,M:rr,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:br,s:yr,S:ir,u:or,U:ar,V:cr,w:ur,W:lr,x:null,X:null,y:dr,Y:fr,Z:gr,"%":mr},_={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:wn,e:wn,f:An,g:mn,G:gn,H:En,I:En,j:_n,L:Mn,m:vn,M:xn,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:yn,Q:Ln,s:Tn,S:Sn,u:dn,U:hn,V:fn,w:ln,W:pn,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:mn,Y:gn,Z:bn,"%":Cn};function E(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=tn[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function x(e,t){return function(n){var r,i,o=Zt(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Xt(Zt(o.y,0,1))).getUTCDay(),r=i>4||0===i?Rt.ceil(r):Rt(r),r=kt.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Kt(Zt(o.y,0,1))).getDay(),r=i>4||0===i?mt.ceil(r):mt(r),r=ft.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Xt(Zt(o.y,0,1)).getUTCDay():Kt(Zt(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Xt(o)):Kt(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=_[i in tn?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=E(n,v),v.X=E(r,v),v.c=E(t,v),w.x=E(n,w),w.X=E(r,w),w.c=E(t,w),{format:function(e){var t=E(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Jt=Qt.format,Qt.parse,en=Qt.utcFormat,Qt.utcParse},2641:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});const r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=(()=>{if("undefined"==typeof document)return!1;const e=r[0],t={};for(const n of r){const r=n?.[1];if(r in document){for(const[r,i]of n.entries())t[e[r]]=i;return t}}return!1})(),o={change:i.fullscreenchange,error:i.fullscreenerror};let a={request:(e=document.documentElement,t)=>new Promise(((n,r)=>{const o=()=>{a.off("change",o),n()};a.on("change",o);const s=e[i.requestFullscreen](t);s instanceof Promise&&s.then(o).catch(r)})),exit:()=>new Promise(((e,t)=>{if(!a.isFullscreen)return void e();const n=()=>{a.off("change",n),e()};a.on("change",n);const r=document[i.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)})),toggle:(e,t)=>a.isFullscreen?a.exit():a.request(e,t),onchange(e){a.on("change",e)},onerror(e){a.on("error",e)},on(e,t){const n=o[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=o[e];n&&document.removeEventListener(n,t,!1)},raw:i};Object.defineProperties(a,{isFullscreen:{get:()=>Boolean(document[i.fullscreenElement])},element:{enumerable:!0,get:()=>document[i.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[i.fullscreenEnabled])}}),i||(a={isEnabled:!1});const s=a},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"ipysigma","version":"0.24.2","description":"A Jupyter widget using sigma.js to render interactive networks.","keywords":["sigma","graph","jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/medialab/ipysigma","bugs":{"url":"https://github.com/medialab/ipysigma/issues"},"license":"MIT","author":{"name":"Yomguithereal","email":"guillaume.plique@sciencespo.fr"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/medialab/ipysigma"},"scripts":{"build":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension:dev","build:prod":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","build:gh-pages":"./scripts/build-gh-pages.sh","build:pdf":"cd presentations && bs pdf","clean":"yarn run clean:lib && yarn run clean:nbextension && yarn run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf ipysigma/labextension","clean:nbextension":"rimraf ipysigma/nbextension/static/index.js","decks":"cd presentations && bs serve","deploy":"npm run build:gh-pages && gh-pages -d ./presentations/gh-pages","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"yarn run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@jupyter-widgets/base":"^1.1.10 || ^2 || ^3 || ^4 || ^5 || ^6","@yomguithereal/sigma-experiments-renderers":"0.2.2","choices.js":"^10.1.0","chroma-js":"^2.4.2","comma-number":"^2.1.0","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.0.0","debounce":"^1.2.1","file-saver":"^2.0.5","graphology":"^0.25.1","graphology-communities-louvain":"^2.0.0","graphology-gexf":"^0.10.1","graphology-layout":"^0.6.0","graphology-layout-forceatlas2":"0.10.1","graphology-layout-noverlap":"^0.4.2","graphology-svg":"^0.1.3","iwanthue":"^2.0.0","mnemonist":"^0.39.1","pandemonium":"^2.4.1","screenfull":"^6.0.1","seedrandom":"^3.0.5","sigma":"3.0.0-alpha2"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@jupyterlab/builder":"^3.0.0","@phosphor/application":"^1.6.0","@phosphor/widgets":"^1.6.0","@types/chroma-js":"^2.1.3","@types/comma-number":"^2.1.0","@types/d3-scale":"^4.0.2","@types/d3-scale-chromatic":"^3.0.0","@types/debounce":"^1.2.1","@types/file-saver":"^2.0.5","@types/jest":"^26.0.0","@types/seedrandom":"^3.0.2","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^3.6.0","@typescript-eslint/parser":"^3.6.0","acorn":"^7.2.0","backslide":"^3.1.0","css-loader":"^3.2.0","csstype":"^3.0.10","eslint":"^7.4.0","eslint-config-prettier":"^6.11.0","eslint-plugin-prettier":"^3.1.4","fs-extra":"^7.0.0","gh-pages":"^4.0.0","graphology-types":"0.24.5","identity-obj-proxy":"^3.0.0","jest":"^26.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.8.0","rimraf":"^2.6.2","source-map-loader":"^1.1.3","style-loader":"^1.0.0","ts-jest":"^26.0.0","ts-loader":"^8.0.0","typescript":"~4.9.3","webpack":"^5.0.0","webpack-cli":"^4.0.0"},"jupyterlab":{"extension":"lib/plugin","outputDir":"ipysigma/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.nc=void 0,r(112)})()));
//# sourceMappingURL=index.js.map