{"version":3,"file":"index.js","mappings":"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","sources":["webpack://ipysigma/./css/widget.css","webpack://ipysigma/./node_modules/choices.js/public/assets/styles/choices.min.css","webpack://ipysigma/./node_modules/@yomguithereal/helpers/extend.js","webpack://ipysigma/./node_modules/@yomguithereal/sigma-experiments-renderers/edge/edge.curve.js","webpack://ipysigma/./node_modules/@yomguithereal/sigma-experiments-renderers/node/node.halo.js","webpack://ipysigma/./node_modules/@yomguithereal/sigma-experiments-renderers/node/node.pictogram.js","webpack://ipysigma/./node_modules/@yomguithereal/sigma-experiments-renderers/node/node.point.border.js","webpack://ipysigma/./node_modules/choices.js/public/assets/scripts/choices.js","webpack://ipysigma/./node_modules/comma-number/index.js","webpack://ipysigma/./node_modules/css-loader/dist/runtime/api.js","webpack://ipysigma/./node_modules/debounce/index.js","webpack://ipysigma/./node_modules/events/events.js?bb35","webpack://ipysigma/./node_modules/file-saver/src/FileSaver.js","webpack://ipysigma/./node_modules/graphology-communities-louvain/index.js","webpack://ipysigma/./node_modules/graphology-gexf/browser/index.js","webpack://ipysigma/./node_modules/graphology-gexf/browser/parser.js","webpack://ipysigma/./node_modules/graphology-gexf/common/helpers.js","webpack://ipysigma/./node_modules/graphology-gexf/common/parser.js","webpack://ipysigma/./node_modules/graphology-gexf/common/writer.js","webpack://ipysigma/./node_modules/graphology-indices/louvain.js","webpack://ipysigma/./node_modules/graphology-layout-forceatlas2/defaults.js","webpack://ipysigma/./node_modules/graphology-layout-forceatlas2/helpers.js","webpack://ipysigma/./node_modules/graphology-layout-forceatlas2/index.js","webpack://ipysigma/./node_modules/graphology-layout-forceatlas2/iterate.js","webpack://ipysigma/./node_modules/graphology-layout-forceatlas2/webworker.js","webpack://ipysigma/./node_modules/graphology-layout-forceatlas2/worker.js","webpack://ipysigma/./node_modules/graphology-layout-noverlap/defaults.js","webpack://ipysigma/./node_modules/graphology-layout-noverlap/helpers.js","webpack://ipysigma/./node_modules/graphology-layout-noverlap/webworker.js","webpack://ipysigma/./node_modules/graphology-layout-noverlap/worker.js","webpack://ipysigma/./node_modules/graphology-layout/utils.js","webpack://ipysigma/./node_modules/graphology-operators/to-mixed.js","webpack://ipysigma/./node_modules/graphology-operators/to-multi.js","webpack://ipysigma/./node_modules/graphology-svg/components/edges/line.js","webpack://ipysigma/./node_modules/graphology-svg/components/nodeLabels/default.js","webpack://ipysigma/./node_modules/graphology-svg/components/nodes/circle.js","webpack://ipysigma/./node_modules/graphology-svg/defaults.js","webpack://ipysigma/./node_modules/graphology-svg/helpers.js","webpack://ipysigma/./node_modules/graphology-svg/renderer.js","webpack://ipysigma/./node_modules/graphology-utils/add-edge.js","webpack://ipysigma/./node_modules/graphology-utils/defaults.js","webpack://ipysigma/./node_modules/graphology-utils/getters.js","webpack://ipysigma/./node_modules/graphology-utils/infer-type.js","webpack://ipysigma/./node_modules/graphology-utils/is-graph-constructor.js","webpack://ipysigma/./node_modules/graphology-utils/is-graph.js","webpack://ipysigma/./node_modules/graphology/src/utils.js","webpack://ipysigma/./node_modules/events/events.js","webpack://ipysigma/./node_modules/obliterator/iterator.js","webpack://ipysigma/./node_modules/obliterator/support.js","webpack://ipysigma/./node_modules/obliterator/iter.js","webpack://ipysigma/./node_modules/obliterator/take.js","webpack://ipysigma/./node_modules/graphology/src/errors.js","webpack://ipysigma/./node_modules/graphology/src/data.js","webpack://ipysigma/./node_modules/graphology/src/attributes/nodes.js","webpack://ipysigma/./node_modules/graphology/src/attributes/edges.js","webpack://ipysigma/./node_modules/obliterator/chain.js","webpack://ipysigma/./node_modules/graphology/src/iteration/edges.js","webpack://ipysigma/./node_modules/graphology/src/iteration/neighbors.js","webpack://ipysigma/./node_modules/graphology/src/iteration/adjacency.js","webpack://ipysigma/./node_modules/graphology/src/serialization.js","webpack://ipysigma/./node_modules/graphology/src/graph.js","webpack://ipysigma/./node_modules/graphology/src/classes.js","webpack://ipysigma/./node_modules/iwanthue/distances.js","webpack://ipysigma/./node_modules/iwanthue/helpers.js","webpack://ipysigma/./node_modules/iwanthue/index.js","webpack://ipysigma/./node_modules/iwanthue/presets.js","webpack://ipysigma/./node_modules/iwanthue/rng.js","webpack://ipysigma/./node_modules/mnemonist/fixed-reverse-heap.js","webpack://ipysigma/./node_modules/mnemonist/heap.js","webpack://ipysigma/./node_modules/mnemonist/multi-set.js","webpack://ipysigma/./node_modules/mnemonist/sparse-map.js","webpack://ipysigma/./node_modules/mnemonist/sparse-queue-set.js","webpack://ipysigma/./node_modules/mnemonist/utils/comparators.js","webpack://ipysigma/./node_modules/mnemonist/utils/iterables.js","webpack://ipysigma/./node_modules/mnemonist/utils/typed-arrays.js","webpack://ipysigma/./node_modules/obliterator/foreach.js","webpack://ipysigma/./node_modules/obliterator/iterator.js?a143","webpack://ipysigma/./node_modules/obliterator/support.js?50fd","webpack://ipysigma/./node_modules/pandemonium/random-index.js","webpack://ipysigma/./node_modules/pandemonium/random.js","webpack://ipysigma/./node_modules/pandemonium/shuffle-in-place.js","webpack://ipysigma/./node_modules/seedrandom/index.js","webpack://ipysigma/./node_modules/seedrandom/lib/alea.js","webpack://ipysigma/./node_modules/seedrandom/lib/tychei.js","webpack://ipysigma/./node_modules/seedrandom/lib/xor128.js","webpack://ipysigma/./node_modules/seedrandom/lib/xor4096.js","webpack://ipysigma/./node_modules/seedrandom/lib/xorshift7.js","webpack://ipysigma/./node_modules/seedrandom/lib/xorwow.js","webpack://ipysigma/./node_modules/seedrandom/seedrandom.js","webpack://ipysigma/./node_modules/sigma/core/camera.js","webpack://ipysigma/./node_modules/sigma/core/captors/captor.js","webpack://ipysigma/./node_modules/sigma/core/captors/mouse.js","webpack://ipysigma/./node_modules/sigma/core/captors/touch.js","webpack://ipysigma/./node_modules/sigma/core/labels.js","webpack://ipysigma/./node_modules/sigma/core/quadtree.js","webpack://ipysigma/./node_modules/sigma/index.js","webpack://ipysigma/./node_modules/sigma/rendering/canvas/edge-label.js","webpack://ipysigma/./node_modules/sigma/rendering/canvas/hover.js","webpack://ipysigma/./node_modules/sigma/rendering/canvas/label.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/common/edge.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/common/node.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/common/program.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/edge.arrow.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/edge.arrowHead.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/edge.clamped.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/edge.line.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/edge.rectangle.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/edge.triangle.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/node.circle.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/programs/node.point.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.frag.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.vert.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.clamped.vert.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.line.frag.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.line.vert.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.rectangle.frag.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.rectangle.vert.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.triangle.frag.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/edge.triangle.vert.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/node.circle.frag.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/node.circle.vert.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/node.point.frag.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/node.point.vert.glsl.js","webpack://ipysigma/./node_modules/sigma/rendering/webgl/shaders/utils.js","webpack://ipysigma/./node_modules/sigma/settings.js","webpack://ipysigma/./node_modules/sigma/sigma.js","webpack://ipysigma/./node_modules/sigma/types.js","webpack://ipysigma/./node_modules/sigma/utils/animate.js","webpack://ipysigma/./node_modules/sigma/utils/data.js","webpack://ipysigma/./node_modules/sigma/utils/easings.js","webpack://ipysigma/./node_modules/sigma/utils/edge-collisions.js","webpack://ipysigma/./node_modules/sigma/utils/index.js","webpack://ipysigma/./node_modules/sigma/utils/matrices.js","webpack://ipysigma/./node_modules/xml-writer/index.js","webpack://ipysigma/./node_modules/xml-writer/lib/xml-writer.js","webpack://ipysigma/./css/widget.css?2598","webpack://ipysigma/./node_modules/choices.js/public/assets/styles/choices.min.css?92ee","webpack://ipysigma/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://ipysigma/./src/custom-hover.ts","webpack://ipysigma/./src/custom-label.ts","webpack://ipysigma/./src/extension.ts","webpack://ipysigma/./src/icons.ts","webpack://ipysigma/./src/index.ts","webpack://ipysigma/./src/palette.ts","webpack://ipysigma/./src/shapes.ts","webpack://ipysigma/./src/utils.ts","webpack://ipysigma/./src/version.ts","webpack://ipysigma/./src/visual-variables.ts","webpack://ipysigma/./src/widget.ts","webpack://ipysigma/external amd \"@jupyter-widgets/base\"","webpack://ipysigma/./node_modules/chroma-js/chroma.js","webpack://ipysigma/./node_modules/d3-color/src/color.js","webpack://ipysigma/./node_modules/d3-color/src/define.js","webpack://ipysigma/./node_modules/d3-interpolate/src/color.js","webpack://ipysigma/./node_modules/d3-interpolate/src/constant.js","webpack://ipysigma/./node_modules/d3-interpolate/src/basis.js","webpack://ipysigma/./node_modules/d3-interpolate/src/rgb.js","webpack://ipysigma/./node_modules/d3-interpolate/src/basisClosed.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/colors.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/ramp.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack://ipysigma/./node_modules/d3-color/src/math.js","webpack://ipysigma/./node_modules/d3-color/src/cubehelix.js","webpack://ipysigma/./node_modules/d3-interpolate/src/cubehelix.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack://ipysigma/./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://ipysigma/./node_modules/d3-array/src/range.js","webpack://ipysigma/./node_modules/d3-scale/src/init.js","webpack://ipysigma/./node_modules/internmap/src/index.js","webpack://ipysigma/./node_modules/d3-scale/src/ordinal.js","webpack://ipysigma/./node_modules/d3-scale/src/band.js","webpack://ipysigma/./node_modules/d3-array/src/ticks.js","webpack://ipysigma/./node_modules/d3-array/src/ascending.js","webpack://ipysigma/./node_modules/d3-array/src/descending.js","webpack://ipysigma/./node_modules/d3-array/src/bisector.js","webpack://ipysigma/./node_modules/d3-array/src/number.js","webpack://ipysigma/./node_modules/d3-array/src/bisect.js","webpack://ipysigma/./node_modules/d3-interpolate/src/array.js","webpack://ipysigma/./node_modules/d3-interpolate/src/date.js","webpack://ipysigma/./node_modules/d3-interpolate/src/number.js","webpack://ipysigma/./node_modules/d3-interpolate/src/object.js","webpack://ipysigma/./node_modules/d3-interpolate/src/string.js","webpack://ipysigma/./node_modules/d3-interpolate/src/numberArray.js","webpack://ipysigma/./node_modules/d3-interpolate/src/value.js","webpack://ipysigma/./node_modules/d3-interpolate/src/round.js","webpack://ipysigma/./node_modules/d3-scale/src/number.js","webpack://ipysigma/./node_modules/d3-scale/src/continuous.js","webpack://ipysigma/./node_modules/d3-scale/src/constant.js","webpack://ipysigma/./node_modules/d3-format/src/formatSpecifier.js","webpack://ipysigma/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://ipysigma/./node_modules/d3-format/src/formatDecimal.js","webpack://ipysigma/./node_modules/d3-format/src/exponent.js","webpack://ipysigma/./node_modules/d3-format/src/formatRounded.js","webpack://ipysigma/./node_modules/d3-format/src/formatTypes.js","webpack://ipysigma/./node_modules/d3-format/src/identity.js","webpack://ipysigma/./node_modules/d3-format/src/locale.js","webpack://ipysigma/./node_modules/d3-format/src/defaultLocale.js","webpack://ipysigma/./node_modules/d3-scale/src/tickFormat.js","webpack://ipysigma/./node_modules/d3-format/src/precisionPrefix.js","webpack://ipysigma/./node_modules/d3-format/src/precisionRound.js","webpack://ipysigma/./node_modules/d3-format/src/precisionFixed.js","webpack://ipysigma/./node_modules/d3-scale/src/linear.js","webpack://ipysigma/./node_modules/d3-scale/src/identity.js","webpack://ipysigma/./node_modules/d3-scale/src/nice.js","webpack://ipysigma/./node_modules/d3-scale/src/log.js","webpack://ipysigma/./node_modules/d3-scale/src/symlog.js","webpack://ipysigma/./node_modules/d3-scale/src/pow.js","webpack://ipysigma/./node_modules/d3-scale/src/radial.js","webpack://ipysigma/./node_modules/d3-array/src/max.js","webpack://ipysigma/./node_modules/d3-array/src/min.js","webpack://ipysigma/./node_modules/d3-array/src/sort.js","webpack://ipysigma/./node_modules/d3-array/src/quickselect.js","webpack://ipysigma/./node_modules/d3-array/src/quantile.js","webpack://ipysigma/./node_modules/d3-scale/src/quantile.js","webpack://ipysigma/./node_modules/d3-scale/src/quantize.js","webpack://ipysigma/./node_modules/d3-scale/src/threshold.js","webpack://ipysigma/./node_modules/d3-format/src/formatGroup.js","webpack://ipysigma/./node_modules/d3-format/src/formatNumerals.js","webpack://ipysigma/./node_modules/d3-format/src/formatTrim.js","webpack://ipysigma/./node_modules/d3-time/src/duration.js","webpack://ipysigma/./node_modules/d3-time/src/interval.js","webpack://ipysigma/./node_modules/d3-time/src/millisecond.js","webpack://ipysigma/./node_modules/d3-time/src/second.js","webpack://ipysigma/./node_modules/d3-time/src/minute.js","webpack://ipysigma/./node_modules/d3-time/src/hour.js","webpack://ipysigma/./node_modules/d3-time/src/day.js","webpack://ipysigma/./node_modules/d3-time/src/week.js","webpack://ipysigma/./node_modules/d3-time/src/month.js","webpack://ipysigma/./node_modules/d3-time/src/year.js","webpack://ipysigma/./node_modules/d3-time/src/utcMinute.js","webpack://ipysigma/./node_modules/d3-time/src/utcHour.js","webpack://ipysigma/./node_modules/d3-time/src/utcDay.js","webpack://ipysigma/./node_modules/d3-time/src/utcWeek.js","webpack://ipysigma/./node_modules/d3-time/src/utcMonth.js","webpack://ipysigma/./node_modules/d3-time/src/utcYear.js","webpack://ipysigma/./node_modules/d3-time/src/ticks.js","webpack://ipysigma/./node_modules/d3-time-format/src/locale.js","webpack://ipysigma/./node_modules/d3-time-format/src/defaultLocale.js","webpack://ipysigma/./node_modules/d3-scale/src/time.js","webpack://ipysigma/./node_modules/d3-scale/src/utcTime.js","webpack://ipysigma/./node_modules/d3-scale/src/sequential.js","webpack://ipysigma/./node_modules/d3-scale/src/sequentialQuantile.js","webpack://ipysigma/./node_modules/d3-interpolate/src/piecewise.js","webpack://ipysigma/./node_modules/d3-scale/src/diverging.js","webpack://ipysigma/./node_modules/screenfull/index.js","webpack://ipysigma/webpack/bootstrap","webpack://ipysigma/webpack/runtime/amd define","webpack://ipysigma/webpack/runtime/amd options","webpack://ipysigma/webpack/runtime/define property getters","webpack://ipysigma/webpack/runtime/global","webpack://ipysigma/webpack/runtime/hasOwnProperty shorthand","webpack://ipysigma/webpack/runtime/make namespace object","webpack://ipysigma/webpack/runtime/node module decorator","webpack://ipysigma/webpack/runtime/nonce","webpack://ipysigma/webpack/startup"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/* Choices.js overrides */\\n.ipysigma-widget .choices {\\n  margin-bottom: 5px;\\n}\\n\\n.ipysigma-widget .choices__inner {\\n  border-radius: 0;\\n  background-color: white;\\n  border: 1px solid #e0e0e0;\\n  box-sizing: border-box;\\n  padding-right: 50px;\\n}\\n\\n.ipysigma-widget .choices__item--selectable {\\n  padding-right: 0px !important;\\n}\\n\\n.ipysigma-widget .choices__item {\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\n/* Ipysigma own styles */\\n.ipysigma-widget {\\n  /* Background color is now set by widget directly! */\\n  /* background-color: white; */\\n  margin: 0;\\n  padding: 0;\\n  border: 1px solid #e0e0e0;\\n  font-family: sans-serif;\\n  color: black;\\n}\\n\\n.ipysigma-widget ~ .ipysigma-widget {\\n  border-left: none;\\n}\\n\\n.widget-hbox ~ .widget-hbox .ipysigma-widget {\\n  border-top: none;\\n}\\n\\n.ipysigma-widget hr {\\n  height: 1px;\\n  border: none;\\n  background-color: #e0e0e0;\\n  margin-top: 6px;\\n  margin-bottom: 6px;\\n}\\n\\n.ipysigma-widget .ipysigma-left-panel {\\n  position: absolute;\\n  top: 10px;\\n  left: 10px;\\n}\\n\\n.ipysigma-widget .ipysigma-right-panel {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 250px;\\n  height: 100%;\\n}\\n\\n.ipysigma-widget .ipysigma-right-panel.hidden {\\n  pointer-events: none;\\n}\\n\\n.ipysigma-widget .ipysigma-graph-description {\\n  background-color: white;\\n  border: 1px solid #e0e0e0;\\n  padding: 5px 10px;\\n  font-size: 12px;\\n  /* font-style: italic; */\\n  line-height: 16px;\\n}\\n\\n.ipysigma-widget .ipysigma-button {\\n  cursor: pointer;\\n  text-align: center;\\n  background-color: white;\\n  border: 1px solid #e0e0e0;\\n  user-select: none;\\n}\\n\\n.ipysigma-widget .ipysigma-button.disabled {\\n  border: none;\\n  cursor: default;\\n}\\n\\n.ipysigma-widget .ipysigma-button.disabled svg {\\n  fill: #efefef;\\n}\\n\\n.ipysigma-widget .ipysigma-button:hover {\\n  border-color: grey;\\n}\\n\\n.ipysigma-widget .ipysigma-svg-icon {\\n  width: 32px;\\n  height: 32px;\\n  font-size: 24px;\\n  line-height: 30px;\\n  box-sizing: border-box;\\n}\\n\\n.ipysigma-widget .ipysigma-zoom-button {\\n  margin-top: 10px;\\n}\\n\\n.ipysigma-widget .ipysigma-unzoom-button {\\n  margin-top: 10px;\\n}\\n\\n.ipysigma-widget .ipysigma-reset-zoom-button {\\n  margin-top: 10px;\\n}\\n\\n.ipysigma-widget .ipysigma-fullscreen-button {\\n  margin-top: 10px;\\n}\\n\\n.ipysigma-widget .ipysigma-layout-controls {\\n  width: 100%;\\n  margin-top: 10px;\\n  display: flex;\\n}\\n\\n.ipysigma-widget .ipysigma-reset-layout-button,\\n.ipysigma-widget .ipysigma-noverlap-button {\\n  margin-left: 4px;\\n}\\n\\n.ipysigma-widget .ipysigma-spinner {\\n  font-size: 20px;\\n  padding-left: 5px;\\n  line-height: 26px;\\n}\\n\\n.ipysigma-widget .ipysigma-tab-button.selectable {\\n  color: cornflowerblue;\\n  text-decoration: underline;\\n  cursor: pointer;\\n}\\n\\n.ipysigma-widget .ipysigma-information-display {\\n  width: 100%;\\n  height: calc(100% - 45px - 5px - 20px - 25px);\\n  overflow-y: auto;\\n  background-color: white;\\n  border: 1px solid #e0e0e0;\\n  box-sizing: border-box;\\n  font-size: 12px;\\n  line-height: 16px;\\n  padding: 10px;\\n}\\n\\n.ipysigma-widget .ipysigma-information-display.full {\\n  height: calc(100% - 20px - 25px);\\n}\\n\\n.ipysigma-widget .ipysigma-information-shadow-display {\\n  width: 100%;\\n  overflow-y: auto;\\n  box-sizing: border-box;\\n  font-size: 12px;\\n  line-height: 16px;\\n  padding: 10px;\\n}\\n\\n.ipysigma-widget .ipysigma-information-hide-button,\\n.ipysigma-widget .ipysigma-information-show-button {\\n  float: right;\\n  cursor: pointer;\\n}\\n\\n.ipysigma-widget .ipysigma-information-contents,\\n.ipysigma-widget .ipysigma-legend {\\n  font-family: monospace;\\n}\\n\\n.ipysigma-widget .ipysigma-string {\\n  color: #bc2828;\\n}\\n\\n.ipysigma-widget .ipysigma-number {\\n  color: #008800;\\n}\\n\\n.ipysigma-widget .ipysigma-boolean,\\n.ipysigma-widget .ipysigma-keyword {\\n  color: #0457ab;\\n}\\n\\n.ipysigma-widget .ipysigma-download-controls {\\n  margin-top: 5px;\\n  display: flex;\\n  text-align: right;\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0px;\\n}\\n\\n.ipysigma-widget .ipysigma-download-png-button,\\n.ipysigma-widget .ipysigma-download-svg-button,\\n.ipysigma-widget .ipysigma-download-gexf-button {\\n  margin-right: 3px;\\n}\\n\\n.ipysigma-widget .category {\\n  cursor: pointer;\\n}\\n.ipysigma-widget .category.evicted .category-value {\\n  color: gray;\\n  text-decoration: line-through;\\n}\\n\\n.ipysigma-widget .ipysigma-search,\\n.ipysigma-widget .ipysigma-download-controls,\\n.ipysigma-widget .ipysigma-information-shadow-display,\\n.ipysigma-widget .choices {\\n  pointer-events: auto;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".choices{position:relative;overflow:hidden;margin-bottom:24px;font-size:16px}.choices:focus{outline:0}.choices:last-child{margin-bottom:0}.choices.is-open{overflow:visible}.choices.is-disabled .choices__inner,.choices.is-disabled .choices__input{background-color:#eaeaea;cursor:not-allowed;-webkit-user-select:none;user-select:none}.choices.is-disabled .choices__item{cursor:not-allowed}.choices [hidden]{display:none!important}.choices[data-type*=select-one]{cursor:pointer}.choices[data-type*=select-one] .choices__inner{padding-bottom:7.5px}.choices[data-type*=select-one] .choices__input{display:block;width:100%;padding:10px;border-bottom:1px solid #ddd;background-color:#fff;margin:0}.choices[data-type*=select-one] .choices__button{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yLjU5Mi4wNDRsMTguMzY0IDE4LjM2NC0yLjU0OCAyLjU0OEwuMDQ0IDIuNTkyeiIvPjxwYXRoIGQ9Ik0wIDE4LjM2NEwxOC4zNjQgMGwyLjU0OCAyLjU0OEwyLjU0OCAyMC45MTJ6Ii8+PC9nPjwvc3ZnPg==);padding:0;background-size:8px;position:absolute;top:50%;right:0;margin-top:-10px;margin-right:25px;height:20px;width:20px;border-radius:10em;opacity:.25}.choices[data-type*=select-one] .choices__button:focus,.choices[data-type*=select-one] .choices__button:hover{opacity:1}.choices[data-type*=select-one] .choices__button:focus{box-shadow:0 0 0 2px #00bcd4}.choices[data-type*=select-one] .choices__item[data-value=\\\"\\\"] .choices__button{display:none}.choices[data-type*=select-one]::after{content:\\\"\\\";height:0;width:0;border-style:solid;border-color:#333 transparent transparent;border-width:5px;position:absolute;right:11.5px;top:50%;margin-top:-2.5px;pointer-events:none}.choices[data-type*=select-one].is-open::after{border-color:transparent transparent #333;margin-top:-7.5px}.choices[data-type*=select-one][dir=rtl]::after{left:11.5px;right:auto}.choices[data-type*=select-one][dir=rtl] .choices__button{right:auto;left:0;margin-left:25px;margin-right:0}.choices[data-type*=select-multiple] .choices__inner,.choices[data-type*=text] .choices__inner{cursor:text}.choices[data-type*=select-multiple] .choices__button,.choices[data-type*=text] .choices__button{position:relative;display:inline-block;margin:0 -4px 0 8px;padding-left:16px;border-left:1px solid #008fa1;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yLjU5Mi4wNDRsMTguMzY0IDE4LjM2NC0yLjU0OCAyLjU0OEwuMDQ0IDIuNTkyeiIvPjxwYXRoIGQ9Ik0wIDE4LjM2NEwxOC4zNjQgMGwyLjU0OCAyLjU0OEwyLjU0OCAyMC45MTJ6Ii8+PC9nPjwvc3ZnPg==);background-size:8px;width:8px;line-height:1;opacity:.75;border-radius:0}.choices[data-type*=select-multiple] .choices__button:focus,.choices[data-type*=select-multiple] .choices__button:hover,.choices[data-type*=text] .choices__button:focus,.choices[data-type*=text] .choices__button:hover{opacity:1}.choices__inner{display:inline-block;vertical-align:top;width:100%;background-color:#f9f9f9;padding:7.5px 7.5px 3.75px;border:1px solid #ddd;border-radius:2.5px;font-size:14px;min-height:44px;overflow:hidden}.is-focused .choices__inner,.is-open .choices__inner{border-color:#b7b7b7}.is-open .choices__inner{border-radius:2.5px 2.5px 0 0}.is-flipped.is-open .choices__inner{border-radius:0 0 2.5px 2.5px}.choices__list{margin:0;padding-left:0;list-style:none}.choices__list--single{display:inline-block;padding:4px 16px 4px 4px;width:100%}[dir=rtl] .choices__list--single{padding-right:4px;padding-left:16px}.choices__list--single .choices__item{width:100%}.choices__list--multiple{display:inline}.choices__list--multiple .choices__item{display:inline-block;vertical-align:middle;border-radius:20px;padding:4px 10px;font-size:12px;font-weight:500;margin-right:3.75px;margin-bottom:3.75px;background-color:#00bcd4;border:1px solid #00a5bb;color:#fff;word-break:break-all;box-sizing:border-box}.choices__list--multiple .choices__item[data-deletable]{padding-right:5px}[dir=rtl] .choices__list--multiple .choices__item{margin-right:0;margin-left:3.75px}.choices__list--multiple .choices__item.is-highlighted{background-color:#00a5bb;border:1px solid #008fa1}.is-disabled .choices__list--multiple .choices__item{background-color:#aaa;border:1px solid #919191}.choices__list--dropdown,.choices__list[aria-expanded]{visibility:hidden;z-index:1;position:absolute;width:100%;background-color:#fff;border:1px solid #ddd;top:100%;margin-top:-1px;border-bottom-left-radius:2.5px;border-bottom-right-radius:2.5px;overflow:hidden;word-break:break-all;will-change:visibility}.is-active.choices__list--dropdown,.is-active.choices__list[aria-expanded]{visibility:visible}.is-open .choices__list--dropdown,.is-open .choices__list[aria-expanded]{border-color:#b7b7b7}.is-flipped .choices__list--dropdown,.is-flipped .choices__list[aria-expanded]{top:auto;bottom:100%;margin-top:0;margin-bottom:-1px;border-radius:.25rem .25rem 0 0}.choices__list--dropdown .choices__list,.choices__list[aria-expanded] .choices__list{position:relative;max-height:300px;overflow:auto;-webkit-overflow-scrolling:touch;will-change:scroll-position}.choices__list--dropdown .choices__item,.choices__list[aria-expanded] .choices__item{position:relative;padding:10px;font-size:14px}[dir=rtl] .choices__list--dropdown .choices__item,[dir=rtl] .choices__list[aria-expanded] .choices__item{text-align:right}@media (min-width:640px){.choices__list--dropdown .choices__item--selectable,.choices__list[aria-expanded] .choices__item--selectable{padding-right:100px}.choices__list--dropdown .choices__item--selectable::after,.choices__list[aria-expanded] .choices__item--selectable::after{content:attr(data-select-text);font-size:12px;opacity:0;position:absolute;right:10px;top:50%;transform:translateY(-50%)}[dir=rtl] .choices__list--dropdown .choices__item--selectable,[dir=rtl] .choices__list[aria-expanded] .choices__item--selectable{text-align:right;padding-left:100px;padding-right:10px}[dir=rtl] .choices__list--dropdown .choices__item--selectable::after,[dir=rtl] .choices__list[aria-expanded] .choices__item--selectable::after{right:auto;left:10px}}.choices__list--dropdown .choices__item--selectable.is-highlighted,.choices__list[aria-expanded] .choices__item--selectable.is-highlighted{background-color:#f2f2f2}.choices__list--dropdown .choices__item--selectable.is-highlighted::after,.choices__list[aria-expanded] .choices__item--selectable.is-highlighted::after{opacity:.5}.choices__item{cursor:default}.choices__item--selectable{cursor:pointer}.choices__item--disabled{cursor:not-allowed;-webkit-user-select:none;user-select:none;opacity:.5}.choices__heading{font-weight:600;font-size:12px;padding:10px;border-bottom:1px solid #f7f7f7;color:gray}.choices__button{text-indent:-9999px;-webkit-appearance:none;appearance:none;border:0;background-color:transparent;background-repeat:no-repeat;background-position:center;cursor:pointer}.choices__button:focus,.choices__input:focus{outline:0}.choices__input{display:inline-block;vertical-align:baseline;background-color:#f9f9f9;font-size:14px;margin-bottom:5px;border:0;border-radius:0;max-width:100%;padding:4px 0 4px 2px}.choices__input::-webkit-search-cancel-button,.choices__input::-webkit-search-decoration,.choices__input::-webkit-search-results-button,.choices__input::-webkit-search-results-decoration{display:none}.choices__input::-ms-clear,.choices__input::-ms-reveal{display:none;width:0;height:0}[dir=rtl] .choices__input{padding-right:2px;padding-left:0}.choices__placeholder{opacity:.5}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * Extend function\n * ================\n *\n * Function used to push a bunch of values into an array at once.\n *\n * Its strategy is to mutate target array's length then setting the new indices\n * to be the values to add.\n *\n * A benchmark proved that it is faster than the following strategies:\n *   1) `array.push.apply(array, values)`.\n *   2) A loop of pushes.\n *   3) `array = array.concat(values)`, obviously.\n *\n * Intuitively, this is correct because when adding a lot of elements, the\n * chosen strategies does not need to handle the `arguments` object to\n * execute #.apply's variadicity and because the array know its final length\n * at the beginning, avoiding potential multiple reallocations of the underlying\n * contiguous array. Some engines may be able to optimize the loop of push\n * operations but empirically they don't seem to do so.\n */\n\n/**\n * Extends the target array with the given values.\n *\n * @param  {array} array  - Target array.\n * @param  {array} values - Values to add.\n */\nmodule.exports = function extend(array, values) {\n  var l2 = values.length;\n\n  if (l2 === 0)\n    return;\n\n  var l1 = array.length;\n\n  array.length += l2;\n\n  for (var i = 0; i < l2; i++)\n    array[l1 + i] = values[i];\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar utils_1 = require(\"sigma/utils\");\nvar edge_1 = require(\"sigma/rendering/webgl/programs/common/edge\");\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec4 a_color;\\nattribute float a_direction;\\nattribute float a_thickness;\\nattribute vec2 a_source;\\nattribute vec2 a_target;\\nattribute float a_current;\\nattribute float a_curveness;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform vec2 u_dimensions;\\n\\nvarying vec4 v_color;\\nvarying float v_thickness;\\nvarying vec2 v_cpA;\\nvarying vec2 v_cpB;\\nvarying vec2 v_cpC;\\n\\nconst float bias = 255.0 / 254.0;\\nconst float epsilon = 0.7;\\nconst float minThickness = 0.3;\\n\\nvec2 clipspaceToViewport(vec2 pos, vec2 dimensions) {\\n  return vec2(\\n    (pos.x + 1.0) * dimensions.x / 2.0,\\n    (pos.y + 1.0) * dimensions.y / 2.0\\n  );\\n}\\n\\nvec2 viewportToClipspace(vec2 pos, vec2 dimensions) {\\n  return vec2(\\n    pos.x / dimensions.x * 2.0 - 1.0,\\n    pos.y / dimensions.y * 2.0 - 1.0\\n  );\\n}\\n\\nvoid main() {\\n\\n  // Selecting the correct position\\n  // Branchless \\\"position = a_source if a_current == 1.0 else a_target\\\"\\n  vec2 position = a_source * max(0.0, a_current) + a_target * max(0.0, 1.0 - a_current);\\n  position = (u_matrix * vec3(position, 1)).xy;\\n\\n  vec2 source = (u_matrix * vec3(a_source, 1)).xy;\\n  vec2 target = (u_matrix * vec3(a_target, 1)).xy;\\n\\n  vec2 viewportPosition = clipspaceToViewport(position, u_dimensions);\\n  vec2 viewportSource = clipspaceToViewport(source, u_dimensions);\\n  vec2 viewportTarget = clipspaceToViewport(target, u_dimensions);\\n\\n  vec2 delta = viewportTarget.xy - viewportSource.xy;\\n  float len = length(delta);\\n  vec2 normal = vec2(-delta.y, delta.x) * a_direction;\\n  vec2 unitNormal = normal / len;\\n  float boundingBoxThickness = len * a_curveness;\\n  float curveThickness = max(minThickness, a_thickness / 2.0 / u_sizeRatio * u_pixelRatio);\\n\\n  v_thickness = curveThickness;\\n\\n  v_cpA = viewportSource;\\n  v_cpB = 0.5 * (viewportSource + viewportTarget) + unitNormal * a_direction * boundingBoxThickness;\\n  v_cpC = viewportTarget;\\n\\n  vec2 viewportOffsetPosition = (\\n    viewportPosition +\\n    unitNormal * (boundingBoxThickness / 2.0 + curveThickness + epsilon) *\\n    max(0.0, a_direction) // NOTE: cutting the bounding box in half to avoid overdraw\\n  );\\n\\n  position = viewportToClipspace(viewportOffsetPosition, u_dimensions);\\n  gl_Position = vec4(position, 0, 1);\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_thickness;\\nvarying vec2 v_cpA;\\nvarying vec2 v_cpB;\\nvarying vec2 v_cpC;\\n\\nfloat det(vec2 a, vec2 b) {\\n  return a.x * b.y - b.x * a.y;\\n}\\n\\nvec2 get_distance_vector(vec2 b0, vec2 b1, vec2 b2) {\\n  float a = det(b0, b2), b = 2.0 * det(b1, b0), d = 2.0 * det(b2, b1);\\n  float f = b * d - a * a;\\n  vec2 d21 = b2 - b1, d10 = b1 - b0, d20 = b2 - b0;\\n  vec2 gf = 2.0 * (b * d21 + d * d10 + a * d20);\\n  gf = vec2(gf.y, -gf.x);\\n  vec2 pp = -f * gf / dot(gf, gf);\\n  vec2 d0p = b0 - pp;\\n  float ap = det(d0p, d20), bp = 2.0 * det(d10, d0p);\\n  float t = clamp((ap + bp) / (2.0 * a + b + d), 0.0, 1.0);\\n  return mix(mix(b0, b1, t), mix(b1, b2, t), t);\\n}\\n\\nfloat distToQuadraticBezierCurve(vec2 p, vec2 b0, vec2 b1, vec2 b2) {\\n  return length(get_distance_vector(b0 - p, b1 - p, b2 - p));\\n}\\n\\nconst float epsilon = 0.7;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = distToQuadraticBezierCurve(gl_FragCoord.xy, v_cpA, v_cpB, v_cpC);\\n\\n  if (dist < v_thickness + epsilon) {\\n    float inCurve = 1.0 - smoothstep(v_thickness - epsilon, v_thickness + epsilon, dist);\\n    gl_FragColor = inCurve * vec4(v_color.rgb * v_color.a, v_color.a);\\n  } else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_sizeRatio\", \"u_dimensions\", \"u_pixelRatio\"];\nvar DEFAULT_EDGE_CURVENESS = 0.25;\nvar EdgeCurveProgram = /** @class */ (function (_super) {\n    __extends(EdgeCurveProgram, _super);\n    function EdgeCurveProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeCurveProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 4,\n            ARRAY_ITEMS_PER_VERTEX: 9,\n            VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE,\n            FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_source\", size: 2, type: FLOAT },\n                { name: \"a_target\", size: 2, type: FLOAT },\n                { name: \"a_current\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_direction\", size: 1, type: FLOAT },\n                { name: \"a_thickness\", size: 1, type: FLOAT },\n                { name: \"a_curveness\", size: 1, type: FLOAT },\n            ]\n        };\n    };\n    EdgeCurveProgram.prototype.reallocateIndices = function () {\n        var l = this.verticesCount;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeCurveProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        var curveness = typeof data.curveness === \"number\" ? data.curveness : DEFAULT_EDGE_CURVENESS;\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 0;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = thickness;\n        array[i++] = curveness;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 0;\n        array[i++] = color;\n        array[i++] = -1;\n        array[i++] = thickness;\n        array[i++] = curveness;\n        // Second point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 1;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = thickness;\n        array[i++] = curveness;\n        // Second point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 1;\n        array[i++] = color;\n        array[i++] = -1;\n        array[i++] = thickness;\n        array[i++] = curveness;\n    };\n    EdgeCurveProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_sizeRatio = _a.u_sizeRatio, u_dimensions = _a.u_dimensions, u_pixelRatio = _a.u_pixelRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_pixelRatio, params.pixelRatio);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform2f(u_dimensions, params.width * params.pixelRatio, params.height * params.pixelRatio);\n        if (!this.indicesArray)\n            throw new Error(\"EdgeCurveProgram: indicesArray should be allocated when drawing!\");\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeCurveProgram;\n}(edge_1.EdgeProgram));\nexports[\"default\"] = EdgeCurveProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar node_1 = require(\"sigma/rendering/webgl/programs/common/node\");\nvar node_circle_1 = __importDefault(require(\"sigma/rendering/webgl/programs/node.circle\"));\nvar utils_1 = require(\"sigma/utils\");\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec2 a_position;\\nattribute float a_size;\\nattribute float a_angle;\\nattribute vec4 a_color;\\nattribute float a_intensity;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\nuniform float u_ignoreZoom;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\nvarying float v_intensity;\\n\\nconst float bias = 255.0 / 254.0;\\nconst float marginRatio = 1.05;\\n\\nvoid main() {\\n  float size = a_size * u_correctionRatio / u_sizeRatio * u_ignoreZoom * 4.0;\\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\\n  vec2 position = a_position + diffVector * marginRatio;\\n  gl_Position = vec4(\\n    (u_matrix * vec3(position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  v_border = u_correctionRatio;\\n  v_diffVector = diffVector;\\n  v_radius = size / 2.0 / marginRatio;\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  v_intensity = a_intensity;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\nvarying float v_intensity;\\n\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_diffVector);\\n  float intensity = v_intensity * (1.0 - dist);\\n\\n  if (dist < v_radius) {\\n    gl_FragColor = mix(v_color, transparent, pow(dist / v_radius, intensity));\\n  }\\n  else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";\nvar UNIFORMS = [\"u_sizeRatio\", \"u_correctionRatio\", \"u_matrix\", \"u_ignoreZoom\"];\nvar FLOAT = WebGLRenderingContext.FLOAT, UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE;\nvar NodeHaloProgram = /** @class */ (function (_super) {\n    __extends(NodeHaloProgram, _super);\n    function NodeHaloProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeHaloProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 6,\n            VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE,\n            FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_angle\", size: 1, type: FLOAT },\n                { name: \"a_intensity\", size: 1, type: FLOAT },\n            ]\n        };\n    };\n    NodeHaloProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var color = (0, utils_1.floatColor)(data.haloColor || data.color);\n        var intensity = typeof data.haloIntensity === \"number\" ? data.haloIntensity : 1;\n        var size = Math.max(typeof data.haloSize === \"number\" ? data.haloSize : 0, data.size);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = size;\n        array[i++] = color;\n        array[i++] = node_circle_1[\"default\"].ANGLE_1;\n        array[i++] = intensity;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = size;\n        array[i++] = color;\n        array[i++] = node_circle_1[\"default\"].ANGLE_2;\n        array[i++] = intensity;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = size;\n        array[i++] = color;\n        array[i++] = node_circle_1[\"default\"].ANGLE_3;\n        array[i++] = intensity;\n    };\n    NodeHaloProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio, u_matrix = _a.u_matrix, u_ignoreZoom = _a.u_ignoreZoom;\n        gl.uniform1f(u_ignoreZoom, 1);\n        // NOTE: uncomment next line to disable zoom impact.\n        // gl.uniform1f(u_ignoreZoom, 1 / params.sizeRatio);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    return NodeHaloProgram;\n}(node_1.NodeProgram));\nexports[\"default\"] = NodeHaloProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar utils_1 = require(\"sigma/utils\");\nvar node_1 = require(\"sigma/rendering/webgl/programs/common/node\");\nvar DEFAULT_CREATE_NODE_PICTOGRAM_OPTIONS = {\n    correctCentering: false,\n    forcedSvgSize: undefined,\n    keepWithinCircle: true\n};\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_texture;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  // Pass the texture coordinates:\\n  // NOTE: multiply a_texture by a constant and you get a pattern\\n  v_texture = a_texture;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nuniform sampler2D u_atlas;\\nuniform float u_keepWithinCircle;\\n\\nconst float radius = 0.5;\\n\\nvoid main(void) {\\n  vec4 texel = texture2D(u_atlas, v_texture.xy + gl_PointCoord * v_texture.zw, -1.0);\\n  vec4 color = mix(gl_FragColor, v_color, texel.a);\\n\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = length(m) * u_keepWithinCircle;\\n\\n  if (dist < radius - v_border) {\\n    gl_FragColor = color;\\n  }\\n}\\n\";\n// maximum size of single texture in atlas\nvar MAX_TEXTURE_SIZE = Infinity;\n// maximum width of atlas texture (limited by browser)\n// low setting of 3072 works on phones & tablets\nvar MAX_CANVAS_WIDTH = 3072;\n// Helper class able to \"correct\" the centering of a svg pictogram by\n// finding the \"true\" visually correct center through the barycenter of the\n// pictogram's alpha layer in x and y dimension.\nvar PictogramCenteringCorrector = /** @class */ (function () {\n    function PictogramCenteringCorrector() {\n        this.canvas = document.createElement(\"canvas\");\n        this.context = this.canvas.getContext(\"2d\");\n    }\n    PictogramCenteringCorrector.prototype.getCorrectionOffset = function (image, size) {\n        this.canvas.width = size;\n        this.canvas.height = size;\n        this.context.clearRect(0, 0, size, size);\n        this.context.drawImage(image, 0, 0, size, size);\n        var data = this.context.getImageData(0, 0, size, size).data;\n        var alpha = new Uint8ClampedArray(data.length / 4);\n        for (var i = 0; i < data.length; i++) {\n            alpha[i] = data[i * 4 + 3];\n        }\n        var sumX = 0;\n        var sumY = 0;\n        var total = 0;\n        for (var y = 0; y < size; y++) {\n            for (var x = 0; x < size; x++) {\n                var a = alpha[y * size + x];\n                total += a;\n                sumX += a * x;\n                sumY += a * y;\n            }\n        }\n        var barycenterX = sumX / total;\n        var barycenterY = sumY / total;\n        return {\n            x: barycenterX - size / 2,\n            y: barycenterY - size / 2\n        };\n    };\n    return PictogramCenteringCorrector;\n}());\n/**\n * To share the texture between the program instances of the graph and the\n * hovered nodes (to prevent some flickering, mostly), this program must be\n * \"built\" for each sigma instance:\n */\nfunction createNodePictogramProgram(options) {\n    options = Object.assign({}, DEFAULT_CREATE_NODE_PICTOGRAM_OPTIONS, options);\n    var keepWithinCircle = options.keepWithinCircle !== false;\n    var corrector = new PictogramCenteringCorrector();\n    /**\n     * These attributes are shared between all instances of this exact class,\n     * returned by this call to getNodeProgramImage:\n     */\n    var rebindTextureFns = [];\n    var images = {};\n    var textureImage;\n    var hasReceivedImages = false;\n    var pendingImagesFrameID = undefined;\n    // next write position in texture\n    var writePositionX = 0;\n    var writePositionY = 0;\n    // height of current row\n    var writeRowHeight = 0;\n    /**\n     * Helper to load an image:\n     */\n    function loadImage(imageSource) {\n        if (images[imageSource])\n            return;\n        var forcedSvgSize = options === null || options === void 0 ? void 0 : options.forcedSvgSize;\n        // If forcing a SVG size (typically to oversample the resulting rasterized\n        // size so that the icon is crispier), we fetch the svg string and we\n        // mangle it to force a certain size and view box.\n        // Of course this cannot work if said SVG cannot be access through CORS.\n        if (forcedSvgSize) {\n            images[imageSource] = { status: \"loading\" };\n            fetch(imageSource)\n                .then(function (r) { return r.text(); })\n                .then(function (svgString) {\n                var svg = new DOMParser().parseFromString(svgString, \"image/svg+xml\");\n                var root = svg.documentElement;\n                var originalWidth = root.getAttribute(\"width\");\n                var originalHeight = root.getAttribute(\"height\");\n                if (!originalWidth || !originalHeight)\n                    throw new Error(\"createNodePictogramProgram.loadImage: cannot use `forcedSvgSize` if target svg has no definite dimensions.\");\n                root.setAttribute(\"width\", \"\" + forcedSvgSize);\n                root.setAttribute(\"height\", \"\" + forcedSvgSize);\n                // NOTE: since Google Material last changes to their icon viewBox, this\n                // code is no longer necessary (hopefully it does not break something else...)\n                // root.setAttribute(\"viewBox\", `0 0 ${originalWidth} ${originalHeight}`);\n                var correctedSvgString = new XMLSerializer().serializeToString(svg);\n                var blob = new Blob([correctedSvgString], { type: \"image/svg+xml\" });\n                var url = URL.createObjectURL(blob);\n                var svgImage = new Image();\n                svgImage.src = url;\n                svgImage.addEventListener(\"load\", function () {\n                    images[imageSource] = {\n                        status: \"pending\",\n                        image: svgImage\n                    };\n                    if (typeof pendingImagesFrameID !== \"number\") {\n                        pendingImagesFrameID = requestAnimationFrame(function () { return finalizePendingImages(); });\n                    }\n                    URL.revokeObjectURL(url);\n                }, { once: true });\n            })[\"catch\"](function () {\n                images[imageSource] = { status: \"error\" };\n            });\n            return;\n        }\n        var image = new Image();\n        image.addEventListener(\"load\", function () {\n            images[imageSource] = {\n                status: \"pending\",\n                image: image\n            };\n            if (typeof pendingImagesFrameID !== \"number\") {\n                pendingImagesFrameID = requestAnimationFrame(function () { return finalizePendingImages(); });\n            }\n        });\n        image.addEventListener(\"error\", function () {\n            images[imageSource] = { status: \"error\" };\n        });\n        images[imageSource] = { status: \"loading\" };\n        // Load image:\n        image.setAttribute(\"crossOrigin\", \"\");\n        image.src = imageSource;\n    }\n    /**\n     * Helper that takes all pending images and adds them into the texture:\n     */\n    function finalizePendingImages() {\n        pendingImagesFrameID = undefined;\n        var pendingImages = [];\n        // List all pending images:\n        for (var id in images) {\n            var state = images[id];\n            if (state.status === \"pending\") {\n                pendingImages.push({\n                    id: id,\n                    image: state.image,\n                    size: Math.min(state.image.width, state.image.height) || 1\n                });\n            }\n        }\n        // Add images to texture:\n        var canvas = document.createElement(\"canvas\");\n        var ctx = canvas.getContext(\"2d\", { willReadFrequently: true });\n        // limit canvas size to avoid browser and platform limits\n        var totalWidth = hasReceivedImages ? textureImage.width : 0;\n        var totalHeight = hasReceivedImages ? textureImage.height : 0;\n        // initialize image drawing offsets with current write position\n        var xOffset = writePositionX;\n        var yOffset = writePositionY;\n        /**\n         * Draws a (full or partial) row of images into the atlas texture\n         * @param pendingImages\n         */\n        var drawRow = function (pendingImages) {\n            // update canvas size before drawing\n            if (canvas.width !== totalWidth || canvas.height !== totalHeight) {\n                canvas.width = Math.min(MAX_CANVAS_WIDTH, totalWidth);\n                canvas.height = totalHeight;\n                // draw previous texture into resized canvas\n                if (hasReceivedImages) {\n                    ctx.putImageData(textureImage, 0, 0);\n                }\n            }\n            pendingImages.forEach(function (_a) {\n                var id = _a.id, image = _a.image, size = _a.size;\n                var imageSizeInTexture = Math.min(MAX_TEXTURE_SIZE, size);\n                // Crop image, to only keep the biggest square, centered:\n                var dx = 0, dy = 0;\n                if ((image.width || 0) > (image.height || 0)) {\n                    dx = (image.width - image.height) / 2;\n                }\n                else {\n                    dy = (image.height - image.width) / 2;\n                }\n                var dxOffset = 0;\n                var dyOffset = 0;\n                if (options === null || options === void 0 ? void 0 : options.correctCentering) {\n                    var correction = corrector.getCorrectionOffset(image, size);\n                    dxOffset = correction.x;\n                    dyOffset = correction.y;\n                }\n                // NOTE: it's possible to offset the image here, this is potentially useful for some pictograms\n                ctx.drawImage(image, dx + dxOffset, dy + dyOffset, size, size, xOffset, yOffset, imageSizeInTexture, imageSizeInTexture);\n                // Update image state:\n                images[id] = {\n                    status: \"ready\",\n                    x: xOffset,\n                    y: yOffset,\n                    width: imageSizeInTexture,\n                    height: imageSizeInTexture\n                };\n                xOffset += imageSizeInTexture;\n            });\n            hasReceivedImages = true;\n            textureImage = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        };\n        var rowImages = [];\n        pendingImages.forEach(function (image) {\n            var size = image.size;\n            var imageSizeInTexture = Math.min(size, MAX_TEXTURE_SIZE);\n            if (writePositionX + imageSizeInTexture > MAX_CANVAS_WIDTH) {\n                // existing row is full: flush row and continue on next line\n                if (rowImages.length > 0) {\n                    totalWidth = Math.max(writePositionX, totalWidth);\n                    totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n                    drawRow(rowImages);\n                    rowImages = [];\n                    writeRowHeight = 0;\n                }\n                writePositionX = 0;\n                writePositionY = totalHeight;\n                xOffset = 0;\n                yOffset = totalHeight;\n            }\n            // add image to row\n            rowImages.push(image);\n            // advance write position and update maximum row height\n            writePositionX += imageSizeInTexture;\n            writeRowHeight = Math.max(writeRowHeight, imageSizeInTexture);\n        });\n        // flush pending images in row - keep write position (and drawing cursor)\n        totalWidth = Math.max(writePositionX, totalWidth);\n        totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n        drawRow(rowImages);\n        rowImages = [];\n        rebindTextureFns.forEach(function (fn) { return fn(); });\n    }\n    var UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\n    var UNIFORMS = [\"u_sizeRatio\", \"u_pixelRatio\", \"u_matrix\", \"u_atlas\", \"u_keepWithinCircle\"];\n    return /** @class */ (function (_super) {\n        __extends(NodePictogramProgram, _super);\n        function NodePictogramProgram(gl, renderer) {\n            var _this = _super.call(this, gl, renderer) || this;\n            rebindTextureFns.push(function () {\n                if (_this && _this.rebindTexture)\n                    _this.rebindTexture();\n                if (renderer && renderer.scheduleRefresh)\n                    renderer.scheduleRefresh();\n            });\n            _this.texture = gl.createTexture();\n            if (!textureImage) {\n                textureImage = new ImageData(1, 1);\n                gl.bindTexture(gl.TEXTURE_2D, _this.texture);\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 0, 0]));\n            }\n            else {\n                _this.rebindTexture();\n            }\n            return _this;\n        }\n        NodePictogramProgram.prototype.getDefinition = function () {\n            return {\n                VERTICES: 1,\n                ARRAY_ITEMS_PER_VERTEX: 8,\n                VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE,\n                FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE,\n                UNIFORMS: UNIFORMS,\n                ATTRIBUTES: [\n                    { name: \"a_position\", size: 2, type: FLOAT },\n                    { name: \"a_size\", size: 1, type: FLOAT },\n                    { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                    { name: \"a_texture\", size: 4, type: FLOAT },\n                ]\n            };\n        };\n        NodePictogramProgram.prototype.rebindTexture = function () {\n            var gl = this.gl;\n            gl.bindTexture(gl.TEXTURE_2D, this.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImage);\n            gl.generateMipmap(gl.TEXTURE_2D);\n            if (this.latestRenderParams)\n                this.render(this.latestRenderParams);\n        };\n        NodePictogramProgram.prototype.processVisibleItem = function (i, data) {\n            var array = this.array;\n            var imageSource = data.pictogram;\n            var imageState = imageSource && images[imageSource];\n            if (typeof imageSource === \"string\" && !imageState)\n                loadImage(imageSource);\n            array[i++] = data.x;\n            array[i++] = data.y;\n            array[i++] = data.size;\n            array[i++] = (0, utils_1.floatColor)(data.pictogramColor || \"black\");\n            // Reference texture:\n            if (imageState && imageState.status === \"ready\") {\n                var width = textureImage.width, height = textureImage.height;\n                array[i++] = imageState.x / width;\n                array[i++] = imageState.y / height;\n                array[i++] = imageState.width / width;\n                array[i++] = imageState.height / height;\n            }\n            else {\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n            }\n        };\n        NodePictogramProgram.prototype.draw = function (params) {\n            this.latestRenderParams = params;\n            var gl = this.gl;\n            var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_pixelRatio = _a.u_pixelRatio, u_matrix = _a.u_matrix, u_atlas = _a.u_atlas, u_keepWithinCircle = _a.u_keepWithinCircle;\n            gl.uniform1f(u_keepWithinCircle, keepWithinCircle ? 1 : 0);\n            gl.uniform1f(u_sizeRatio, params.sizeRatio);\n            gl.uniform1f(u_pixelRatio, params.pixelRatio);\n            gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n            gl.uniform1i(u_atlas, 0);\n            gl.drawArrays(gl.POINTS, 0, this.verticesCount);\n        };\n        return NodePictogramProgram;\n    }(node_1.NodeProgram));\n}\nexports[\"default\"] = createNodePictogramProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar node_point_1 = __importDefault(require(\"sigma/rendering/webgl/programs/node.point\"));\nvar utils_1 = require(\"sigma/utils\");\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_borderColor;\\nattribute float a_borderRatio;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_borderColor;\\nvarying float v_border;\\nvarying float v_borderRatio;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  v_borderColor = a_borderColor;\\n  v_borderColor.a *= bias;\\n\\n  v_borderRatio = 0.5 - a_borderRatio / 2.0;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_borderColor;\\nvarying float v_border;\\nvarying float v_borderRatio;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float distToCenter = length(gl_PointCoord - vec2(0.5, 0.5));\\n\\n  if (distToCenter < v_borderRatio - v_border)\\n    gl_FragColor = v_color;\\n  else if (distToCenter < v_borderRatio)\\n    gl_FragColor = mix(v_borderColor, v_color, (v_borderRatio - distToCenter) / v_border);\\n  else if (distToCenter < radius - v_border)\\n    gl_FragColor = v_borderColor;\\n  else if (distToCenter < radius)\\n    gl_FragColor = mix(transparent, v_borderColor, (radius - distToCenter) / v_border);\\n  else\\n    gl_FragColor = transparent;\\n}\\n\";\nvar FLOAT = WebGLRenderingContext.FLOAT, UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE;\nvar DEFAULT_NODE_BORDER_COLOR = \"#7a7a7a\";\nvar DEFAULT_NODE_BORDER_RATIO = 0.1;\nvar NodePointWithBorderProgram = /** @class */ (function (_super) {\n    __extends(NodePointWithBorderProgram, _super);\n    function NodePointWithBorderProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodePointWithBorderProgram.prototype.getDefinition = function () {\n        return __assign(__assign({}, _super.prototype.getDefinition.call(this)), { ARRAY_ITEMS_PER_VERTEX: 6, VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE, FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE, ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_borderColor\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_borderRatio\", size: 1, type: FLOAT },\n            ] });\n    };\n    NodePointWithBorderProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var borderRatio = typeof data.borderRatio !== \"number\" ? DEFAULT_NODE_BORDER_RATIO : data.borderRatio;\n        // borderSize takes precedence\n        if (typeof data.borderSize === \"number\") {\n            borderRatio = data.borderSize / data.size;\n        }\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = (0, utils_1.floatColor)(data.color);\n        array[i++] = (0, utils_1.floatColor)(data.borderColor || DEFAULT_NODE_BORDER_COLOR);\n        array[i] = borderRatio;\n    };\n    return NodePointWithBorderProgram;\n}(node_point_1[\"default\"]));\nexports[\"default\"] = NodePointWithBorderProgram;\n","/*! choices.js v10.1.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Choices\"] = factory();\n\telse\n\t\troot[\"Choices\"] = factory();\n})(window, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 282:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.clearChoices = exports.activateChoices = exports.filterChoices = exports.addChoice = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addChoice = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      groupId = _a.groupId,\n      disabled = _a.disabled,\n      elementId = _a.elementId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_CHOICE,\n    value: value,\n    label: label,\n    id: id,\n    groupId: groupId,\n    disabled: disabled,\n    elementId: elementId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addChoice = addChoice;\n\nvar filterChoices = function (results) {\n  return {\n    type: constants_1.ACTION_TYPES.FILTER_CHOICES,\n    results: results\n  };\n};\n\nexports.filterChoices = filterChoices;\n\nvar activateChoices = function (active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  return {\n    type: constants_1.ACTION_TYPES.ACTIVATE_CHOICES,\n    active: active\n  };\n};\n\nexports.activateChoices = activateChoices;\n\nvar clearChoices = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_CHOICES\n  };\n};\n\nexports.clearChoices = clearChoices;\n\n/***/ }),\n\n/***/ 783:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addGroup = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addGroup = function (_a) {\n  var value = _a.value,\n      id = _a.id,\n      active = _a.active,\n      disabled = _a.disabled;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_GROUP,\n    value: value,\n    id: id,\n    active: active,\n    disabled: disabled\n  };\n};\n\nexports.addGroup = addGroup;\n\n/***/ }),\n\n/***/ 464:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.highlightItem = exports.removeItem = exports.addItem = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addItem = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      choiceId = _a.choiceId,\n      groupId = _a.groupId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_ITEM,\n    value: value,\n    label: label,\n    id: id,\n    choiceId: choiceId,\n    groupId: groupId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addItem = addItem;\n\nvar removeItem = function (id, choiceId) {\n  return {\n    type: constants_1.ACTION_TYPES.REMOVE_ITEM,\n    id: id,\n    choiceId: choiceId\n  };\n};\n\nexports.removeItem = removeItem;\n\nvar highlightItem = function (id, highlighted) {\n  return {\n    type: constants_1.ACTION_TYPES.HIGHLIGHT_ITEM,\n    id: id,\n    highlighted: highlighted\n  };\n};\n\nexports.highlightItem = highlightItem;\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setIsLoading = exports.resetTo = exports.clearAll = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar clearAll = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_ALL\n  };\n};\n\nexports.clearAll = clearAll;\n\nvar resetTo = function (state) {\n  return {\n    type: constants_1.ACTION_TYPES.RESET_TO,\n    state: state\n  };\n};\n\nexports.resetTo = resetTo;\n\nvar setIsLoading = function (isLoading) {\n  return {\n    type: constants_1.ACTION_TYPES.SET_IS_LOADING,\n    isLoading: isLoading\n  };\n};\n\nexports.setIsLoading = setIsLoading;\n\n/***/ }),\n\n/***/ 373:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar deepmerge_1 = __importDefault(__webpack_require__(996));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar fuse_js_1 = __importDefault(__webpack_require__(221));\n\nvar choices_1 = __webpack_require__(282);\n\nvar groups_1 = __webpack_require__(783);\n\nvar items_1 = __webpack_require__(464);\n\nvar misc_1 = __webpack_require__(137);\n\nvar components_1 = __webpack_require__(520);\n\nvar constants_1 = __webpack_require__(883);\n\nvar defaults_1 = __webpack_require__(789);\n\nvar utils_1 = __webpack_require__(799);\n\nvar reducers_1 = __webpack_require__(655);\n\nvar store_1 = __importDefault(__webpack_require__(744));\n\nvar templates_1 = __importDefault(__webpack_require__(686));\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n\n\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\n\nvar Choices =\n/** @class */\nfunction () {\n  function Choices(element, userConfig) {\n    var _this = this;\n\n    if (element === void 0) {\n      element = '[data-choice]';\n    }\n\n    if (userConfig === void 0) {\n      userConfig = {};\n    }\n\n    if (userConfig.allowHTML === undefined) {\n      console.warn('Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message.');\n    }\n\n    this.config = deepmerge_1.default.all([defaults_1.DEFAULT_CONFIG, Choices.defaults.options, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n    // instead of concatenating with the default array\n    {\n      arrayMerge: function (_, sourceArray) {\n        return __spreadArray([], sourceArray, true);\n      }\n    });\n    var invalidConfigOptions = (0, utils_1.diff)(this.config, defaults_1.DEFAULT_CONFIG);\n\n    if (invalidConfigOptions.length) {\n      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n    }\n\n    var passedElement = typeof element === 'string' ? document.querySelector(element) : element;\n\n    if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {\n      throw TypeError('Expected one of the following types text|select-one|select-multiple');\n    }\n\n    this._isTextElement = passedElement.type === constants_1.TEXT_TYPE;\n    this._isSelectOneElement = passedElement.type === constants_1.SELECT_ONE_TYPE;\n    this._isSelectMultipleElement = passedElement.type === constants_1.SELECT_MULTIPLE_TYPE;\n    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n    this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;\n\n    if (!['auto', 'always'].includes(\"\".concat(this.config.renderSelectedChoices))) {\n      this.config.renderSelectedChoices = 'auto';\n    }\n\n    if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n      var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n      this.config.addItemFilter = re.test.bind(re);\n    }\n\n    if (this._isTextElement) {\n      this.passedElement = new components_1.WrappedInput({\n        element: passedElement,\n        classNames: this.config.classNames,\n        delimiter: this.config.delimiter\n      });\n    } else {\n      this.passedElement = new components_1.WrappedSelect({\n        element: passedElement,\n        classNames: this.config.classNames,\n        template: function (data) {\n          return _this._templates.option(data);\n        }\n      });\n    }\n\n    this.initialised = false;\n    this._store = new store_1.default();\n    this._initialState = reducers_1.defaultState;\n    this._currentState = reducers_1.defaultState;\n    this._prevState = reducers_1.defaultState;\n    this._currentValue = '';\n    this._canSearch = !!this.config.searchEnabled;\n    this._isScrollingOnIe = false;\n    this._highlightPosition = 0;\n    this._wasTap = true;\n    this._placeholderValue = this._generatePlaceholderValue();\n    this._baseId = (0, utils_1.generateId)(this.passedElement.element, 'choices-');\n    /**\n     * setting direction in cases where it's explicitly set on passedElement\n     * or when calculated direction is different from the document\n     */\n\n    this._direction = this.passedElement.dir;\n\n    if (!this._direction) {\n      var elementDirection = window.getComputedStyle(this.passedElement.element).direction;\n      var documentDirection = window.getComputedStyle(document.documentElement).direction;\n\n      if (elementDirection !== documentDirection) {\n        this._direction = elementDirection;\n      }\n    }\n\n    this._idNames = {\n      itemChoice: 'item-choice'\n    };\n\n    if (this._isSelectElement) {\n      // Assign preset groups from passed element\n      this._presetGroups = this.passedElement.optionGroups; // Assign preset options from passed element\n\n      this._presetOptions = this.passedElement.options;\n    } // Assign preset choices from passed object\n\n\n    this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n    this._presetItems = this.config.items; // Add any values passed from attribute\n\n    if (this.passedElement.value && this._isTextElement) {\n      var splitValues = this.passedElement.value.split(this.config.delimiter);\n      this._presetItems = this._presetItems.concat(splitValues);\n    } // Create array of choices from option elements\n\n\n    if (this.passedElement.options) {\n      this.passedElement.options.forEach(function (option) {\n        _this._presetChoices.push({\n          value: option.value,\n          label: option.innerHTML,\n          selected: !!option.selected,\n          disabled: option.disabled || option.parentNode.disabled,\n          placeholder: option.value === '' || option.hasAttribute('placeholder'),\n          customProperties: option.dataset['custom-properties']\n        });\n      });\n    }\n\n    this._render = this._render.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._onKeyUp = this._onKeyUp.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseOver = this._onMouseOver.bind(this);\n    this._onFormReset = this._onFormReset.bind(this);\n    this._onSelectKey = this._onSelectKey.bind(this);\n    this._onEnterKey = this._onEnterKey.bind(this);\n    this._onEscapeKey = this._onEscapeKey.bind(this);\n    this._onDirectionKey = this._onDirectionKey.bind(this);\n    this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n    if (this.passedElement.isActive) {\n      if (!this.config.silent) {\n        console.warn('Trying to initialise Choices on element already initialised', {\n          element: element\n        });\n      }\n\n      this.initialised = true;\n      return;\n    } // Let's go\n\n\n    this.init();\n  }\n\n  Object.defineProperty(Choices, \"defaults\", {\n    get: function () {\n      return Object.preventExtensions({\n        get options() {\n          return USER_DEFAULTS;\n        },\n\n        get templates() {\n          return templates_1.default;\n        }\n\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Choices.prototype.init = function () {\n    if (this.initialised) {\n      return;\n    }\n\n    this._createTemplates();\n\n    this._createElements();\n\n    this._createStructure();\n\n    this._store.subscribe(this._render);\n\n    this._render();\n\n    this._addEventListeners();\n\n    var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n    if (shouldDisable) {\n      this.disable();\n    }\n\n    this.initialised = true;\n    var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n    if (callbackOnInit && typeof callbackOnInit === 'function') {\n      callbackOnInit.call(this);\n    }\n  };\n\n  Choices.prototype.destroy = function () {\n    if (!this.initialised) {\n      return;\n    }\n\n    this._removeEventListeners();\n\n    this.passedElement.reveal();\n    this.containerOuter.unwrap(this.passedElement.element);\n    this.clearStore();\n\n    if (this._isSelectElement) {\n      this.passedElement.options = this._presetOptions;\n    }\n\n    this._templates = templates_1.default;\n    this.initialised = false;\n  };\n\n  Choices.prototype.enable = function () {\n    if (this.passedElement.isDisabled) {\n      this.passedElement.enable();\n    }\n\n    if (this.containerOuter.isDisabled) {\n      this._addEventListeners();\n\n      this.input.enable();\n      this.containerOuter.enable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.disable = function () {\n    if (!this.passedElement.isDisabled) {\n      this.passedElement.disable();\n    }\n\n    if (!this.containerOuter.isDisabled) {\n      this._removeEventListeners();\n\n      this.input.disable();\n      this.containerOuter.disable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.highlightItem = function (item, runEvent) {\n    if (runEvent === void 0) {\n      runEvent = true;\n    }\n\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, true));\n\n    if (runEvent) {\n      this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group && group.value ? group.value : null\n      });\n    }\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightItem = function (item) {\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, false));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n      id: id,\n      value: value,\n      label: label,\n      groupValue: group && group.value ? group.value : null\n    });\n    return this;\n  };\n\n  Choices.prototype.highlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.highlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.unhighlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItemsByValue = function (value) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (item) {\n      return item.value === value;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItems = function (excludedId) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (_a) {\n      var id = _a.id;\n      return id !== excludedId;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeHighlightedItems = function (runEvent) {\n    var _this = this;\n\n    if (runEvent === void 0) {\n      runEvent = false;\n    }\n\n    this._store.highlightedActiveItems.forEach(function (item) {\n      _this._removeItem(item); // If this action was performed by the user\n      // trigger the event\n\n\n      if (runEvent) {\n        _this._triggerChange(item.value);\n      }\n    });\n\n    return this;\n  };\n\n  Choices.prototype.showDropdown = function (preventInputFocus) {\n    var _this = this;\n\n    if (this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.show();\n\n      _this.containerOuter.open(_this.dropdown.distanceFromTopWindow);\n\n      if (!preventInputFocus && _this._canSearch) {\n        _this.input.focus();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.showDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.hideDropdown = function (preventInputBlur) {\n    var _this = this;\n\n    if (!this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.hide();\n\n      _this.containerOuter.close();\n\n      if (!preventInputBlur && _this._canSearch) {\n        _this.input.removeActiveDescendant();\n\n        _this.input.blur();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.hideDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.getValue = function (valueOnly) {\n    if (valueOnly === void 0) {\n      valueOnly = false;\n    }\n\n    var values = this._store.activeItems.reduce(function (selectedItems, item) {\n      var itemValue = valueOnly ? item.value : item;\n      selectedItems.push(itemValue);\n      return selectedItems;\n    }, []);\n\n    return this._isSelectOneElement ? values[0] : values;\n  };\n\n  Choices.prototype.setValue = function (items) {\n    var _this = this;\n\n    if (!this.initialised) {\n      return this;\n    }\n\n    items.forEach(function (value) {\n      return _this._setChoiceOrItem(value);\n    });\n    return this;\n  };\n\n  Choices.prototype.setChoiceByValue = function (value) {\n    var _this = this;\n\n    if (!this.initialised || this._isTextElement) {\n      return this;\n    } // If only one value has been passed, convert to array\n\n\n    var choiceValue = Array.isArray(value) ? value : [value]; // Loop through each value and\n\n    choiceValue.forEach(function (val) {\n      return _this._findAndSelectChoiceByValue(val);\n    });\n    return this;\n  };\n  /**\n   * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n   * a value field name and a label field name.\n   * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n   * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n   * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n   *\n   * **Input types affected:** select-one, select-multiple\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([\n   *   {value: 'One', label: 'Label One', disabled: true},\n   *   {value: 'Two', label: 'Label Two', selected: true},\n   *   {value: 'Three', label: 'Label Three'},\n   * ], 'value', 'label', false);\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices(async () => {\n   *   try {\n   *      const items = await fetch('/items');\n   *      return items.json()\n   *   } catch(err) {\n   *      console.error(err)\n   *   }\n   * });\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([{\n   *   label: 'Group one',\n   *   id: 1,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child One', label: 'Child One', selected: true},\n   *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n   *     {value: 'Child Three', label: 'Child Three'},\n   *   ]\n   * },\n   * {\n   *   label: 'Group two',\n   *   id: 2,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child Four', label: 'Child Four', disabled: true},\n   *     {value: 'Child Five', label: 'Child Five'},\n   *     {value: 'Child Six', label: 'Child Six', customProperties: {\n   *       description: 'Custom description about child six',\n   *       random: 'Another random custom property'\n   *     }},\n   *   ]\n   * }], 'value', 'label', false);\n   * ```\n   */\n\n\n  Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices) {\n    var _this = this;\n\n    if (choicesArrayOrFetcher === void 0) {\n      choicesArrayOrFetcher = [];\n    }\n\n    if (value === void 0) {\n      value = 'value';\n    }\n\n    if (label === void 0) {\n      label = 'label';\n    }\n\n    if (replaceChoices === void 0) {\n      replaceChoices = false;\n    }\n\n    if (!this.initialised) {\n      throw new ReferenceError(\"setChoices was called on a non-initialized instance of Choices\");\n    }\n\n    if (!this._isSelectElement) {\n      throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n    }\n\n    if (typeof value !== 'string' || !value) {\n      throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n    } // Clear choices if needed\n\n\n    if (replaceChoices) {\n      this.clearChoices();\n    }\n\n    if (typeof choicesArrayOrFetcher === 'function') {\n      // it's a choices fetcher function\n      var fetcher_1 = choicesArrayOrFetcher(this);\n\n      if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n        // that's a promise\n        // eslint-disable-next-line no-promise-executor-return\n        return new Promise(function (resolve) {\n          return requestAnimationFrame(resolve);\n        }).then(function () {\n          return _this._handleLoadingState(true);\n        }).then(function () {\n          return fetcher_1;\n        }).then(function (data) {\n          return _this.setChoices(data, value, label, replaceChoices);\n        }).catch(function (err) {\n          if (!_this.config.silent) {\n            console.error(err);\n          }\n        }).then(function () {\n          return _this._handleLoadingState(false);\n        }).then(function () {\n          return _this;\n        });\n      } // function returned something else than promise, let's check if it's an array of choices\n\n\n      if (!Array.isArray(fetcher_1)) {\n        throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n      } // recursion with results, it's sync and choices were cleared already\n\n\n      return this.setChoices(fetcher_1, value, label, false);\n    }\n\n    if (!Array.isArray(choicesArrayOrFetcher)) {\n      throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n    }\n\n    this.containerOuter.removeLoadingState();\n\n    this._startLoading();\n\n    choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n      if (groupOrChoice.choices) {\n        _this._addGroup({\n          id: groupOrChoice.id ? parseInt(\"\".concat(groupOrChoice.id), 10) : null,\n          group: groupOrChoice,\n          valueKey: value,\n          labelKey: label\n        });\n      } else {\n        var choice = groupOrChoice;\n\n        _this._addChoice({\n          value: choice[value],\n          label: choice[label],\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: choice.customProperties\n        });\n      }\n    });\n\n    this._stopLoading();\n\n    return this;\n  };\n\n  Choices.prototype.clearChoices = function () {\n    this._store.dispatch((0, choices_1.clearChoices)());\n\n    return this;\n  };\n\n  Choices.prototype.clearStore = function () {\n    this._store.dispatch((0, misc_1.clearAll)());\n\n    return this;\n  };\n\n  Choices.prototype.clearInput = function () {\n    var shouldSetInputWidth = !this._isSelectOneElement;\n    this.input.clear(shouldSetInputWidth);\n\n    if (!this._isTextElement && this._canSearch) {\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n\n    return this;\n  };\n\n  Choices.prototype._render = function () {\n    if (this._store.isLoading()) {\n      return;\n    }\n\n    this._currentState = this._store.state;\n    var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n    var shouldRenderChoices = this._isSelectElement;\n    var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n    if (!stateChanged) {\n      return;\n    }\n\n    if (shouldRenderChoices) {\n      this._renderChoices();\n    }\n\n    if (shouldRenderItems) {\n      this._renderItems();\n    }\n\n    this._prevState = this._currentState;\n  };\n\n  Choices.prototype._renderChoices = function () {\n    var _this = this;\n\n    var _a = this._store,\n        activeGroups = _a.activeGroups,\n        activeChoices = _a.activeChoices;\n    var choiceListFragment = document.createDocumentFragment();\n    this.choiceList.clear();\n\n    if (this.config.resetScrollPosition) {\n      requestAnimationFrame(function () {\n        return _this.choiceList.scrollToTop();\n      });\n    } // If we have grouped options\n\n\n    if (activeGroups.length >= 1 && !this._isSearching) {\n      // If we have a placeholder choice along with groups\n      var activePlaceholders = activeChoices.filter(function (activeChoice) {\n        return activeChoice.placeholder === true && activeChoice.groupId === -1;\n      });\n\n      if (activePlaceholders.length >= 1) {\n        choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n      }\n\n      choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n    } else if (activeChoices.length >= 1) {\n      choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n    } // If we have choices to show\n\n\n    if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n      var activeItems = this._store.activeItems;\n\n      var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n      if (canAddItem.response) {\n        // ...append them and highlight the first choice\n        this.choiceList.append(choiceListFragment);\n\n        this._highlightChoice();\n      } else {\n        var notice = this._getTemplate('notice', canAddItem.notice);\n\n        this.choiceList.append(notice);\n      }\n    } else {\n      // Otherwise show a notice\n      var dropdownItem = void 0;\n      var notice = void 0;\n\n      if (this._isSearching) {\n        notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-results');\n      } else {\n        notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n      }\n\n      this.choiceList.append(dropdownItem);\n    }\n  };\n\n  Choices.prototype._renderItems = function () {\n    var activeItems = this._store.activeItems || [];\n    this.itemList.clear(); // Create a fragment to store our list items\n    // (so we don't have to update the DOM for each item)\n\n    var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n    if (itemListFragment.childNodes) {\n      this.itemList.append(itemListFragment);\n    }\n  };\n\n  Choices.prototype._createGroupsFragment = function (groups, choices, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    var getGroupChoices = function (group) {\n      return choices.filter(function (choice) {\n        if (_this._isSelectOneElement) {\n          return choice.groupId === group.id;\n        }\n\n        return choice.groupId === group.id && (_this.config.renderSelectedChoices === 'always' || !choice.selected);\n      });\n    }; // If sorting is enabled, filter groups\n\n\n    if (this.config.shouldSort) {\n      groups.sort(this.config.sorter);\n    }\n\n    groups.forEach(function (group) {\n      var groupChoices = getGroupChoices(group);\n\n      if (groupChoices.length >= 1) {\n        var dropdownGroup = _this._getTemplate('choiceGroup', group);\n\n        fragment.appendChild(dropdownGroup);\n\n        _this._createChoicesFragment(groupChoices, fragment, true);\n      }\n    });\n    return fragment;\n  };\n\n  Choices.prototype._createChoicesFragment = function (choices, fragment, withinGroup) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    if (withinGroup === void 0) {\n      withinGroup = false;\n    } // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n\n\n    var _a = this.config,\n        renderSelectedChoices = _a.renderSelectedChoices,\n        searchResultLimit = _a.searchResultLimit,\n        renderChoiceLimit = _a.renderChoiceLimit;\n    var filter = this._isSearching ? utils_1.sortByScore : this.config.sorter;\n\n    var appendChoice = function (choice) {\n      var shouldRender = renderSelectedChoices === 'auto' ? _this._isSelectOneElement || !choice.selected : true;\n\n      if (shouldRender) {\n        var dropdownItem = _this._getTemplate('choice', choice, _this.config.itemSelectText);\n\n        fragment.appendChild(dropdownItem);\n      }\n    };\n\n    var rendererableChoices = choices;\n\n    if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n      rendererableChoices = choices.filter(function (choice) {\n        return !choice.selected;\n      });\n    } // Split array into placeholders and \"normal\" choices\n\n\n    var _b = rendererableChoices.reduce(function (acc, choice) {\n      if (choice.placeholder) {\n        acc.placeholderChoices.push(choice);\n      } else {\n        acc.normalChoices.push(choice);\n      }\n\n      return acc;\n    }, {\n      placeholderChoices: [],\n      normalChoices: []\n    }),\n        placeholderChoices = _b.placeholderChoices,\n        normalChoices = _b.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort || this._isSearching) {\n      normalChoices.sort(filter);\n    }\n\n    var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n    var sortedChoices = this._isSelectOneElement ? __spreadArray(__spreadArray([], placeholderChoices, true), normalChoices, true) : normalChoices;\n\n    if (this._isSearching) {\n      choiceLimit = searchResultLimit;\n    } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {\n      choiceLimit = renderChoiceLimit;\n    } // Add each choice to dropdown within range\n\n\n    for (var i = 0; i < choiceLimit; i += 1) {\n      if (sortedChoices[i]) {\n        appendChoice(sortedChoices[i]);\n      }\n    }\n\n    return fragment;\n  };\n\n  Choices.prototype._createItemsFragment = function (items, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    } // Create fragment to add elements to\n\n\n    var _a = this.config,\n        shouldSortItems = _a.shouldSortItems,\n        sorter = _a.sorter,\n        removeItemButton = _a.removeItemButton; // If sorting is enabled, filter items\n\n    if (shouldSortItems && !this._isSelectOneElement) {\n      items.sort(sorter);\n    }\n\n    if (this._isTextElement) {\n      // Update the value of the hidden input\n      this.passedElement.value = items.map(function (_a) {\n        var value = _a.value;\n        return value;\n      }).join(this.config.delimiter);\n    } else {\n      // Update the options of the hidden input\n      this.passedElement.options = items;\n    }\n\n    var addItemToFragment = function (item) {\n      // Create new list element\n      var listItem = _this._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n      fragment.appendChild(listItem);\n    }; // Add each list item to list\n\n\n    items.forEach(addItemToFragment);\n    return fragment;\n  };\n\n  Choices.prototype._triggerChange = function (value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.change, {\n      value: value\n    });\n  };\n\n  Choices.prototype._selectPlaceholderChoice = function (placeholderChoice) {\n    this._addItem({\n      value: placeholderChoice.value,\n      label: placeholderChoice.label,\n      choiceId: placeholderChoice.id,\n      groupId: placeholderChoice.groupId,\n      placeholder: placeholderChoice.placeholder\n    });\n\n    this._triggerChange(placeholderChoice.value);\n  };\n\n  Choices.prototype._handleButtonAction = function (activeItems, element) {\n    if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n      return;\n    }\n\n    var itemId = element.parentNode && element.parentNode.dataset.id;\n    var itemToRemove = itemId && activeItems.find(function (item) {\n      return item.id === parseInt(itemId, 10);\n    });\n\n    if (!itemToRemove) {\n      return;\n    } // Remove item associated with button\n\n\n    this._removeItem(itemToRemove);\n\n    this._triggerChange(itemToRemove.value);\n\n    if (this._isSelectOneElement && this._store.placeholderChoice) {\n      this._selectPlaceholderChoice(this._store.placeholderChoice);\n    }\n  };\n\n  Choices.prototype._handleItemAction = function (activeItems, element, hasShiftKey) {\n    var _this = this;\n\n    if (hasShiftKey === void 0) {\n      hasShiftKey = false;\n    }\n\n    if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n      return;\n    }\n\n    var passedId = element.dataset.id; // We only want to select one item with a click\n    // so we deselect any items that aren't the target\n    // unless shift is being pressed\n\n    activeItems.forEach(function (item) {\n      if (item.id === parseInt(\"\".concat(passedId), 10) && !item.highlighted) {\n        _this.highlightItem(item);\n      } else if (!hasShiftKey && item.highlighted) {\n        _this.unhighlightItem(item);\n      }\n    }); // Focus input as without focus, a user cannot do anything with a\n    // highlighted item\n\n    this.input.focus();\n  };\n\n  Choices.prototype._handleChoiceAction = function (activeItems, element) {\n    if (!activeItems || !element) {\n      return;\n    } // If we are clicking on an option\n\n\n    var id = element.dataset.id;\n\n    var choice = id && this._store.getChoiceById(id);\n\n    if (!choice) {\n      return;\n    }\n\n    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : undefined;\n    var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n    choice.keyCode = passedKeyCode;\n    this.passedElement.triggerEvent(constants_1.EVENTS.choice, {\n      choice: choice\n    });\n\n    if (!choice.selected && !choice.disabled) {\n      var canAddItem = this._canAddItem(activeItems, choice.value);\n\n      if (canAddItem.response) {\n        this._addItem({\n          value: choice.value,\n          label: choice.label,\n          choiceId: choice.id,\n          groupId: choice.groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder,\n          keyCode: choice.keyCode\n        });\n\n        this._triggerChange(choice.value);\n      }\n    }\n\n    this.clearInput(); // We want to close the dropdown if we are dealing with a single select box\n\n    if (hasActiveDropdown && this._isSelectOneElement) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._handleBackspace = function (activeItems) {\n    if (!this.config.removeItems || !activeItems) {\n      return;\n    }\n\n    var lastItem = activeItems[activeItems.length - 1];\n    var hasHighlightedItems = activeItems.some(function (item) {\n      return item.highlighted;\n    }); // If editing the last item is allowed and there are not other selected items,\n    // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n    if (this.config.editItems && !hasHighlightedItems && lastItem) {\n      this.input.value = lastItem.value;\n      this.input.setWidth();\n\n      this._removeItem(lastItem);\n\n      this._triggerChange(lastItem.value);\n    } else {\n      if (!hasHighlightedItems) {\n        // Highlight last item if none already highlighted\n        this.highlightItem(lastItem, false);\n      }\n\n      this.removeHighlightedItems(true);\n    }\n  };\n\n  Choices.prototype._startLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(true));\n  };\n\n  Choices.prototype._stopLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(false));\n  };\n\n  Choices.prototype._handleLoadingState = function (setLoading) {\n    if (setLoading === void 0) {\n      setLoading = true;\n    }\n\n    var placeholderItem = this.itemList.getChild(\".\".concat(this.config.classNames.placeholder));\n\n    if (setLoading) {\n      this.disable();\n      this.containerOuter.addLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (!placeholderItem) {\n          placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n\n          if (placeholderItem) {\n            this.itemList.append(placeholderItem);\n          }\n        } else {\n          placeholderItem.innerHTML = this.config.loadingText;\n        }\n      } else {\n        this.input.placeholder = this.config.loadingText;\n      }\n    } else {\n      this.enable();\n      this.containerOuter.removeLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (placeholderItem) {\n          placeholderItem.innerHTML = this._placeholderValue || '';\n        }\n      } else {\n        this.input.placeholder = this._placeholderValue || '';\n      }\n    }\n  };\n\n  Choices.prototype._handleSearch = function (value) {\n    if (!this.input.isFocussed) {\n      return;\n    }\n\n    var choices = this._store.choices;\n    var _a = this.config,\n        searchFloor = _a.searchFloor,\n        searchChoices = _a.searchChoices;\n    var hasUnactiveChoices = choices.some(function (option) {\n      return !option.active;\n    }); // Check that we have a value to search and the input was an alphanumeric character\n\n    if (value !== null && typeof value !== 'undefined' && value.length >= searchFloor) {\n      var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n      this.passedElement.triggerEvent(constants_1.EVENTS.search, {\n        value: value,\n        resultCount: resultCount\n      });\n    } else if (hasUnactiveChoices) {\n      // Otherwise reset choices to active\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n  };\n\n  Choices.prototype._canAddItem = function (activeItems, value) {\n    var canAddItem = true;\n    var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;\n\n    if (!this._isSelectOneElement) {\n      var isDuplicateValue = (0, utils_1.existsInArray)(activeItems, value);\n\n      if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n        // If there is a max entry limit and we have reached that limit\n        // don't update\n        canAddItem = false;\n        notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n      }\n\n      if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n        canAddItem = false;\n        notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n      }\n\n      if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {\n        canAddItem = false;\n        notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;\n      }\n    }\n\n    return {\n      response: canAddItem,\n      notice: notice\n    };\n  };\n\n  Choices.prototype._searchChoices = function (value) {\n    var newValue = typeof value === 'string' ? value.trim() : value;\n    var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;\n\n    if (newValue.length < 1 && newValue === \"\".concat(currentValue, \" \")) {\n      return 0;\n    } // If new value matches the desired length and is not the same as the current value with a space\n\n\n    var haystack = this._store.searchableChoices;\n    var needle = newValue;\n    var options = Object.assign(this.config.fuseOptions, {\n      keys: __spreadArray([], this.config.searchFields, true),\n      includeMatches: true\n    });\n    var fuse = new fuse_js_1.default(haystack, options);\n    var results = fuse.search(needle); // see https://github.com/krisk/Fuse/issues/303\n\n    this._currentValue = newValue;\n    this._highlightPosition = 0;\n    this._isSearching = true;\n\n    this._store.dispatch((0, choices_1.filterChoices)(results));\n\n    return results.length;\n  };\n\n  Choices.prototype._addEventListeners = function () {\n    var documentElement = document.documentElement; // capture events - can cancel event processing or propagation\n\n    documentElement.addEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true); // passive events - doesn't call `preventDefault` or `stopPropagation`\n\n    documentElement.addEventListener('click', this._onClick, {\n      passive: true\n    });\n    documentElement.addEventListener('touchmove', this._onTouchMove, {\n      passive: true\n    });\n    this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n      passive: true\n    });\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.addEventListener('focus', this._onFocus, {\n        passive: true\n      });\n      this.containerOuter.element.addEventListener('blur', this._onBlur, {\n        passive: true\n      });\n    }\n\n    this.input.element.addEventListener('keyup', this._onKeyUp, {\n      passive: true\n    });\n    this.input.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.input.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n\n    if (this.input.element.form) {\n      this.input.element.form.addEventListener('reset', this._onFormReset, {\n        passive: true\n      });\n    }\n\n    this.input.addEventListeners();\n  };\n\n  Choices.prototype._removeEventListeners = function () {\n    var documentElement = document.documentElement;\n    documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);\n    documentElement.removeEventListener('click', this._onClick);\n    documentElement.removeEventListener('touchmove', this._onTouchMove);\n    this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.removeEventListener('focus', this._onFocus);\n      this.containerOuter.element.removeEventListener('blur', this._onBlur);\n    }\n\n    this.input.element.removeEventListener('keyup', this._onKeyUp);\n    this.input.element.removeEventListener('focus', this._onFocus);\n    this.input.element.removeEventListener('blur', this._onBlur);\n\n    if (this.input.element.form) {\n      this.input.element.form.removeEventListener('reset', this._onFormReset);\n    }\n\n    this.input.removeEventListeners();\n  };\n\n  Choices.prototype._onKeyDown = function (event) {\n    var keyCode = event.keyCode;\n    var activeItems = this._store.activeItems;\n    var hasFocusedInput = this.input.isFocussed;\n    var hasActiveDropdown = this.dropdown.isActive;\n    var hasItems = this.itemList.hasChildren();\n    var keyString = String.fromCharCode(keyCode);\n    var wasAlphaNumericChar = /[a-zA-Z0-9-_ ]/.test(keyString);\n    var BACK_KEY = constants_1.KEY_CODES.BACK_KEY,\n        DELETE_KEY = constants_1.KEY_CODES.DELETE_KEY,\n        ENTER_KEY = constants_1.KEY_CODES.ENTER_KEY,\n        A_KEY = constants_1.KEY_CODES.A_KEY,\n        ESC_KEY = constants_1.KEY_CODES.ESC_KEY,\n        UP_KEY = constants_1.KEY_CODES.UP_KEY,\n        DOWN_KEY = constants_1.KEY_CODES.DOWN_KEY,\n        PAGE_UP_KEY = constants_1.KEY_CODES.PAGE_UP_KEY,\n        PAGE_DOWN_KEY = constants_1.KEY_CODES.PAGE_DOWN_KEY;\n\n    if (!this._isTextElement && !hasActiveDropdown && wasAlphaNumericChar) {\n      this.showDropdown();\n\n      if (!this.input.isFocussed) {\n        /*\n          We update the input value with the pressed key as\n          the input was not focussed at the time of key press\n          therefore does not have the value of the key.\n        */\n        this.input.value += keyString.toLowerCase();\n      }\n    }\n\n    switch (keyCode) {\n      case A_KEY:\n        return this._onSelectKey(event, hasItems);\n\n      case ENTER_KEY:\n        return this._onEnterKey(event, activeItems, hasActiveDropdown);\n\n      case ESC_KEY:\n        return this._onEscapeKey(hasActiveDropdown);\n\n      case UP_KEY:\n      case PAGE_UP_KEY:\n      case DOWN_KEY:\n      case PAGE_DOWN_KEY:\n        return this._onDirectionKey(event, hasActiveDropdown);\n\n      case DELETE_KEY:\n      case BACK_KEY:\n        return this._onDeleteKey(event, activeItems, hasFocusedInput);\n\n      default:\n    }\n  };\n\n  Choices.prototype._onKeyUp = function (_a) {\n    var target = _a.target,\n        keyCode = _a.keyCode;\n    var value = this.input.value;\n    var activeItems = this._store.activeItems;\n\n    var canAddItem = this._canAddItem(activeItems, value);\n\n    var backKey = constants_1.KEY_CODES.BACK_KEY,\n        deleteKey = constants_1.KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n    // notice. Otherwise hide the dropdown\n\n    if (this._isTextElement) {\n      var canShowDropdownNotice = canAddItem.notice && value;\n\n      if (canShowDropdownNotice) {\n        var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n        this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n        this.showDropdown(true);\n      } else {\n        this.hideDropdown(true);\n      }\n    } else {\n      var wasRemovalKeyCode = keyCode === backKey || keyCode === deleteKey;\n      var userHasRemovedValue = wasRemovalKeyCode && target && !target.value;\n      var canReactivateChoices = !this._isTextElement && this._isSearching;\n      var canSearch = this._canSearch && canAddItem.response;\n\n      if (userHasRemovedValue && canReactivateChoices) {\n        this._isSearching = false;\n\n        this._store.dispatch((0, choices_1.activateChoices)(true));\n      } else if (canSearch) {\n        this._handleSearch(this.input.rawValue);\n      }\n    }\n\n    this._canSearch = this.config.searchEnabled;\n  };\n\n  Choices.prototype._onSelectKey = function (event, hasItems) {\n    var ctrlKey = event.ctrlKey,\n        metaKey = event.metaKey;\n    var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If CTRL + A or CMD + A have been pressed and there are items to select\n\n    if (hasCtrlDownKeyPressed && hasItems) {\n      this._canSearch = false;\n      var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n      if (shouldHightlightAll) {\n        this.highlightAll();\n      }\n    }\n  };\n\n  Choices.prototype._onEnterKey = function (event, activeItems, hasActiveDropdown) {\n    var target = event.target;\n    var enterKey = constants_1.KEY_CODES.ENTER_KEY;\n    var targetWasButton = target && target.hasAttribute('data-button');\n\n    if (this._isTextElement && target && target.value) {\n      var value = this.input.value;\n\n      var canAddItem = this._canAddItem(activeItems, value);\n\n      if (canAddItem.response) {\n        this.hideDropdown(true);\n\n        this._addItem({\n          value: value\n        });\n\n        this._triggerChange(value);\n\n        this.clearInput();\n      }\n    }\n\n    if (targetWasButton) {\n      this._handleButtonAction(activeItems, target);\n\n      event.preventDefault();\n    }\n\n    if (hasActiveDropdown) {\n      var highlightedChoice = this.dropdown.getChild(\".\".concat(this.config.classNames.highlightedState));\n\n      if (highlightedChoice) {\n        // add enter keyCode value\n        if (activeItems[0]) {\n          activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n        }\n\n        this._handleChoiceAction(activeItems, highlightedChoice);\n      }\n\n      event.preventDefault();\n    } else if (this._isSelectOneElement) {\n      this.showDropdown();\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onEscapeKey = function (hasActiveDropdown) {\n    if (hasActiveDropdown) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n    var keyCode = event.keyCode,\n        metaKey = event.metaKey;\n    var downKey = constants_1.KEY_CODES.DOWN_KEY,\n        pageUpKey = constants_1.KEY_CODES.PAGE_UP_KEY,\n        pageDownKey = constants_1.KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n    if (hasActiveDropdown || this._isSelectOneElement) {\n      this.showDropdown();\n      this._canSearch = false;\n      var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n      var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n      var selectableChoiceIdentifier = '[data-choice-selectable]';\n      var nextEl = void 0;\n\n      if (skipKey) {\n        if (directionInt > 0) {\n          nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      } else {\n        var currentEl = this.dropdown.element.querySelector(\".\".concat(this.config.classNames.highlightedState));\n\n        if (currentEl) {\n          nextEl = (0, utils_1.getAdjacentEl)(currentEl, selectableChoiceIdentifier, directionInt);\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      }\n\n      if (nextEl) {\n        // We prevent default to stop the cursor moving\n        // when pressing the arrow\n        if (!(0, utils_1.isScrolledIntoView)(nextEl, this.choiceList.element, directionInt)) {\n          this.choiceList.scrollToChildElement(nextEl, directionInt);\n        }\n\n        this._highlightChoice(nextEl);\n      } // Prevent default to maintain cursor position whilst\n      // traversing dropdown options\n\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onDeleteKey = function (event, activeItems, hasFocusedInput) {\n    var target = event.target; // If backspace or delete key is pressed and the input has no value\n\n    if (!this._isSelectOneElement && !target.value && hasFocusedInput) {\n      this._handleBackspace(activeItems);\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onTouchMove = function () {\n    if (this._wasTap) {\n      this._wasTap = false;\n    }\n  };\n\n  Choices.prototype._onTouchEnd = function (event) {\n    var target = (event || event.touches[0]).target;\n    var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n    if (touchWasWithinContainer) {\n      var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n      if (containerWasExactTarget) {\n        if (this._isTextElement) {\n          this.input.focus();\n        } else if (this._isSelectMultipleElement) {\n          this.showDropdown();\n        }\n      } // Prevents focus event firing\n\n\n      event.stopPropagation();\n    }\n\n    this._wasTap = true;\n  };\n  /**\n   * Handles mousedown event in capture mode for containetOuter.element\n   */\n\n\n  Choices.prototype._onMouseDown = function (event) {\n    var target = event.target;\n\n    if (!(target instanceof HTMLElement)) {\n      return;\n    } // If we have our mouse down on the scrollbar and are on IE11...\n\n\n    if (IS_IE11 && this.choiceList.element.contains(target)) {\n      // check if click was on a scrollbar area\n      var firstChoice = this.choiceList.element.firstElementChild;\n      var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n      this._isScrollingOnIe = isOnScrollbar;\n    }\n\n    if (target === this.input.element) {\n      return;\n    }\n\n    var item = target.closest('[data-button],[data-item],[data-choice]');\n\n    if (item instanceof HTMLElement) {\n      var hasShiftKey = event.shiftKey;\n      var activeItems = this._store.activeItems;\n      var dataset = item.dataset;\n\n      if ('button' in dataset) {\n        this._handleButtonAction(activeItems, item);\n      } else if ('item' in dataset) {\n        this._handleItemAction(activeItems, item, hasShiftKey);\n      } else if ('choice' in dataset) {\n        this._handleChoiceAction(activeItems, item);\n      }\n    }\n\n    event.preventDefault();\n  };\n  /**\n   * Handles mouseover event over this.dropdown\n   * @param {MouseEvent} event\n   */\n\n\n  Choices.prototype._onMouseOver = function (_a) {\n    var target = _a.target;\n\n    if (target instanceof HTMLElement && 'choice' in target.dataset) {\n      this._highlightChoice(target);\n    }\n  };\n\n  Choices.prototype._onClick = function (_a) {\n    var target = _a.target;\n    var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (clickWasWithinContainer) {\n      if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n        if (this._isTextElement) {\n          if (document.activeElement !== this.input.element) {\n            this.input.focus();\n          }\n        } else {\n          this.showDropdown();\n          this.containerOuter.focus();\n        }\n      } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n        this.hideDropdown();\n      }\n    } else {\n      var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;\n\n      if (hasHighlightedItems) {\n        this.unhighlightAll();\n      }\n\n      this.containerOuter.removeFocusState();\n      this.hideDropdown(true);\n    }\n  };\n\n  Choices.prototype._onFocus = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var focusWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (!focusWasWithinContainer) {\n      return;\n    }\n\n    var focusActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.containerOuter.addFocusState();\n      }\n    }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n      _this.containerOuter.addFocusState();\n\n      if (target === _this.input.element) {\n        _this.showDropdown(true);\n      }\n    }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n        // isn't already open, focus and show dropdown\n\n\n        _this.containerOuter.addFocusState();\n      }\n    }, _b);\n    focusActions[this.passedElement.element.type]();\n  };\n\n  Choices.prototype._onBlur = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var blurWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (blurWasWithinContainer && !this._isScrollingOnIe) {\n      var activeItems = this._store.activeItems;\n      var hasHighlightedItems_1 = activeItems.some(function (item) {\n        return item.highlighted;\n      });\n      var blurActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n        _this.containerOuter.removeFocusState();\n\n        if (target === _this.input.element || target === _this.containerOuter.element && !_this._canSearch) {\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          _this.hideDropdown(true);\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n        }\n      }, _b);\n      blurActions[this.passedElement.element.type]();\n    } else {\n      // On IE11, clicking the scollbar blurs our input and thus\n      // closes the dropdown. To stop this, we refocus our input\n      // if we know we are on IE *and* are scrolling.\n      this._isScrollingOnIe = false;\n      this.input.element.focus();\n    }\n  };\n\n  Choices.prototype._onFormReset = function () {\n    this._store.dispatch((0, misc_1.resetTo)(this._initialState));\n  };\n\n  Choices.prototype._highlightChoice = function (el) {\n    var _this = this;\n\n    if (el === void 0) {\n      el = null;\n    }\n\n    var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n    if (!choices.length) {\n      return;\n    }\n\n    var passedEl = el;\n    var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\".concat(this.config.classNames.highlightedState))); // Remove any highlighted choices\n\n    highlightedChoices.forEach(function (choice) {\n      choice.classList.remove(_this.config.classNames.highlightedState);\n      choice.setAttribute('aria-selected', 'false');\n    });\n\n    if (passedEl) {\n      this._highlightPosition = choices.indexOf(passedEl);\n    } else {\n      // Highlight choice based on last known highlight location\n      if (choices.length > this._highlightPosition) {\n        // If we have an option to highlight\n        passedEl = choices[this._highlightPosition];\n      } else {\n        // Otherwise highlight the option before\n        passedEl = choices[choices.length - 1];\n      }\n\n      if (!passedEl) {\n        passedEl = choices[0];\n      }\n    }\n\n    passedEl.classList.add(this.config.classNames.highlightedState);\n    passedEl.setAttribute('aria-selected', 'true');\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightChoice, {\n      el: passedEl\n    });\n\n    if (this.dropdown.isActive) {\n      // IE11 ignores aria-label and blocks virtual keyboard\n      // if aria-activedescendant is set without a dropdown\n      this.input.setActiveDescendant(passedEl.id);\n      this.containerOuter.setActiveDescendant(passedEl.id);\n    }\n  };\n\n  Choices.prototype._addItem = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.choiceId,\n        choiceId = _c === void 0 ? -1 : _c,\n        _d = _a.groupId,\n        groupId = _d === void 0 ? -1 : _d,\n        _e = _a.customProperties,\n        customProperties = _e === void 0 ? {} : _e,\n        _f = _a.placeholder,\n        placeholder = _f === void 0 ? false : _f,\n        _g = _a.keyCode,\n        keyCode = _g === void 0 ? -1 : _g;\n    var passedValue = typeof value === 'string' ? value.trim() : value;\n    var items = this._store.items;\n    var passedLabel = label || passedValue;\n    var passedOptionId = choiceId || -1;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n    var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n    if (this.config.prependValue) {\n      passedValue = this.config.prependValue + passedValue.toString();\n    } // If an appended value has been passed, append it\n\n\n    if (this.config.appendValue) {\n      passedValue += this.config.appendValue.toString();\n    }\n\n    this._store.dispatch((0, items_1.addItem)({\n      value: passedValue,\n      label: passedLabel,\n      id: id,\n      choiceId: passedOptionId,\n      groupId: groupId,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (this._isSelectOneElement) {\n      this.removeActiveItems(id);\n    } // Trigger change event\n\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.addItem, {\n      id: id,\n      value: passedValue,\n      label: passedLabel,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null,\n      keyCode: keyCode\n    });\n  };\n\n  Choices.prototype._removeItem = function (item) {\n    var id = item.id,\n        value = item.value,\n        label = item.label,\n        customProperties = item.customProperties,\n        choiceId = item.choiceId,\n        groupId = item.groupId;\n    var group = groupId && groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    if (!id || !choiceId) {\n      return;\n    }\n\n    this._store.dispatch((0, items_1.removeItem)(id, choiceId));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.removeItem, {\n      id: id,\n      value: value,\n      label: label,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null\n    });\n  };\n\n  Choices.prototype._addChoice = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.isSelected,\n        isSelected = _c === void 0 ? false : _c,\n        _d = _a.isDisabled,\n        isDisabled = _d === void 0 ? false : _d,\n        _e = _a.groupId,\n        groupId = _e === void 0 ? -1 : _e,\n        _f = _a.customProperties,\n        customProperties = _f === void 0 ? {} : _f,\n        _g = _a.placeholder,\n        placeholder = _g === void 0 ? false : _g,\n        _h = _a.keyCode,\n        keyCode = _h === void 0 ? -1 : _h;\n\n    if (typeof value === 'undefined' || value === null) {\n      return;\n    } // Generate unique id\n\n\n    var choices = this._store.choices;\n    var choiceLabel = label || value;\n    var choiceId = choices ? choices.length + 1 : 1;\n    var choiceElementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choiceId);\n\n    this._store.dispatch((0, choices_1.addChoice)({\n      id: choiceId,\n      groupId: groupId,\n      elementId: choiceElementId,\n      value: value,\n      label: choiceLabel,\n      disabled: isDisabled,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (isSelected) {\n      this._addItem({\n        value: value,\n        label: choiceLabel,\n        choiceId: choiceId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: keyCode\n      });\n    }\n  };\n\n  Choices.prototype._addGroup = function (_a) {\n    var _this = this;\n\n    var group = _a.group,\n        id = _a.id,\n        _b = _a.valueKey,\n        valueKey = _b === void 0 ? 'value' : _b,\n        _c = _a.labelKey,\n        labelKey = _c === void 0 ? 'label' : _c;\n    var groupChoices = (0, utils_1.isType)('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n    var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n    var isDisabled = group.disabled ? group.disabled : false;\n\n    if (groupChoices) {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: groupId,\n        active: true,\n        disabled: isDisabled\n      }));\n\n      var addGroupChoices = function (choice) {\n        var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n        _this._addChoice({\n          value: choice[valueKey],\n          label: (0, utils_1.isType)('Object', choice) ? choice[labelKey] : choice.innerHTML,\n          isSelected: choice.selected,\n          isDisabled: isOptDisabled,\n          groupId: groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder\n        });\n      };\n\n      groupChoices.forEach(addGroupChoices);\n    } else {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: group.id,\n        active: false,\n        disabled: group.disabled\n      }));\n    }\n  };\n\n  Choices.prototype._getTemplate = function (template) {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    return (_a = this._templates[template]).call.apply(_a, __spreadArray([this, this.config], args, false));\n  };\n\n  Choices.prototype._createTemplates = function () {\n    var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n    var userTemplates = {};\n\n    if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {\n      userTemplates = callbackOnCreateTemplates.call(this, utils_1.strToEl);\n    }\n\n    this._templates = (0, deepmerge_1.default)(templates_1.default, userTemplates);\n  };\n\n  Choices.prototype._createElements = function () {\n    this.containerOuter = new components_1.Container({\n      element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type, this.config.labelId),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.containerInner = new components_1.Container({\n      element: this._getTemplate('containerInner'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.input = new components_1.Input({\n      element: this._getTemplate('input', this._placeholderValue),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      preventPaste: !this.config.paste\n    });\n    this.choiceList = new components_1.List({\n      element: this._getTemplate('choiceList', this._isSelectOneElement)\n    });\n    this.itemList = new components_1.List({\n      element: this._getTemplate('itemList', this._isSelectOneElement)\n    });\n    this.dropdown = new components_1.Dropdown({\n      element: this._getTemplate('dropdown'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type\n    });\n  };\n\n  Choices.prototype._createStructure = function () {\n    // Hide original element\n    this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n    this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n    this.containerOuter.wrap(this.containerInner.element);\n\n    if (this._isSelectOneElement) {\n      this.input.placeholder = this.config.searchPlaceholderValue || '';\n    } else if (this._placeholderValue) {\n      this.input.placeholder = this._placeholderValue;\n      this.input.setWidth();\n    }\n\n    this.containerOuter.element.appendChild(this.containerInner.element);\n    this.containerOuter.element.appendChild(this.dropdown.element);\n    this.containerInner.element.appendChild(this.itemList.element);\n\n    if (!this._isTextElement) {\n      this.dropdown.element.appendChild(this.choiceList.element);\n    }\n\n    if (!this._isSelectOneElement) {\n      this.containerInner.element.appendChild(this.input.element);\n    } else if (this.config.searchEnabled) {\n      this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n    }\n\n    if (this._isSelectElement) {\n      this._highlightPosition = 0;\n      this._isSearching = false;\n\n      this._startLoading();\n\n      if (this._presetGroups.length) {\n        this._addPredefinedGroups(this._presetGroups);\n      } else {\n        this._addPredefinedChoices(this._presetChoices);\n      }\n\n      this._stopLoading();\n    }\n\n    if (this._isTextElement) {\n      this._addPredefinedItems(this._presetItems);\n    }\n  };\n\n  Choices.prototype._addPredefinedGroups = function (groups) {\n    var _this = this; // If we have a placeholder option\n\n\n    var placeholderChoice = this.passedElement.placeholderOption;\n\n    if (placeholderChoice && placeholderChoice.parentNode && placeholderChoice.parentNode.tagName === 'SELECT') {\n      this._addChoice({\n        value: placeholderChoice.value,\n        label: placeholderChoice.innerHTML,\n        isSelected: placeholderChoice.selected,\n        isDisabled: placeholderChoice.disabled,\n        placeholder: true\n      });\n    }\n\n    groups.forEach(function (group) {\n      return _this._addGroup({\n        group: group,\n        id: group.id || null\n      });\n    });\n  };\n\n  Choices.prototype._addPredefinedChoices = function (choices) {\n    var _this = this; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort) {\n      choices.sort(this.config.sorter);\n    }\n\n    var hasSelectedChoice = choices.some(function (choice) {\n      return choice.selected;\n    });\n    var firstEnabledChoiceIndex = choices.findIndex(function (choice) {\n      return choice.disabled === undefined || !choice.disabled;\n    });\n    choices.forEach(function (choice, index) {\n      var _a = choice.value,\n          value = _a === void 0 ? '' : _a,\n          label = choice.label,\n          customProperties = choice.customProperties,\n          placeholder = choice.placeholder;\n\n      if (_this._isSelectElement) {\n        // If the choice is actually a group\n        if (choice.choices) {\n          _this._addGroup({\n            group: choice,\n            id: choice.id || null\n          });\n        } else {\n          /**\n           * If there is a selected choice already or the choice is not the first in\n           * the array, add each choice normally.\n           *\n           * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n           */\n          var shouldPreselect = _this._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;\n          var isSelected = shouldPreselect ? true : choice.selected;\n          var isDisabled = choice.disabled;\n\n          _this._addChoice({\n            value: value,\n            label: label,\n            isSelected: !!isSelected,\n            isDisabled: !!isDisabled,\n            placeholder: !!placeholder,\n            customProperties: customProperties\n          });\n        }\n      } else {\n        _this._addChoice({\n          value: value,\n          label: label,\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: customProperties\n        });\n      }\n    });\n  };\n\n  Choices.prototype._addPredefinedItems = function (items) {\n    var _this = this;\n\n    items.forEach(function (item) {\n      if (typeof item === 'object' && item.value) {\n        _this._addItem({\n          value: item.value,\n          label: item.label,\n          choiceId: item.id,\n          customProperties: item.customProperties,\n          placeholder: item.placeholder\n        });\n      }\n\n      if (typeof item === 'string') {\n        _this._addItem({\n          value: item\n        });\n      }\n    });\n  };\n\n  Choices.prototype._setChoiceOrItem = function (item) {\n    var _this = this;\n\n    var itemType = (0, utils_1.getType)(item).toLowerCase();\n    var handleType = {\n      object: function () {\n        if (!item.value) {\n          return;\n        } // If we are dealing with a select input, we need to create an option first\n        // that is then selected. For text inputs we can just add items normally.\n\n\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item.value,\n            label: item.label,\n            isSelected: true,\n            isDisabled: false,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        } else {\n          _this._addItem({\n            value: item.value,\n            label: item.label,\n            choiceId: item.id,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        }\n      },\n      string: function () {\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item,\n            label: item,\n            isSelected: true,\n            isDisabled: false\n          });\n        } else {\n          _this._addItem({\n            value: item\n          });\n        }\n      }\n    };\n    handleType[itemType]();\n  };\n\n  Choices.prototype._findAndSelectChoiceByValue = function (value) {\n    var _this = this;\n\n    var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n    var foundChoice = choices.find(function (choice) {\n      return _this.config.valueComparer(choice.value, value);\n    });\n\n    if (foundChoice && !foundChoice.selected) {\n      this._addItem({\n        value: foundChoice.value,\n        label: foundChoice.label,\n        choiceId: foundChoice.id,\n        groupId: foundChoice.groupId,\n        customProperties: foundChoice.customProperties,\n        placeholder: foundChoice.placeholder,\n        keyCode: foundChoice.keyCode\n      });\n    }\n  };\n\n  Choices.prototype._generatePlaceholderValue = function () {\n    if (this._isSelectElement && this.passedElement.placeholderOption) {\n      var placeholderOption = this.passedElement.placeholderOption;\n      return placeholderOption ? placeholderOption.text : null;\n    }\n\n    var _a = this.config,\n        placeholder = _a.placeholder,\n        placeholderValue = _a.placeholderValue;\n    var dataset = this.passedElement.element.dataset;\n\n    if (placeholder) {\n      if (placeholderValue) {\n        return placeholderValue;\n      }\n\n      if (dataset.placeholder) {\n        return dataset.placeholder;\n      }\n    }\n\n    return null;\n  };\n\n  return Choices;\n}();\n\nexports[\"default\"] = Choices;\n\n/***/ }),\n\n/***/ 613:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Container =\n/** @class */\nfunction () {\n  function Container(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        position = _a.position;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.position = position;\n    this.isOpen = false;\n    this.isFlipped = false;\n    this.isFocussed = false;\n    this.isDisabled = false;\n    this.isLoading = false;\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Container.prototype.addEventListeners = function () {\n    this.element.addEventListener('focus', this._onFocus);\n    this.element.addEventListener('blur', this._onBlur);\n  };\n\n  Container.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n  /**\n   * Determine whether container should be flipped based on passed\n   * dropdown position\n   */\n\n\n  Container.prototype.shouldFlip = function (dropdownPos) {\n    if (typeof dropdownPos !== 'number') {\n      return false;\n    } // If flip is enabled and the dropdown bottom position is\n    // greater than the window height flip the dropdown.\n\n\n    var shouldFlip = false;\n\n    if (this.position === 'auto') {\n      shouldFlip = !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n    } else if (this.position === 'top') {\n      shouldFlip = true;\n    }\n\n    return shouldFlip;\n  };\n\n  Container.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Container.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Container.prototype.open = function (dropdownPos) {\n    this.element.classList.add(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isOpen = true;\n\n    if (this.shouldFlip(dropdownPos)) {\n      this.element.classList.add(this.classNames.flippedState);\n      this.isFlipped = true;\n    }\n  };\n\n  Container.prototype.close = function () {\n    this.element.classList.remove(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.removeActiveDescendant();\n    this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n    if (this.isFlipped) {\n      this.element.classList.remove(this.classNames.flippedState);\n      this.isFlipped = false;\n    }\n  };\n\n  Container.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Container.prototype.addFocusState = function () {\n    this.element.classList.add(this.classNames.focusState);\n  };\n\n  Container.prototype.removeFocusState = function () {\n    this.element.classList.remove(this.classNames.focusState);\n  };\n\n  Container.prototype.enable = function () {\n    this.element.classList.remove(this.classNames.disabledState);\n    this.element.removeAttribute('aria-disabled');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '0');\n    }\n\n    this.isDisabled = false;\n  };\n\n  Container.prototype.disable = function () {\n    this.element.classList.add(this.classNames.disabledState);\n    this.element.setAttribute('aria-disabled', 'true');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '-1');\n    }\n\n    this.isDisabled = true;\n  };\n\n  Container.prototype.wrap = function (element) {\n    (0, utils_1.wrap)(element, this.element);\n  };\n\n  Container.prototype.unwrap = function (element) {\n    if (this.element.parentNode) {\n      // Move passed element outside this element\n      this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n      this.element.parentNode.removeChild(this.element);\n    }\n  };\n\n  Container.prototype.addLoadingState = function () {\n    this.element.classList.add(this.classNames.loadingState);\n    this.element.setAttribute('aria-busy', 'true');\n    this.isLoading = true;\n  };\n\n  Container.prototype.removeLoadingState = function () {\n    this.element.classList.remove(this.classNames.loadingState);\n    this.element.removeAttribute('aria-busy');\n    this.isLoading = false;\n  };\n\n  Container.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Container.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Container;\n}();\n\nexports[\"default\"] = Container;\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar Dropdown =\n/** @class */\nfunction () {\n  function Dropdown(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.isActive = false;\n  }\n\n  Object.defineProperty(Dropdown.prototype, \"distanceFromTopWindow\", {\n    /**\n     * Bottom position of dropdown in viewport coordinates\n     */\n    get: function () {\n      return this.element.getBoundingClientRect().bottom;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Dropdown.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n  /**\n   * Show dropdown to user by adding active state class\n   */\n\n\n  Dropdown.prototype.show = function () {\n    this.element.classList.add(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isActive = true;\n    return this;\n  };\n  /**\n   * Hide dropdown from user\n   */\n\n\n  Dropdown.prototype.hide = function () {\n    this.element.classList.remove(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.isActive = false;\n    return this;\n  };\n\n  return Dropdown;\n}();\n\nexports[\"default\"] = Dropdown;\n\n/***/ }),\n\n/***/ 520:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.WrappedSelect = exports.WrappedInput = exports.List = exports.Input = exports.Container = exports.Dropdown = void 0;\n\nvar dropdown_1 = __importDefault(__webpack_require__(217));\n\nexports.Dropdown = dropdown_1.default;\n\nvar container_1 = __importDefault(__webpack_require__(613));\n\nexports.Container = container_1.default;\n\nvar input_1 = __importDefault(__webpack_require__(11));\n\nexports.Input = input_1.default;\n\nvar list_1 = __importDefault(__webpack_require__(624));\n\nexports.List = list_1.default;\n\nvar wrapped_input_1 = __importDefault(__webpack_require__(541));\n\nexports.WrappedInput = wrapped_input_1.default;\n\nvar wrapped_select_1 = __importDefault(__webpack_require__(982));\n\nexports.WrappedSelect = wrapped_select_1.default;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Input =\n/** @class */\nfunction () {\n  function Input(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        preventPaste = _a.preventPaste;\n    this.element = element;\n    this.type = type;\n    this.classNames = classNames;\n    this.preventPaste = preventPaste;\n    this.isFocussed = this.element.isEqualNode(document.activeElement);\n    this.isDisabled = element.disabled;\n    this._onPaste = this._onPaste.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Object.defineProperty(Input.prototype, \"placeholder\", {\n    set: function (placeholder) {\n      this.element.placeholder = placeholder;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"value\", {\n    get: function () {\n      return (0, utils_1.sanitise)(this.element.value);\n    },\n    set: function (value) {\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"rawValue\", {\n    get: function () {\n      return this.element.value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Input.prototype.addEventListeners = function () {\n    this.element.addEventListener('paste', this._onPaste);\n    this.element.addEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  Input.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('input', this._onInput);\n    this.element.removeEventListener('paste', this._onPaste);\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n\n  Input.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.isDisabled = false;\n  };\n\n  Input.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.isDisabled = true;\n  };\n\n  Input.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Input.prototype.blur = function () {\n    if (this.isFocussed) {\n      this.element.blur();\n    }\n  };\n\n  Input.prototype.clear = function (setWidth) {\n    if (setWidth === void 0) {\n      setWidth = true;\n    }\n\n    if (this.element.value) {\n      this.element.value = '';\n    }\n\n    if (setWidth) {\n      this.setWidth();\n    }\n\n    return this;\n  };\n  /**\n   * Set the correct input width based on placeholder\n   * value or input value\n   */\n\n\n  Input.prototype.setWidth = function () {\n    // Resize input to contents or placeholder\n    var _a = this.element,\n        style = _a.style,\n        value = _a.value,\n        placeholder = _a.placeholder;\n    style.minWidth = \"\".concat(placeholder.length + 1, \"ch\");\n    style.width = \"\".concat(value.length + 1, \"ch\");\n  };\n\n  Input.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Input.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Input.prototype._onInput = function () {\n    if (this.type !== constants_1.SELECT_ONE_TYPE) {\n      this.setWidth();\n    }\n  };\n\n  Input.prototype._onPaste = function (event) {\n    if (this.preventPaste) {\n      event.preventDefault();\n    }\n  };\n\n  Input.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Input.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Input;\n}();\n\nexports[\"default\"] = Input;\n\n/***/ }),\n\n/***/ 624:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar constants_1 = __webpack_require__(883);\n\nvar List =\n/** @class */\nfunction () {\n  function List(_a) {\n    var element = _a.element;\n    this.element = element;\n    this.scrollPos = this.element.scrollTop;\n    this.height = this.element.offsetHeight;\n  }\n\n  List.prototype.clear = function () {\n    this.element.innerHTML = '';\n  };\n\n  List.prototype.append = function (node) {\n    this.element.appendChild(node);\n  };\n\n  List.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n\n  List.prototype.hasChildren = function () {\n    return this.element.hasChildNodes();\n  };\n\n  List.prototype.scrollToTop = function () {\n    this.element.scrollTop = 0;\n  };\n\n  List.prototype.scrollToChildElement = function (element, direction) {\n    var _this = this;\n\n    if (!element) {\n      return;\n    }\n\n    var listHeight = this.element.offsetHeight; // Scroll position of dropdown\n\n    var listScrollPosition = this.element.scrollTop + listHeight;\n    var elementHeight = element.offsetHeight; // Distance from bottom of element to top of parent\n\n    var elementPos = element.offsetTop + elementHeight; // Difference between the element and scroll position\n\n    var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n    requestAnimationFrame(function () {\n      _this._animateScroll(destination, direction);\n    });\n  };\n\n  List.prototype._scrollDown = function (scrollPos, strength, destination) {\n    var easing = (destination - scrollPos) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos + distance;\n  };\n\n  List.prototype._scrollUp = function (scrollPos, strength, destination) {\n    var easing = (scrollPos - destination) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos - distance;\n  };\n\n  List.prototype._animateScroll = function (destination, direction) {\n    var _this = this;\n\n    var strength = constants_1.SCROLLING_SPEED;\n    var choiceListScrollTop = this.element.scrollTop;\n    var continueAnimation = false;\n\n    if (direction > 0) {\n      this._scrollDown(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop < destination) {\n        continueAnimation = true;\n      }\n    } else {\n      this._scrollUp(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop > destination) {\n        continueAnimation = true;\n      }\n    }\n\n    if (continueAnimation) {\n      requestAnimationFrame(function () {\n        _this._animateScroll(destination, direction);\n      });\n    }\n  };\n\n  return List;\n}();\n\nexports[\"default\"] = List;\n\n/***/ }),\n\n/***/ 730:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar WrappedElement =\n/** @class */\nfunction () {\n  function WrappedElement(_a) {\n    var element = _a.element,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n\n    if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {\n      throw new TypeError('Invalid element passed');\n    }\n\n    this.isDisabled = false;\n  }\n\n  Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n    get: function () {\n      return this.element.dataset.choice === 'active';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"dir\", {\n    get: function () {\n      return this.element.dir;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      // you must define setter here otherwise it will be readonly property\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedElement.prototype.conceal = function () {\n    // Hide passed input\n    this.element.classList.add(this.classNames.input);\n    this.element.hidden = true; // Remove element from tab index\n\n    this.element.tabIndex = -1; // Backup original styles if any\n\n    var origStyle = this.element.getAttribute('style');\n\n    if (origStyle) {\n      this.element.setAttribute('data-choice-orig-style', origStyle);\n    }\n\n    this.element.setAttribute('data-choice', 'active');\n  };\n\n  WrappedElement.prototype.reveal = function () {\n    // Reinstate passed element\n    this.element.classList.remove(this.classNames.input);\n    this.element.hidden = false;\n    this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n    var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n    if (origStyle) {\n      this.element.removeAttribute('data-choice-orig-style');\n      this.element.setAttribute('style', origStyle);\n    } else {\n      this.element.removeAttribute('style');\n    }\n\n    this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n    // @todo Figure out why we need to do this\n\n    this.element.value = this.element.value; // eslint-disable-line no-self-assign\n  };\n\n  WrappedElement.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.element.disabled = false;\n    this.isDisabled = false;\n  };\n\n  WrappedElement.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.element.disabled = true;\n    this.isDisabled = true;\n  };\n\n  WrappedElement.prototype.triggerEvent = function (eventType, data) {\n    (0, utils_1.dispatchEvent)(this.element, eventType, data);\n  };\n\n  return WrappedElement;\n}();\n\nexports[\"default\"] = WrappedElement;\n\n/***/ }),\n\n/***/ 541:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedInput =\n/** @class */\nfunction (_super) {\n  __extends(WrappedInput, _super);\n\n  function WrappedInput(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        delimiter = _a.delimiter;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.delimiter = delimiter;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedInput.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      this.element.setAttribute('value', value);\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return WrappedInput;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedInput;\n\n/***/ }),\n\n/***/ 982:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedSelect =\n/** @class */\nfunction (_super) {\n  __extends(WrappedSelect, _super);\n\n  function WrappedSelect(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        template = _a.template;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.template = template;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n    get: function () {\n      return this.element.querySelector('option[value=\"\"]') || // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n      this.element.querySelector('option[placeholder]');\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"optionGroups\", {\n    get: function () {\n      return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"options\", {\n    get: function () {\n      return Array.from(this.element.options);\n    },\n    set: function (options) {\n      var _this = this;\n\n      var fragment = document.createDocumentFragment();\n\n      var addOptionToFragment = function (data) {\n        // Create a standard select option\n        var option = _this.template(data); // Append it to fragment\n\n\n        fragment.appendChild(option);\n      }; // Add each list item to list\n\n\n      options.forEach(function (optionData) {\n        return addOptionToFragment(optionData);\n      });\n      this.appendDocFragment(fragment);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedSelect.prototype.appendDocFragment = function (fragment) {\n    this.element.innerHTML = '';\n    this.element.appendChild(fragment);\n  };\n\n  return WrappedSelect;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedSelect;\n\n/***/ }),\n\n/***/ 883:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SCROLLING_SPEED = exports.SELECT_MULTIPLE_TYPE = exports.SELECT_ONE_TYPE = exports.TEXT_TYPE = exports.KEY_CODES = exports.ACTION_TYPES = exports.EVENTS = void 0;\nexports.EVENTS = {\n  showDropdown: 'showDropdown',\n  hideDropdown: 'hideDropdown',\n  change: 'change',\n  choice: 'choice',\n  search: 'search',\n  addItem: 'addItem',\n  removeItem: 'removeItem',\n  highlightItem: 'highlightItem',\n  highlightChoice: 'highlightChoice',\n  unhighlightItem: 'unhighlightItem'\n};\nexports.ACTION_TYPES = {\n  ADD_CHOICE: 'ADD_CHOICE',\n  FILTER_CHOICES: 'FILTER_CHOICES',\n  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n  CLEAR_CHOICES: 'CLEAR_CHOICES',\n  ADD_GROUP: 'ADD_GROUP',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n  CLEAR_ALL: 'CLEAR_ALL',\n  RESET_TO: 'RESET_TO',\n  SET_IS_LOADING: 'SET_IS_LOADING'\n};\nexports.KEY_CODES = {\n  BACK_KEY: 46,\n  DELETE_KEY: 8,\n  ENTER_KEY: 13,\n  A_KEY: 65,\n  ESC_KEY: 27,\n  UP_KEY: 38,\n  DOWN_KEY: 40,\n  PAGE_UP_KEY: 33,\n  PAGE_DOWN_KEY: 34\n};\nexports.TEXT_TYPE = 'text';\nexports.SELECT_ONE_TYPE = 'select-one';\nexports.SELECT_MULTIPLE_TYPE = 'select-multiple';\nexports.SCROLLING_SPEED = 4;\n\n/***/ }),\n\n/***/ 789:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DEFAULT_CONFIG = exports.DEFAULT_CLASSNAMES = void 0;\n\nvar utils_1 = __webpack_require__(799);\n\nexports.DEFAULT_CLASSNAMES = {\n  containerOuter: 'choices',\n  containerInner: 'choices__inner',\n  input: 'choices__input',\n  inputCloned: 'choices__input--cloned',\n  list: 'choices__list',\n  listItems: 'choices__list--multiple',\n  listSingle: 'choices__list--single',\n  listDropdown: 'choices__list--dropdown',\n  item: 'choices__item',\n  itemSelectable: 'choices__item--selectable',\n  itemDisabled: 'choices__item--disabled',\n  itemChoice: 'choices__item--choice',\n  placeholder: 'choices__placeholder',\n  group: 'choices__group',\n  groupHeading: 'choices__heading',\n  button: 'choices__button',\n  activeState: 'is-active',\n  focusState: 'is-focused',\n  openState: 'is-open',\n  disabledState: 'is-disabled',\n  highlightedState: 'is-highlighted',\n  selectedState: 'is-selected',\n  flippedState: 'is-flipped',\n  loadingState: 'is-loading',\n  noResults: 'has-no-results',\n  noChoices: 'has-no-choices'\n};\nexports.DEFAULT_CONFIG = {\n  items: [],\n  choices: [],\n  silent: false,\n  renderChoiceLimit: -1,\n  maxItemCount: -1,\n  addItems: true,\n  addItemFilter: null,\n  removeItems: true,\n  removeItemButton: false,\n  editItems: false,\n  allowHTML: true,\n  duplicateItemsAllowed: true,\n  delimiter: ',',\n  paste: true,\n  searchEnabled: true,\n  searchChoices: true,\n  searchFloor: 1,\n  searchResultLimit: 4,\n  searchFields: ['label', 'value'],\n  position: 'auto',\n  resetScrollPosition: true,\n  shouldSort: true,\n  shouldSortItems: false,\n  sorter: utils_1.sortByAlpha,\n  placeholder: true,\n  placeholderValue: null,\n  searchPlaceholderValue: null,\n  prependValue: null,\n  appendValue: null,\n  renderSelectedChoices: 'auto',\n  loadingText: 'Loading...',\n  noResultsText: 'No results found',\n  noChoicesText: 'No choices to choose from',\n  itemSelectText: 'Press to select',\n  uniqueItemText: 'Only unique values can be added',\n  customAddItemText: 'Only values matching specific conditions can be added',\n  addItemText: function (value) {\n    return \"Press Enter to add <b>\\\"\".concat((0, utils_1.sanitise)(value), \"\\\"</b>\");\n  },\n  maxItemText: function (maxItemCount) {\n    return \"Only \".concat(maxItemCount, \" values can be added\");\n  },\n  valueComparer: function (value1, value2) {\n    return value1 === value2;\n  },\n  fuseOptions: {\n    includeScore: true\n  },\n  labelId: '',\n  callbackOnInit: null,\n  callbackOnCreateTemplates: null,\n  classNames: exports.DEFAULT_CLASSNAMES\n};\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 978:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 948:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 359:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 533:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n__exportStar(__webpack_require__(18), exports);\n\n__exportStar(__webpack_require__(978), exports);\n\n__exportStar(__webpack_require__(948), exports);\n\n__exportStar(__webpack_require__(359), exports);\n\n__exportStar(__webpack_require__(285), exports);\n\n__exportStar(__webpack_require__(533), exports);\n\n__exportStar(__webpack_require__(287), exports);\n\n__exportStar(__webpack_require__(132), exports);\n\n__exportStar(__webpack_require__(837), exports);\n\n__exportStar(__webpack_require__(598), exports);\n\n__exportStar(__webpack_require__(369), exports);\n\n__exportStar(__webpack_require__(37), exports);\n\n__exportStar(__webpack_require__(47), exports);\n\n__exportStar(__webpack_require__(923), exports);\n\n__exportStar(__webpack_require__(876), exports);\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 837:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 598:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 369:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 923:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 876:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 799:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.diff = exports.cloneObject = exports.existsInArray = exports.dispatchEvent = exports.sortByScore = exports.sortByAlpha = exports.strToEl = exports.sanitise = exports.isScrolledIntoView = exports.getAdjacentEl = exports.wrap = exports.isType = exports.getType = exports.generateId = exports.generateChars = exports.getRandomNumber = void 0;\n\nvar getRandomNumber = function (min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n\nexports.getRandomNumber = getRandomNumber;\n\nvar generateChars = function (length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return (0, exports.getRandomNumber)(0, 36).toString(36);\n  }).join('');\n};\n\nexports.generateChars = generateChars;\n\nvar generateId = function (element, prefix) {\n  var id = element.id || element.name && \"\".concat(element.name, \"-\").concat((0, exports.generateChars)(2)) || (0, exports.generateChars)(4);\n  id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n  id = \"\".concat(prefix, \"-\").concat(id);\n  return id;\n};\n\nexports.generateId = generateId;\n\nvar getType = function (obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n};\n\nexports.getType = getType;\n\nvar isType = function (type, obj) {\n  return obj !== undefined && obj !== null && (0, exports.getType)(obj) === type;\n};\n\nexports.isType = isType;\n\nvar wrap = function (element, wrapper) {\n  if (wrapper === void 0) {\n    wrapper = document.createElement('div');\n  }\n\n  if (element.parentNode) {\n    if (element.nextSibling) {\n      element.parentNode.insertBefore(wrapper, element.nextSibling);\n    } else {\n      element.parentNode.appendChild(wrapper);\n    }\n  }\n\n  return wrapper.appendChild(element);\n};\n\nexports.wrap = wrap;\n\nvar getAdjacentEl = function (startEl, selector, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n  var sibling = startEl[prop];\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling[prop];\n  }\n\n  return sibling;\n};\n\nexports.getAdjacentEl = getAdjacentEl;\n\nvar isScrolledIntoView = function (element, parent, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!element) {\n    return false;\n  }\n\n  var isVisible;\n\n  if (direction > 0) {\n    // In view from bottom\n    isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n  } else {\n    // In view from top\n    isVisible = element.offsetTop >= parent.scrollTop;\n  }\n\n  return isVisible;\n};\n\nexports.isScrolledIntoView = isScrolledIntoView;\n\nvar sanitise = function (value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  return value.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n};\n\nexports.sanitise = sanitise;\n\nexports.strToEl = function () {\n  var tmpEl = document.createElement('div');\n  return function (str) {\n    var cleanedInput = str.trim();\n    tmpEl.innerHTML = cleanedInput;\n    var firldChild = tmpEl.children[0];\n\n    while (tmpEl.firstChild) {\n      tmpEl.removeChild(tmpEl.firstChild);\n    }\n\n    return firldChild;\n  };\n}();\n\nvar sortByAlpha = function (_a, _b) {\n  var value = _a.value,\n      _c = _a.label,\n      label = _c === void 0 ? value : _c;\n  var value2 = _b.value,\n      _d = _b.label,\n      label2 = _d === void 0 ? value2 : _d;\n  return label.localeCompare(label2, [], {\n    sensitivity: 'base',\n    ignorePunctuation: true,\n    numeric: true\n  });\n};\n\nexports.sortByAlpha = sortByAlpha;\n\nvar sortByScore = function (a, b) {\n  var _a = a.score,\n      scoreA = _a === void 0 ? 0 : _a;\n  var _b = b.score,\n      scoreB = _b === void 0 ? 0 : _b;\n  return scoreA - scoreB;\n};\n\nexports.sortByScore = sortByScore;\n\nvar dispatchEvent = function (element, type, customArgs) {\n  if (customArgs === void 0) {\n    customArgs = null;\n  }\n\n  var event = new CustomEvent(type, {\n    detail: customArgs,\n    bubbles: true,\n    cancelable: true\n  });\n  return element.dispatchEvent(event);\n};\n\nexports.dispatchEvent = dispatchEvent;\n\nvar existsInArray = function (array, value, key) {\n  if (key === void 0) {\n    key = 'value';\n  }\n\n  return array.some(function (item) {\n    if (typeof value === 'string') {\n      return item[key] === value.trim();\n    }\n\n    return item[key] === value;\n  });\n};\n\nexports.existsInArray = existsInArray;\n\nvar cloneObject = function (obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n\nexports.cloneObject = cloneObject;\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n\nvar diff = function (a, b) {\n  var aKeys = Object.keys(a).sort();\n  var bKeys = Object.keys(b).sort();\n  return aKeys.filter(function (i) {\n    return bKeys.indexOf(i) < 0;\n  });\n};\n\nexports.diff = diff;\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction choices(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_CHOICE':\n      {\n        var addChoiceAction = action;\n        var choice = {\n          id: addChoiceAction.id,\n          elementId: addChoiceAction.elementId,\n          groupId: addChoiceAction.groupId,\n          value: addChoiceAction.value,\n          label: addChoiceAction.label || addChoiceAction.value,\n          disabled: addChoiceAction.disabled || false,\n          selected: false,\n          active: true,\n          score: 9999,\n          customProperties: addChoiceAction.customProperties,\n          placeholder: addChoiceAction.placeholder || false\n        };\n        /*\n          A disabled choice appears in the choice dropdown but cannot be selected\n          A selected choice has been added to the passed input's value (added as an item)\n          An active choice appears within the choice dropdown\n        */\n\n        return __spreadArray(__spreadArray([], state, true), [choice], false);\n      }\n\n    case 'ADD_ITEM':\n      {\n        var addItemAction_1 = action; // When an item is added and it has an associated choice,\n        // we want to disable it so it can't be chosen again\n\n        if (addItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(addItemAction_1.choiceId), 10)) {\n              choice.selected = true;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        var removeItemAction_1 = action; // When an item is removed and it has an associated choice,\n        // we want to re-enable it so it can be chosen again\n\n        if (removeItemAction_1.choiceId && removeItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(removeItemAction_1.choiceId), 10)) {\n              choice.selected = false;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'FILTER_CHOICES':\n      {\n        var filterChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj; // Set active state based on whether choice is\n          // within filtered results\n\n          choice.active = filterChoicesAction_1.results.some(function (_a) {\n            var item = _a.item,\n                score = _a.score;\n\n            if (item.id === choice.id) {\n              choice.score = score;\n              return true;\n            }\n\n            return false;\n          });\n          return choice;\n        });\n      }\n\n    case 'ACTIVATE_CHOICES':\n      {\n        var activateChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj;\n          choice.active = activateChoicesAction_1.active;\n          return choice;\n        });\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return exports.defaultState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = choices;\n\n/***/ }),\n\n/***/ 871:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction groups(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_GROUP':\n      {\n        var addGroupAction = action;\n        return __spreadArray(__spreadArray([], state, true), [{\n          id: addGroupAction.id,\n          value: addGroupAction.value,\n          active: addGroupAction.active,\n          disabled: addGroupAction.disabled\n        }], false);\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return [];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = groups;\n\n/***/ }),\n\n/***/ 655:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\n\nvar redux_1 = __webpack_require__(857);\n\nvar items_1 = __importDefault(__webpack_require__(52));\n\nvar groups_1 = __importDefault(__webpack_require__(871));\n\nvar choices_1 = __importDefault(__webpack_require__(273));\n\nvar loading_1 = __importDefault(__webpack_require__(502));\n\nvar utils_1 = __webpack_require__(799);\n\nexports.defaultState = {\n  groups: [],\n  items: [],\n  choices: [],\n  loading: false\n};\nvar appReducer = (0, redux_1.combineReducers)({\n  items: items_1.default,\n  groups: groups_1.default,\n  choices: choices_1.default,\n  loading: loading_1.default\n});\n\nvar rootReducer = function (passedState, action) {\n  var state = passedState; // If we are clearing all items, groups and options we reassign\n  // state and then pass that state to our proper reducer. This isn't\n  // mutating our actual state\n  // See: http://stackoverflow.com/a/35641992\n\n  if (action.type === 'CLEAR_ALL') {\n    state = exports.defaultState;\n  } else if (action.type === 'RESET_TO') {\n    return (0, utils_1.cloneObject)(action.state);\n  }\n\n  return appReducer(state, action);\n};\n\nexports[\"default\"] = rootReducer;\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction items(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      {\n        var addItemAction = action; // Add object to items array\n\n        var newState = __spreadArray(__spreadArray([], state, true), [{\n          id: addItemAction.id,\n          choiceId: addItemAction.choiceId,\n          groupId: addItemAction.groupId,\n          value: addItemAction.value,\n          label: addItemAction.label,\n          active: true,\n          highlighted: false,\n          customProperties: addItemAction.customProperties,\n          placeholder: addItemAction.placeholder || false,\n          keyCode: null\n        }], false);\n\n        return newState.map(function (obj) {\n          var item = obj;\n          item.highlighted = false;\n          return item;\n        });\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // Set item to inactive\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.active = false;\n          }\n\n          return item;\n        });\n      }\n\n    case 'HIGHLIGHT_ITEM':\n      {\n        var highlightItemAction_1 = action;\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === highlightItemAction_1.id) {\n            item.highlighted = highlightItemAction_1.highlighted;\n          }\n\n          return item;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = items;\n\n/***/ }),\n\n/***/ 502:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = false;\n\nvar general = function (state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'SET_IS_LOADING':\n      {\n        return action.isLoading;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexports[\"default\"] = general;\n\n/***/ }),\n\n/***/ 744:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nvar redux_1 = __webpack_require__(857);\n\nvar index_1 = __importDefault(__webpack_require__(655));\n\nvar Store =\n/** @class */\nfunction () {\n  function Store() {\n    this._store = (0, redux_1.createStore)(index_1.default, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /**\n   * Subscribe store to function call (wrapped Redux method)\n   */\n\n\n  Store.prototype.subscribe = function (onChange) {\n    this._store.subscribe(onChange);\n  };\n  /**\n   * Dispatch event to store (wrapped Redux method)\n   */\n\n\n  Store.prototype.dispatch = function (action) {\n    this._store.dispatch(action);\n  };\n\n  Object.defineProperty(Store.prototype, \"state\", {\n    /**\n     * Get store object (wrapping Redux method)\n     */\n    get: function () {\n      return this._store.getState();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"items\", {\n    /**\n     * Get items from store\n     */\n    get: function () {\n      return this.state.items;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeItems\", {\n    /**\n     * Get active items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n    /**\n     * Get highlighted items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active && item.highlighted;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"choices\", {\n    /**\n     * Get choices from store\n     */\n    get: function () {\n      return this.state.choices;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeChoices\", {\n    /**\n     * Get active choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"selectableChoices\", {\n    /**\n     * Get selectable choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.disabled !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"searchableChoices\", {\n    /**\n     * Get choices that can be searched (excluding placeholders)\n     */\n    get: function () {\n      return this.selectableChoices.filter(function (choice) {\n        return choice.placeholder !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"placeholderChoice\", {\n    /**\n     * Get placeholder choice from store\n     */\n    get: function () {\n      return __spreadArray([], this.choices, true).reverse().find(function (choice) {\n        return choice.placeholder === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"groups\", {\n    /**\n     * Get groups from store\n     */\n    get: function () {\n      return this.state.groups;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeGroups\", {\n    /**\n     * Get active groups from store\n     */\n    get: function () {\n      var _a = this,\n          groups = _a.groups,\n          choices = _a.choices;\n\n      return groups.filter(function (group) {\n        var isActive = group.active === true && group.disabled === false;\n        var hasActiveOptions = choices.some(function (choice) {\n          return choice.active === true && choice.disabled === false;\n        });\n        return isActive && hasActiveOptions;\n      }, []);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Get loading state from store\n   */\n\n  Store.prototype.isLoading = function () {\n    return this.state.loading;\n  };\n  /**\n   * Get single choice by it's ID\n   */\n\n\n  Store.prototype.getChoiceById = function (id) {\n    return this.activeChoices.find(function (choice) {\n      return choice.id === parseInt(id, 10);\n    });\n  };\n  /**\n   * Get group by group id\n   */\n\n\n  Store.prototype.getGroupById = function (id) {\n    return this.groups.find(function (group) {\n      return group.id === id;\n    });\n  };\n\n  return Store;\n}();\n\nexports[\"default\"] = Store;\n\n/***/ }),\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option\n */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar templates = {\n  containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\n    var containerOuter = _a.classNames.containerOuter;\n    var div = Object.assign(document.createElement('div'), {\n      className: containerOuter\n    });\n    div.dataset.type = passedElementType;\n\n    if (dir) {\n      div.dir = dir;\n    }\n\n    if (isSelectOneElement) {\n      div.tabIndex = 0;\n    }\n\n    if (isSelectElement) {\n      div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n\n      if (searchEnabled) {\n        div.setAttribute('aria-autocomplete', 'list');\n      }\n    }\n\n    div.setAttribute('aria-haspopup', 'true');\n    div.setAttribute('aria-expanded', 'false');\n\n    if (labelId) {\n      div.setAttribute('aria-labeledby', labelId);\n    }\n\n    return div;\n  },\n  containerInner: function (_a) {\n    var containerInner = _a.classNames.containerInner;\n    return Object.assign(document.createElement('div'), {\n      className: containerInner\n    });\n  },\n  itemList: function (_a, isSelectOneElement) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listSingle = _b.listSingle,\n        listItems = _b.listItems;\n    return Object.assign(document.createElement('div'), {\n      className: \"\".concat(list, \" \").concat(isSelectOneElement ? listSingle : listItems)\n    });\n  },\n  placeholder: function (_a, value) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        placeholder = _a.classNames.placeholder;\n    return Object.assign(document.createElement('div'), (_b = {\n      className: placeholder\n    }, _b[allowHTML ? 'innerHTML' : 'innerText'] = value, _b));\n  },\n  item: function (_a, _b, removeItemButton) {\n    var _c, _d;\n\n    var allowHTML = _a.allowHTML,\n        _e = _a.classNames,\n        item = _e.item,\n        button = _e.button,\n        highlightedState = _e.highlightedState,\n        itemSelectable = _e.itemSelectable,\n        placeholder = _e.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        customProperties = _b.customProperties,\n        active = _b.active,\n        disabled = _b.disabled,\n        highlighted = _b.highlighted,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      className: item\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c));\n    Object.assign(div.dataset, {\n      item: '',\n      id: id,\n      value: value,\n      customProperties: customProperties\n    });\n\n    if (active) {\n      div.setAttribute('aria-selected', 'true');\n    }\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.classList.add(highlighted ? highlightedState : itemSelectable);\n\n    if (removeItemButton) {\n      if (disabled) {\n        div.classList.remove(itemSelectable);\n      }\n\n      div.dataset.deletable = '';\n      /** @todo This MUST be localizable, not hardcoded! */\n\n      var REMOVE_ITEM_TEXT = 'Remove item';\n      var removeButton = Object.assign(document.createElement('button'), (_d = {\n        type: 'button',\n        className: button\n      }, _d[allowHTML ? 'innerHTML' : 'innerText'] = REMOVE_ITEM_TEXT, _d));\n      removeButton.setAttribute('aria-label', \"\".concat(REMOVE_ITEM_TEXT, \": '\").concat(value, \"'\"));\n      removeButton.dataset.button = '';\n      div.appendChild(removeButton);\n    }\n\n    return div;\n  },\n  choiceList: function (_a, isSelectOneElement) {\n    var list = _a.classNames.list;\n    var div = Object.assign(document.createElement('div'), {\n      className: list\n    });\n\n    if (!isSelectOneElement) {\n      div.setAttribute('aria-multiselectable', 'true');\n    }\n\n    div.setAttribute('role', 'listbox');\n    return div;\n  },\n  choiceGroup: function (_a, _b) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        group = _d.group,\n        groupHeading = _d.groupHeading,\n        itemDisabled = _d.itemDisabled;\n    var id = _b.id,\n        value = _b.value,\n        disabled = _b.disabled;\n    var div = Object.assign(document.createElement('div'), {\n      className: \"\".concat(group, \" \").concat(disabled ? itemDisabled : '')\n    });\n    div.setAttribute('role', 'group');\n    Object.assign(div.dataset, {\n      group: '',\n      id: id,\n      value: value\n    });\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    div.appendChild(Object.assign(document.createElement('div'), (_c = {\n      className: groupHeading\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = value, _c)));\n    return div;\n  },\n  choice: function (_a, _b, selectText) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        item = _d.item,\n        itemChoice = _d.itemChoice,\n        itemSelectable = _d.itemSelectable,\n        selectedState = _d.selectedState,\n        itemDisabled = _d.itemDisabled,\n        placeholder = _d.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        groupId = _b.groupId,\n        elementId = _b.elementId,\n        isDisabled = _b.disabled,\n        isSelected = _b.selected,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      id: elementId\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c.className = \"\".concat(item, \" \").concat(itemChoice), _c));\n\n    if (isSelected) {\n      div.classList.add(selectedState);\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.setAttribute('role', groupId && groupId > 0 ? 'treeitem' : 'option');\n    Object.assign(div.dataset, {\n      choice: '',\n      id: id,\n      value: value,\n      selectText: selectText\n    });\n\n    if (isDisabled) {\n      div.classList.add(itemDisabled);\n      div.dataset.choiceDisabled = '';\n      div.setAttribute('aria-disabled', 'true');\n    } else {\n      div.classList.add(itemSelectable);\n      div.dataset.choiceSelectable = '';\n    }\n\n    return div;\n  },\n  input: function (_a, placeholderValue) {\n    var _b = _a.classNames,\n        input = _b.input,\n        inputCloned = _b.inputCloned;\n    var inp = Object.assign(document.createElement('input'), {\n      type: 'search',\n      name: 'search_terms',\n      className: \"\".concat(input, \" \").concat(inputCloned),\n      autocomplete: 'off',\n      autocapitalize: 'off',\n      spellcheck: false\n    });\n    inp.setAttribute('role', 'textbox');\n    inp.setAttribute('aria-autocomplete', 'list');\n    inp.setAttribute('aria-label', placeholderValue);\n    return inp;\n  },\n  dropdown: function (_a) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listDropdown = _b.listDropdown;\n    var div = document.createElement('div');\n    div.classList.add(list, listDropdown);\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n  notice: function (_a, innerText, type) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        _c = _a.classNames,\n        item = _c.item,\n        itemChoice = _c.itemChoice,\n        noResults = _c.noResults,\n        noChoices = _c.noChoices;\n\n    if (type === void 0) {\n      type = '';\n    }\n\n    var classes = [item, itemChoice];\n\n    if (type === 'no-choices') {\n      classes.push(noChoices);\n    } else if (type === 'no-results') {\n      classes.push(noResults);\n    }\n\n    return Object.assign(document.createElement('div'), (_b = {}, _b[allowHTML ? 'innerHTML' : 'innerText'] = innerText, _b.className = classes.join(' '), _b));\n  },\n  option: function (_a) {\n    var label = _a.label,\n        value = _a.value,\n        customProperties = _a.customProperties,\n        active = _a.active,\n        disabled = _a.disabled;\n    var opt = new Option(label, value, false, active);\n\n    if (customProperties) {\n      opt.dataset.customProperties = \"\".concat(customProperties);\n    }\n\n    opt.disabled = !!disabled;\n    return opt;\n  }\n};\nexports[\"default\"] = templates;\n\n/***/ }),\n\n/***/ 996:\n/***/ (function(module) {\n\n\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n\n\n/***/ }),\n\n/***/ 221:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Fuse; }\n/* harmony export */ });\n/**\n * Fuse.js v6.5.3 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2021 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      totalWeight += obj.weight;\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n  }\n\n  return { path, id, weight, src }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      // console.log(key)\n      let value = this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (!isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// ❗Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {}\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '6.5.3';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\n\n\n\n/***/ }),\n\n/***/ 857:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"__DO_NOT_USE__ActionTypes\": function() { return /* binding */ ActionTypes; },\n  \"applyMiddleware\": function() { return /* binding */ applyMiddleware; },\n  \"bindActionCreators\": function() { return /* binding */ bindActionCreators; },\n  \"combineReducers\": function() { return /* binding */ combineReducers; },\n  \"compose\": function() { return /* binding */ compose; },\n  \"createStore\": function() { return /* binding */ createStore; }\n});\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n;// CONCATENATED MODULE: ./node_modules/redux/es/redux.js\n\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (false) {}\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error( true ? formatProdErrorMessage(0) : 0);\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(1) : 0);\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error( true ? formatProdErrorMessage(2) : 0);\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(3) : 0);\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(4) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(5) : 0);\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error( true ? formatProdErrorMessage(6) : 0);\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error( true ? formatProdErrorMessage(7) : 0);\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(8) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(9) : 0);\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(10) : 0);\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error( true ? formatProdErrorMessage(11) : 0);\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(12) : 0);\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(13) : 0);\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {}\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (false) {}\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) { var warningMessage; }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error( true ? formatProdErrorMessage(14) : 0);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error( true ? formatProdErrorMessage(16) : 0);\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error( true ? formatProdErrorMessage(15) : 0);\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2(_objectSpread2({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (false) {}\n\n\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(373);\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scripts_choices__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(187);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _scripts_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(883);\n/* harmony import */ var _scripts_defaults__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(789);\n/* harmony import */ var _scripts_templates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(686);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default()));\n\n}();\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","'use strict'\n\n// return a string with the provided number formatted with commas.\n// can specify either a Number or a String.\nfunction commaNumber(inputNumber, optionalSeparator, optionalDecimalChar) {\n\n  // default `decimalChar` is a period\n  const decimalChar = optionalDecimalChar || '.'\n\n  let stringNumber // we assign this in the switch block and need it later.\n\n  {\n    let number // we assign this in the switch block and need it right after.\n\n    switch (typeof inputNumber) {\n\n      case 'string':\n\n        // if there aren't enough digits to need separators then return it\n        // NOTE: some numbers which are too small will get passed this\n        //       when they have decimal values which make them too long here.\n        //       but, the number value check after this switch will catch it.\n        if (inputNumber.length < (inputNumber[0] === '-' ? 5 : 4)) {\n          return inputNumber\n        }\n\n        // remember it as a string in `stringNumber` and convert to a Number\n        stringNumber = inputNumber\n\n        // if they're not using the Node standard decimal char then replace it\n        // before converting.\n        number = Number(\n          (decimalChar !== '.') ? stringNumber.replace(decimalChar, '.') : stringNumber\n        )\n        break\n\n      // convert to a string.\n      // NOTE: don't check if the number is too small before converting\n      //       because we'll need to return `stringNumber` anyway.\n      case 'number':\n        stringNumber = String(inputNumber)\n        number       = inputNumber\n        // create the string version with the decimalChar they specified.\n        // this matches what the above case 'string' produces,\n        // and, fixes the bug *not* doing this caused.\n        if ('.' !== decimalChar && !Number.isInteger(inputNumber)) {\n          stringNumber = stringNumber.replace('.', decimalChar)\n        }\n        break\n\n      // return invalid type as-is\n      default: return inputNumber\n    }\n\n    // when it doesn't need a separator or isn't a number then return it\n    if ((-1000 < number && number < 1000) || isNaN(number) || !isFinite(number)) {\n      return stringNumber\n    }\n  }\n\n  {\n    // strip off decimal value to add back in later\n    const decimalIndex = stringNumber.lastIndexOf(decimalChar)\n    let decimal\n    if (decimalIndex > -1) {\n      decimal = stringNumber.slice(decimalIndex)\n      stringNumber = stringNumber.slice(0, decimalIndex)\n    }\n\n    // finally, parse the string. Note, default 'separator' is a comma.\n    const parts = parse(stringNumber, optionalSeparator || ',')\n\n    // if there's a decimal value then add it to the parts.\n    if (decimal) {// NOTE: we sliced() it off including the decimalChar\n      parts.push(decimal)\n    }\n\n    // combine all parts for the final string (note, has separators).\n    return parts.join('')\n  }\n}\n\nfunction parse(string, separator) {\n\n  // find first index to split the string at (where 1st separator goes).\n  let i = ((string.length - 1) % 3) + 1\n\n  // above calculation is wrong when num is negative and a certain size.\n  if (i === 1 && (string[0] === '-')) {\n    i = 4  // example: -123,456,789  start at 4, not 1.\n  }\n\n  const strings = [ // holds the string parts\n    string.slice(0, i) // grab part before the first separator\n  ]\n\n  // split remaining string in groups of 3 where a separator belongs\n  for (; i < string.length; i += 3) {\n    strings.push(separator, string.substr(i, 3))\n  }\n\n  return strings\n}\n\n\n// convenience function for currying style:\n//   const format = commaNumber.bindWith(',', '.')\nfunction bindWith(separator, decimalChar) {\n  return function(number) {\n    return commaNumber(number, separator, decimalChar)\n  }\n}\n\nmodule.exports = commaNumber\nmodule.exports.bindWith = bindWith\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","/**\n * Graphology Louvain Algorithm\n * =============================\n *\n * JavaScript implementation of the famous Louvain community detection\n * algorithm for graphology.\n *\n * [Articles]\n * M. E. J. Newman, « Modularity and community structure in networks »,\n * Proc. Natl. Acad. Sci. USA, vol. 103, no 23, 2006, p. 8577–8582\n * https://dx.doi.org/10.1073%2Fpnas.0601602103\n *\n * Newman, M. E. J. « Community detection in networks: Modularity optimization\n * and maximum likelihood are equivalent ». Physical Review E, vol. 94, no 5,\n * novembre 2016, p. 052315. arXiv.org, doi:10.1103/PhysRevE.94.052315.\n * https://arxiv.org/pdf/1606.02319.pdf\n *\n * Blondel, Vincent D., et al. « Fast unfolding of communities in large\n * networks ». Journal of Statistical Mechanics: Theory and Experiment,\n * vol. 2008, no 10, octobre 2008, p. P10008. DOI.org (Crossref),\n * doi:10.1088/1742-5468/2008/10/P10008.\n * https://arxiv.org/pdf/0803.0476.pdf\n *\n * Nicolas Dugué, Anthony Perez. Directed Louvain: maximizing modularity in\n * directed networks. [Research Report] Université d’Orléans. 2015. hal-01231784\n * https://hal.archives-ouvertes.fr/hal-01231784\n *\n * R. Lambiotte, J.-C. Delvenne and M. Barahona. Laplacian Dynamics and\n * Multiscale Modular Structure in Networks,\n * doi:10.1109/TNSE.2015.2391998.\n * https://arxiv.org/abs/0812.1770\n *\n * Traag, V. A., et al. « From Louvain to Leiden: Guaranteeing Well-Connected\n * Communities ». Scientific Reports, vol. 9, no 1, décembre 2019, p. 5233.\n * DOI.org (Crossref), doi:10.1038/s41598-019-41695-z.\n * https://arxiv.org/abs/1810.08473\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\nvar inferType = require('graphology-utils/infer-type');\nvar SparseMap = require('mnemonist/sparse-map');\nvar SparseQueueSet = require('mnemonist/sparse-queue-set');\nvar createRandomIndex = require('pandemonium/random-index').createRandomIndex;\n\nvar indices = require('graphology-indices/louvain');\n\nvar UndirectedLouvainIndex = indices.UndirectedLouvainIndex;\nvar DirectedLouvainIndex = indices.DirectedLouvainIndex;\n\nvar DEFAULTS = {\n  nodeCommunityAttribute: 'community',\n  getEdgeWeight: 'weight',\n  fastLocalMoves: true,\n  randomWalk: true,\n  resolution: 1,\n  rng: Math.random\n};\n\nfunction addWeightToCommunity(map, community, weight) {\n  var currentWeight = map.get(community);\n\n  if (typeof currentWeight === 'undefined') currentWeight = 0;\n\n  currentWeight += weight;\n\n  map.set(community, currentWeight);\n}\n\nvar EPSILON = 1e-10;\n\nfunction tieBreaker(\n  bestCommunity,\n  currentCommunity,\n  targetCommunity,\n  delta,\n  bestDelta\n) {\n  if (Math.abs(delta - bestDelta) < EPSILON) {\n    if (bestCommunity === currentCommunity) {\n      return false;\n    } else {\n      return targetCommunity > bestCommunity;\n    }\n  } else if (delta > bestDelta) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction undirectedLouvain(detailed, graph, options) {\n  var index = new UndirectedLouvainIndex(graph, {\n    getEdgeWeight: options.getEdgeWeight,\n    keepDendrogram: detailed,\n    resolution: options.resolution\n  });\n\n  var randomIndex = createRandomIndex(options.rng);\n\n  // State variables\n  var moveWasMade = true,\n    localMoveWasMade = true;\n\n  // Communities\n  var currentCommunity, targetCommunity;\n  var communities = new SparseMap(Float64Array, index.C);\n\n  // Traversal\n  var queue, start, end, weight, ci, ri, s, i, j, l;\n\n  // Metrics\n  var degree, targetCommunityDegree;\n\n  // Moves\n  var bestCommunity, bestDelta, deltaIsBetter, delta;\n\n  // Details\n  var deltaComputations = 0,\n    nodesVisited = 0,\n    moves = [],\n    localMoves,\n    currentMoves;\n\n  if (options.fastLocalMoves) queue = new SparseQueueSet(index.C);\n\n  while (moveWasMade) {\n    l = index.C;\n\n    moveWasMade = false;\n    localMoveWasMade = true;\n\n    if (options.fastLocalMoves) {\n      currentMoves = 0;\n\n      // Traversal of the graph\n      ri = options.randomWalk ? randomIndex(l) : 0;\n\n      for (s = 0; s < l; s++, ri++) {\n        i = ri % l;\n        queue.enqueue(i);\n      }\n\n      while (queue.size !== 0) {\n        i = queue.dequeue();\n        nodesVisited++;\n\n        degree = 0;\n        communities.clear();\n\n        currentCommunity = index.belongings[i];\n\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        // Traversing neighbors\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          weight = index.weights[start];\n\n          targetCommunity = index.belongings[j];\n\n          // Incrementing metrics\n          degree += weight;\n          addWeightToCommunity(communities, targetCommunity, weight);\n        }\n\n        // Finding best community to move to\n        bestDelta = index.fastDeltaWithOwnCommunity(\n          i,\n          degree,\n          communities.get(currentCommunity) || 0,\n          currentCommunity\n        );\n        bestCommunity = currentCommunity;\n\n        for (ci = 0; ci < communities.size; ci++) {\n          targetCommunity = communities.dense[ci];\n\n          if (targetCommunity === currentCommunity) continue;\n\n          targetCommunityDegree = communities.vals[ci];\n\n          deltaComputations++;\n\n          delta = index.fastDelta(\n            i,\n            degree,\n            targetCommunityDegree,\n            targetCommunity\n          );\n\n          deltaIsBetter = tieBreaker(\n            bestCommunity,\n            currentCommunity,\n            targetCommunity,\n            delta,\n            bestDelta\n          );\n\n          if (deltaIsBetter) {\n            bestDelta = delta;\n            bestCommunity = targetCommunity;\n          }\n        }\n\n        // Should we move the node?\n        if (bestDelta < 0) {\n          // NOTE: this is to allow nodes to move back to their own singleton\n          // This code however only deals with modularity (e.g. the condition\n          // about bestDelta < 0, which is the delta for moving back to\n          // singleton wrt. modularity). Indeed, rarely, the Louvain\n          // algorithm can produce such cases when a node would be better in\n          // a singleton that in its own community when considering self loops\n          // or a resolution != 1. In this case, delta with your own community\n          // is indeed less than 0. To handle different metrics, one should\n          // consider computing the delta for going back to singleton because\n          // it might not be 0.\n          bestCommunity = index.isolate(i, degree);\n\n          // If the node was already in a singleton community, we don't consider\n          // a move was made\n          if (bestCommunity === currentCommunity) continue;\n        } else {\n          // If no move was made, we continue to next node\n          if (bestCommunity === currentCommunity) {\n            continue;\n          } else {\n            // Actually moving the node to a new community\n            index.move(i, degree, bestCommunity);\n          }\n        }\n\n        moveWasMade = true;\n        currentMoves++;\n\n        // Adding neighbors from other communities to the queue\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          targetCommunity = index.belongings[j];\n\n          if (targetCommunity !== bestCommunity) queue.enqueue(j);\n        }\n      }\n\n      moves.push(currentMoves);\n    } else {\n      localMoves = [];\n      moves.push(localMoves);\n\n      // Traditional Louvain iterative traversal of the graph\n      while (localMoveWasMade) {\n        localMoveWasMade = false;\n        currentMoves = 0;\n\n        ri = options.randomWalk ? randomIndex(l) : 0;\n\n        for (s = 0; s < l; s++, ri++) {\n          i = ri % l;\n\n          nodesVisited++;\n\n          degree = 0;\n          communities.clear();\n\n          currentCommunity = index.belongings[i];\n\n          start = index.starts[i];\n          end = index.starts[i + 1];\n\n          // Traversing neighbors\n          for (; start < end; start++) {\n            j = index.neighborhood[start];\n            weight = index.weights[start];\n\n            targetCommunity = index.belongings[j];\n\n            // Incrementing metrics\n            degree += weight;\n            addWeightToCommunity(communities, targetCommunity, weight);\n          }\n\n          // Finding best community to move to\n          bestDelta = index.fastDeltaWithOwnCommunity(\n            i,\n            degree,\n            communities.get(currentCommunity) || 0,\n            currentCommunity\n          );\n          bestCommunity = currentCommunity;\n\n          for (ci = 0; ci < communities.size; ci++) {\n            targetCommunity = communities.dense[ci];\n\n            if (targetCommunity === currentCommunity) continue;\n\n            targetCommunityDegree = communities.vals[ci];\n\n            deltaComputations++;\n\n            delta = index.fastDelta(\n              i,\n              degree,\n              targetCommunityDegree,\n              targetCommunity\n            );\n\n            deltaIsBetter = tieBreaker(\n              bestCommunity,\n              currentCommunity,\n              targetCommunity,\n              delta,\n              bestDelta\n            );\n\n            if (deltaIsBetter) {\n              bestDelta = delta;\n              bestCommunity = targetCommunity;\n            }\n          }\n\n          // Should we move the node?\n          if (bestDelta < 0) {\n            // NOTE: this is to allow nodes to move back to their own singleton\n            // This code however only deals with modularity (e.g. the condition\n            // about bestDelta < 0, which is the delta for moving back to\n            // singleton wrt. modularity). Indeed, rarely, the Louvain\n            // algorithm can produce such cases when a node would be better in\n            // a singleton that in its own community when considering self loops\n            // or a resolution != 1. In this case, delta with your own community\n            // is indeed less than 0. To handle different metrics, one should\n            // consider computing the delta for going back to singleton because\n            // it might not be 0.\n            bestCommunity = index.isolate(i, degree);\n\n            // If the node was already in a singleton community, we don't consider\n            // a move was made\n            if (bestCommunity === currentCommunity) continue;\n          } else {\n            // If no move was made, we continue to next node\n            if (bestCommunity === currentCommunity) {\n              continue;\n            } else {\n              // Actually moving the node to a new community\n              index.move(i, degree, bestCommunity);\n            }\n          }\n\n          localMoveWasMade = true;\n          currentMoves++;\n        }\n\n        localMoves.push(currentMoves);\n\n        moveWasMade = localMoveWasMade || moveWasMade;\n      }\n    }\n\n    // We continue working on the induced graph\n    if (moveWasMade) index.zoomOut();\n  }\n\n  var results = {\n    index: index,\n    deltaComputations: deltaComputations,\n    nodesVisited: nodesVisited,\n    moves: moves\n  };\n\n  return results;\n}\n\nfunction directedLouvain(detailed, graph, options) {\n  var index = new DirectedLouvainIndex(graph, {\n    getEdgeWeight: options.getEdgeWeight,\n    keepDendrogram: detailed,\n    resolution: options.resolution\n  });\n\n  var randomIndex = createRandomIndex(options.rng);\n\n  // State variables\n  var moveWasMade = true,\n    localMoveWasMade = true;\n\n  // Communities\n  var currentCommunity, targetCommunity;\n  var communities = new SparseMap(Float64Array, index.C);\n\n  // Traversal\n  var queue, start, end, offset, out, weight, ci, ri, s, i, j, l;\n\n  // Metrics\n  var inDegree, outDegree, targetCommunityDegree;\n\n  // Moves\n  var bestCommunity, bestDelta, deltaIsBetter, delta;\n\n  // Details\n  var deltaComputations = 0,\n    nodesVisited = 0,\n    moves = [],\n    localMoves,\n    currentMoves;\n\n  if (options.fastLocalMoves) queue = new SparseQueueSet(index.C);\n\n  while (moveWasMade) {\n    l = index.C;\n\n    moveWasMade = false;\n    localMoveWasMade = true;\n\n    if (options.fastLocalMoves) {\n      currentMoves = 0;\n\n      // Traversal of the graph\n      ri = options.randomWalk ? randomIndex(l) : 0;\n\n      for (s = 0; s < l; s++, ri++) {\n        i = ri % l;\n        queue.enqueue(i);\n      }\n\n      while (queue.size !== 0) {\n        i = queue.dequeue();\n        nodesVisited++;\n\n        inDegree = 0;\n        outDegree = 0;\n        communities.clear();\n\n        currentCommunity = index.belongings[i];\n\n        start = index.starts[i];\n        end = index.starts[i + 1];\n        offset = index.offsets[i];\n\n        // Traversing neighbors\n        for (; start < end; start++) {\n          out = start < offset;\n          j = index.neighborhood[start];\n          weight = index.weights[start];\n\n          targetCommunity = index.belongings[j];\n\n          // Incrementing metrics\n          if (out) outDegree += weight;\n          else inDegree += weight;\n\n          addWeightToCommunity(communities, targetCommunity, weight);\n        }\n\n        // Finding best community to move to\n        bestDelta = index.deltaWithOwnCommunity(\n          i,\n          inDegree,\n          outDegree,\n          communities.get(currentCommunity) || 0,\n          currentCommunity\n        );\n        bestCommunity = currentCommunity;\n\n        for (ci = 0; ci < communities.size; ci++) {\n          targetCommunity = communities.dense[ci];\n\n          if (targetCommunity === currentCommunity) continue;\n\n          targetCommunityDegree = communities.vals[ci];\n\n          deltaComputations++;\n\n          delta = index.delta(\n            i,\n            inDegree,\n            outDegree,\n            targetCommunityDegree,\n            targetCommunity\n          );\n\n          deltaIsBetter = tieBreaker(\n            bestCommunity,\n            currentCommunity,\n            targetCommunity,\n            delta,\n            bestDelta\n          );\n\n          if (deltaIsBetter) {\n            bestDelta = delta;\n            bestCommunity = targetCommunity;\n          }\n        }\n\n        // Should we move the node?\n        if (bestDelta < 0) {\n          // NOTE: this is to allow nodes to move back to their own singleton\n          // This code however only deals with modularity (e.g. the condition\n          // about bestDelta < 0, which is the delta for moving back to\n          // singleton wrt. modularity). Indeed, rarely, the Louvain\n          // algorithm can produce such cases when a node would be better in\n          // a singleton that in its own community when considering self loops\n          // or a resolution != 1. In this case, delta with your own community\n          // is indeed less than 0. To handle different metrics, one should\n          // consider computing the delta for going back to singleton because\n          // it might not be 0.\n          bestCommunity = index.isolate(i, inDegree, outDegree);\n\n          // If the node was already in a singleton community, we don't consider\n          // a move was made\n          if (bestCommunity === currentCommunity) continue;\n        } else {\n          // If no move was made, we continue to next node\n          if (bestCommunity === currentCommunity) {\n            continue;\n          } else {\n            // Actually moving the node to a new community\n            index.move(i, inDegree, outDegree, bestCommunity);\n          }\n        }\n\n        moveWasMade = true;\n        currentMoves++;\n\n        // Adding neighbors from other communities to the queue\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          targetCommunity = index.belongings[j];\n\n          if (targetCommunity !== bestCommunity) queue.enqueue(j);\n        }\n      }\n\n      moves.push(currentMoves);\n    } else {\n      localMoves = [];\n      moves.push(localMoves);\n\n      // Traditional Louvain iterative traversal of the graph\n      while (localMoveWasMade) {\n        localMoveWasMade = false;\n        currentMoves = 0;\n\n        ri = options.randomWalk ? randomIndex(l) : 0;\n\n        for (s = 0; s < l; s++, ri++) {\n          i = ri % l;\n\n          nodesVisited++;\n\n          inDegree = 0;\n          outDegree = 0;\n          communities.clear();\n\n          currentCommunity = index.belongings[i];\n\n          start = index.starts[i];\n          end = index.starts[i + 1];\n          offset = index.offsets[i];\n\n          // Traversing neighbors\n          for (; start < end; start++) {\n            out = start < offset;\n            j = index.neighborhood[start];\n            weight = index.weights[start];\n\n            targetCommunity = index.belongings[j];\n\n            // Incrementing metrics\n            if (out) outDegree += weight;\n            else inDegree += weight;\n\n            addWeightToCommunity(communities, targetCommunity, weight);\n          }\n\n          // Finding best community to move to\n          bestDelta = index.deltaWithOwnCommunity(\n            i,\n            inDegree,\n            outDegree,\n            communities.get(currentCommunity) || 0,\n            currentCommunity\n          );\n          bestCommunity = currentCommunity;\n\n          for (ci = 0; ci < communities.size; ci++) {\n            targetCommunity = communities.dense[ci];\n\n            if (targetCommunity === currentCommunity) continue;\n\n            targetCommunityDegree = communities.vals[ci];\n\n            deltaComputations++;\n\n            delta = index.delta(\n              i,\n              inDegree,\n              outDegree,\n              targetCommunityDegree,\n              targetCommunity\n            );\n\n            deltaIsBetter = tieBreaker(\n              bestCommunity,\n              currentCommunity,\n              targetCommunity,\n              delta,\n              bestDelta\n            );\n\n            if (deltaIsBetter) {\n              bestDelta = delta;\n              bestCommunity = targetCommunity;\n            }\n          }\n\n          // Should we move the node?\n          if (bestDelta < 0) {\n            // NOTE: this is to allow nodes to move back to their own singleton\n            // This code however only deals with modularity (e.g. the condition\n            // about bestDelta < 0, which is the delta for moving back to\n            // singleton wrt. modularity). Indeed, rarely, the Louvain\n            // algorithm can produce such cases when a node would be better in\n            // a singleton that in its own community when considering self loops\n            // or a resolution != 1. In this case, delta with your own community\n            // is indeed less than 0. To handle different metrics, one should\n            // consider computing the delta for going back to singleton because\n            // it might not be 0.\n            bestCommunity = index.isolate(i, inDegree, outDegree);\n\n            // If the node was already in a singleton community, we don't consider\n            // a move was made\n            if (bestCommunity === currentCommunity) continue;\n          } else {\n            // If no move was made, we continue to next node\n            if (bestCommunity === currentCommunity) {\n              continue;\n            } else {\n              // Actually moving the node to a new community\n              index.move(i, inDegree, outDegree, bestCommunity);\n            }\n          }\n\n          localMoveWasMade = true;\n          currentMoves++;\n        }\n\n        localMoves.push(currentMoves);\n\n        moveWasMade = localMoveWasMade || moveWasMade;\n      }\n    }\n\n    // We continue working on the induced graph\n    if (moveWasMade) index.zoomOut();\n  }\n\n  var results = {\n    index: index,\n    deltaComputations: deltaComputations,\n    nodesVisited: nodesVisited,\n    moves: moves\n  };\n\n  return results;\n}\n\n/**\n * Function returning the communities mapping of the graph.\n *\n * @param  {boolean} assign             - Assign communities to nodes attributes?\n * @param  {boolean} detailed           - Whether to return detailed information.\n * @param  {Graph}   graph              - Target graph.\n * @param  {object}  options            - Options:\n * @param  {string}    nodeCommunityAttribute - Community node attribute name.\n * @param  {string}    getEdgeWeight          - Weight edge attribute name or getter function.\n * @param  {string}    deltaComputation       - Method to use to compute delta computations.\n * @param  {boolean}   fastLocalMoves         - Whether to use the fast local move optimization.\n * @param  {boolean}   randomWalk             - Whether to traverse the graph in random order.\n * @param  {number}    resolution             - Resolution parameter.\n * @param  {function}  rng                    - RNG function to use.\n * @return {object}\n */\nfunction louvain(assign, detailed, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-communities-louvain: the given graph is not a valid graphology instance.'\n    );\n\n  var type = inferType(graph);\n\n  if (type === 'mixed')\n    throw new Error(\n      'graphology-communities-louvain: cannot run the algorithm on a true mixed graph.'\n    );\n\n  // Attributes name\n  options = resolveDefaults(options, DEFAULTS);\n\n  // Empty graph case\n  var c = 0;\n\n  if (graph.size === 0) {\n    if (assign) {\n      graph.forEachNode(function (node) {\n        graph.setNodeAttribute(node, options.nodeCommunityAttribute, c++);\n      });\n\n      return;\n    }\n\n    var communities = {};\n\n    graph.forEachNode(function (node) {\n      communities[node] = c++;\n    });\n\n    if (!detailed) return communities;\n\n    return {\n      communities: communities,\n      count: graph.order,\n      deltaComputations: 0,\n      dendrogram: null,\n      level: 0,\n      modularity: NaN,\n      moves: null,\n      nodesVisited: 0,\n      resolution: options.resolution\n    };\n  }\n\n  var fn = type === 'undirected' ? undirectedLouvain : directedLouvain;\n\n  var results = fn(detailed, graph, options);\n\n  var index = results.index;\n\n  // Standard output\n  if (!detailed) {\n    if (assign) {\n      index.assign(options.nodeCommunityAttribute);\n      return;\n    }\n\n    return index.collect();\n  }\n\n  // Detailed output\n  var output = {\n    count: index.C,\n    deltaComputations: results.deltaComputations,\n    dendrogram: index.dendrogram,\n    level: index.level,\n    modularity: index.modularity(),\n    moves: results.moves,\n    nodesVisited: results.nodesVisited,\n    resolution: options.resolution\n  };\n\n  if (assign) {\n    index.assign(options.nodeCommunityAttribute);\n    return output;\n  }\n\n  output.communities = index.collect();\n\n  return output;\n}\n\n/**\n * Exporting.\n */\nvar fn = louvain.bind(null, false, false);\nfn.assign = louvain.bind(null, true, false);\nfn.detailed = louvain.bind(null, false, true);\nfn.defaults = DEFAULTS;\n\nmodule.exports = fn;\n","/**\n * Graphology Browser GEXF Endpoint\n * =================================\n *\n * Endpoint gathering both parser & writer for the browser.\n */\nexports.parse = require('./parser.js');\nexports.write = require('../common/writer.js');\n","/**\n * Graphology Browser GEXF Parser\n * ===============================\n *\n * Browser version of the graphology GEXF parser.\n */\nvar createParserFunction = require('../common/parser.js');\n\nmodule.exports = createParserFunction(DOMParser, Document);\n","/**\n * Graphology Common GEXF Helpers\n * ===============================\n *\n * Miscellaneous helpers used by both instance of the code.\n */\n\n/**\n * Function used to cast a string value to the desired type.\n *\n * @param  {string} type - Value type.\n * @param  {string} type - String value.\n * @return {any}         - Parsed type.\n */\nexports.cast = function (type, value) {\n  switch (type) {\n    case 'boolean':\n      value = value === 'true';\n      break;\n\n    case 'integer':\n    case 'long':\n    case 'float':\n    case 'double':\n      value = +value;\n      break;\n\n    case 'liststring':\n      value = value ? value.split('|') : [];\n      break;\n\n    default:\n  }\n\n  return value;\n};\n\n/**\n * Function deleting illegal characters from a potential tag name to avoid\n * generating invalid XML.\n *\n * @param  {string} type - Tag name.\n * @return {string}\n */\nvar SANITIZE_PATTERN = /[\"'<>&\\s]/g;\n\nexports.sanitizeTagName = function sanitizeTagName(tagName) {\n  return tagName.replace(SANITIZE_PATTERN, '').trim();\n};\n","/* eslint no-self-compare: 0 */\n/**\n * Graphology Browser GEXF Parser\n * ===============================\n *\n * Browser version of the graphology GEXF parser using DOMParser to function.\n */\nvar isGraphConstructor = require('graphology-utils/is-graph-constructor');\nvar mergeEdge = require('graphology-utils/add-edge').mergeEdge;\nvar toMixed = require('graphology-operators/to-mixed');\nvar toMulti = require('graphology-operators/to-multi');\nvar helpers = require('../common/helpers.js');\n\nvar cast = helpers.cast;\n\n/**\n * Function checking whether the given value is a NaN.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nfunction isReallyNaN(value) {\n  return value !== value;\n}\n\n/**\n * Function used to convert a viz:color attribute into a CSS rgba? string.\n *\n * @param  {Node}   element - DOM element.\n * @return {string}\n */\nfunction toRGBString(element) {\n  var a = element.getAttribute('a'),\n    r = element.getAttribute('r'),\n    g = element.getAttribute('g'),\n    b = element.getAttribute('b');\n\n  return a\n    ? 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'\n    : 'rgb(' + r + ',' + g + ',' + b + ')';\n}\n\n/**\n * Function returning the first matching tag of the `viz` namespace matching\n * the desired tag name.\n *\n * @param  {Node}   element - Target DOM element.\n * @param  {string} name    - Tag name.\n * @return {Node}\n */\nfunction getFirstMatchingVizTag(element, name) {\n  var vizElement = element.getElementsByTagName('viz:' + name)[0];\n\n  if (!vizElement) vizElement = element.getElementsByTagNameNS('viz', name)[0];\n\n  if (!vizElement) vizElement = element.getElementsByTagName(name)[0];\n\n  return vizElement;\n}\n\n/**\n * Function used to collect meta information.\n *\n * @param  {Array<Node>} elements - Target DOM element.\n * @return {object}\n */\nfunction collectMeta(elements) {\n  var meta = {},\n    element,\n    value;\n\n  for (var i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n\n    if (element.nodeName === '#text') continue;\n\n    value = element.textContent.trim();\n\n    if (value) meta[element.tagName.toLowerCase()] = element.textContent;\n  }\n\n  return meta;\n}\n\n/**\n * Function used to extract the model from the right elements.\n *\n * @param  {Array<Node>} elements - Target DOM elements.\n * @return {array}                - The model & default attributes.\n */\nfunction extractModel(elements) {\n  var model = {},\n    defaults = {},\n    element,\n    defaultElement,\n    id;\n\n  for (var i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n    id = element.getAttribute('id') || element.getAttribute('for');\n\n    model[id] = {\n      id: id,\n      type: element.getAttribute('type') || 'string',\n      title: !isReallyNaN(+id) ? element.getAttribute('title') || id : id\n    };\n\n    // Default?\n    defaultElement = element.getElementsByTagName('default')[0];\n\n    if (defaultElement)\n      defaults[model[id].title] = cast(\n        model[id].type,\n        defaultElement.textContent\n      );\n  }\n\n  return [model, defaults];\n}\n\n/**\n * Function used to collect an element's attributes.\n *\n * @param  {object} model    - Data model to use.\n * @param  {object} defaults - Default values.\n * @param  {Node}   element  - Target DOM element.\n * @return {object}          - The collected attributes.\n */\nfunction collectAttributes(model, defaults, element) {\n  var data = {},\n    label = element.getAttribute('label'),\n    weight = element.getAttribute('weight');\n\n  if (label) data.label = label;\n\n  if (weight) data.weight = +weight;\n\n  var valueElements = element.getElementsByTagName('attvalue'),\n    valueElement,\n    id;\n\n  for (var i = 0, l = valueElements.length; i < l; i++) {\n    valueElement = valueElements[i];\n    id = valueElement.getAttribute('id') || valueElement.getAttribute('for');\n\n    data[model[id].title] = cast(\n      model[id].type,\n      valueElement.getAttribute('value')\n    );\n  }\n\n  // Applying default values\n  var k;\n\n  for (k in defaults) {\n    if (!(k in data)) data[k] = defaults[k];\n  }\n\n  // TODO: shortcut here to avoid viz when namespace is not set\n\n  // Attempting to find viz namespace tags\n\n  //-- 1) Color\n  var vizElement = getFirstMatchingVizTag(element, 'color');\n\n  if (vizElement) data.color = toRGBString(vizElement);\n\n  //-- 2) Size\n  vizElement = getFirstMatchingVizTag(element, 'size');\n\n  if (vizElement) data.size = +vizElement.getAttribute('value');\n\n  //-- 3) Position\n  var x, y, z;\n\n  vizElement = getFirstMatchingVizTag(element, 'position');\n\n  if (vizElement) {\n    x = vizElement.getAttribute('x');\n    y = vizElement.getAttribute('y');\n    z = vizElement.getAttribute('z');\n\n    if (x) data.x = +x;\n    if (y) data.y = +y;\n    if (z) data.z = +z;\n  }\n\n  //-- 4) Shape\n  vizElement = getFirstMatchingVizTag(element, 'shape');\n\n  if (vizElement) data.shape = vizElement.getAttribute('value');\n\n  //-- 5) Thickness\n  vizElement = getFirstMatchingVizTag(element, 'thickness');\n\n  if (vizElement) data.thickness = +vizElement.getAttribute('value');\n\n  return data;\n}\n\n/**\n * Factory taking implementations of `DOMParser` & `Document` returning\n * the parser function.\n */\nmodule.exports = function createParserFunction(DOMParser, Document) {\n  /**\n   * Function taking either a string or a document and returning a\n   * graphology instance.\n   *\n   * @param {function}        Graph  - A graphology constructor.\n   * @param {string|Document} source - The source to parse.\n   * @param {object}          options - Parsing options.\n   */\n\n  // TODO: option to map the data to the attributes for customization, nodeModel, edgeModel, nodeReducer, edgeReducer\n  // TODO: option to disable the model mapping heuristic\n  return function parse(Graph, source, options) {\n    options = options || {};\n\n    var addMissingNodes = options.addMissingNodes === true;\n    var mergeResult;\n\n    var xmlDoc = source;\n\n    var element, result, type, attributes, id, s, t, i, l;\n\n    if (!isGraphConstructor(Graph))\n      throw new Error('graphology-gexf/parser: invalid Graph constructor.');\n\n    // If source is a string, we are going to parse it\n    if (typeof source === 'string')\n      xmlDoc = new DOMParser().parseFromString(source, 'application/xml');\n\n    if (!(xmlDoc instanceof Document))\n      throw new Error(\n        'graphology-gexf/parser: source should either be a XML document or a string.'\n      );\n\n    // Finding useful elements\n    var GRAPH_ELEMENT = xmlDoc.getElementsByTagName('graph')[0],\n      META_ELEMENT = xmlDoc.getElementsByTagName('meta')[0],\n      META_ELEMENTS = (META_ELEMENT && META_ELEMENT.childNodes) || [],\n      NODE_ELEMENTS = xmlDoc.getElementsByTagName('node'),\n      EDGE_ELEMENTS = xmlDoc.getElementsByTagName('edge'),\n      MODEL_ELEMENTS = xmlDoc.getElementsByTagName('attributes'),\n      NODE_MODEL_ELEMENTS = [],\n      EDGE_MODEL_ELEMENTS = [];\n\n    for (i = 0, l = MODEL_ELEMENTS.length; i < l; i++) {\n      element = MODEL_ELEMENTS[i];\n\n      if (element.getAttribute('class') === 'node')\n        NODE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\n      else if (element.getAttribute('class') === 'edge')\n        EDGE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\n    }\n\n    // Information\n    var DEFAULT_EDGE_TYPE =\n      GRAPH_ELEMENT.getAttribute('defaultedgetype') || 'undirected';\n\n    if (DEFAULT_EDGE_TYPE === 'mutual') DEFAULT_EDGE_TYPE = 'undirected';\n\n    // Computing models\n    result = extractModel(NODE_MODEL_ELEMENTS);\n\n    var NODE_MODEL = result[0],\n      NODE_DEFAULT_ATTRIBUTES = result[1];\n\n    result = extractModel(EDGE_MODEL_ELEMENTS);\n\n    var EDGE_MODEL = result[0],\n      EDGE_DEFAULT_ATTRIBUTES = result[1];\n\n    // Polling the first edge to guess the type of the edges\n    var graphType = EDGE_ELEMENTS[0]\n      ? EDGE_ELEMENTS[0].getAttribute('type') || DEFAULT_EDGE_TYPE\n      : 'mixed';\n\n    // Instantiating our graph\n    var graph = new Graph({\n      type: graphType\n    });\n\n    // Collecting meta\n    var meta = collectMeta(META_ELEMENTS),\n      lastModifiedDate =\n        META_ELEMENT && META_ELEMENT.getAttribute('lastmodifieddate');\n\n    graph.replaceAttributes(meta);\n\n    if (lastModifiedDate)\n      graph.setAttribute('lastModifiedDate', lastModifiedDate);\n\n    // Adding nodes\n    for (i = 0, l = NODE_ELEMENTS.length; i < l; i++) {\n      element = NODE_ELEMENTS[i];\n\n      graph.addNode(\n        element.getAttribute('id'),\n        collectAttributes(NODE_MODEL, NODE_DEFAULT_ATTRIBUTES, element)\n      );\n    }\n\n    // Adding edges\n    for (i = 0, l = EDGE_ELEMENTS.length; i < l; i++) {\n      element = EDGE_ELEMENTS[i];\n\n      id = element.getAttribute('id');\n      type = element.getAttribute('type') || DEFAULT_EDGE_TYPE;\n      s = element.getAttribute('source');\n      t = element.getAttribute('target');\n      attributes = collectAttributes(\n        EDGE_MODEL,\n        EDGE_DEFAULT_ATTRIBUTES,\n        element\n      );\n\n      // If we encountered an edge with a different type, we upgrade the graph\n      if (type !== graph.type && graph.type !== 'mixed') {\n        graph = toMixed(graph);\n      }\n\n      // If we encountered twice the same edge, we upgrade the graph\n      if (\n        !graph.multi &&\n        ((type === 'directed' && graph.hasDirectedEdge(s, t)) ||\n          graph.hasUndirectedEdge(s, t))\n      ) {\n        graph = toMulti(graph);\n      }\n\n      mergeResult = mergeEdge(\n        graph,\n        type !== 'directed',\n        id || null,\n        s,\n        t,\n        attributes\n      );\n\n      if (!addMissingNodes && (mergeResult[2] || mergeResult[3])) {\n        throw new Error(\n          'graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.'\n        );\n      }\n    }\n\n    return graph;\n  };\n};\n","/* eslint no-self-compare: 0 */\n/**\n * Graphology Common GEXF Writer\n * ==============================\n *\n * GEXF writer working for both node.js & the browser.\n */\nvar isGraph = require('graphology-utils/is-graph'),\n  inferType = require('graphology-utils/infer-type'),\n  XMLWriter = require('xml-writer'),\n  sanitizeTagName = require('./helpers.js').sanitizeTagName;\n\n// TODO: handle object in color, position with object for viz\n\n/**\n * Constants.\n */\nvar GEXF_NAMESPACE = 'http://www.gexf.net/1.2draft',\n  GEXF_VIZ_NAMESPACE = 'http:///www.gexf.net/1.1draft/viz';\n\nvar VIZ_RESERVED_NAMES = new Set([\n  'color',\n  'size',\n  'x',\n  'y',\n  'z',\n  'shape',\n  'thickness'\n]);\n\nvar RGBA_TEST = /^\\s*rgba?\\s*\\(/i,\n  RGBA_MATCH =\n    /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*(?:,\\s*([.0-9]*))?\\)\\s*$/;\n\n/**\n * Function used to transform a CSS color into a RGBA object.\n *\n * @param  {string} value - Target value.\n * @return {object}\n */\nfunction CSSColorToRGBA(value) {\n  if (!value || typeof value !== 'string') return {};\n\n  if (value[0] === '#') {\n    value = value.slice(1);\n\n    return value.length === 3\n      ? {\n          r: parseInt(value[0] + value[0], 16),\n          g: parseInt(value[1] + value[1], 16),\n          b: parseInt(value[2] + value[2], 16)\n        }\n      : {\n          r: parseInt(value[0] + value[1], 16),\n          g: parseInt(value[2] + value[3], 16),\n          b: parseInt(value[4] + value[5], 16)\n        };\n  } else if (RGBA_TEST.test(value)) {\n    var result = {};\n\n    value = value.match(RGBA_MATCH);\n    result.r = +value[1];\n    result.g = +value[2];\n    result.b = +value[3];\n\n    if (value[4]) result.a = +value[4];\n\n    return result;\n  }\n\n  return {};\n}\n\n/**\n * Function used to map an element's attributes to a standardized map of\n * GEXF expected properties (label, viz, attributes).\n *\n * @param  {string} type       - The element's type.\n * @param  {string} key        - The element's key.\n * @param  {object} attributes - The element's attributes.\n * @return {object}\n */\nfunction DEFAULT_ELEMENT_FORMATTER(type, key, attributes) {\n  var output = {},\n    name;\n\n  for (name in attributes) {\n    if (name === 'label') {\n      output.label = attributes.label;\n    } else if (type === 'edge' && name === 'weight') {\n      output.weight = attributes.weight;\n    } else if (VIZ_RESERVED_NAMES.has(name)) {\n      output.viz = output.viz || {};\n      output.viz[name] = attributes[name];\n    } else {\n      output.attributes = output.attributes || {};\n      output.attributes[name] = attributes[name];\n    }\n  }\n\n  return output;\n}\n\nvar DEFAULT_NODE_FORMATTER = DEFAULT_ELEMENT_FORMATTER.bind(null, 'node'),\n  DEFAULT_EDGE_FORMATTER = DEFAULT_ELEMENT_FORMATTER.bind(null, 'edge');\n\n/**\n * Function used to check whether the given integer is 32 bits or not.\n *\n * @param  {number} number - Target number.\n * @return {boolean}\n */\nfunction is32BitInteger(number) {\n  return number <= 0x7fffffff && number >= -0x7fffffff;\n}\n\n/**\n * Function used to check whether the given value is \"empty\".\n *\n * @param  {any} value - Target value.\n * @return {boolean}\n */\nfunction isEmptyValue(value) {\n  return (\n    typeof value === 'undefined' ||\n    value === null ||\n    value === '' ||\n    value !== value\n  );\n}\n\n/**\n * Function used to detect a JavaScript's value type in the GEXF model.\n *\n * @param  {any}    value - Target value.\n * @return {string}\n */\nfunction detectValueType(value) {\n  if (isEmptyValue(value)) return 'empty';\n\n  if (Array.isArray(value)) return 'liststring';\n\n  if (typeof value === 'boolean') return 'boolean';\n\n  if (typeof value === 'object') return 'string';\n\n  // Numbers\n  if (typeof value === 'number') {\n    // Integer\n    if (value === (value | 0)) {\n      // Long (JavaScript integer can go up to 53 bit)?\n      return is32BitInteger(value) ? 'integer' : 'long';\n    }\n\n    // JavaScript numbers are 64 bit float, hence the double\n    return 'double';\n  }\n\n  return 'string';\n}\n\n/**\n * Function used to cast the given value into the given type.\n *\n * @param  {string} type  - Target type.\n * @param  {any}    value - Value to cast.\n * @return {string}\n */\nfunction cast(type, value) {\n  if (type === 'liststring' && Array.isArray(value)) return value.join('|');\n  return '' + value;\n}\n\n/**\n * Function used to collect data from a graph's nodes.\n *\n * @param  {Graph}    graph   - Target graph.\n * @param  {function} format  - Function formatting the nodes attributes.\n * @return {array}\n */\nfunction collectNodeData(graph, format) {\n  var nodes = new Array(graph.order);\n  var i = 0;\n\n  graph.forEachNode(function (node, attr) {\n    var data = format(node, attr);\n    data.key = node;\n    nodes[i++] = data;\n  });\n\n  return nodes;\n}\n\n/**\n * Function used to collect data from a graph's edges.\n *\n * @param  {Graph}    graph   - Target graph.\n * @param  {function} reducer - Function reducing the edges attributes.\n * @return {array}\n */\nfunction collectEdgeData(graph, reducer) {\n  var edges = new Array(graph.size);\n  var i = 0;\n\n  graph.forEachEdge(function (\n    edge,\n    attr,\n    source,\n    target,\n    _sa,\n    _ta,\n    undirected\n  ) {\n    var data = reducer(edge, attr);\n    data.key = edge;\n    data.source = source;\n    data.target = target;\n    data.undirected = undirected;\n    edges[i++] = data;\n  });\n\n  return edges;\n}\n\n/**\n * Function used to infer the model of the graph's nodes or edges.\n *\n * @param  {array} elements - The graph's relevant elements.\n * @return {array}\n */\n\n// TODO: on large graph, we could also sample or let the user indicate the types\nfunction inferModel(elements) {\n  var model = {},\n    attributes,\n    type,\n    k;\n\n  // Testing every attributes\n  for (var i = 0, l = elements.length; i < l; i++) {\n    attributes = elements[i].attributes;\n\n    if (!attributes) continue;\n\n    for (k in attributes) {\n      type = detectValueType(attributes[k]);\n\n      if (type === 'empty') continue;\n\n      if (!model[k]) model[k] = type;\n      else {\n        if (model[k] === 'integer' && type === 'long') model[k] = type;\n        else if (model[k] !== type) model[k] = 'string';\n      }\n    }\n  }\n\n  // TODO: check default values\n  return model;\n}\n\n/**\n * Function used to write a model.\n *\n * @param {XMLWriter} writer     - The writer to use.\n * @param {object}    model      - Model to write.\n * @param {string}    modelClass - Class of the model.\n */\nfunction writeModel(writer, model, modelClass) {\n  var name;\n\n  if (!Object.keys(model).length) return;\n\n  writer.startElement('attributes');\n  writer.writeAttribute('class', modelClass);\n\n  for (name in model) {\n    writer.startElement('attribute');\n    writer.writeAttribute('id', name);\n    writer.writeAttribute('title', name);\n    writer.writeAttribute('type', model[name]);\n    writer.endElement();\n  }\n\n  writer.endElement();\n}\n\nfunction writeElements(writer, type, model, elements) {\n  var emptyModel = !Object.keys(model).length,\n    element,\n    name,\n    color,\n    value,\n    edgeType,\n    attributes,\n    weight,\n    viz,\n    k,\n    i,\n    l;\n\n  writer.startElement(type + 's');\n\n  for (i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n    attributes = element.attributes;\n    viz = element.viz;\n\n    writer.startElement(type);\n    writer.writeAttribute('id', element.key);\n\n    if (type === 'edge') {\n      edgeType = element.undirected ? 'undirected' : 'directed';\n\n      if (edgeType !== writer.defaultEdgeType)\n        writer.writeAttribute('type', edgeType);\n\n      writer.writeAttribute('source', element.source);\n      writer.writeAttribute('target', element.target);\n\n      weight = element.weight;\n\n      if (\n        (typeof weight === 'number' && !isNaN(weight)) ||\n        typeof weight === 'string'\n      )\n        writer.writeAttribute('weight', element.weight);\n    }\n\n    if (element.label) writer.writeAttribute('label', element.label);\n\n    if (!emptyModel && attributes) {\n      writer.startElement('attvalues');\n\n      for (name in model) {\n        if (name in attributes) {\n          value = attributes[name];\n\n          if (isEmptyValue(value)) continue;\n\n          writer.startElement('attvalue');\n          writer.writeAttribute('for', name);\n          writer.writeAttribute('value', cast(model[name], value));\n          writer.endElement();\n        }\n      }\n\n      writer.endElement();\n    }\n\n    if (viz) {\n      //-- 1) Color\n      if (viz.color) {\n        color = CSSColorToRGBA(viz.color);\n\n        writer.startElementNS('viz', 'color');\n\n        for (k in color) writer.writeAttribute(k, color[k]);\n\n        writer.endElement();\n      }\n\n      //-- 2) Size\n      if ('size' in viz) {\n        writer.startElementNS('viz', 'size');\n        writer.writeAttribute('value', viz.size);\n        writer.endElement();\n      }\n\n      //-- 3) Position\n      if ('x' in viz || 'y' in viz || 'z' in viz) {\n        writer.startElementNS('viz', 'position');\n\n        if ('x' in viz) writer.writeAttribute('x', viz.x);\n\n        if ('y' in viz) writer.writeAttribute('y', viz.y);\n\n        if ('z' in viz) writer.writeAttribute('z', viz.z);\n\n        writer.endElement();\n      }\n\n      //-- 4) Shape\n      if (viz.shape) {\n        writer.startElementNS('viz', 'shape');\n        writer.writeAttribute('value', viz.shape);\n        writer.endElement();\n      }\n\n      //-- 5) Thickness\n      if ('thickness' in viz) {\n        writer.startElementNS('viz', 'thickness');\n        writer.writeAttribute('value', viz.thickness);\n        writer.endElement();\n      }\n    }\n\n    writer.endElement();\n  }\n\n  writer.endElement();\n}\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  encoding: 'UTF-8',\n  pretty: true,\n  formatNode: DEFAULT_NODE_FORMATTER,\n  formatEdge: DEFAULT_EDGE_FORMATTER\n};\n\n/**\n * Function taking a graphology instance & outputting a gexf string.\n *\n * @param  {Graph}  graph        - Target graphology instance.\n * @param  {object} options      - Options:\n * @param  {string}   [encoding]   - Character encoding.\n * @param  {boolean}  [pretty]     - Whether to pretty print output.\n * @param  {function} [formatNode] - Function formatting nodes' output.\n * @param  {function} [formatEdge] - Function formatting edges' output.\n * @return {string}              - GEXF string.\n */\nmodule.exports = function write(graph, options) {\n  if (!isGraph(graph))\n    throw new Error('graphology-gexf/writer: invalid graphology instance.');\n\n  options = options || {};\n\n  var indent = options.pretty === false ? false : '  ';\n\n  var formatNode = options.formatNode || DEFAULTS.formatNode,\n    formatEdge = options.formatEdge || DEFAULTS.formatEdge;\n\n  var writer = new XMLWriter(indent);\n\n  writer.startDocument('1.0', options.encoding || DEFAULTS.encoding);\n\n  // Starting gexf\n  writer.startElement('gexf');\n  writer.writeAttribute('version', '1.2');\n  writer.writeAttribute('xmlns', GEXF_NAMESPACE);\n  writer.writeAttribute('xmlns:viz', GEXF_VIZ_NAMESPACE);\n\n  // Processing meta\n  writer.startElement('meta');\n  var graphAttributes = graph.getAttributes();\n\n  if (graphAttributes.lastModifiedDate)\n    writer.writeAttribute('lastmodifieddate', graphAttributes.lastModifiedDate);\n\n  var metaTagName;\n  var graphAttribute;\n\n  for (var k in graphAttributes) {\n    if (k === 'lastModifiedDate') continue;\n\n    metaTagName = sanitizeTagName(k);\n\n    if (!metaTagName) continue;\n\n    graphAttribute = graphAttributes[k];\n\n    // NOTE: if the graph attribute is not a scalar, we do not bother writing\n    // it as metadata in the gexf output. This means the writer/parser is not\n    // idempotent, but we cannot do better because the gexf format does not\n    // allow it, since it was not meant to handle complex values as graph\n    // metadata anyway.\n    if (\n      typeof graphAttribute === 'string' ||\n      typeof graphAttribute === 'number' ||\n      typeof graphAttribute === 'boolean'\n    ) {\n      writer.writeElement(metaTagName, '' + graphAttribute);\n    }\n  }\n\n  writer.endElement();\n  writer.startElement('graph');\n\n  var type = inferType(graph);\n\n  writer.defaultEdgeType = type === 'mixed' ? 'directed' : type;\n\n  writer.writeAttribute('defaultedgetype', writer.defaultEdgeType);\n\n  // Processing model\n  var nodes = collectNodeData(graph, formatNode),\n    edges = collectEdgeData(graph, formatEdge);\n\n  var nodeModel = inferModel(nodes);\n\n  writeModel(writer, nodeModel, 'node');\n\n  var edgeModel = inferModel(edges);\n\n  writeModel(writer, edgeModel, 'edge');\n\n  // Processing nodes\n  writeElements(writer, 'node', nodeModel, nodes);\n\n  // Processing edges\n  writeElements(writer, 'edge', edgeModel, edges);\n\n  return writer.toString();\n};\n","/**\n * Graphology Louvain Indices\n * ===========================\n *\n * Undirected & Directed Louvain Index structures used to compute the famous\n * Louvain community detection algorithm.\n *\n * Most of the rationale is explained in `graphology-metrics`.\n *\n * Note that this index shares a lot with the classic Union-Find data\n * structure. It also relies on a unused id stack to make sure we can\n * increase again the number of communites when isolating nodes.\n *\n * [Articles]\n * M. E. J. Newman, « Modularity and community structure in networks »,\n * Proc. Natl. Acad. Sci. USA, vol. 103, no 23, 2006, p. 8577–8582\n * https://dx.doi.org/10.1073%2Fpnas.0601602103\n *\n * Newman, M. E. J. « Community detection in networks: Modularity optimization\n * and maximum likelihood are equivalent ». Physical Review E, vol. 94, no 5,\n * novembre 2016, p. 052315. arXiv.org, doi:10.1103/PhysRevE.94.052315.\n * https://arxiv.org/pdf/1606.02319.pdf\n *\n * Blondel, Vincent D., et al. « Fast unfolding of communities in large\n * networks ». Journal of Statistical Mechanics: Theory and Experiment,\n * vol. 2008, no 10, octobre 2008, p. P10008. DOI.org (Crossref),\n * doi:10.1088/1742-5468/2008/10/P10008.\n * https://arxiv.org/pdf/0803.0476.pdf\n *\n * Nicolas Dugué, Anthony Perez. Directed Louvain: maximizing modularity in\n * directed networks. [Research Report] Université d’Orléans. 2015. hal-01231784\n * https://hal.archives-ouvertes.fr/hal-01231784\n *\n * R. Lambiotte, J.-C. Delvenne and M. Barahona. Laplacian Dynamics and\n * Multiscale Modular Structure in Networks,\n * doi:10.1109/TNSE.2015.2391998.\n * https://arxiv.org/abs/0812.1770\n *\n * [Latex]:\n *\n * Undirected Case:\n * ----------------\n *\n * \\Delta Q=\\bigg{[}\\frac{\\sum^{c}_{in}-(2d_{c}+l)}{2m}-\\bigg{(}\\frac{\\sum^{c}_{tot}-(d+l)}{2m}\\bigg{)}^{2}+\\frac{\\sum^{t}_{in}+(2d_{t}+l)}{2m}-\\bigg{(}\\frac{\\sum^{t}_{tot}+(d+l)}{2m}\\bigg{)}^{2}\\bigg{]}-\\bigg{[}\\frac{\\sum^{c}_{in}}{2m}-\\bigg{(}\\frac{\\sum^{c}_{tot}}{2m}\\bigg{)}^{2}+\\frac{\\sum^{t}_{in}}{2m}-\\bigg{(}\\frac{\\sum^{t}_{tot}}{2m}\\bigg{)}^{2}\\bigg{]}\n * \\Delta Q=\\frac{d_{t}-d_{c}}{m}+\\frac{l\\sum^{c}_{tot}+d\\sum^{c}_{tot}-d^{2}-l^{2}-2dl-l\\sum^{t}_{tot}-d\\sum^{t}_{tot}}{2m^{2}}\n * \\Delta Q=\\frac{d_{t}-d_{c}}{m}+\\frac{(l+d)\\sum^{c}_{tot}-d^{2}-l^{2}-2dl-(l+d)\\sum^{t}_{tot}}{2m^{2}}\n *\n * Directed Case:\n * --------------\n * \\Delta Q_d=\\bigg{[}\\frac{\\sum^{c}_{in}-(d_{c.in}+d_{c.out}+l)}{m}-\\frac{(\\sum^{c}_{tot.in}-(d_{in}+l))(\\sum^{c}_{tot.out}-(d_{out}+l))}{m^{2}}+\\frac{\\sum^{t}_{in}+(d_{t.in}+d_{t.out}+l)}{m}-\\frac{(\\sum^{t}_{tot.in}+(d_{in}+l))(\\sum^{t}_{tot.out}+(d_{out}+l))}{m^{2}}\\bigg{]}-\\bigg{[}\\frac{\\sum^{c}_{in}}{m}-\\frac{\\sum^{c}_{tot.in}\\sum^{c}_{tot.out}}{m^{2}}+\\frac{\\sum^{t}_{in}}{m}-\\frac{\\sum^{t}_{tot.in}\\sum^{t}_{tot.out}}{m^{2}}\\bigg{]}\n *\n * [Notes]:\n * Louvain is a bit unclear on this but delta computation are not derived from\n * Q1 - Q2 but rather between Q when considered node is isolated in its own\n * community versus Q with this node in target community. This is in fact\n * an optimization because the subtract part is constant in the formulae and\n * does not affect delta comparisons.\n */\nvar typed = require('mnemonist/utils/typed-arrays');\nvar resolveDefaults = require('graphology-utils/defaults');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\n\nvar INSPECT = Symbol.for('nodejs.util.inspect.custom');\n\nvar DEFAULTS = {\n  getEdgeWeight: 'weight',\n  keepDendrogram: false,\n  resolution: 1\n};\n\nfunction UndirectedLouvainIndex(graph, options) {\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var resolution = options.resolution;\n\n  // Weight getters\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Building the index\n  var size = (graph.size - graph.selfLoopCount) * 2;\n\n  var NeighborhoodPointerArray = typed.getPointerArray(size);\n  var NodesPointerArray = typed.getPointerArray(graph.order + 1);\n\n  // NOTE: this memory optimization can yield overflow deopt when computing deltas\n  var WeightsArray = options.getEdgeWeight\n    ? Float64Array\n    : typed.getPointerArray(graph.size * 2);\n\n  // Properties\n  this.C = graph.order;\n  this.M = 0;\n  this.E = size;\n  this.U = 0;\n  this.resolution = resolution;\n  this.level = 0;\n  this.graph = graph;\n  this.nodes = new Array(graph.order);\n  this.keepDendrogram = options.keepDendrogram;\n\n  // Edge-level\n  this.neighborhood = new NodesPointerArray(size);\n  this.weights = new WeightsArray(size);\n\n  // Node-level\n  this.loops = new WeightsArray(graph.order);\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n  this.belongings = new NodesPointerArray(graph.order);\n  this.dendrogram = [];\n  this.mapping = null;\n\n  // Community-level\n  this.counts = new NodesPointerArray(graph.order);\n  this.unused = new NodesPointerArray(graph.order);\n  this.totalWeights = new WeightsArray(graph.order);\n\n  var ids = {};\n\n  var weight;\n\n  var i = 0,\n    n = 0;\n\n  var self = this;\n\n  graph.forEachNode(function (node) {\n    self.nodes[i] = node;\n\n    // Node map to index\n    ids[node] = i;\n\n    // Initializing starts\n    n += graph.undirectedDegreeWithoutSelfLoops(node);\n    self.starts[i] = n;\n\n    // Belongings\n    self.belongings[i] = i;\n    self.counts[i] = 1;\n    i++;\n  });\n\n  // Single sweep over the edges\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    source = ids[source];\n    target = ids[target];\n\n    self.M += weight;\n\n    // Self loop?\n    if (source === target) {\n      self.totalWeights[source] += weight * 2;\n      self.loops[source] = weight * 2;\n    } else {\n      self.totalWeights[source] += weight;\n      self.totalWeights[target] += weight;\n\n      var startSource = --self.starts[source],\n        startTarget = --self.starts[target];\n\n      self.neighborhood[startSource] = target;\n      self.neighborhood[startTarget] = source;\n\n      self.weights[startSource] = weight;\n      self.weights[startTarget] = weight;\n    }\n  });\n\n  this.starts[i] = this.E;\n\n  if (this.keepDendrogram) this.dendrogram.push(this.belongings.slice());\n  else this.mapping = this.belongings.slice();\n}\n\nUndirectedLouvainIndex.prototype.isolate = function (i, degree) {\n  var currentCommunity = this.belongings[i];\n\n  // The node is already isolated\n  if (this.counts[currentCommunity] === 1) return currentCommunity;\n\n  var newCommunity = this.unused[--this.U];\n\n  var loops = this.loops[i];\n\n  this.totalWeights[currentCommunity] -= degree + loops;\n  this.totalWeights[newCommunity] += degree + loops;\n\n  this.belongings[i] = newCommunity;\n\n  this.counts[currentCommunity]--;\n  this.counts[newCommunity]++;\n\n  return newCommunity;\n};\n\nUndirectedLouvainIndex.prototype.move = function (i, degree, targetCommunity) {\n  var currentCommunity = this.belongings[i],\n    loops = this.loops[i];\n\n  this.totalWeights[currentCommunity] -= degree + loops;\n  this.totalWeights[targetCommunity] += degree + loops;\n\n  this.belongings[i] = targetCommunity;\n\n  var nowEmpty = this.counts[currentCommunity]-- === 1;\n  this.counts[targetCommunity]++;\n\n  if (nowEmpty) this.unused[this.U++] = currentCommunity;\n};\n\nUndirectedLouvainIndex.prototype.computeNodeDegree = function (i) {\n  var o, l, weight;\n\n  var degree = 0;\n\n  for (o = this.starts[i], l = this.starts[i + 1]; o < l; o++) {\n    weight = this.weights[o];\n\n    degree += weight;\n  }\n\n  return degree;\n};\n\nUndirectedLouvainIndex.prototype.expensiveIsolate = function (i) {\n  var degree = this.computeNodeDegree(i);\n  return this.isolate(i, degree);\n};\n\nUndirectedLouvainIndex.prototype.expensiveMove = function (i, ci) {\n  var degree = this.computeNodeDegree(i);\n  this.move(i, degree, ci);\n};\n\nUndirectedLouvainIndex.prototype.zoomOut = function () {\n  var inducedGraph = new Array(this.C - this.U),\n    newLabels = {};\n\n  var N = this.nodes.length;\n\n  var C = 0,\n    E = 0;\n\n  var i, j, l, m, n, ci, cj, data, adj;\n\n  // Renumbering communities\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    if (!(ci in newLabels)) {\n      newLabels[ci] = C;\n      inducedGraph[C] = {\n        adj: {},\n        totalWeights: this.totalWeights[ci],\n        internalWeights: 0\n      };\n      C++;\n    }\n\n    // We do this to otpimize the number of lookups in next loop\n    this.belongings[i] = newLabels[ci];\n  }\n\n  // Actualizing dendrogram\n  var currentLevel, nextLevel;\n\n  if (this.keepDendrogram) {\n    currentLevel = this.dendrogram[this.level];\n    nextLevel = new (typed.getPointerArray(C))(N);\n\n    for (i = 0; i < N; i++) nextLevel[i] = this.belongings[currentLevel[i]];\n\n    this.dendrogram.push(nextLevel);\n  } else {\n    for (i = 0; i < N; i++) this.mapping[i] = this.belongings[this.mapping[i]];\n  }\n\n  // Building induced graph matrix\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    data = inducedGraph[ci];\n    adj = data.adj;\n    data.internalWeights += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      n = this.neighborhood[j];\n      cj = this.belongings[n];\n\n      if (ci === cj) {\n        data.internalWeights += this.weights[j];\n        continue;\n      }\n\n      if (!(cj in adj)) adj[cj] = 0;\n\n      adj[cj] += this.weights[j];\n    }\n  }\n\n  // Rewriting neighborhood\n  this.C = C;\n\n  n = 0;\n\n  for (ci = 0; ci < C; ci++) {\n    data = inducedGraph[ci];\n    adj = data.adj;\n\n    ci = +ci;\n\n    this.totalWeights[ci] = data.totalWeights;\n    this.loops[ci] = data.internalWeights;\n    this.counts[ci] = 1;\n\n    this.starts[ci] = n;\n    this.belongings[ci] = ci;\n\n    for (cj in adj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = adj[cj];\n\n      E++;\n      n++;\n    }\n  }\n\n  this.starts[C] = E;\n\n  this.E = E;\n  this.U = 0;\n  this.level++;\n\n  return newLabels;\n};\n\nUndirectedLouvainIndex.prototype.modularity = function () {\n  var ci, cj, i, j, m;\n\n  var Q = 0;\n  var M2 = this.M * 2;\n  var internalWeights = new Float64Array(this.C);\n\n  for (i = 0; i < this.C; i++) {\n    ci = this.belongings[i];\n    internalWeights[ci] += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      cj = this.belongings[this.neighborhood[j]];\n\n      if (ci !== cj) continue;\n\n      internalWeights[ci] += this.weights[j];\n    }\n  }\n\n  for (i = 0; i < this.C; i++) {\n    Q +=\n      internalWeights[i] / M2 -\n      Math.pow(this.totalWeights[i] / M2, 2) * this.resolution;\n  }\n\n  return Q;\n};\n\nUndirectedLouvainIndex.prototype.delta = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree / M - // NOTE: formula is a bit different here because targetCommunityDegree is passed without * 2\n    (targetCommunityTotalWeight * degree * this.resolution) / (2 * M * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.deltaWithOwnCommunity = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree / M - // NOTE: formula is a bit different here because targetCommunityDegree is passed without * 2\n    ((targetCommunityTotalWeight - degree) * degree * this.resolution) /\n      (2 * M * M)\n  );\n};\n\n// NOTE: this is just a faster but equivalent version of #.delta\n// It is just off by a constant factor and is just faster to compute\nUndirectedLouvainIndex.prototype.fastDelta = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree -\n    (degree * targetCommunityTotalWeight * this.resolution) / (2 * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.fastDeltaWithOwnCommunity = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree -\n    (degree * (targetCommunityTotalWeight - degree) * this.resolution) / (2 * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.bounds = function (i) {\n  return [this.starts[i], this.starts[i + 1]];\n};\n\nUndirectedLouvainIndex.prototype.project = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nUndirectedLouvainIndex.prototype.collect = function (level) {\n  if (arguments.length < 1) level = this.level;\n\n  var o = {};\n\n  var mapping = this.keepDendrogram ? this.dendrogram[level] : this.mapping;\n\n  var i, l;\n\n  for (i = 0, l = mapping.length; i < l; i++) o[this.nodes[i]] = mapping[i];\n\n  return o;\n};\n\nUndirectedLouvainIndex.prototype.assign = function (prop, level) {\n  if (arguments.length < 2) level = this.level;\n\n  var mapping = this.keepDendrogram ? this.dendrogram[level] : this.mapping;\n\n  var i, l;\n\n  for (i = 0, l = mapping.length; i < l; i++)\n    this.graph.setNodeAttribute(this.nodes[i], prop, mapping[i]);\n};\n\nUndirectedLouvainIndex.prototype[INSPECT] = function () {\n  var proxy = {};\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: UndirectedLouvainIndex,\n    enumerable: false\n  });\n\n  proxy.C = this.C;\n  proxy.M = this.M;\n  proxy.E = this.E;\n  proxy.U = this.U;\n  proxy.resolution = this.resolution;\n  proxy.level = this.level;\n  proxy.nodes = this.nodes;\n  proxy.starts = this.starts.slice(0, proxy.C + 1);\n\n  var eTruncated = ['neighborhood', 'weights'];\n  var cTruncated = ['counts', 'loops', 'belongings', 'totalWeights'];\n\n  var self = this;\n\n  eTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.E);\n  });\n\n  cTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.C);\n  });\n\n  proxy.unused = this.unused.slice(0, this.U);\n\n  if (this.keepDendrogram) proxy.dendrogram = this.dendrogram;\n  else proxy.mapping = this.mapping;\n\n  return proxy;\n};\n\nfunction DirectedLouvainIndex(graph, options) {\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var resolution = options.resolution;\n\n  // Weight getters\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Building the index\n  var size = (graph.size - graph.selfLoopCount) * 2;\n\n  var NeighborhoodPointerArray = typed.getPointerArray(size);\n  var NodesPointerArray = typed.getPointerArray(graph.order + 1);\n\n  // NOTE: this memory optimization can yield overflow deopt when computing deltas\n  var WeightsArray = options.getEdgeWeight\n    ? Float64Array\n    : typed.getPointerArray(graph.size * 2);\n\n  // Properties\n  this.C = graph.order;\n  this.M = 0;\n  this.E = size;\n  this.U = 0;\n  this.resolution = resolution;\n  this.level = 0;\n  this.graph = graph;\n  this.nodes = new Array(graph.order);\n  this.keepDendrogram = options.keepDendrogram;\n\n  // Edge-level\n  // NOTE: edges are stored out then in, in this order\n  this.neighborhood = new NodesPointerArray(size);\n  this.weights = new WeightsArray(size);\n\n  // Node-level\n  this.loops = new WeightsArray(graph.order);\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n  this.offsets = new NeighborhoodPointerArray(graph.order);\n  this.belongings = new NodesPointerArray(graph.order);\n  this.dendrogram = [];\n\n  // Community-level\n  this.counts = new NodesPointerArray(graph.order);\n  this.unused = new NodesPointerArray(graph.order);\n  this.totalInWeights = new WeightsArray(graph.order);\n  this.totalOutWeights = new WeightsArray(graph.order);\n\n  var ids = {};\n\n  var weight;\n\n  var i = 0,\n    n = 0;\n\n  var self = this;\n\n  graph.forEachNode(function (node) {\n    self.nodes[i] = node;\n\n    // Node map to index\n    ids[node] = i;\n\n    // Initializing starts & offsets\n    n += graph.outDegreeWithoutSelfLoops(node);\n    self.starts[i] = n;\n\n    n += graph.inDegreeWithoutSelfLoops(node);\n    self.offsets[i] = n;\n\n    // Belongings\n    self.belongings[i] = i;\n    self.counts[i] = 1;\n    i++;\n  });\n\n  // Single sweep over the edges\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    source = ids[source];\n    target = ids[target];\n\n    self.M += weight;\n\n    // Self loop?\n    if (source === target) {\n      self.loops[source] += weight;\n      self.totalInWeights[source] += weight;\n      self.totalOutWeights[source] += weight;\n    } else {\n      self.totalOutWeights[source] += weight;\n      self.totalInWeights[target] += weight;\n\n      var startSource = --self.starts[source],\n        startTarget = --self.offsets[target];\n\n      self.neighborhood[startSource] = target;\n      self.neighborhood[startTarget] = source;\n\n      self.weights[startSource] = weight;\n      self.weights[startTarget] = weight;\n    }\n  });\n\n  this.starts[i] = this.E;\n\n  if (this.keepDendrogram) this.dendrogram.push(this.belongings.slice());\n  else this.mapping = this.belongings.slice();\n}\n\nDirectedLouvainIndex.prototype.bounds = UndirectedLouvainIndex.prototype.bounds;\n\nDirectedLouvainIndex.prototype.inBounds = function (i) {\n  return [this.offsets[i], this.starts[i + 1]];\n};\n\nDirectedLouvainIndex.prototype.outBounds = function (i) {\n  return [this.starts[i], this.offsets[i]];\n};\n\nDirectedLouvainIndex.prototype.project =\n  UndirectedLouvainIndex.prototype.project;\n\nDirectedLouvainIndex.prototype.projectIn = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.offsets[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nDirectedLouvainIndex.prototype.projectOut = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.offsets[i])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nDirectedLouvainIndex.prototype.isolate = function (i, inDegree, outDegree) {\n  var currentCommunity = this.belongings[i];\n\n  // The node is already isolated\n  if (this.counts[currentCommunity] === 1) return currentCommunity;\n\n  var newCommunity = this.unused[--this.U];\n\n  var loops = this.loops[i];\n\n  this.totalInWeights[currentCommunity] -= inDegree + loops;\n  this.totalInWeights[newCommunity] += inDegree + loops;\n\n  this.totalOutWeights[currentCommunity] -= outDegree + loops;\n  this.totalOutWeights[newCommunity] += outDegree + loops;\n\n  this.belongings[i] = newCommunity;\n\n  this.counts[currentCommunity]--;\n  this.counts[newCommunity]++;\n\n  return newCommunity;\n};\n\nDirectedLouvainIndex.prototype.move = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunity\n) {\n  var currentCommunity = this.belongings[i],\n    loops = this.loops[i];\n\n  this.totalInWeights[currentCommunity] -= inDegree + loops;\n  this.totalInWeights[targetCommunity] += inDegree + loops;\n\n  this.totalOutWeights[currentCommunity] -= outDegree + loops;\n  this.totalOutWeights[targetCommunity] += outDegree + loops;\n\n  this.belongings[i] = targetCommunity;\n\n  var nowEmpty = this.counts[currentCommunity]-- === 1;\n  this.counts[targetCommunity]++;\n\n  if (nowEmpty) this.unused[this.U++] = currentCommunity;\n};\n\nDirectedLouvainIndex.prototype.computeNodeInDegree = function (i) {\n  var o, l, weight;\n\n  var inDegree = 0;\n\n  for (o = this.offsets[i], l = this.starts[i + 1]; o < l; o++) {\n    weight = this.weights[o];\n\n    inDegree += weight;\n  }\n\n  return inDegree;\n};\n\nDirectedLouvainIndex.prototype.computeNodeOutDegree = function (i) {\n  var o, l, weight;\n\n  var outDegree = 0;\n\n  for (o = this.starts[i], l = this.offsets[i]; o < l; o++) {\n    weight = this.weights[o];\n\n    outDegree += weight;\n  }\n\n  return outDegree;\n};\n\nDirectedLouvainIndex.prototype.expensiveMove = function (i, ci) {\n  var inDegree = this.computeNodeInDegree(i),\n    outDegree = this.computeNodeOutDegree(i);\n\n  this.move(i, inDegree, outDegree, ci);\n};\n\nDirectedLouvainIndex.prototype.zoomOut = function () {\n  var inducedGraph = new Array(this.C - this.U),\n    newLabels = {};\n\n  var N = this.nodes.length;\n\n  var C = 0,\n    E = 0;\n\n  var i, j, l, m, n, ci, cj, data, offset, out, adj, inAdj, outAdj;\n\n  // Renumbering communities\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    if (!(ci in newLabels)) {\n      newLabels[ci] = C;\n      inducedGraph[C] = {\n        inAdj: {},\n        outAdj: {},\n        totalInWeights: this.totalInWeights[ci],\n        totalOutWeights: this.totalOutWeights[ci],\n        internalWeights: 0\n      };\n      C++;\n    }\n\n    // We do this to otpimize the number of lookups in next loop\n    this.belongings[i] = newLabels[ci];\n  }\n\n  // Actualizing dendrogram\n  var currentLevel, nextLevel;\n\n  if (this.keepDendrogram) {\n    currentLevel = this.dendrogram[this.level];\n    nextLevel = new (typed.getPointerArray(C))(N);\n\n    for (i = 0; i < N; i++) nextLevel[i] = this.belongings[currentLevel[i]];\n\n    this.dendrogram.push(nextLevel);\n  } else {\n    for (i = 0; i < N; i++) this.mapping[i] = this.belongings[this.mapping[i]];\n  }\n\n  // Building induced graph matrix\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n    offset = this.offsets[i];\n\n    data = inducedGraph[ci];\n    inAdj = data.inAdj;\n    outAdj = data.outAdj;\n    data.internalWeights += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      n = this.neighborhood[j];\n      cj = this.belongings[n];\n      out = j < offset;\n\n      adj = out ? outAdj : inAdj;\n\n      if (ci === cj) {\n        if (out) data.internalWeights += this.weights[j];\n\n        continue;\n      }\n\n      if (!(cj in adj)) adj[cj] = 0;\n\n      adj[cj] += this.weights[j];\n    }\n  }\n\n  // Rewriting neighborhood\n  this.C = C;\n\n  n = 0;\n\n  for (ci = 0; ci < C; ci++) {\n    data = inducedGraph[ci];\n    inAdj = data.inAdj;\n    outAdj = data.outAdj;\n\n    ci = +ci;\n\n    this.totalInWeights[ci] = data.totalInWeights;\n    this.totalOutWeights[ci] = data.totalOutWeights;\n    this.loops[ci] = data.internalWeights;\n    this.counts[ci] = 1;\n\n    this.starts[ci] = n;\n    this.belongings[ci] = ci;\n\n    for (cj in outAdj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = outAdj[cj];\n\n      E++;\n      n++;\n    }\n\n    this.offsets[ci] = n;\n\n    for (cj in inAdj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = inAdj[cj];\n\n      E++;\n      n++;\n    }\n  }\n\n  this.starts[C] = E;\n\n  this.E = E;\n  this.U = 0;\n  this.level++;\n\n  return newLabels;\n};\n\nDirectedLouvainIndex.prototype.modularity = function () {\n  var ci, cj, i, j, m;\n\n  var Q = 0;\n  var M = this.M;\n  var internalWeights = new Float64Array(this.C);\n\n  for (i = 0; i < this.C; i++) {\n    ci = this.belongings[i];\n    internalWeights[ci] += this.loops[i];\n\n    for (j = this.starts[i], m = this.offsets[i]; j < m; j++) {\n      cj = this.belongings[this.neighborhood[j]];\n\n      if (ci !== cj) continue;\n\n      internalWeights[ci] += this.weights[j];\n    }\n  }\n\n  for (i = 0; i < this.C; i++)\n    Q +=\n      internalWeights[i] / M -\n      ((this.totalInWeights[i] * this.totalOutWeights[i]) / Math.pow(M, 2)) *\n        this.resolution;\n\n  return Q;\n};\n\nDirectedLouvainIndex.prototype.delta = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalInWeight = this.totalInWeights[targetCommunity],\n    targetCommunityTotalOutWeight = this.totalOutWeights[targetCommunity];\n\n  var loops = this.loops[i];\n\n  inDegree += loops;\n  outDegree += loops;\n\n  return (\n    targetCommunityDegree / M -\n    ((outDegree * targetCommunityTotalInWeight +\n      inDegree * targetCommunityTotalOutWeight) *\n      this.resolution) /\n      (M * M)\n  );\n};\n\nDirectedLouvainIndex.prototype.deltaWithOwnCommunity = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalInWeight = this.totalInWeights[targetCommunity],\n    targetCommunityTotalOutWeight = this.totalOutWeights[targetCommunity];\n\n  var loops = this.loops[i];\n\n  inDegree += loops;\n  outDegree += loops;\n\n  return (\n    targetCommunityDegree / M -\n    ((outDegree * (targetCommunityTotalInWeight - inDegree) +\n      inDegree * (targetCommunityTotalOutWeight - outDegree)) *\n      this.resolution) /\n      (M * M)\n  );\n};\n\nDirectedLouvainIndex.prototype.collect =\n  UndirectedLouvainIndex.prototype.collect;\nDirectedLouvainIndex.prototype.assign = UndirectedLouvainIndex.prototype.assign;\n\nDirectedLouvainIndex.prototype[INSPECT] = function () {\n  var proxy = {};\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: DirectedLouvainIndex,\n    enumerable: false\n  });\n\n  proxy.C = this.C;\n  proxy.M = this.M;\n  proxy.E = this.E;\n  proxy.U = this.U;\n  proxy.resolution = this.resolution;\n  proxy.level = this.level;\n  proxy.nodes = this.nodes;\n  proxy.starts = this.starts.slice(0, proxy.C + 1);\n\n  var eTruncated = ['neighborhood', 'weights'];\n  var cTruncated = [\n    'counts',\n    'offsets',\n    'loops',\n    'belongings',\n    'totalInWeights',\n    'totalOutWeights'\n  ];\n\n  var self = this;\n\n  eTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.E);\n  });\n\n  cTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.C);\n  });\n\n  proxy.unused = this.unused.slice(0, this.U);\n\n  if (this.keepDendrogram) proxy.dendrogram = this.dendrogram;\n  else proxy.mapping = this.mapping;\n\n  return proxy;\n};\n\nexports.UndirectedLouvainIndex = UndirectedLouvainIndex;\nexports.DirectedLouvainIndex = DirectedLouvainIndex;\n","/**\n * Graphology ForceAtlas2 Layout Default Settings\n * ===============================================\n */\nmodule.exports = {\n  linLogMode: false,\n  outboundAttractionDistribution: false,\n  adjustSizes: false,\n  edgeWeightInfluence: 1,\n  scalingRatio: 1,\n  strongGravityMode: false,\n  gravity: 1,\n  slowDown: 1,\n  barnesHutOptimize: false,\n  barnesHutTheta: 0.5\n};\n","/**\n * Graphology ForceAtlas2 Helpers\n * ===============================\n *\n * Miscellaneous helper functions.\n */\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\n\n/**\n * Very simple Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nexports.assign = function (target) {\n  target = target || {};\n\n  var objects = Array.prototype.slice.call(arguments).slice(1),\n    i,\n    k,\n    l;\n\n  for (i = 0, l = objects.length; i < l; i++) {\n    if (!objects[i]) continue;\n\n    for (k in objects[i]) target[k] = objects[i][k];\n  }\n\n  return target;\n};\n\n/**\n * Function used to validate the given settings.\n *\n * @param  {object}      settings - Settings to validate.\n * @return {object|null}\n */\nexports.validateSettings = function (settings) {\n  if ('linLogMode' in settings && typeof settings.linLogMode !== 'boolean')\n    return {message: 'the `linLogMode` setting should be a boolean.'};\n\n  if (\n    'outboundAttractionDistribution' in settings &&\n    typeof settings.outboundAttractionDistribution !== 'boolean'\n  )\n    return {\n      message:\n        'the `outboundAttractionDistribution` setting should be a boolean.'\n    };\n\n  if ('adjustSizes' in settings && typeof settings.adjustSizes !== 'boolean')\n    return {message: 'the `adjustSizes` setting should be a boolean.'};\n\n  if (\n    'edgeWeightInfluence' in settings &&\n    typeof settings.edgeWeightInfluence !== 'number'\n  )\n    return {\n      message: 'the `edgeWeightInfluence` setting should be a number.'\n    };\n\n  if (\n    'scalingRatio' in settings &&\n    !(typeof settings.scalingRatio === 'number' && settings.scalingRatio >= 0)\n  )\n    return {message: 'the `scalingRatio` setting should be a number >= 0.'};\n\n  if (\n    'strongGravityMode' in settings &&\n    typeof settings.strongGravityMode !== 'boolean'\n  )\n    return {message: 'the `strongGravityMode` setting should be a boolean.'};\n\n  if (\n    'gravity' in settings &&\n    !(typeof settings.gravity === 'number' && settings.gravity >= 0)\n  )\n    return {message: 'the `gravity` setting should be a number >= 0.'};\n\n  if (\n    'slowDown' in settings &&\n    !(typeof settings.slowDown === 'number' || settings.slowDown >= 0)\n  )\n    return {message: 'the `slowDown` setting should be a number >= 0.'};\n\n  if (\n    'barnesHutOptimize' in settings &&\n    typeof settings.barnesHutOptimize !== 'boolean'\n  )\n    return {message: 'the `barnesHutOptimize` setting should be a boolean.'};\n\n  if (\n    'barnesHutTheta' in settings &&\n    !(\n      typeof settings.barnesHutTheta === 'number' &&\n      settings.barnesHutTheta >= 0\n    )\n  )\n    return {message: 'the `barnesHutTheta` setting should be a number >= 0.'};\n\n  return null;\n};\n\n/**\n * Function generating a flat matrix for both nodes & edges of the given graph.\n *\n * @param  {Graph}    graph         - Target graph.\n * @param  {function} getEdgeWeight - Edge weight getter function.\n * @return {object}                 - Both matrices.\n */\nexports.graphToByteArrays = function (graph, getEdgeWeight) {\n  var order = graph.order;\n  var size = graph.size;\n  var index = {};\n  var j;\n\n  // NOTE: float32 could lead to issues if edge array needs to index large\n  // number of nodes.\n  var NodeMatrix = new Float32Array(order * PPN);\n  var EdgeMatrix = new Float32Array(size * PPE);\n\n  // Iterate through nodes\n  j = 0;\n  graph.forEachNode(function (node, attr) {\n    // Node index\n    index[node] = j;\n\n    // Populating byte array\n    NodeMatrix[j] = attr.x;\n    NodeMatrix[j + 1] = attr.y;\n    NodeMatrix[j + 2] = 0; // dx\n    NodeMatrix[j + 3] = 0; // dy\n    NodeMatrix[j + 4] = 0; // old_dx\n    NodeMatrix[j + 5] = 0; // old_dy\n    NodeMatrix[j + 6] = 1; // mass\n    NodeMatrix[j + 7] = 1; // convergence\n    NodeMatrix[j + 8] = attr.size || 1;\n    NodeMatrix[j + 9] = attr.fixed ? 1 : 0;\n    j += PPN;\n  });\n\n  // Iterate through edges\n  j = 0;\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    var sj = index[source];\n    var tj = index[target];\n\n    var weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    // Incrementing mass to be a node's weighted degree\n    NodeMatrix[sj + 6] += weight;\n    NodeMatrix[tj + 6] += weight;\n\n    // Populating byte array\n    EdgeMatrix[j] = sj;\n    EdgeMatrix[j + 1] = tj;\n    EdgeMatrix[j + 2] = weight;\n    j += PPE;\n  });\n\n  return {\n    nodes: NodeMatrix,\n    edges: EdgeMatrix\n  };\n};\n\n/**\n * Function applying the layout back to the graph.\n *\n * @param {Graph}         graph         - Target graph.\n * @param {Float32Array}  NodeMatrix    - Node matrix.\n * @param {function|null} outputReducer - A node reducer.\n */\nexports.assignLayoutChanges = function (graph, NodeMatrix, outputReducer) {\n  var i = 0;\n\n  graph.updateEachNodeAttributes(function (node, attr) {\n    attr.x = NodeMatrix[i];\n    attr.y = NodeMatrix[i + 1];\n\n    i += PPN;\n\n    return outputReducer ? outputReducer(node, attr) : attr;\n  });\n};\n\n/**\n * Function reading the positions (only) from the graph, to write them in the matrix.\n *\n * @param {Graph}        graph      - Target graph.\n * @param {Float32Array} NodeMatrix - Node matrix.\n */\nexports.readGraphPositions = function (graph, NodeMatrix) {\n  var i = 0;\n\n  graph.forEachNode(function (node, attr) {\n    NodeMatrix[i] = attr.x;\n    NodeMatrix[i + 1] = attr.y;\n\n    i += PPN;\n  });\n};\n\n/**\n * Function collecting the layout positions.\n *\n * @param  {Graph}         graph         - Target graph.\n * @param  {Float32Array}  NodeMatrix    - Node matrix.\n * @param  {function|null} outputReducer - A nodes reducer.\n * @return {object}                      - Map to node positions.\n */\nexports.collectLayoutChanges = function (graph, NodeMatrix, outputReducer) {\n  var nodes = graph.nodes(),\n    positions = {};\n\n  for (var i = 0, j = 0, l = NodeMatrix.length; i < l; i += PPN) {\n    if (outputReducer) {\n      var newAttr = Object.assign({}, graph.getNodeAttributes(nodes[j]));\n      newAttr.x = NodeMatrix[i];\n      newAttr.y = NodeMatrix[i + 1];\n      newAttr = outputReducer(nodes[j], newAttr);\n      positions[nodes[j]] = {\n        x: newAttr.x,\n        y: newAttr.y\n      };\n    } else {\n      positions[nodes[j]] = {\n        x: NodeMatrix[i],\n        y: NodeMatrix[i + 1]\n      };\n    }\n\n    j++;\n  }\n\n  return positions;\n};\n\n/**\n * Function returning a web worker from the given function.\n *\n * @param  {function}  fn - Function for the worker.\n * @return {DOMString}\n */\nexports.createWorker = function createWorker(fn) {\n  var xURL = window.URL || window.webkitURL;\n  var code = fn.toString();\n  var objectUrl = xURL.createObjectURL(\n    new Blob(['(' + code + ').call(this);'], {type: 'text/javascript'})\n  );\n  var worker = new Worker(objectUrl);\n  xURL.revokeObjectURL(objectUrl);\n\n  return worker;\n};\n","/**\n * Graphology ForceAtlas2 Layout\n * ==============================\n *\n * Library endpoint.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\nvar iterate = require('./iterate.js');\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Asbtract function used to run a certain number of iterations.\n *\n * @param  {boolean}       assign          - Whether to assign positions.\n * @param  {Graph}         graph           - Target graph.\n * @param  {object|number} params          - If number, params.iterations, else:\n * @param  {function}        getWeight     - Edge weight getter function.\n * @param  {number}          iterations    - Number of iterations.\n * @param  {function|null}   outputReducer - A node reducer\n * @param  {object}          [settings]    - Settings.\n * @return {object|undefined}\n */\nfunction abstractSynchronousLayout(assign, graph, params) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2: the given graph is not a valid graphology instance.'\n    );\n\n  if (typeof params === 'number') params = {iterations: params};\n\n  var iterations = params.iterations;\n\n  if (typeof iterations !== 'number')\n    throw new Error(\n      'graphology-layout-forceatlas2: invalid number of iterations.'\n    );\n\n  if (iterations <= 0)\n    throw new Error(\n      'graphology-layout-forceatlas2: you should provide a positive number of iterations.'\n    );\n\n  var getEdgeWeight = createEdgeWeightGetter(\n    'getEdgeWeight' in params ? params.getEdgeWeight : 'weight'\n  ).fromEntry;\n\n  var outputReducer =\n    typeof params.outputReducer === 'function' ? params.outputReducer : null;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2: ' + validationError.message\n    );\n\n  // Building matrices\n  var matrices = helpers.graphToByteArrays(graph, getEdgeWeight);\n\n  var i;\n\n  // Iterating\n  for (i = 0; i < iterations; i++)\n    iterate(settings, matrices.nodes, matrices.edges);\n\n  // Applying\n  if (assign) {\n    helpers.assignLayoutChanges(graph, matrices.nodes, outputReducer);\n    return;\n  }\n\n  return helpers.collectLayoutChanges(graph, matrices.nodes);\n}\n\n/**\n * Function returning sane layout settings for the given graph.\n *\n * @param  {Graph|number} graph - Target graph or graph order.\n * @return {object}\n */\nfunction inferSettings(graph) {\n  var order = typeof graph === 'number' ? graph : graph.order;\n\n  return {\n    barnesHutOptimize: order > 2000,\n    strongGravityMode: true,\n    gravity: 0.05,\n    scalingRatio: 10,\n    slowDown: 1 + Math.log(order)\n  };\n}\n\n/**\n * Exporting.\n */\nvar synchronousLayout = abstractSynchronousLayout.bind(null, false);\nsynchronousLayout.assign = abstractSynchronousLayout.bind(null, true);\nsynchronousLayout.inferSettings = inferSettings;\n\nmodule.exports = synchronousLayout;\n","/* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance =\n        Math.sqrt(xDist * xDist + yDist * yDist) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE];\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n","/**\n * Graphology ForceAtlas2 Layout Webworker\n * ========================================\n *\n * Web worker able to run the layout in a separate thread.\n */\nmodule.exports = function worker() {\n  var NODES, EDGES;\n\n  var moduleShim = {};\n\n  (function () {\n    /* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmoduleShim.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance =\n        Math.sqrt(xDist * xDist + yDist * yDist) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE];\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n\n  })();\n\n  var iterate = moduleShim.exports;\n\n  self.addEventListener('message', function (event) {\n    var data = event.data;\n\n    NODES = new Float32Array(data.nodes);\n\n    if (data.edges) EDGES = new Float32Array(data.edges);\n\n    // Running the iteration\n    iterate(data.settings, NODES, EDGES);\n\n    // Sending result to supervisor\n    self.postMessage(\n      {\n        nodes: NODES.buffer\n      },\n      [NODES.buffer]\n    );\n  });\n};\n\n","/**\n * Graphology ForceAtlas2 Layout Supervisor\n * =========================================\n *\n * Supervisor class able to spawn a web worker to run the FA2 layout in a\n * separate thread not to block UI with heavy synchronous computations.\n */\nvar workerFunction = require('./webworker.js');\nvar isGraph = require('graphology-utils/is-graph');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Class representing a FA2 layout run by a webworker.\n *\n * @constructor\n * @param  {Graph}         graph        - Target graph.\n * @param  {object|number} params       - Parameters:\n * @param  {object}          [settings] - Settings.\n */\nfunction FA2LayoutSupervisor(graph, params) {\n  params = params || {};\n\n  // Validation\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.'\n    );\n\n  var getEdgeWeight = createEdgeWeightGetter(\n    'getEdgeWeight' in params ? params.getEdgeWeight : 'weight'\n  ).fromEntry;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2/worker: ' + validationError.message\n    );\n\n  // Properties\n  this.worker = null;\n  this.graph = graph;\n  this.settings = settings;\n  this.getEdgeWeight = getEdgeWeight;\n  this.matrices = null;\n  this.running = false;\n  this.killed = false;\n  this.outputReducer =\n    typeof params.outputReducer === 'function' ? params.outputReducer : null;\n\n  // Binding listeners\n  this.handleMessage = this.handleMessage.bind(this);\n\n  var respawnFrame = undefined;\n  var self = this;\n\n  this.handleGraphUpdate = function () {\n    if (self.worker) self.worker.terminate();\n\n    if (respawnFrame) clearTimeout(respawnFrame);\n\n    respawnFrame = setTimeout(function () {\n      respawnFrame = undefined;\n      self.spawnWorker();\n    }, 0);\n  };\n\n  graph.on('nodeAdded', this.handleGraphUpdate);\n  graph.on('edgeAdded', this.handleGraphUpdate);\n  graph.on('nodeDropped', this.handleGraphUpdate);\n  graph.on('edgeDropped', this.handleGraphUpdate);\n\n  // Spawning worker\n  this.spawnWorker();\n}\n\nFA2LayoutSupervisor.prototype.isRunning = function () {\n  return this.running;\n};\n\n/**\n * Internal method used to spawn the web worker.\n */\nFA2LayoutSupervisor.prototype.spawnWorker = function () {\n  if (this.worker) this.worker.terminate();\n\n  this.worker = helpers.createWorker(workerFunction);\n  this.worker.addEventListener('message', this.handleMessage);\n\n  if (this.running) {\n    this.running = false;\n    this.start();\n  }\n};\n\n/**\n * Internal method used to handle the worker's messages.\n *\n * @param {object} event - Event to handle.\n */\nFA2LayoutSupervisor.prototype.handleMessage = function (event) {\n  if (!this.running) return;\n\n  var matrix = new Float32Array(event.data.nodes);\n\n  helpers.assignLayoutChanges(this.graph, matrix, this.outputReducer);\n  if (this.outputReducer) helpers.readGraphPositions(this.graph, matrix);\n  this.matrices.nodes = matrix;\n\n  // Looping\n  this.askForIterations();\n};\n\n/**\n * Internal method used to ask for iterations from the worker.\n *\n * @param  {boolean} withEdges - Should we send edges along?\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.askForIterations = function (withEdges) {\n  var matrices = this.matrices;\n\n  var payload = {\n    settings: this.settings,\n    nodes: matrices.nodes.buffer\n  };\n\n  var buffers = [matrices.nodes.buffer];\n\n  if (withEdges) {\n    payload.edges = matrices.edges.buffer;\n    buffers.push(matrices.edges.buffer);\n  }\n\n  this.worker.postMessage(payload, buffers);\n\n  return this;\n};\n\n/**\n * Method used to start the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.start = function () {\n  if (this.killed)\n    throw new Error(\n      'graphology-layout-forceatlas2/worker.start: layout was killed.'\n    );\n\n  if (this.running) return this;\n\n  // Building matrices\n  this.matrices = helpers.graphToByteArrays(this.graph, this.getEdgeWeight);\n\n  this.running = true;\n  this.askForIterations(true);\n\n  return this;\n};\n\n/**\n * Method used to stop the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.stop = function () {\n  this.running = false;\n\n  return this;\n};\n\n/**\n * Method used to kill the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.kill = function () {\n  if (this.killed) return this;\n\n  this.running = false;\n  this.killed = true;\n\n  // Clearing memory\n  this.matrices = null;\n\n  // Terminating worker\n  this.worker.terminate();\n\n  // Unbinding listeners\n  this.graph.removeListener('nodeAdded', this.handleGraphUpdate);\n  this.graph.removeListener('edgeAdded', this.handleGraphUpdate);\n  this.graph.removeListener('nodeDropped', this.handleGraphUpdate);\n  this.graph.removeListener('edgeDropped', this.handleGraphUpdate);\n};\n\n/**\n * Exporting.\n */\nmodule.exports = FA2LayoutSupervisor;\n","/**\n * Graphology Noverlap Layout Default Settings\n * ============================================\n */\nmodule.exports = {\n  gridSize: 20,\n  margin: 5,\n  expansion: 1.1,\n  ratio: 1.0,\n  speed: 3\n};\n","/**\n * Graphology Noverlap Helpers\n * ============================\n *\n * Miscellaneous helper functions.\n */\n\n/**\n * Constants.\n */\nvar PPN = 3;\n\n/**\n * Function used to validate the given settings.\n *\n * @param  {object}      settings - Settings to validate.\n * @return {object|null}\n */\nexports.validateSettings = function (settings) {\n  if (\n    ('gridSize' in settings && typeof settings.gridSize !== 'number') ||\n    settings.gridSize <= 0\n  )\n    return {message: 'the `gridSize` setting should be a positive number.'};\n\n  if (\n    ('margin' in settings && typeof settings.margin !== 'number') ||\n    settings.margin < 0\n  )\n    return {\n      message: 'the `margin` setting should be 0 or a positive number.'\n    };\n\n  if (\n    ('expansion' in settings && typeof settings.expansion !== 'number') ||\n    settings.expansion <= 0\n  )\n    return {message: 'the `expansion` setting should be a positive number.'};\n\n  if (\n    ('ratio' in settings && typeof settings.ratio !== 'number') ||\n    settings.ratio <= 0\n  )\n    return {message: 'the `ratio` setting should be a positive number.'};\n\n  if (\n    ('speed' in settings && typeof settings.speed !== 'number') ||\n    settings.speed <= 0\n  )\n    return {message: 'the `speed` setting should be a positive number.'};\n\n  return null;\n};\n\n/**\n * Function generating a flat matrix for the given graph's nodes.\n *\n * @param  {Graph}        graph   - Target graph.\n * @param  {function}     reducer - Node reducer function.\n * @return {Float32Array}         - The node matrix.\n */\nexports.graphToByteArray = function (graph, reducer) {\n  var order = graph.order;\n\n  var matrix = new Float32Array(order * PPN);\n\n  var j = 0;\n\n  graph.forEachNode(function (node, attr) {\n    if (typeof reducer === 'function') attr = reducer(node, attr);\n\n    matrix[j] = attr.x;\n    matrix[j + 1] = attr.y;\n    matrix[j + 2] = attr.size || 1;\n    j += PPN;\n  });\n\n  return matrix;\n};\n\n/**\n * Function applying the layout back to the graph.\n *\n * @param {Graph}        graph      - Target graph.\n * @param {Float32Array} NodeMatrix - Node matrix.\n * @param {function}     reducer    - Reducing function.\n */\nexports.assignLayoutChanges = function (graph, NodeMatrix, reducer) {\n  var i = 0;\n\n  graph.forEachNode(function (node) {\n    var pos = {\n      x: NodeMatrix[i],\n      y: NodeMatrix[i + 1]\n    };\n\n    if (typeof reducer === 'function') pos = reducer(node, pos);\n\n    graph.mergeNodeAttributes(node, pos);\n\n    i += PPN;\n  });\n};\n\n/**\n * Function collecting the layout positions.\n *\n * @param  {Graph}        graph      - Target graph.\n * @param  {Float32Array} NodeMatrix - Node matrix.\n * @param  {function}     reducer    - Reducing function.\n * @return {object}                  - Map to node positions.\n */\nexports.collectLayoutChanges = function (graph, NodeMatrix, reducer) {\n  var positions = {};\n\n  var i = 0;\n\n  graph.forEachNode(function (node) {\n    var pos = {\n      x: NodeMatrix[i],\n      y: NodeMatrix[i + 1]\n    };\n\n    if (typeof reducer === 'function') pos = reducer(node, pos);\n\n    positions[node] = pos;\n\n    i += PPN;\n  });\n\n  return positions;\n};\n\n/**\n * Function returning a web worker from the given function.\n *\n * @param  {function}  fn - Function for the worker.\n * @return {DOMString}\n */\nexports.createWorker = function createWorker(fn) {\n  var xURL = window.URL || window.webkitURL;\n  var code = fn.toString();\n  var objectUrl = xURL.createObjectURL(\n    new Blob(['(' + code + ').call(this);'], {type: 'text/javascript'})\n  );\n  var worker = new Worker(objectUrl);\n  xURL.revokeObjectURL(objectUrl);\n\n  return worker;\n};\n","/**\n * Graphology Noverlap Layout Webworker\n * =====================================\n *\n * Web worker able to run the layout in a separate thread.\n */\nmodule.exports = function worker() {\n  var NODES;\n\n  var moduleShim = {};\n\n  (function () {\n    /**\n * Graphology Noverlap Iteration\n * ==============================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0,\n  NODE_Y = 1,\n  NODE_SIZE = 2;\n\n/**\n * Constants.\n */\nvar PPN = 3;\n\n/**\n * Helpers.\n */\nfunction hashPair(a, b) {\n  return a + '§' + b;\n}\n\nfunction jitter() {\n  return 0.01 * (0.5 - Math.random());\n}\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @return {object}                  - Some metadata.\n */\nmoduleShim.exports = function iterate(options, NodeMatrix) {\n  // Caching options\n  var margin = options.margin;\n  var ratio = options.ratio;\n  var expansion = options.expansion;\n  var gridSize = options.gridSize; // TODO: decrease grid size when few nodes?\n  var speed = options.speed;\n\n  // Generic iteration variables\n  var i, j, x, y, l, size;\n  var converged = true;\n\n  var length = NodeMatrix.length;\n  var order = (length / PPN) | 0;\n\n  var deltaX = new Float32Array(order);\n  var deltaY = new Float32Array(order);\n\n  // Finding the extents of our space\n  var xMin = Infinity;\n  var yMin = Infinity;\n  var xMax = -Infinity;\n  var yMax = -Infinity;\n\n  for (i = 0; i < length; i += PPN) {\n    x = NodeMatrix[i + NODE_X];\n    y = NodeMatrix[i + NODE_Y];\n    size = NodeMatrix[i + NODE_SIZE] * ratio + margin;\n\n    xMin = Math.min(xMin, x - size);\n    xMax = Math.max(xMax, x + size);\n    yMin = Math.min(yMin, y - size);\n    yMax = Math.max(yMax, y + size);\n  }\n\n  var width = xMax - xMin;\n  var height = yMax - yMin;\n  var xCenter = (xMin + xMax) / 2;\n  var yCenter = (yMin + yMax) / 2;\n\n  xMin = xCenter - (expansion * width) / 2;\n  xMax = xCenter + (expansion * width) / 2;\n  yMin = yCenter - (expansion * height) / 2;\n  yMax = yCenter + (expansion * height) / 2;\n\n  // Building grid\n  var grid = new Array(gridSize * gridSize),\n    gridLength = grid.length,\n    c;\n\n  for (c = 0; c < gridLength; c++) grid[c] = [];\n\n  var nxMin, nxMax, nyMin, nyMax;\n  var xMinBox, xMaxBox, yMinBox, yMaxBox;\n\n  var col, row;\n\n  for (i = 0; i < length; i += PPN) {\n    x = NodeMatrix[i + NODE_X];\n    y = NodeMatrix[i + NODE_Y];\n    size = NodeMatrix[i + NODE_SIZE] * ratio + margin;\n\n    nxMin = x - size;\n    nxMax = x + size;\n    nyMin = y - size;\n    nyMax = y + size;\n\n    xMinBox = Math.floor((gridSize * (nxMin - xMin)) / (xMax - xMin));\n    xMaxBox = Math.floor((gridSize * (nxMax - xMin)) / (xMax - xMin));\n    yMinBox = Math.floor((gridSize * (nyMin - yMin)) / (yMax - yMin));\n    yMaxBox = Math.floor((gridSize * (nyMax - yMin)) / (yMax - yMin));\n\n    for (col = xMinBox; col <= xMaxBox; col++) {\n      for (row = yMinBox; row <= yMaxBox; row++) {\n        grid[col * gridSize + row].push(i);\n      }\n    }\n  }\n\n  // Computing collisions\n  var cell;\n\n  var collisions = new Set();\n\n  var n1, n2, x1, x2, y1, y2, s1, s2, h;\n\n  var xDist, yDist, dist, collision;\n\n  for (c = 0; c < gridLength; c++) {\n    cell = grid[c];\n\n    for (i = 0, l = cell.length; i < l; i++) {\n      n1 = cell[i];\n\n      x1 = NodeMatrix[n1 + NODE_X];\n      y1 = NodeMatrix[n1 + NODE_Y];\n      s1 = NodeMatrix[n1 + NODE_SIZE];\n\n      for (j = i + 1; j < l; j++) {\n        n2 = cell[j];\n        h = hashPair(n1, n2);\n\n        if (gridLength > 1 && collisions.has(h)) continue;\n\n        if (gridLength > 1) collisions.add(h);\n\n        x2 = NodeMatrix[n2 + NODE_X];\n        y2 = NodeMatrix[n2 + NODE_Y];\n        s2 = NodeMatrix[n2 + NODE_SIZE];\n\n        xDist = x2 - x1;\n        yDist = y2 - y1;\n        dist = Math.sqrt(xDist * xDist + yDist * yDist);\n        collision = dist < s1 * ratio + margin + (s2 * ratio + margin);\n\n        if (collision) {\n          converged = false;\n\n          n2 = (n2 / PPN) | 0;\n\n          if (dist > 0) {\n            deltaX[n2] += (xDist / dist) * (1 + s1);\n            deltaY[n2] += (yDist / dist) * (1 + s1);\n          } else {\n            // Nodes are on the exact same spot, we need to jitter a bit\n            deltaX[n2] += width * jitter();\n            deltaY[n2] += height * jitter();\n          }\n        }\n      }\n    }\n  }\n\n  for (i = 0, j = 0; i < length; i += PPN, j++) {\n    NodeMatrix[i + NODE_X] += deltaX[j] * 0.1 * speed;\n    NodeMatrix[i + NODE_Y] += deltaY[j] * 0.1 * speed;\n  }\n\n  return {converged: converged};\n};\n\n  })();\n\n  var iterate = moduleShim.exports;\n\n  self.addEventListener('message', function (event) {\n    var data = event.data;\n\n    NODES = new Float32Array(data.nodes);\n\n    // Running the iteration\n    var result = iterate(data.settings, NODES);\n\n    // Sending result to supervisor\n    self.postMessage(\n      {\n        result: result,\n        nodes: NODES.buffer\n      },\n      [NODES.buffer]\n    );\n  });\n};\n\n","/**\n * Graphology Noverlap Layout Supervisor\n * ======================================\n *\n * Supervisor class able to spawn a web worker to run the Noverlap layout in a\n * separate thread not to block UI with heavy synchronous computations.\n */\nvar workerFunction = require('./webworker.js'),\n  isGraph = require('graphology-utils/is-graph'),\n  helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Class representing a Noverlap layout run by a webworker.\n *\n * @constructor\n * @param  {Graph}         graph        - Target graph.\n * @param  {object|number} params       - Parameters:\n * @param  {object}          [settings] - Settings.\n */\nfunction NoverlapLayoutSupervisor(graph, params) {\n  params = params || {};\n\n  // Validation\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-noverlap/worker: the given graph is not a valid graphology instance.'\n    );\n\n  // Validating settings\n  var settings = Object.assign({}, DEFAULT_SETTINGS, params.settings),\n    validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-noverlap/worker: ' + validationError.message\n    );\n\n  // Properties\n  this.worker = null;\n  this.graph = graph;\n  this.settings = settings;\n  this.matrices = null;\n  this.running = false;\n  this.killed = false;\n\n  this.inputReducer = params.inputReducer;\n  this.outputReducer = params.outputReducer;\n\n  this.callbacks = {\n    onConverged:\n      typeof params.onConverged === 'function' ? params.onConverged : null\n  };\n\n  // Binding listeners\n  this.handleMessage = this.handleMessage.bind(this);\n\n  var alreadyRespawning = false;\n  var self = this;\n\n  this.handleAddition = function () {\n    if (alreadyRespawning) return;\n\n    alreadyRespawning = true;\n\n    self.spawnWorker();\n    setTimeout(function () {\n      alreadyRespawning = false;\n    }, 0);\n  };\n\n  graph.on('nodeAdded', this.handleAddition);\n  graph.on('edgeAdded', this.handleAddition);\n\n  // Spawning worker\n  this.spawnWorker();\n}\n\nNoverlapLayoutSupervisor.prototype.isRunning = function () {\n  return this.running;\n};\n\n/**\n * Internal method used to spawn the web worker.\n */\nNoverlapLayoutSupervisor.prototype.spawnWorker = function () {\n  if (this.worker) this.worker.terminate();\n\n  this.worker = helpers.createWorker(workerFunction);\n  this.worker.addEventListener('message', this.handleMessage);\n\n  if (this.running) {\n    this.running = false;\n    this.start();\n  }\n};\n\n/**\n * Internal method used to handle the worker's messages.\n *\n * @param {object} event - Event to handle.\n */\nNoverlapLayoutSupervisor.prototype.handleMessage = function (event) {\n  if (!this.running) return;\n\n  var matrix = new Float32Array(event.data.nodes);\n\n  helpers.assignLayoutChanges(this.graph, matrix, this.outputReducer);\n  this.matrices.nodes = matrix;\n\n  if (event.data.result.converged) {\n    if (this.callbacks.onConverged) this.callbacks.onConverged();\n\n    this.stop();\n    return;\n  }\n\n  // Looping\n  this.askForIterations();\n};\n\n/**\n * Internal method used to ask for iterations from the worker.\n *\n * @return {NoverlapLayoutSupervisor}\n */\nNoverlapLayoutSupervisor.prototype.askForIterations = function () {\n  var matrices = this.matrices;\n\n  var payload = {\n    settings: this.settings,\n    nodes: matrices.nodes.buffer\n  };\n\n  var buffers = [matrices.nodes.buffer];\n\n  this.worker.postMessage(payload, buffers);\n\n  return this;\n};\n\n/**\n * Method used to start the layout.\n *\n * @return {NoverlapLayoutSupervisor}\n */\nNoverlapLayoutSupervisor.prototype.start = function () {\n  if (this.killed)\n    throw new Error(\n      'graphology-layout-noverlap/worker.start: layout was killed.'\n    );\n\n  if (this.running) return this;\n\n  // Building matrices\n  this.matrices = {\n    nodes: helpers.graphToByteArray(this.graph, this.inputReducer)\n  };\n\n  this.running = true;\n  this.askForIterations();\n\n  return this;\n};\n\n/**\n * Method used to stop the layout.\n *\n * @return {NoverlapLayoutSupervisor}\n */\nNoverlapLayoutSupervisor.prototype.stop = function () {\n  this.running = false;\n\n  return this;\n};\n\n/**\n * Method used to kill the layout.\n *\n * @return {NoverlapLayoutSupervisor}\n */\nNoverlapLayoutSupervisor.prototype.kill = function () {\n  if (this.killed) return this;\n\n  this.running = false;\n  this.killed = true;\n\n  // Clearing memory\n  this.matrices = null;\n\n  // Terminating worker\n  this.worker.terminate();\n\n  // Unbinding listeners\n  this.graph.removeListener('nodeAdded', this.handleAddition);\n  this.graph.removeListener('edgeAdded', this.handleAddition);\n};\n\n/**\n * Exporting.\n */\nmodule.exports = NoverlapLayoutSupervisor;\n","/**\n * Graphology Layout Utilities\n * ============================\n *\n * Miscellaneous utility functions used by the library.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nfunction isValidNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\nvar DEFAULT_DIMENSIONS = ['x', 'y'];\n\nfunction collectLayout(graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/utils.collectLayout: the given graph is not a valid graphology instance.'\n    );\n\n  options = options || {};\n\n  var dimensions = options.dimensions;\n  var exhaustive = options.exhaustive !== false;\n\n  if (!dimensions) dimensions = DEFAULT_DIMENSIONS;\n\n  var layout = {};\n  var l = dimensions.length;\n\n  graph.forEachNode(function (node, attr) {\n    var validCoordinates = 0;\n    var position = {};\n\n    var i;\n\n    for (i = 0; i < l; i++) {\n      var d = dimensions[i];\n      var v = attr[d];\n\n      if (isValidNumber(v)) {\n        position[d] = v;\n        validCoordinates++;\n      }\n    }\n\n    if (exhaustive) {\n      if (validCoordinates === l) layout[node] = position;\n    } else if (validCoordinates) {\n      layout[node] = position;\n    }\n  });\n\n  return layout;\n}\n\nfunction assignLayout(graph, layout, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/utils.assignLayout: the given graph is not a valid graphology instance.'\n    );\n\n  options = options || {};\n  var dimensions = options.dimensions || DEFAULT_DIMENSIONS;\n\n  var l = dimensions.length;\n  var d;\n\n  graph.updateEachNodeAttributes(\n    function (node, attr) {\n      var position = layout[node];\n\n      if (!position) return attr;\n\n      for (var i = 0; i < l; i++) {\n        d = dimensions[i];\n        attr[d] = position[d];\n      }\n\n      return attr;\n    },\n    {\n      attributes: dimensions\n    }\n  );\n}\n\nfunction collectLayoutAsFlatArray(graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/utils.collectLayout: the given graph is not a valid graphology instance.'\n    );\n\n  options = options || {};\n\n  var dimensions = options.dimensions;\n  var ArrayClass = options.type || Float64Array;\n\n  if (!dimensions) dimensions = DEFAULT_DIMENSIONS;\n\n  var l = dimensions.length;\n\n  var layout = new ArrayClass(graph.order * l);\n  var offset = 0;\n\n  graph.forEachNode(function (node, attr) {\n    var i;\n\n    for (i = 0; i < l; i++) {\n      var d = dimensions[i];\n      var v = attr[d];\n\n      if (!isValidNumber(v)) v = 0;\n\n      layout[offset++] = v;\n    }\n  });\n\n  return layout;\n}\n\nfunction assignLayoutAsFlatArray(graph, layout, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/utils.assignLayoutAsFlatArray: the given graph is not a valid graphology instance.'\n    );\n\n  options = options || {};\n\n  var dimensions = options.dimensions;\n\n  if (!dimensions) dimensions = DEFAULT_DIMENSIONS;\n\n  var l = dimensions.length;\n\n  if (layout.length !== graph.order * l)\n    throw new Error(\n      'graphology-layout/utils.assignLayoutAsFlatArray: given layout has an incorrect length wrt number of nodes & dimenions.'\n    );\n\n  var offset = 0;\n\n  graph.updateEachNodeAttributes(\n    function (node, attr) {\n      for (var i = 0; i < l; i++) attr[dimensions[i]] = layout[offset++];\n\n      return attr;\n    },\n    {attributes: dimensions}\n  );\n}\n\n/**\n * Exports.\n */\nexports.collectLayout = collectLayout;\nexports.assignLayout = assignLayout;\nexports.collectLayoutAsFlatArray = collectLayoutAsFlatArray;\nexports.assignLayoutAsFlatArray = assignLayoutAsFlatArray;\n","/**\n * Graphology Operators To Mixed Caster\n * =====================================\n *\n * Function used to cast any graph to a mixed one.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nmodule.exports = function toMixed(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-operators/to-mixed: expecting a valid graphology instance.'\n    );\n\n  return graph.copy({type: 'mixed'});\n};\n","/**\n * Graphology Operators To Multi Caster\n * =====================================\n *\n * Function used to cast any graph to a multi one.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nmodule.exports = function toMulti(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-operators/to-multi: expecting a valid graphology instance.'\n    );\n\n  return graph.copy({multi: true});\n};\n","/**\n * Graphology SVG Edge Line Component\n * ==================================\n *\n * Rendering nodes as plain lines.\n */\nmodule.exports = function drawEdge(settings, data, sourceData, targetData) {\n  return (\n    '<line x1=\"' +\n    sourceData.x +\n    '\" y1=\"' +\n    sourceData.y +\n    '\" ' +\n    'x2=\"' +\n    targetData.x +\n    '\" y2=\"' +\n    targetData.y +\n    '\" ' +\n    'stroke=\"' +\n    data.color +\n    '\" ' +\n    'stroke-width=\"' +\n    data.size +\n    '\" />'\n  );\n};\n","/**\n * Graphology SVG Node Label Component\n * ==================================\n *\n * Rendering node labels as simple text elements.\n */\nvar escape = require('../../helpers.js').escape;\n\nmodule.exports = function drawLabel(settings, data) {\n  return (\n    '<text x=\"' +\n    (data.x + data.size * 1.1) +\n    '\" ' +\n    'y=\"' +\n    (data.y + data.size / 4) +\n    '\" ' +\n    'font-family=\"' +\n    escape(settings.font || 'sans-serif') +\n    '\" ' +\n    'font-size=\"' +\n    data.size +\n    '\">' +\n    escape(data.label) +\n    '</text>'\n  );\n};\n","/**\n * Graphology SVG Node Circle Component\n * ====================================\n *\n * Rendering nodes as plain SVG circles.\n */\nmodule.exports = function drawNode(settings, data) {\n  return (\n    '<circle cx=\"' +\n    data.x +\n    '\" ' +\n    'cy=\"' +\n    data.y +\n    '\" ' +\n    'r=\"' +\n    data.size +\n    '\" ' +\n    'fill=\"' +\n    data.color +\n    '\" />'\n  );\n};\n","var DEFAULTS = {\n  margin: 20,\n  width: 2048,\n  height: 2048,\n  nodes: {\n    reducer: null,\n    defaultColor: '#999'\n  },\n  edges: {\n    reducer: null,\n    defaultColor: '#ccc'\n  }\n};\n\nexports.DEFAULTS = DEFAULTS;\n\nexports.DEFAULT_NODE_REDUCER = function (settings, node, attr) {\n  var reduced = {\n    type: attr.type || 'circle',\n    labelType: attr.labelType || 'default',\n    label: attr.label || node,\n    x: attr.x,\n    y: attr.y,\n    size: attr.size || 1,\n    color: attr.color || settings.nodes.defaultColor\n  };\n\n  if (typeof reduced.x !== 'number' || typeof reduced.y !== 'number')\n    throw new Error(\n      'graphology-svg: the \"' +\n        node +\n        '\" node has no valid x or y position. Expecting a number.'\n    );\n\n  return reduced;\n};\n\nexports.DEFAULT_EDGE_REDUCER = function (settings, edge, attr) {\n  var reduced = {\n    type: attr.type || 'line',\n    size: attr.size || 1,\n    color: attr.color || settings.edges.defaultColor\n  };\n\n  return reduced;\n};\n","/**\n * Graphology SVG Helpers\n * ======================\n *\n * Micellaneous helper functions used throughout the library.\n */\nvar defaults = require('./defaults.js');\n\n// Taken from @jacomyma (graph-recipes)\nfunction reduceNodes(graph, settings) {\n  var width = settings.width,\n    height = settings.height;\n\n  var xBarycenter = 0,\n    yBarycenter = 0,\n    totalWeight = 0;\n\n  var data = {};\n\n  graph.forEachNode(function (node, attr) {\n    // Applying user's reducing logic\n    if (typeof settings.nodes.reducer === 'function')\n      attr = settings.nodes.reducer(settings, node, attr);\n\n    attr = defaults.DEFAULT_NODE_REDUCER(settings, node, attr);\n    data[node] = attr;\n\n    // Computing rescaling items\n    xBarycenter += attr.size * attr.x;\n    yBarycenter += attr.size * attr.y;\n    totalWeight += attr.size;\n  });\n\n  xBarycenter /= totalWeight;\n  yBarycenter /= totalWeight;\n\n  var d, ratio, n;\n  var dMax = -Infinity;\n\n  var k;\n\n  for (k in data) {\n    n = data[k];\n    d = Math.pow(n.x - xBarycenter, 2) + Math.pow(n.y - yBarycenter, 2);\n\n    if (d > dMax) dMax = d;\n  }\n\n  ratio =\n    (Math.min(width, height) - 2 * settings.margin) / (2 * Math.sqrt(dMax));\n\n  for (k in data) {\n    n = data[k];\n\n    n.x = width / 2 + (n.x - xBarycenter) * ratio;\n    n.y = height / 2 + (n.y - yBarycenter) * ratio;\n\n    n.size *= ratio; // TODO: keep?\n  }\n\n  return data;\n}\n\n// Minimalist XML escaping function\nvar ESCAPE_PATTERN = /[\"'<>&]/g;\n\nvar ESCAPE_MAP = {\n  '\"': '&quot;',\n  \"'\": '&apos;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '&': '&amp;'\n};\n\nfunction escapeReplacer(char) {\n  return ESCAPE_MAP[char];\n}\n\nfunction escape(string) {\n  return string.replace(ESCAPE_PATTERN, escapeReplacer);\n}\n\nexports.reduceNodes = reduceNodes;\nexports.escape = escape;\n","/**\n * Graphology SVG Renderer\n * =======================\n *\n * Function rendering the given graph.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar helpers = require('./helpers.js');\nvar defaults = require('./defaults.js');\n\nvar components = {\n  nodes: {\n    circle: require('./components/nodes/circle.js')\n  },\n  edges: {\n    line: require('./components/edges/line.js')\n  },\n  nodeLabels: {\n    default: require('./components/nodeLabels/default.js')\n  }\n};\n\nfunction renderer(graph, settings) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-svg/renderer: expecting a valid graphology instance.'\n    );\n\n  // Reducing nodes\n  var nodeData = helpers.reduceNodes(graph, settings);\n\n  // Drawing edges\n  var edgesStrings = [];\n  graph.forEachEdge(function (edge, attr, source, target) {\n    // Reducing edge\n    if (typeof settings.edges.reducer === 'function')\n      attr = settings.edges.reducer(settings, edge, attr);\n\n    attr = defaults.DEFAULT_EDGE_REDUCER(settings, edge, attr);\n\n    edgesStrings.push(\n      components.edges[attr.type](\n        settings,\n        attr,\n        nodeData[source],\n        nodeData[target]\n      )\n    );\n  });\n\n  // Drawing nodes and labels\n  // TODO: should we draw in size order to avoid weird overlaps? Should we run noverlap?\n  var nodesStrings = [];\n  var nodeLabelsStrings = [];\n  var k;\n  for (k in nodeData) {\n    nodesStrings.push(\n      components.nodes[nodeData[k].type](settings, nodeData[k])\n    );\n    nodeLabelsStrings.push(\n      components.nodeLabels[nodeData[k].labelType](settings, nodeData[k])\n    );\n  }\n\n  return (\n    '<?xml version=\"1.0\" encoding=\"utf-8\"?>' +\n    '<svg width=\"' +\n    settings.width +\n    '\" height=\" ' +\n    settings.height +\n    '\" ' +\n    'viewBox=\"0 0 ' +\n    settings.width +\n    ' ' +\n    settings.height +\n    '\" ' +\n    'version=\"1.1\" ' +\n    'xmlns=\"http://www.w3.org/2000/svg\">' +\n    '<g>' +\n    edgesStrings.join('') +\n    '</g>' +\n    '<g>' +\n    nodesStrings.join('') +\n    '</g>' +\n    '<g>' +\n    nodeLabelsStrings.join('') +\n    '</g>' +\n    '</svg>'\n  );\n}\n\nmodule.exports = renderer;\n","/**\n * Graphology Edge Adders\n * =======================\n *\n * Generic edge addition functions that can be used to avoid nasty repetitive\n * conditions.\n */\nexports.addEdge = function addEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.addUndirectedEdge(source, target, attributes);\n    else return graph.addUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.addDirectedEdge(source, target, attributes);\n    else return graph.addDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.copyEdge = function copyEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  attributes = Object.assign({}, attributes);\n\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.addUndirectedEdge(source, target, attributes);\n    else return graph.addUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.addDirectedEdge(source, target, attributes);\n    else return graph.addDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.mergeEdge = function mergeEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.mergeUndirectedEdge(source, target, attributes);\n    else\n      return graph.mergeUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.mergeDirectedEdge(source, target, attributes);\n    else return graph.mergeDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.updateEdge = function updateEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  updater\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.updateUndirectedEdge(source, target, updater);\n    else return graph.updateUndirectedEdgeWithKey(key, source, target, updater);\n  } else {\n    if (key === null || key === undefined)\n      return graph.updateDirectedEdge(source, target, updater);\n    else return graph.updateDirectedEdgeWithKey(key, source, target, updater);\n  }\n};\n","/**\n * Graphology Defaults\n * ====================\n *\n * Helper function used throughout the standard lib to resolve defaults.\n */\nfunction isLeaf(o) {\n  return (\n    !o ||\n    typeof o !== 'object' ||\n    typeof o === 'function' ||\n    Array.isArray(o) ||\n    o instanceof Set ||\n    o instanceof Map ||\n    o instanceof RegExp ||\n    o instanceof Date\n  );\n}\n\nfunction resolveDefaults(target, defaults) {\n  target = target || {};\n\n  var output = {};\n\n  for (var k in defaults) {\n    var existing = target[k];\n    var def = defaults[k];\n\n    // Recursion\n    if (!isLeaf(def)) {\n      output[k] = resolveDefaults(existing, def);\n\n      continue;\n    }\n\n    // Leaf\n    if (existing === undefined) {\n      output[k] = def;\n    } else {\n      output[k] = existing;\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = resolveDefaults;\n","/**\n * Graphology Weight Getter\n * =========================\n *\n * Function creating weight getters.\n */\nfunction coerceWeight(value) {\n  // Ensuring target value is a correct number\n  if (typeof value !== 'number' || isNaN(value)) return 1;\n\n  return value;\n}\n\nfunction createNodeValueGetter(nameOrFunction, defaultValue) {\n  var getter = {};\n\n  var coerceToDefault = function (v) {\n    if (typeof v === 'undefined') return defaultValue;\n\n    return v;\n  };\n\n  if (typeof defaultValue === 'function') coerceToDefault = defaultValue;\n\n  var get = function (attributes) {\n    return coerceToDefault(attributes[nameOrFunction]);\n  };\n\n  var returnDefault = function () {\n    return coerceToDefault(undefined);\n  };\n\n  if (typeof nameOrFunction === 'string') {\n    getter.fromAttributes = get;\n    getter.fromGraph = function (graph, node) {\n      return get(graph.getNodeAttributes(node));\n    };\n    getter.fromEntry = function (node, attributes) {\n      return get(attributes);\n    };\n  } else if (typeof nameOrFunction === 'function') {\n    getter.fromAttributes = function () {\n      throw new Error(\n        'graphology-utils/getters/createNodeValueGetter: irrelevant usage.'\n      );\n    };\n    getter.fromGraph = function (graph, node) {\n      return coerceToDefault(\n        nameOrFunction(node, graph.getNodeAttributes(node))\n      );\n    };\n    getter.fromEntry = function (node, attributes) {\n      return coerceToDefault(nameOrFunction(node, attributes));\n    };\n  } else {\n    getter.fromAttributes = returnDefault;\n    getter.fromGraph = returnDefault;\n    getter.fromEntry = returnDefault;\n  }\n\n  return getter;\n}\n\nfunction createEdgeValueGetter(nameOrFunction, defaultValue) {\n  var getter = {};\n\n  var coerceToDefault = function (v) {\n    if (typeof v === 'undefined') return defaultValue;\n\n    return v;\n  };\n\n  if (typeof defaultValue === 'function') coerceToDefault = defaultValue;\n\n  var get = function (attributes) {\n    return coerceToDefault(attributes[nameOrFunction]);\n  };\n\n  var returnDefault = function () {\n    return coerceToDefault(undefined);\n  };\n\n  if (typeof nameOrFunction === 'string') {\n    getter.fromAttributes = get;\n    getter.fromGraph = function (graph, edge) {\n      return get(graph.getEdgeAttributes(edge));\n    };\n    getter.fromEntry = function (edge, attributes) {\n      return get(attributes);\n    };\n    getter.fromPartialEntry = getter.fromEntry;\n    getter.fromMinimalEntry = getter.fromEntry;\n  } else if (typeof nameOrFunction === 'function') {\n    getter.fromAttributes = function () {\n      throw new Error(\n        'graphology-utils/getters/createEdgeValueGetter: irrelevant usage.'\n      );\n    };\n    getter.fromGraph = function (graph, edge) {\n      // TODO: we can do better, check #310\n      var extremities = graph.extremities(edge);\n      return coerceToDefault(\n        nameOrFunction(\n          edge,\n          graph.getEdgeAttributes(edge),\n          extremities[0],\n          extremities[1],\n          graph.getNodeAttributes(extremities[0]),\n          graph.getNodeAttributes(extremities[1]),\n          graph.isUndirected(edge)\n        )\n      );\n    };\n    getter.fromEntry = function (e, a, s, t, sa, ta, u) {\n      return coerceToDefault(nameOrFunction(e, a, s, t, sa, ta, u));\n    };\n    getter.fromPartialEntry = function (e, a, s, t) {\n      return coerceToDefault(nameOrFunction(e, a, s, t));\n    };\n    getter.fromMinimalEntry = function (e, a) {\n      return coerceToDefault(nameOrFunction(e, a));\n    };\n  } else {\n    getter.fromAttributes = returnDefault;\n    getter.fromGraph = returnDefault;\n    getter.fromEntry = returnDefault;\n    getter.fromMinimalEntry = returnDefault;\n  }\n\n  return getter;\n}\n\nexports.createNodeValueGetter = createNodeValueGetter;\nexports.createEdgeValueGetter = createEdgeValueGetter;\nexports.createEdgeWeightGetter = function (name) {\n  return createEdgeValueGetter(name, coerceWeight);\n};\n","/**\n * Graphology inferType\n * =====================\n *\n * Useful function used to \"guess\" the real type of the given Graph using\n * introspection.\n */\nvar isGraph = require('./is-graph.js');\n\n/**\n * Returning the inferred type of the given graph.\n *\n * @param  {Graph}   graph - Target graph.\n * @return {boolean}\n */\nmodule.exports = function inferType(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-utils/infer-type: expecting a valid graphology instance.'\n    );\n\n  var declaredType = graph.type;\n\n  if (declaredType !== 'mixed') return declaredType;\n\n  if (\n    (graph.directedSize === 0 && graph.undirectedSize === 0) ||\n    (graph.directedSize > 0 && graph.undirectedSize > 0)\n  )\n    return 'mixed';\n\n  if (graph.directedSize > 0) return 'directed';\n\n  return 'undirected';\n};\n","/**\n * Graphology isGraphConstructor\n * ==============================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology constructor.\n */\n\n/**\n * Checking the value is a graphology constructor.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraphConstructor(value) {\n  return (\n    value !== null &&\n    typeof value === 'function' &&\n    typeof value.prototype === 'object' &&\n    typeof value.prototype.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.prototype.dropNode === 'function'\n  );\n};\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","/**\n * Graphology Utilities\n * =====================\n *\n * Collection of helpful functions used by the implementation.\n */\n\n/**\n * Object.assign-like polyfill.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assignPolyfill() {\n  const target = arguments[0];\n\n  for (let i = 1, l = arguments.length; i < l; i++) {\n    if (!arguments[i]) continue;\n\n    for (const k in arguments[i]) target[k] = arguments[i][k];\n  }\n\n  return target;\n}\n\nlet assign = assignPolyfill;\n\nif (typeof Object.assign === 'function') assign = Object.assign;\n\nexport {assign};\n\n/**\n * Function returning the first matching edge for given path.\n * Note: this function does not check the existence of source & target. This\n * must be performed by the caller.\n *\n * @param  {Graph}  graph  - Target graph.\n * @param  {any}    source - Source node.\n * @param  {any}    target - Target node.\n * @param  {string} type   - Type of the edge (mixed, directed or undirected).\n * @return {string|null}\n */\nexport function getMatchingEdge(graph, source, target, type) {\n  const sourceData = graph._nodes.get(source);\n\n  let edge = null;\n\n  if (!sourceData) return edge;\n\n  if (type === 'mixed') {\n    edge =\n      (sourceData.out && sourceData.out[target]) ||\n      (sourceData.undirected && sourceData.undirected[target]);\n  } else if (type === 'directed') {\n    edge = sourceData.out && sourceData.out[target];\n  } else {\n    edge = sourceData.undirected && sourceData.undirected[target];\n  }\n\n  return edge;\n}\n\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\nexport function isPlainObject(value) {\n  return (\n    typeof value === 'object' && value !== null && value.constructor === Object\n  );\n}\n\n/**\n * Checks whether the given object is empty.\n *\n * @param  {object}  o - Target Object.\n * @return {boolean}\n */\nexport function isEmpty(o) {\n  let k;\n\n  for (k in o) return false;\n\n  return true;\n}\n\n/**\n * Creates a \"private\" property for the given member name by concealing it\n * using the `enumerable` option.\n *\n * @param {object} target - Target object.\n * @param {string} name   - Member name.\n */\nexport function privateProperty(target, name, value) {\n  Object.defineProperty(target, name, {\n    enumerable: false,\n    configurable: false,\n    writable: true,\n    value\n  });\n}\n\n/**\n * Creates a read-only property for the given member name & the given getter.\n *\n * @param {object}   target - Target object.\n * @param {string}   name   - Member name.\n * @param {mixed}    value  - The attached getter or fixed value.\n */\nexport function readOnlyProperty(target, name, value) {\n  const descriptor = {\n    enumerable: true,\n    configurable: true\n  };\n\n  if (typeof value === 'function') {\n    descriptor.get = value;\n  } else {\n    descriptor.value = value;\n    descriptor.writable = false;\n  }\n\n  Object.defineProperty(target, name, descriptor);\n}\n\n/**\n * Returns whether the given object constitute valid hints.\n *\n * @param {object} hints - Target object.\n */\nexport function validateHints(hints) {\n  if (!isPlainObject(hints)) return false;\n\n  if (hints.attributes && !Array.isArray(hints.attributes)) return false;\n\n  return true;\n}\n\n/**\n * Creates a function generating incremental ids for edges.\n *\n * @return {function}\n */\nexport function incrementalIdStartingFromRandomByte() {\n  let i = Math.floor(Math.random() * 256) & 0xff;\n\n  return () => {\n    return i++;\n  };\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * Obliterator Iterator Class\n * ===========================\n *\n * Simple class representing the library's iterators.\n */\n\n/**\n * Iterator class.\n *\n * @constructor\n * @param {function} next - Next function.\n */\nfunction Iterator(next) {\n  if (typeof next !== 'function')\n    throw new Error('obliterator/iterator: expecting a function!');\n\n  this.next = next;\n}\n\n/**\n * If symbols are supported, we add `next` to `Symbol.iterator`.\n */\nif (typeof Symbol !== 'undefined')\n  Iterator.prototype[Symbol.iterator] = function () {\n    return this;\n  };\n\n/**\n * Returning an iterator of the given values.\n *\n * @param  {any...} values - Values.\n * @return {Iterator}\n */\nIterator.of = function () {\n  var args = arguments,\n    l = args.length,\n    i = 0;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: args[i++]};\n  });\n};\n\n/**\n * Returning an empty iterator.\n *\n * @return {Iterator}\n */\nIterator.empty = function () {\n  var iterator = new Iterator(function () {\n    return {done: true};\n  });\n\n  return iterator;\n};\n\n/**\n * Returning an iterator over the given indexed sequence.\n *\n * @param  {string|Array} sequence - Target sequence.\n * @return {Iterator}\n */\nIterator.fromSequence = function (sequence) {\n  var i = 0,\n    l = sequence.length;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: sequence[i++]};\n  });\n};\n\n/**\n * Returning whether the given value is an iterator.\n *\n * @param  {any} value - Value.\n * @return {boolean}\n */\nIterator.is = function (value) {\n  if (value instanceof Iterator) return true;\n\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    typeof value.next === 'function'\n  );\n};\n\n/**\n * Exporting.\n */\nmodule.exports = Iterator;\n","exports.ARRAY_BUFFER_SUPPORT = typeof ArrayBuffer !== 'undefined';\nexports.SYMBOL_SUPPORT = typeof Symbol !== 'undefined';\n","/**\n * Obliterator Iter Function\n * ==========================\n *\n * Function coercing values to an iterator. It can be quite useful when needing\n * to handle iterables and iterators the same way.\n */\nvar Iterator = require('./iterator.js');\nvar support = require('./support.js');\n\nvar ARRAY_BUFFER_SUPPORT = support.ARRAY_BUFFER_SUPPORT;\nvar SYMBOL_SUPPORT = support.SYMBOL_SUPPORT;\n\nfunction iterOrNull(target) {\n  // Indexed sequence\n  if (\n    typeof target === 'string' ||\n    Array.isArray(target) ||\n    (ARRAY_BUFFER_SUPPORT && ArrayBuffer.isView(target))\n  )\n    return Iterator.fromSequence(target);\n\n  // Invalid value\n  if (typeof target !== 'object' || target === null) return null;\n\n  // Iterable\n  if (SYMBOL_SUPPORT && typeof target[Symbol.iterator] === 'function')\n    return target[Symbol.iterator]();\n\n  // Iterator duck-typing\n  if (typeof target.next === 'function') return target;\n\n  // Invalid object\n  return null;\n}\n\nmodule.exports = function iter(target) {\n  var iterator = iterOrNull(target);\n\n  if (!iterator)\n    throw new Error(\n      'obliterator: target is not iterable nor a valid iterator.'\n    );\n\n  return iterator;\n};\n","/* eslint no-constant-condition: 0 */\n/**\n * Obliterator Take Function\n * ==========================\n *\n * Function taking n or every value of the given iterator and returns them\n * into an array.\n */\nvar iter = require('./iter.js');\n\n/**\n * Take.\n *\n * @param  {Iterable} iterable - Target iterable.\n * @param  {number}   [n]      - Optional number of items to take.\n * @return {array}\n */\nmodule.exports = function take(iterable, n) {\n  var l = arguments.length > 1 ? n : Infinity,\n    array = l !== Infinity ? new Array(l) : [],\n    step,\n    i = 0;\n\n  var iterator = iter(iterable);\n\n  while (true) {\n    if (i === l) return array;\n\n    step = iterator.next();\n\n    if (step.done) {\n      if (i !== n) array.length = i;\n\n      return array;\n    }\n\n    array[i++] = step.value;\n  }\n};\n","/**\n * Graphology Custom Errors\n * =========================\n *\n * Defining custom errors for ease of use & easy unit tests across\n * implementations (normalized typology rather than relying on error\n * messages to check whether the correct error was found).\n */\nexport class GraphError extends Error {\n  constructor(message) {\n    super();\n    this.name = 'GraphError';\n    this.message = message;\n  }\n}\n\nexport class InvalidArgumentsGraphError extends GraphError {\n  constructor(message) {\n    super(message);\n    this.name = 'InvalidArgumentsGraphError';\n\n    // This is V8 specific to enhance stack readability\n    if (typeof Error.captureStackTrace === 'function')\n      Error.captureStackTrace(\n        this,\n        InvalidArgumentsGraphError.prototype.constructor\n      );\n  }\n}\n\nexport class NotFoundGraphError extends GraphError {\n  constructor(message) {\n    super(message);\n    this.name = 'NotFoundGraphError';\n\n    // This is V8 specific to enhance stack readability\n    if (typeof Error.captureStackTrace === 'function')\n      Error.captureStackTrace(this, NotFoundGraphError.prototype.constructor);\n  }\n}\n\nexport class UsageGraphError extends GraphError {\n  constructor(message) {\n    super(message);\n    this.name = 'UsageGraphError';\n\n    // This is V8 specific to enhance stack readability\n    if (typeof Error.captureStackTrace === 'function')\n      Error.captureStackTrace(this, UsageGraphError.prototype.constructor);\n  }\n}\n","/**\n * Graphology Internal Data Classes\n * =================================\n *\n * Internal classes hopefully reduced to structs by engines & storing\n * necessary information for nodes & edges.\n *\n * Note that those classes don't rely on the `class` keyword to avoid some\n * cruft introduced by most of ES2015 transpilers.\n */\n\n/**\n * MixedNodeData class.\n *\n * @constructor\n * @param {string} string     - The node's key.\n * @param {object} attributes - Node's attributes.\n */\nexport function MixedNodeData(key, attributes) {\n  // Attributes\n  this.key = key;\n  this.attributes = attributes;\n\n  this.clear();\n}\n\nMixedNodeData.prototype.clear = function () {\n  // Degrees\n  this.inDegree = 0;\n  this.outDegree = 0;\n  this.undirectedDegree = 0;\n  this.undirectedLoops = 0;\n  this.directedLoops = 0;\n\n  // Indices\n  this.in = {};\n  this.out = {};\n  this.undirected = {};\n};\n\n/**\n * DirectedNodeData class.\n *\n * @constructor\n * @param {string} string     - The node's key.\n * @param {object} attributes - Node's attributes.\n */\nexport function DirectedNodeData(key, attributes) {\n  // Attributes\n  this.key = key;\n  this.attributes = attributes;\n\n  this.clear();\n}\n\nDirectedNodeData.prototype.clear = function () {\n  // Degrees\n  this.inDegree = 0;\n  this.outDegree = 0;\n  this.directedLoops = 0;\n\n  // Indices\n  this.in = {};\n  this.out = {};\n};\n\n/**\n * UndirectedNodeData class.\n *\n * @constructor\n * @param {string} string     - The node's key.\n * @param {object} attributes - Node's attributes.\n */\nexport function UndirectedNodeData(key, attributes) {\n  // Attributes\n  this.key = key;\n  this.attributes = attributes;\n\n  this.clear();\n}\n\nUndirectedNodeData.prototype.clear = function () {\n  // Degrees\n  this.undirectedDegree = 0;\n  this.undirectedLoops = 0;\n\n  // Indices\n  this.undirected = {};\n};\n\n/**\n * EdgeData class.\n *\n * @constructor\n * @param {boolean} undirected   - Whether the edge is undirected.\n * @param {string}  string       - The edge's key.\n * @param {string}  source       - Source of the edge.\n * @param {string}  target       - Target of the edge.\n * @param {object}  attributes   - Edge's attributes.\n */\nexport function EdgeData(undirected, key, source, target, attributes) {\n  // Attributes\n  this.key = key;\n  this.attributes = attributes;\n  this.undirected = undirected;\n\n  // Extremities\n  this.source = source;\n  this.target = target;\n}\n\nEdgeData.prototype.attach = function () {\n  let outKey = 'out';\n  let inKey = 'in';\n\n  if (this.undirected) outKey = inKey = 'undirected';\n\n  const source = this.source.key;\n  const target = this.target.key;\n\n  // Handling source\n  this.source[outKey][target] = this;\n\n  if (this.undirected && source === target) return;\n\n  // Handling target\n  this.target[inKey][source] = this;\n};\n\nEdgeData.prototype.attachMulti = function () {\n  let outKey = 'out';\n  let inKey = 'in';\n\n  const source = this.source.key;\n  const target = this.target.key;\n\n  if (this.undirected) outKey = inKey = 'undirected';\n\n  // Handling source\n  const adj = this.source[outKey];\n  const head = adj[target];\n\n  if (typeof head === 'undefined') {\n    adj[target] = this;\n\n    // Self-loop optimization\n    if (!(this.undirected && source === target)) {\n      // Handling target\n      this.target[inKey][source] = this;\n    }\n\n    return;\n  }\n\n  // Prepending to doubly-linked list\n  head.previous = this;\n  this.next = head;\n\n  // Pointing to new head\n  // NOTE: use mutating swap later to avoid lookup?\n  adj[target] = this;\n  this.target[inKey][source] = this;\n};\n\nEdgeData.prototype.detach = function () {\n  const source = this.source.key;\n  const target = this.target.key;\n\n  let outKey = 'out';\n  let inKey = 'in';\n\n  if (this.undirected) outKey = inKey = 'undirected';\n\n  delete this.source[outKey][target];\n\n  // No-op delete in case of undirected self-loop\n  delete this.target[inKey][source];\n};\n\nEdgeData.prototype.detachMulti = function () {\n  const source = this.source.key;\n  const target = this.target.key;\n\n  let outKey = 'out';\n  let inKey = 'in';\n\n  if (this.undirected) outKey = inKey = 'undirected';\n\n  // Deleting from doubly-linked list\n  if (this.previous === undefined) {\n    // We are dealing with the head\n\n    // Should we delete the adjacency entry because it is now empty?\n    if (this.next === undefined) {\n      delete this.source[outKey][target];\n\n      // No-op delete in case of undirected self-loop\n      delete this.target[inKey][source];\n    } else {\n      // Detaching\n      this.next.previous = undefined;\n\n      // NOTE: could avoid the lookups by creating a #.become mutating method\n      this.source[outKey][target] = this.next;\n\n      // No-op delete in case of undirected self-loop\n      this.target[inKey][source] = this.next;\n    }\n  } else {\n    // We are dealing with another list node\n    this.previous.next = this.next;\n\n    // If not last\n    if (this.next !== undefined) {\n      this.next.previous = this.previous;\n    }\n  }\n};\n","/**\n * Graphology Node Attributes methods\n * ===================================\n */\nimport {assign, isPlainObject} from '../utils';\n\nimport {InvalidArgumentsGraphError, NotFoundGraphError} from '../errors';\n\nconst NODE = 0;\nconst SOURCE = 1;\nconst TARGET = 2;\nconst OPPOSITE = 3;\n\nfunction findRelevantNodeData(\n  graph,\n  method,\n  mode,\n  nodeOrEdge,\n  nameOrEdge,\n  add1,\n  add2\n) {\n  let nodeData, edgeData, arg1, arg2;\n\n  nodeOrEdge = '' + nodeOrEdge;\n\n  if (mode === NODE) {\n    nodeData = graph._nodes.get(nodeOrEdge);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.${method}: could not find the \"${nodeOrEdge}\" node in the graph.`\n      );\n\n    arg1 = nameOrEdge;\n    arg2 = add1;\n  } else if (mode === OPPOSITE) {\n    nameOrEdge = '' + nameOrEdge;\n\n    edgeData = graph._edges.get(nameOrEdge);\n\n    if (!edgeData)\n      throw new NotFoundGraphError(\n        `Graph.${method}: could not find the \"${nameOrEdge}\" edge in the graph.`\n      );\n\n    const source = edgeData.source.key;\n    const target = edgeData.target.key;\n\n    if (nodeOrEdge === source) {\n      nodeData = edgeData.target;\n    } else if (nodeOrEdge === target) {\n      nodeData = edgeData.source;\n    } else {\n      throw new NotFoundGraphError(\n        `Graph.${method}: the \"${nodeOrEdge}\" node is not attached to the \"${nameOrEdge}\" edge (${source}, ${target}).`\n      );\n    }\n\n    arg1 = add1;\n    arg2 = add2;\n  } else {\n    edgeData = graph._edges.get(nodeOrEdge);\n\n    if (!edgeData)\n      throw new NotFoundGraphError(\n        `Graph.${method}: could not find the \"${nodeOrEdge}\" edge in the graph.`\n      );\n\n    if (mode === SOURCE) {\n      nodeData = edgeData.source;\n    } else {\n      nodeData = edgeData.target;\n    }\n\n    arg1 = nameOrEdge;\n    arg2 = add1;\n  }\n\n  return [nodeData, arg1, arg2];\n}\n\nfunction attachNodeAttributeGetter(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge, add1) {\n    const [data, name] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge,\n      add1\n    );\n\n    return data.attributes[name];\n  };\n}\n\nfunction attachNodeAttributesGetter(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge) {\n    const [data] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge\n    );\n\n    return data.attributes;\n  };\n}\n\nfunction attachNodeAttributeChecker(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge, add1) {\n    const [data, name] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge,\n      add1\n    );\n\n    return data.attributes.hasOwnProperty(name);\n  };\n}\n\nfunction attachNodeAttributeSetter(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge, add1, add2) {\n    const [data, name, value] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge,\n      add1,\n      add2\n    );\n\n    data.attributes[name] = value;\n\n    // Emitting\n    this.emit('nodeAttributesUpdated', {\n      key: data.key,\n      type: 'set',\n      attributes: data.attributes,\n      name\n    });\n\n    return this;\n  };\n}\n\nfunction attachNodeAttributeUpdater(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge, add1, add2) {\n    const [data, name, updater] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge,\n      add1,\n      add2\n    );\n\n    if (typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        `Graph.${method}: updater should be a function.`\n      );\n\n    const attributes = data.attributes;\n    const value = updater(attributes[name]);\n\n    attributes[name] = value;\n\n    // Emitting\n    this.emit('nodeAttributesUpdated', {\n      key: data.key,\n      type: 'set',\n      attributes: data.attributes,\n      name\n    });\n\n    return this;\n  };\n}\n\nfunction attachNodeAttributeRemover(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge, add1) {\n    const [data, name] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge,\n      add1\n    );\n\n    delete data.attributes[name];\n\n    // Emitting\n    this.emit('nodeAttributesUpdated', {\n      key: data.key,\n      type: 'remove',\n      attributes: data.attributes,\n      name\n    });\n\n    return this;\n  };\n}\n\nfunction attachNodeAttributesReplacer(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge, add1) {\n    const [data, attributes] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge,\n      add1\n    );\n\n    if (!isPlainObject(attributes))\n      throw new InvalidArgumentsGraphError(\n        `Graph.${method}: provided attributes are not a plain object.`\n      );\n\n    data.attributes = attributes;\n\n    // Emitting\n    this.emit('nodeAttributesUpdated', {\n      key: data.key,\n      type: 'replace',\n      attributes: data.attributes\n    });\n\n    return this;\n  };\n}\n\nfunction attachNodeAttributesMerger(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge, add1) {\n    const [data, attributes] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge,\n      add1\n    );\n\n    if (!isPlainObject(attributes))\n      throw new InvalidArgumentsGraphError(\n        `Graph.${method}: provided attributes are not a plain object.`\n      );\n\n    assign(data.attributes, attributes);\n\n    // Emitting\n    this.emit('nodeAttributesUpdated', {\n      key: data.key,\n      type: 'merge',\n      attributes: data.attributes,\n      data: attributes\n    });\n\n    return this;\n  };\n}\n\nfunction attachNodeAttributesUpdater(Class, method, mode) {\n  Class.prototype[method] = function (nodeOrEdge, nameOrEdge, add1) {\n    const [data, updater] = findRelevantNodeData(\n      this,\n      method,\n      mode,\n      nodeOrEdge,\n      nameOrEdge,\n      add1\n    );\n\n    if (typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        `Graph.${method}: provided updater is not a function.`\n      );\n\n    data.attributes = updater(data.attributes);\n\n    // Emitting\n    this.emit('nodeAttributesUpdated', {\n      key: data.key,\n      type: 'update',\n      attributes: data.attributes\n    });\n\n    return this;\n  };\n}\n\n/**\n * List of methods to attach.\n */\nconst NODE_ATTRIBUTES_METHODS = [\n  {\n    name: element => `get${element}Attribute`,\n    attacher: attachNodeAttributeGetter\n  },\n  {\n    name: element => `get${element}Attributes`,\n    attacher: attachNodeAttributesGetter\n  },\n  {\n    name: element => `has${element}Attribute`,\n    attacher: attachNodeAttributeChecker\n  },\n  {\n    name: element => `set${element}Attribute`,\n    attacher: attachNodeAttributeSetter\n  },\n  {\n    name: element => `update${element}Attribute`,\n    attacher: attachNodeAttributeUpdater\n  },\n  {\n    name: element => `remove${element}Attribute`,\n    attacher: attachNodeAttributeRemover\n  },\n  {\n    name: element => `replace${element}Attributes`,\n    attacher: attachNodeAttributesReplacer\n  },\n  {\n    name: element => `merge${element}Attributes`,\n    attacher: attachNodeAttributesMerger\n  },\n  {\n    name: element => `update${element}Attributes`,\n    attacher: attachNodeAttributesUpdater\n  }\n];\n\n/**\n * Attach every attributes-related methods to a Graph class.\n *\n * @param {function} Graph - Target class.\n */\nexport default function attachNodeAttributesMethods(Graph) {\n  NODE_ATTRIBUTES_METHODS.forEach(function ({name, attacher}) {\n    // For nodes\n    attacher(Graph, name('Node'), NODE);\n\n    // For sources\n    attacher(Graph, name('Source'), SOURCE);\n\n    // For targets\n    attacher(Graph, name('Target'), TARGET);\n\n    // For opposites\n    attacher(Graph, name('Opposite'), OPPOSITE);\n  });\n}\n","/**\n * Graphology Edge Attributes methods\n * ===================================\n */\nimport {assign, isPlainObject, getMatchingEdge} from '../utils';\n\nimport {\n  InvalidArgumentsGraphError,\n  NotFoundGraphError,\n  UsageGraphError\n} from '../errors';\n\n/**\n * Attach an attribute getter method onto the provided class.\n *\n * @param {function} Class         - Target class.\n * @param {string}   method        - Method name.\n * @param {string}   type          - Type of the edge to find.\n */\nfunction attachEdgeAttributeGetter(Class, method, type) {\n  /**\n   * Get the desired attribute for the given element (node or edge).\n   *\n   * Arity 2:\n   * @param  {any}    element - Target element.\n   * @param  {string} name    - Attribute's name.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}     source - Source element.\n   * @param  {any}     target - Target element.\n   * @param  {string}  name   - Attribute's name.\n   *\n   * @return {mixed}          - The attribute's value.\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element, name) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 2) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element;\n      const target = '' + name;\n\n      name = arguments[2];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    return data.attributes[name];\n  };\n}\n\n/**\n * Attach an attributes getter method onto the provided class.\n *\n * @param {function} Class       - Target class.\n * @param {string}   method      - Method name.\n * @param {string}   type        - Type of the edge to find.\n */\nfunction attachEdgeAttributesGetter(Class, method, type) {\n  /**\n   * Retrieves all the target element's attributes.\n   *\n   * Arity 2:\n   * @param  {any}    element - Target element.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}     source - Source element.\n   * @param  {any}     target - Target element.\n   *\n   * @return {object}          - The element's attributes.\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 1) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element,\n        target = '' + arguments[1];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    return data.attributes;\n  };\n}\n\n/**\n * Attach an attribute checker method onto the provided class.\n *\n * @param {function} Class       - Target class.\n * @param {string}   method      - Method name.\n * @param {string}   type        - Type of the edge to find.\n */\nfunction attachEdgeAttributeChecker(Class, method, type) {\n  /**\n   * Checks whether the desired attribute is set for the given element (node or edge).\n   *\n   * Arity 2:\n   * @param  {any}    element - Target element.\n   * @param  {string} name    - Attribute's name.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}     source - Source element.\n   * @param  {any}     target - Target element.\n   * @param  {string}  name   - Attribute's name.\n   *\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element, name) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 2) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element;\n      const target = '' + name;\n\n      name = arguments[2];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    return data.attributes.hasOwnProperty(name);\n  };\n}\n\n/**\n * Attach an attribute setter method onto the provided class.\n *\n * @param {function} Class         - Target class.\n * @param {string}   method        - Method name.\n * @param {string}   type          - Type of the edge to find.\n */\nfunction attachEdgeAttributeSetter(Class, method, type) {\n  /**\n   * Set the desired attribute for the given element (node or edge).\n   *\n   * Arity 2:\n   * @param  {any}    element - Target element.\n   * @param  {string} name    - Attribute's name.\n   * @param  {mixed}  value   - New attribute value.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}     source - Source element.\n   * @param  {any}     target - Target element.\n   * @param  {string}  name   - Attribute's name.\n   * @param  {mixed}  value   - New attribute value.\n   *\n   * @return {Graph}          - Returns itself for chaining.\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element, name, value) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 3) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element;\n      const target = '' + name;\n\n      name = arguments[2];\n      value = arguments[3];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    data.attributes[name] = value;\n\n    // Emitting\n    this.emit('edgeAttributesUpdated', {\n      key: data.key,\n      type: 'set',\n      attributes: data.attributes,\n      name\n    });\n\n    return this;\n  };\n}\n\n/**\n * Attach an attribute updater method onto the provided class.\n *\n * @param {function} Class         - Target class.\n * @param {string}   method        - Method name.\n * @param {string}   type          - Type of the edge to find.\n */\nfunction attachEdgeAttributeUpdater(Class, method, type) {\n  /**\n   * Update the desired attribute for the given element (node or edge) using\n   * the provided function.\n   *\n   * Arity 2:\n   * @param  {any}      element - Target element.\n   * @param  {string}   name    - Attribute's name.\n   * @param  {function} updater - Updater function.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}      source  - Source element.\n   * @param  {any}      target  - Target element.\n   * @param  {string}   name    - Attribute's name.\n   * @param  {function} updater - Updater function.\n   *\n   * @return {Graph}            - Returns itself for chaining.\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element, name, updater) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 3) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element;\n      const target = '' + name;\n\n      name = arguments[2];\n      updater = arguments[3];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    if (typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        `Graph.${method}: updater should be a function.`\n      );\n\n    data.attributes[name] = updater(data.attributes[name]);\n\n    // Emitting\n    this.emit('edgeAttributesUpdated', {\n      key: data.key,\n      type: 'set',\n      attributes: data.attributes,\n      name\n    });\n\n    return this;\n  };\n}\n\n/**\n * Attach an attribute remover method onto the provided class.\n *\n * @param {function} Class         - Target class.\n * @param {string}   method        - Method name.\n * @param {string}   type          - Type of the edge to find.\n */\nfunction attachEdgeAttributeRemover(Class, method, type) {\n  /**\n   * Remove the desired attribute for the given element (node or edge).\n   *\n   * Arity 2:\n   * @param  {any}    element - Target element.\n   * @param  {string} name    - Attribute's name.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}     source - Source element.\n   * @param  {any}     target - Target element.\n   * @param  {string}  name   - Attribute's name.\n   *\n   * @return {Graph}          - Returns itself for chaining.\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element, name) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 2) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element;\n      const target = '' + name;\n\n      name = arguments[2];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    delete data.attributes[name];\n\n    // Emitting\n    this.emit('edgeAttributesUpdated', {\n      key: data.key,\n      type: 'remove',\n      attributes: data.attributes,\n      name\n    });\n\n    return this;\n  };\n}\n\n/**\n * Attach an attribute replacer method onto the provided class.\n *\n * @param {function} Class         - Target class.\n * @param {string}   method        - Method name.\n * @param {string}   type          - Type of the edge to find.\n */\nfunction attachEdgeAttributesReplacer(Class, method, type) {\n  /**\n   * Replace the attributes for the given element (node or edge).\n   *\n   * Arity 2:\n   * @param  {any}    element    - Target element.\n   * @param  {object} attributes - New attributes.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}     source     - Source element.\n   * @param  {any}     target     - Target element.\n   * @param  {object}  attributes - New attributes.\n   *\n   * @return {Graph}              - Returns itself for chaining.\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element, attributes) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 2) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element,\n        target = '' + attributes;\n\n      attributes = arguments[2];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    if (!isPlainObject(attributes))\n      throw new InvalidArgumentsGraphError(\n        `Graph.${method}: provided attributes are not a plain object.`\n      );\n\n    data.attributes = attributes;\n\n    // Emitting\n    this.emit('edgeAttributesUpdated', {\n      key: data.key,\n      type: 'replace',\n      attributes: data.attributes\n    });\n\n    return this;\n  };\n}\n\n/**\n * Attach an attribute merger method onto the provided class.\n *\n * @param {function} Class         - Target class.\n * @param {string}   method        - Method name.\n * @param {string}   type          - Type of the edge to find.\n */\nfunction attachEdgeAttributesMerger(Class, method, type) {\n  /**\n   * Merge the attributes for the given element (node or edge).\n   *\n   * Arity 2:\n   * @param  {any}    element    - Target element.\n   * @param  {object} attributes - Attributes to merge.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}     source     - Source element.\n   * @param  {any}     target     - Target element.\n   * @param  {object}  attributes - Attributes to merge.\n   *\n   * @return {Graph}              - Returns itself for chaining.\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element, attributes) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 2) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element,\n        target = '' + attributes;\n\n      attributes = arguments[2];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    if (!isPlainObject(attributes))\n      throw new InvalidArgumentsGraphError(\n        `Graph.${method}: provided attributes are not a plain object.`\n      );\n\n    assign(data.attributes, attributes);\n\n    // Emitting\n    this.emit('edgeAttributesUpdated', {\n      key: data.key,\n      type: 'merge',\n      attributes: data.attributes,\n      data: attributes\n    });\n\n    return this;\n  };\n}\n\n/**\n * Attach an attribute updater method onto the provided class.\n *\n * @param {function} Class         - Target class.\n * @param {string}   method        - Method name.\n * @param {string}   type          - Type of the edge to find.\n */\nfunction attachEdgeAttributesUpdater(Class, method, type) {\n  /**\n   * Update the attributes of the given element (node or edge).\n   *\n   * Arity 2:\n   * @param  {any}      element - Target element.\n   * @param  {function} updater - Updater function.\n   *\n   * Arity 3 (only for edges):\n   * @param  {any}      source  - Source element.\n   * @param  {any}      target  - Target element.\n   * @param  {function} updater - Updater function.\n   *\n   * @return {Graph}            - Returns itself for chaining.\n   *\n   * @throws {Error} - Will throw if too many arguments are provided.\n   * @throws {Error} - Will throw if any of the elements is not found.\n   */\n  Class.prototype[method] = function (element, updater) {\n    let data;\n\n    if (this.type !== 'mixed' && type !== 'mixed' && type !== this.type)\n      throw new UsageGraphError(\n        `Graph.${method}: cannot find this type of edges in your ${this.type} graph.`\n      );\n\n    if (arguments.length > 2) {\n      if (this.multi)\n        throw new UsageGraphError(\n          `Graph.${method}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`\n        );\n\n      const source = '' + element,\n        target = '' + updater;\n\n      updater = arguments[2];\n\n      data = getMatchingEdge(this, source, target, type);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find an edge for the given path (\"${source}\" - \"${target}\").`\n        );\n    } else {\n      if (type !== 'mixed')\n        throw new UsageGraphError(\n          `Graph.${method}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`\n        );\n\n      element = '' + element;\n      data = this._edges.get(element);\n\n      if (!data)\n        throw new NotFoundGraphError(\n          `Graph.${method}: could not find the \"${element}\" edge in the graph.`\n        );\n    }\n\n    if (typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        `Graph.${method}: provided updater is not a function.`\n      );\n\n    data.attributes = updater(data.attributes);\n\n    // Emitting\n    this.emit('edgeAttributesUpdated', {\n      key: data.key,\n      type: 'update',\n      attributes: data.attributes\n    });\n\n    return this;\n  };\n}\n\n/**\n * List of methods to attach.\n */\nconst EDGE_ATTRIBUTES_METHODS = [\n  {\n    name: element => `get${element}Attribute`,\n    attacher: attachEdgeAttributeGetter\n  },\n  {\n    name: element => `get${element}Attributes`,\n    attacher: attachEdgeAttributesGetter\n  },\n  {\n    name: element => `has${element}Attribute`,\n    attacher: attachEdgeAttributeChecker\n  },\n  {\n    name: element => `set${element}Attribute`,\n    attacher: attachEdgeAttributeSetter\n  },\n  {\n    name: element => `update${element}Attribute`,\n    attacher: attachEdgeAttributeUpdater\n  },\n  {\n    name: element => `remove${element}Attribute`,\n    attacher: attachEdgeAttributeRemover\n  },\n  {\n    name: element => `replace${element}Attributes`,\n    attacher: attachEdgeAttributesReplacer\n  },\n  {\n    name: element => `merge${element}Attributes`,\n    attacher: attachEdgeAttributesMerger\n  },\n  {\n    name: element => `update${element}Attributes`,\n    attacher: attachEdgeAttributesUpdater\n  }\n];\n\n/**\n * Attach every attributes-related methods to a Graph class.\n *\n * @param {function} Graph - Target class.\n */\nexport default function attachEdgeAttributesMethods(Graph) {\n  EDGE_ATTRIBUTES_METHODS.forEach(function ({name, attacher}) {\n    // For edges\n    attacher(Graph, name('Edge'), 'mixed');\n\n    // For directed edges\n    attacher(Graph, name('DirectedEdge'), 'directed');\n\n    // For undirected edges\n    attacher(Graph, name('UndirectedEdge'), 'undirected');\n  });\n}\n","/**\n * Obliterator Chain Function\n * ===========================\n *\n * Variadic function combining the given iterables.\n */\nvar Iterator = require('./iterator.js');\nvar iter = require('./iter.js');\n\n/**\n * Chain.\n *\n * @param  {...Iterator} iterables - Target iterables.\n * @return {Iterator}\n */\nmodule.exports = function chain() {\n  var iterables = arguments;\n  var current = null;\n  var i = -1;\n\n  /* eslint-disable no-constant-condition */\n  return new Iterator(function next() {\n    var step = null;\n\n    do {\n      if (current === null) {\n        i++;\n\n        if (i >= iterables.length) return {done: true};\n\n        current = iter(iterables[i]);\n      }\n\n      step = current.next();\n\n      if (step.done === true) {\n        current = null;\n        continue;\n      }\n\n      break;\n    } while (true);\n\n    return step;\n  });\n};\n","/**\n * Graphology Edge Iteration\n * ==========================\n *\n * Attaching some methods to the Graph class to be able to iterate over a\n * graph's edges.\n */\nimport Iterator from 'obliterator/iterator';\nimport chain from 'obliterator/chain';\nimport take from 'obliterator/take';\n\nimport {InvalidArgumentsGraphError, NotFoundGraphError} from '../errors';\n\n/**\n * Definitions.\n */\nconst EDGES_ITERATION = [\n  {\n    name: 'edges',\n    type: 'mixed'\n  },\n  {\n    name: 'inEdges',\n    type: 'directed',\n    direction: 'in'\n  },\n  {\n    name: 'outEdges',\n    type: 'directed',\n    direction: 'out'\n  },\n  {\n    name: 'inboundEdges',\n    type: 'mixed',\n    direction: 'in'\n  },\n  {\n    name: 'outboundEdges',\n    type: 'mixed',\n    direction: 'out'\n  },\n  {\n    name: 'directedEdges',\n    type: 'directed'\n  },\n  {\n    name: 'undirectedEdges',\n    type: 'undirected'\n  }\n];\n\n/**\n * Function iterating over edges from the given object to match one of them.\n *\n * @param {object}   object   - Target object.\n * @param {function} callback - Function to call.\n */\nfunction forEachSimple(breakable, object, callback, avoid) {\n  let shouldBreak = false;\n\n  for (const k in object) {\n    if (k === avoid) continue;\n\n    const edgeData = object[k];\n\n    shouldBreak = callback(\n      edgeData.key,\n      edgeData.attributes,\n      edgeData.source.key,\n      edgeData.target.key,\n      edgeData.source.attributes,\n      edgeData.target.attributes,\n      edgeData.undirected\n    );\n\n    if (breakable && shouldBreak) return edgeData.key;\n  }\n\n  return;\n}\n\nfunction forEachMulti(breakable, object, callback, avoid) {\n  let edgeData, source, target;\n\n  let shouldBreak = false;\n\n  for (const k in object) {\n    if (k === avoid) continue;\n\n    edgeData = object[k];\n\n    do {\n      source = edgeData.source;\n      target = edgeData.target;\n\n      shouldBreak = callback(\n        edgeData.key,\n        edgeData.attributes,\n        source.key,\n        target.key,\n        source.attributes,\n        target.attributes,\n        edgeData.undirected\n      );\n\n      if (breakable && shouldBreak) return edgeData.key;\n\n      edgeData = edgeData.next;\n    } while (edgeData !== undefined);\n  }\n\n  return;\n}\n\n/**\n * Function returning an iterator over edges from the given object.\n *\n * @param  {object}   object - Target object.\n * @return {Iterator}\n */\nfunction createIterator(object, avoid) {\n  const keys = Object.keys(object);\n  const l = keys.length;\n\n  let edgeData;\n  let i = 0;\n\n  return new Iterator(function next() {\n    do {\n      if (!edgeData) {\n        if (i >= l) return {done: true};\n\n        const k = keys[i++];\n\n        if (k === avoid) {\n          edgeData = undefined;\n          continue;\n        }\n\n        edgeData = object[k];\n      } else {\n        edgeData = edgeData.next;\n      }\n    } while (!edgeData);\n\n    return {\n      done: false,\n      value: {\n        edge: edgeData.key,\n        attributes: edgeData.attributes,\n        source: edgeData.source.key,\n        target: edgeData.target.key,\n        sourceAttributes: edgeData.source.attributes,\n        targetAttributes: edgeData.target.attributes,\n        undirected: edgeData.undirected\n      }\n    };\n  });\n}\n\n/**\n * Function iterating over the egdes from the object at given key to match\n * one of them.\n *\n * @param {object}   object   - Target object.\n * @param {mixed}    k        - Neighbor key.\n * @param {function} callback - Callback to use.\n */\nfunction forEachForKeySimple(breakable, object, k, callback) {\n  const edgeData = object[k];\n\n  if (!edgeData) return;\n\n  const sourceData = edgeData.source;\n  const targetData = edgeData.target;\n\n  if (\n    callback(\n      edgeData.key,\n      edgeData.attributes,\n      sourceData.key,\n      targetData.key,\n      sourceData.attributes,\n      targetData.attributes,\n      edgeData.undirected\n    ) &&\n    breakable\n  )\n    return edgeData.key;\n}\n\nfunction forEachForKeyMulti(breakable, object, k, callback) {\n  let edgeData = object[k];\n\n  if (!edgeData) return;\n\n  let shouldBreak = false;\n\n  do {\n    shouldBreak = callback(\n      edgeData.key,\n      edgeData.attributes,\n      edgeData.source.key,\n      edgeData.target.key,\n      edgeData.source.attributes,\n      edgeData.target.attributes,\n      edgeData.undirected\n    );\n\n    if (breakable && shouldBreak) return edgeData.key;\n\n    edgeData = edgeData.next;\n  } while (edgeData !== undefined);\n\n  return;\n}\n\n/**\n * Function returning an iterator over the egdes from the object at given key.\n *\n * @param  {object}   object   - Target object.\n * @param  {mixed}    k        - Neighbor key.\n * @return {Iterator}\n */\nfunction createIteratorForKey(object, k) {\n  let edgeData = object[k];\n\n  if (edgeData.next !== undefined) {\n    return new Iterator(function () {\n      if (!edgeData) return {done: true};\n\n      const value = {\n        edge: edgeData.key,\n        attributes: edgeData.attributes,\n        source: edgeData.source.key,\n        target: edgeData.target.key,\n        sourceAttributes: edgeData.source.attributes,\n        targetAttributes: edgeData.target.attributes,\n        undirected: edgeData.undirected\n      };\n\n      edgeData = edgeData.next;\n\n      return {\n        done: false,\n        value\n      };\n    });\n  }\n\n  return Iterator.of({\n    edge: edgeData.key,\n    attributes: edgeData.attributes,\n    source: edgeData.source.key,\n    target: edgeData.target.key,\n    sourceAttributes: edgeData.source.attributes,\n    targetAttributes: edgeData.target.attributes,\n    undirected: edgeData.undirected\n  });\n}\n\n/**\n * Function creating an array of edges for the given type.\n *\n * @param  {Graph}   graph - Target Graph instance.\n * @param  {string}  type  - Type of edges to retrieve.\n * @return {array}         - Array of edges.\n */\nfunction createEdgeArray(graph, type) {\n  if (graph.size === 0) return [];\n\n  if (type === 'mixed' || type === graph.type) {\n    if (typeof Array.from === 'function')\n      return Array.from(graph._edges.keys());\n\n    return take(graph._edges.keys(), graph._edges.size);\n  }\n\n  const size =\n    type === 'undirected' ? graph.undirectedSize : graph.directedSize;\n\n  const list = new Array(size),\n    mask = type === 'undirected';\n\n  const iterator = graph._edges.values();\n\n  let i = 0;\n  let step, data;\n\n  while (((step = iterator.next()), step.done !== true)) {\n    data = step.value;\n\n    if (data.undirected === mask) list[i++] = data.key;\n  }\n\n  return list;\n}\n\n/**\n * Function iterating over a graph's edges using a callback to match one of\n * them.\n *\n * @param  {Graph}    graph    - Target Graph instance.\n * @param  {string}   type     - Type of edges to retrieve.\n * @param  {function} callback - Function to call.\n */\nfunction forEachEdge(breakable, graph, type, callback) {\n  if (graph.size === 0) return;\n\n  const shouldFilter = type !== 'mixed' && type !== graph.type;\n  const mask = type === 'undirected';\n\n  let step, data;\n  let shouldBreak = false;\n  const iterator = graph._edges.values();\n\n  while (((step = iterator.next()), step.done !== true)) {\n    data = step.value;\n\n    if (shouldFilter && data.undirected !== mask) continue;\n\n    const {key, attributes, source, target} = data;\n\n    shouldBreak = callback(\n      key,\n      attributes,\n      source.key,\n      target.key,\n      source.attributes,\n      target.attributes,\n      data.undirected\n    );\n\n    if (breakable && shouldBreak) return key;\n  }\n\n  return;\n}\n\n/**\n * Function creating an iterator of edges for the given type.\n *\n * @param  {Graph}    graph - Target Graph instance.\n * @param  {string}   type  - Type of edges to retrieve.\n * @return {Iterator}\n */\nfunction createEdgeIterator(graph, type) {\n  if (graph.size === 0) return Iterator.empty();\n\n  const shouldFilter = type !== 'mixed' && type !== graph.type;\n  const mask = type === 'undirected';\n\n  const iterator = graph._edges.values();\n\n  return new Iterator(function next() {\n    let step, data;\n\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      step = iterator.next();\n\n      if (step.done) return step;\n\n      data = step.value;\n\n      if (shouldFilter && data.undirected !== mask) continue;\n\n      break;\n    }\n\n    const value = {\n      edge: data.key,\n      attributes: data.attributes,\n      source: data.source.key,\n      target: data.target.key,\n      sourceAttributes: data.source.attributes,\n      targetAttributes: data.target.attributes,\n      undirected: data.undirected\n    };\n\n    return {value, done: false};\n  });\n}\n\n/**\n * Function iterating over a node's edges using a callback to match one of them.\n *\n * @param  {boolean}  multi     - Whether the graph is multi or not.\n * @param  {string}   type      - Type of edges to retrieve.\n * @param  {string}   direction - In or out?\n * @param  {any}      nodeData  - Target node's data.\n * @param  {function} callback  - Function to call.\n */\nfunction forEachEdgeForNode(\n  breakable,\n  multi,\n  type,\n  direction,\n  nodeData,\n  callback\n) {\n  const fn = multi ? forEachMulti : forEachSimple;\n\n  let found;\n\n  if (type !== 'undirected') {\n    if (direction !== 'out') {\n      found = fn(breakable, nodeData.in, callback);\n\n      if (breakable && found) return found;\n    }\n    if (direction !== 'in') {\n      found = fn(\n        breakable,\n        nodeData.out,\n        callback,\n        !direction ? nodeData.key : undefined\n      );\n\n      if (breakable && found) return found;\n    }\n  }\n\n  if (type !== 'directed') {\n    found = fn(breakable, nodeData.undirected, callback);\n\n    if (breakable && found) return found;\n  }\n\n  return;\n}\n\n/**\n * Function creating an array of edges for the given type & the given node.\n *\n * @param  {boolean} multi     - Whether the graph is multi or not.\n * @param  {string}  type      - Type of edges to retrieve.\n * @param  {string}  direction - In or out?\n * @param  {any}     nodeData  - Target node's data.\n * @return {array}             - Array of edges.\n */\nfunction createEdgeArrayForNode(multi, type, direction, nodeData) {\n  const edges = []; // TODO: possibility to know size beforehand or factorize with map\n\n  forEachEdgeForNode(false, multi, type, direction, nodeData, function (key) {\n    edges.push(key);\n  });\n\n  return edges;\n}\n\n/**\n * Function iterating over a node's edges using a callback.\n *\n * @param  {string}   type      - Type of edges to retrieve.\n * @param  {string}   direction - In or out?\n * @param  {any}      nodeData  - Target node's data.\n * @return {Iterator}\n */\nfunction createEdgeIteratorForNode(type, direction, nodeData) {\n  let iterator = Iterator.empty();\n\n  if (type !== 'undirected') {\n    if (direction !== 'out' && typeof nodeData.in !== 'undefined')\n      iterator = chain(iterator, createIterator(nodeData.in));\n    if (direction !== 'in' && typeof nodeData.out !== 'undefined')\n      iterator = chain(\n        iterator,\n        createIterator(nodeData.out, !direction ? nodeData.key : undefined)\n      );\n  }\n\n  if (type !== 'directed' && typeof nodeData.undirected !== 'undefined') {\n    iterator = chain(iterator, createIterator(nodeData.undirected));\n  }\n\n  return iterator;\n}\n\n/**\n * Function iterating over edges for the given path using a callback to match\n * one of them.\n *\n * @param  {string}   type       - Type of edges to retrieve.\n * @param  {boolean}  multi      - Whether the graph is multi.\n * @param  {string}   direction  - In or out?\n * @param  {NodeData} sourceData - Source node's data.\n * @param  {string}   target     - Target node.\n * @param  {function} callback   - Function to call.\n */\nfunction forEachEdgeForPath(\n  breakable,\n  type,\n  multi,\n  direction,\n  sourceData,\n  target,\n  callback\n) {\n  const fn = multi ? forEachForKeyMulti : forEachForKeySimple;\n\n  let found;\n\n  if (type !== 'undirected') {\n    if (typeof sourceData.in !== 'undefined' && direction !== 'out') {\n      found = fn(breakable, sourceData.in, target, callback);\n\n      if (breakable && found) return found;\n    }\n\n    if (\n      typeof sourceData.out !== 'undefined' &&\n      direction !== 'in' &&\n      (direction || sourceData.key !== target)\n    ) {\n      found = fn(breakable, sourceData.out, target, callback);\n\n      if (breakable && found) return found;\n    }\n  }\n\n  if (type !== 'directed') {\n    if (typeof sourceData.undirected !== 'undefined') {\n      found = fn(breakable, sourceData.undirected, target, callback);\n\n      if (breakable && found) return found;\n    }\n  }\n\n  return;\n}\n\n/**\n * Function creating an array of edges for the given path.\n *\n * @param  {string}   type       - Type of edges to retrieve.\n * @param  {boolean}  multi      - Whether the graph is multi.\n * @param  {string}   direction  - In or out?\n * @param  {NodeData} sourceData - Source node's data.\n * @param  {any}      target     - Target node.\n * @return {array}               - Array of edges.\n */\nfunction createEdgeArrayForPath(type, multi, direction, sourceData, target) {\n  const edges = []; // TODO: possibility to know size beforehand or factorize with map\n\n  forEachEdgeForPath(\n    false,\n    type,\n    multi,\n    direction,\n    sourceData,\n    target,\n    function (key) {\n      edges.push(key);\n    }\n  );\n\n  return edges;\n}\n\n/**\n * Function returning an iterator over edges for the given path.\n *\n * @param  {string}   type       - Type of edges to retrieve.\n * @param  {string}   direction  - In or out?\n * @param  {NodeData} sourceData - Source node's data.\n * @param  {string}   target     - Target node.\n * @param  {function} callback   - Function to call.\n */\nfunction createEdgeIteratorForPath(type, direction, sourceData, target) {\n  let iterator = Iterator.empty();\n\n  if (type !== 'undirected') {\n    if (\n      typeof sourceData.in !== 'undefined' &&\n      direction !== 'out' &&\n      target in sourceData.in\n    )\n      iterator = chain(iterator, createIteratorForKey(sourceData.in, target));\n\n    if (\n      typeof sourceData.out !== 'undefined' &&\n      direction !== 'in' &&\n      target in sourceData.out &&\n      (direction || sourceData.key !== target)\n    )\n      iterator = chain(iterator, createIteratorForKey(sourceData.out, target));\n  }\n\n  if (type !== 'directed') {\n    if (\n      typeof sourceData.undirected !== 'undefined' &&\n      target in sourceData.undirected\n    )\n      iterator = chain(\n        iterator,\n        createIteratorForKey(sourceData.undirected, target)\n      );\n  }\n\n  return iterator;\n}\n\n/**\n * Function attaching an edge array creator method to the Graph prototype.\n *\n * @param {function} Class       - Target class.\n * @param {object}   description - Method description.\n */\nfunction attachEdgeArrayCreator(Class, description) {\n  const {name, type, direction} = description;\n\n  /**\n   * Function returning an array of certain edges.\n   *\n   * Arity 0: Return all the relevant edges.\n   *\n   * Arity 1: Return all of a node's relevant edges.\n   * @param  {any}   node   - Target node.\n   *\n   * Arity 2: Return the relevant edges across the given path.\n   * @param  {any}   source - Source node.\n   * @param  {any}   target - Target node.\n   *\n   * @return {array|number} - The edges or the number of edges.\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  Class.prototype[name] = function (source, target) {\n    // Early termination\n    if (type !== 'mixed' && this.type !== 'mixed' && type !== this.type)\n      return [];\n\n    if (!arguments.length) return createEdgeArray(this, type);\n\n    if (arguments.length === 1) {\n      source = '' + source;\n\n      const nodeData = this._nodes.get(source);\n\n      if (typeof nodeData === 'undefined')\n        throw new NotFoundGraphError(\n          `Graph.${name}: could not find the \"${source}\" node in the graph.`\n        );\n\n      // Iterating over a node's edges\n      return createEdgeArrayForNode(\n        this.multi,\n        type === 'mixed' ? this.type : type,\n        direction,\n        nodeData\n      );\n    }\n\n    if (arguments.length === 2) {\n      source = '' + source;\n      target = '' + target;\n\n      const sourceData = this._nodes.get(source);\n\n      if (!sourceData)\n        throw new NotFoundGraphError(\n          `Graph.${name}:  could not find the \"${source}\" source node in the graph.`\n        );\n\n      if (!this._nodes.has(target))\n        throw new NotFoundGraphError(\n          `Graph.${name}:  could not find the \"${target}\" target node in the graph.`\n        );\n\n      // Iterating over the edges between source & target\n      return createEdgeArrayForPath(\n        type,\n        this.multi,\n        direction,\n        sourceData,\n        target\n      );\n    }\n\n    throw new InvalidArgumentsGraphError(\n      `Graph.${name}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`\n    );\n  };\n}\n\n/**\n * Function attaching a edge callback iterator method to the Graph prototype.\n *\n * @param {function} Class       - Target class.\n * @param {object}   description - Method description.\n */\nfunction attachForEachEdge(Class, description) {\n  const {name, type, direction} = description;\n\n  const forEachName = 'forEach' + name[0].toUpperCase() + name.slice(1, -1);\n\n  /**\n   * Function iterating over the graph's relevant edges by applying the given\n   * callback.\n   *\n   * Arity 1: Iterate over all the relevant edges.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 2: Iterate over all of a node's relevant edges.\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 3: Iterate over the relevant edges across the given path.\n   * @param  {any}      source   - Source node.\n   * @param  {any}      target   - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  Class.prototype[forEachName] = function (source, target, callback) {\n    // Early termination\n    if (type !== 'mixed' && this.type !== 'mixed' && type !== this.type) return;\n\n    if (arguments.length === 1) {\n      callback = source;\n      return forEachEdge(false, this, type, callback);\n    }\n\n    if (arguments.length === 2) {\n      source = '' + source;\n      callback = target;\n\n      const nodeData = this._nodes.get(source);\n\n      if (typeof nodeData === 'undefined')\n        throw new NotFoundGraphError(\n          `Graph.${forEachName}: could not find the \"${source}\" node in the graph.`\n        );\n\n      // Iterating over a node's edges\n      // TODO: maybe attach the sub method to the instance dynamically?\n      return forEachEdgeForNode(\n        false,\n        this.multi,\n        type === 'mixed' ? this.type : type,\n        direction,\n        nodeData,\n        callback\n      );\n    }\n\n    if (arguments.length === 3) {\n      source = '' + source;\n      target = '' + target;\n\n      const sourceData = this._nodes.get(source);\n\n      if (!sourceData)\n        throw new NotFoundGraphError(\n          `Graph.${forEachName}:  could not find the \"${source}\" source node in the graph.`\n        );\n\n      if (!this._nodes.has(target))\n        throw new NotFoundGraphError(\n          `Graph.${forEachName}:  could not find the \"${target}\" target node in the graph.`\n        );\n\n      // Iterating over the edges between source & target\n      return forEachEdgeForPath(\n        false,\n        type,\n        this.multi,\n        direction,\n        sourceData,\n        target,\n        callback\n      );\n    }\n\n    throw new InvalidArgumentsGraphError(\n      `Graph.${forEachName}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`\n    );\n  };\n\n  /**\n   * Function mapping the graph's relevant edges by applying the given\n   * callback.\n   *\n   * Arity 1: Map all the relevant edges.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 2: Map all of a node's relevant edges.\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 3: Map the relevant edges across the given path.\n   * @param  {any}      source   - Source node.\n   * @param  {any}      target   - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const mapName = 'map' + name[0].toUpperCase() + name.slice(1);\n\n  Class.prototype[mapName] = function () {\n    const args = Array.prototype.slice.call(arguments);\n    const callback = args.pop();\n\n    let result;\n\n    // We know the result length beforehand\n    if (args.length === 0) {\n      let length = 0;\n\n      if (type !== 'directed') length += this.undirectedSize;\n      if (type !== 'undirected') length += this.directedSize;\n\n      result = new Array(length);\n\n      let i = 0;\n\n      args.push((e, ea, s, t, sa, ta, u) => {\n        result[i++] = callback(e, ea, s, t, sa, ta, u);\n      });\n    }\n\n    // We don't know the result length beforehand\n    // TODO: we can in some instances of simple graphs, knowing degree\n    else {\n      result = [];\n\n      args.push((e, ea, s, t, sa, ta, u) => {\n        result.push(callback(e, ea, s, t, sa, ta, u));\n      });\n    }\n\n    this[forEachName].apply(this, args);\n\n    return result;\n  };\n\n  /**\n   * Function filtering the graph's relevant edges using the provided predicate\n   * function.\n   *\n   * Arity 1: Filter all the relevant edges.\n   * @param  {function} predicate - Predicate to use.\n   *\n   * Arity 2: Filter all of a node's relevant edges.\n   * @param  {any}      node      - Target node.\n   * @param  {function} predicate - Predicate to use.\n   *\n   * Arity 3: Filter the relevant edges across the given path.\n   * @param  {any}      source    - Source node.\n   * @param  {any}      target    - Target node.\n   * @param  {function} predicate - Predicate to use.\n   *\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const filterName = 'filter' + name[0].toUpperCase() + name.slice(1);\n\n  Class.prototype[filterName] = function () {\n    const args = Array.prototype.slice.call(arguments);\n    const callback = args.pop();\n\n    const result = [];\n\n    args.push((e, ea, s, t, sa, ta, u) => {\n      if (callback(e, ea, s, t, sa, ta, u)) result.push(e);\n    });\n\n    this[forEachName].apply(this, args);\n\n    return result;\n  };\n\n  /**\n   * Function reducing the graph's relevant edges using the provided accumulator\n   * function.\n   *\n   * Arity 1: Reduce all the relevant edges.\n   * @param  {function} accumulator  - Accumulator to use.\n   * @param  {any}      initialValue - Initial value.\n   *\n   * Arity 2: Reduce all of a node's relevant edges.\n   * @param  {any}      node         - Target node.\n   * @param  {function} accumulator  - Accumulator to use.\n   * @param  {any}      initialValue - Initial value.\n   *\n   * Arity 3: Reduce the relevant edges across the given path.\n   * @param  {any}      source       - Source node.\n   * @param  {any}      target       - Target node.\n   * @param  {function} accumulator  - Accumulator to use.\n   * @param  {any}      initialValue - Initial value.\n   *\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const reduceName = 'reduce' + name[0].toUpperCase() + name.slice(1);\n\n  Class.prototype[reduceName] = function () {\n    let args = Array.prototype.slice.call(arguments);\n\n    if (args.length < 2 || args.length > 4) {\n      throw new InvalidArgumentsGraphError(\n        `Graph.${reduceName}: invalid number of arguments (expecting 2, 3 or 4 and got ${args.length}).`\n      );\n    }\n\n    if (\n      typeof args[args.length - 1] === 'function' &&\n      typeof args[args.length - 2] !== 'function'\n    ) {\n      throw new InvalidArgumentsGraphError(\n        `Graph.${reduceName}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`\n      );\n    }\n\n    let callback;\n    let initialValue;\n\n    if (args.length === 2) {\n      callback = args[0];\n      initialValue = args[1];\n      args = [];\n    } else if (args.length === 3) {\n      callback = args[1];\n      initialValue = args[2];\n      args = [args[0]];\n    } else if (args.length === 4) {\n      callback = args[2];\n      initialValue = args[3];\n      args = [args[0], args[1]];\n    }\n\n    let accumulator = initialValue;\n\n    args.push((e, ea, s, t, sa, ta, u) => {\n      accumulator = callback(accumulator, e, ea, s, t, sa, ta, u);\n    });\n\n    this[forEachName].apply(this, args);\n\n    return accumulator;\n  };\n}\n\n/**\n * Function attaching a breakable edge callback iterator method to the Graph\n * prototype.\n *\n * @param {function} Class       - Target class.\n * @param {object}   description - Method description.\n */\nfunction attachFindEdge(Class, description) {\n  const {name, type, direction} = description;\n\n  const findEdgeName = 'find' + name[0].toUpperCase() + name.slice(1, -1);\n\n  /**\n   * Function iterating over the graph's relevant edges in order to match\n   * one of them using the provided predicate function.\n   *\n   * Arity 1: Iterate over all the relevant edges.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 2: Iterate over all of a node's relevant edges.\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 3: Iterate over the relevant edges across the given path.\n   * @param  {any}      source   - Source node.\n   * @param  {any}      target   - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  Class.prototype[findEdgeName] = function (source, target, callback) {\n    // Early termination\n    if (type !== 'mixed' && this.type !== 'mixed' && type !== this.type)\n      return false;\n\n    if (arguments.length === 1) {\n      callback = source;\n      return forEachEdge(true, this, type, callback);\n    }\n\n    if (arguments.length === 2) {\n      source = '' + source;\n      callback = target;\n\n      const nodeData = this._nodes.get(source);\n\n      if (typeof nodeData === 'undefined')\n        throw new NotFoundGraphError(\n          `Graph.${findEdgeName}: could not find the \"${source}\" node in the graph.`\n        );\n\n      // Iterating over a node's edges\n      // TODO: maybe attach the sub method to the instance dynamically?\n      return forEachEdgeForNode(\n        true,\n        this.multi,\n        type === 'mixed' ? this.type : type,\n        direction,\n        nodeData,\n        callback\n      );\n    }\n\n    if (arguments.length === 3) {\n      source = '' + source;\n      target = '' + target;\n\n      const sourceData = this._nodes.get(source);\n\n      if (!sourceData)\n        throw new NotFoundGraphError(\n          `Graph.${findEdgeName}:  could not find the \"${source}\" source node in the graph.`\n        );\n\n      if (!this._nodes.has(target))\n        throw new NotFoundGraphError(\n          `Graph.${findEdgeName}:  could not find the \"${target}\" target node in the graph.`\n        );\n\n      // Iterating over the edges between source & target\n      return forEachEdgeForPath(\n        true,\n        type,\n        this.multi,\n        direction,\n        sourceData,\n        target,\n        callback\n      );\n    }\n\n    throw new InvalidArgumentsGraphError(\n      `Graph.${findEdgeName}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`\n    );\n  };\n\n  /**\n   * Function iterating over the graph's relevant edges in order to assert\n   * whether any one of them matches the provided predicate function.\n   *\n   * Arity 1: Iterate over all the relevant edges.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 2: Iterate over all of a node's relevant edges.\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 3: Iterate over the relevant edges across the given path.\n   * @param  {any}      source   - Source node.\n   * @param  {any}      target   - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const someName = 'some' + name[0].toUpperCase() + name.slice(1, -1);\n\n  Class.prototype[someName] = function () {\n    const args = Array.prototype.slice.call(arguments);\n    const callback = args.pop();\n\n    args.push((e, ea, s, t, sa, ta, u) => {\n      return callback(e, ea, s, t, sa, ta, u);\n    });\n\n    const found = this[findEdgeName].apply(this, args);\n\n    if (found) return true;\n\n    return false;\n  };\n\n  /**\n   * Function iterating over the graph's relevant edges in order to assert\n   * whether all of them matche the provided predicate function.\n   *\n   * Arity 1: Iterate over all the relevant edges.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 2: Iterate over all of a node's relevant edges.\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * Arity 3: Iterate over the relevant edges across the given path.\n   * @param  {any}      source   - Source node.\n   * @param  {any}      target   - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const everyName = 'every' + name[0].toUpperCase() + name.slice(1, -1);\n\n  Class.prototype[everyName] = function () {\n    const args = Array.prototype.slice.call(arguments);\n    const callback = args.pop();\n\n    args.push((e, ea, s, t, sa, ta, u) => {\n      return !callback(e, ea, s, t, sa, ta, u);\n    });\n\n    const found = this[findEdgeName].apply(this, args);\n\n    if (found) return false;\n\n    return true;\n  };\n}\n\n/**\n * Function attaching an edge iterator method to the Graph prototype.\n *\n * @param {function} Class       - Target class.\n * @param {object}   description - Method description.\n */\nfunction attachEdgeIteratorCreator(Class, description) {\n  const {name: originalName, type, direction} = description;\n\n  const name = originalName.slice(0, -1) + 'Entries';\n\n  /**\n   * Function returning an iterator over the graph's edges.\n   *\n   * Arity 0: Iterate over all the relevant edges.\n   *\n   * Arity 1: Iterate over all of a node's relevant edges.\n   * @param  {any}   node   - Target node.\n   *\n   * Arity 2: Iterate over the relevant edges across the given path.\n   * @param  {any}   source - Source node.\n   * @param  {any}   target - Target node.\n   *\n   * @return {array|number} - The edges or the number of edges.\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  Class.prototype[name] = function (source, target) {\n    // Early termination\n    if (type !== 'mixed' && this.type !== 'mixed' && type !== this.type)\n      return Iterator.empty();\n\n    if (!arguments.length) return createEdgeIterator(this, type);\n\n    if (arguments.length === 1) {\n      source = '' + source;\n\n      const sourceData = this._nodes.get(source);\n\n      if (!sourceData)\n        throw new NotFoundGraphError(\n          `Graph.${name}: could not find the \"${source}\" node in the graph.`\n        );\n\n      // Iterating over a node's edges\n      return createEdgeIteratorForNode(type, direction, sourceData);\n    }\n\n    if (arguments.length === 2) {\n      source = '' + source;\n      target = '' + target;\n\n      const sourceData = this._nodes.get(source);\n\n      if (!sourceData)\n        throw new NotFoundGraphError(\n          `Graph.${name}:  could not find the \"${source}\" source node in the graph.`\n        );\n\n      if (!this._nodes.has(target))\n        throw new NotFoundGraphError(\n          `Graph.${name}:  could not find the \"${target}\" target node in the graph.`\n        );\n\n      // Iterating over the edges between source & target\n      return createEdgeIteratorForPath(type, direction, sourceData, target);\n    }\n\n    throw new InvalidArgumentsGraphError(\n      `Graph.${name}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`\n    );\n  };\n}\n\n/**\n * Function attaching every edge iteration method to the Graph class.\n *\n * @param {function} Graph - Graph class.\n */\nexport default function attachEdgeIterationMethods(Graph) {\n  EDGES_ITERATION.forEach(description => {\n    attachEdgeArrayCreator(Graph, description);\n    attachForEachEdge(Graph, description);\n    attachFindEdge(Graph, description);\n    attachEdgeIteratorCreator(Graph, description);\n  });\n}\n","/**\n * Graphology Neighbor Iteration\n * ==============================\n *\n * Attaching some methods to the Graph class to be able to iterate over\n * neighbors.\n */\nimport Iterator from 'obliterator/iterator';\nimport chain from 'obliterator/chain';\n\nimport {NotFoundGraphError, InvalidArgumentsGraphError} from '../errors';\n\n/**\n * Definitions.\n */\nconst NEIGHBORS_ITERATION = [\n  {\n    name: 'neighbors',\n    type: 'mixed'\n  },\n  {\n    name: 'inNeighbors',\n    type: 'directed',\n    direction: 'in'\n  },\n  {\n    name: 'outNeighbors',\n    type: 'directed',\n    direction: 'out'\n  },\n  {\n    name: 'inboundNeighbors',\n    type: 'mixed',\n    direction: 'in'\n  },\n  {\n    name: 'outboundNeighbors',\n    type: 'mixed',\n    direction: 'out'\n  },\n  {\n    name: 'directedNeighbors',\n    type: 'directed'\n  },\n  {\n    name: 'undirectedNeighbors',\n    type: 'undirected'\n  }\n];\n\n/**\n * Helpers.\n */\nfunction CompositeSetWrapper() {\n  this.A = null;\n  this.B = null;\n}\n\nCompositeSetWrapper.prototype.wrap = function (set) {\n  if (this.A === null) this.A = set;\n  else if (this.B === null) this.B = set;\n};\n\nCompositeSetWrapper.prototype.has = function (key) {\n  if (this.A !== null && key in this.A) return true;\n  if (this.B !== null && key in this.B) return true;\n  return false;\n};\n\n/**\n * Function iterating over the given node's relevant neighbors to match\n * one of them using a predicated function.\n *\n * @param  {string}   type      - Type of neighbors.\n * @param  {string}   direction - Direction.\n * @param  {any}      nodeData  - Target node's data.\n * @param  {function} callback  - Callback to use.\n */\nfunction forEachInObjectOnce(breakable, visited, nodeData, object, callback) {\n  for (const k in object) {\n    const edgeData = object[k];\n\n    const sourceData = edgeData.source;\n    const targetData = edgeData.target;\n\n    const neighborData = sourceData === nodeData ? targetData : sourceData;\n\n    if (visited && visited.has(neighborData.key)) continue;\n\n    const shouldBreak = callback(neighborData.key, neighborData.attributes);\n\n    if (breakable && shouldBreak) return neighborData.key;\n  }\n\n  return;\n}\n\nfunction forEachNeighbor(breakable, type, direction, nodeData, callback) {\n  // If we want only undirected or in or out, we can roll some optimizations\n  if (type !== 'mixed') {\n    if (type === 'undirected')\n      return forEachInObjectOnce(\n        breakable,\n        null,\n        nodeData,\n        nodeData.undirected,\n        callback\n      );\n\n    if (typeof direction === 'string')\n      return forEachInObjectOnce(\n        breakable,\n        null,\n        nodeData,\n        nodeData[direction],\n        callback\n      );\n  }\n\n  // Else we need to keep a set of neighbors not to return duplicates\n  // We cheat by querying the other adjacencies\n  const visited = new CompositeSetWrapper();\n\n  let found;\n\n  if (type !== 'undirected') {\n    if (direction !== 'out') {\n      found = forEachInObjectOnce(\n        breakable,\n        null,\n        nodeData,\n        nodeData.in,\n        callback\n      );\n\n      if (breakable && found) return found;\n\n      visited.wrap(nodeData.in);\n    }\n    if (direction !== 'in') {\n      found = forEachInObjectOnce(\n        breakable,\n        visited,\n        nodeData,\n        nodeData.out,\n        callback\n      );\n\n      if (breakable && found) return found;\n\n      visited.wrap(nodeData.out);\n    }\n  }\n\n  if (type !== 'directed') {\n    found = forEachInObjectOnce(\n      breakable,\n      visited,\n      nodeData,\n      nodeData.undirected,\n      callback\n    );\n\n    if (breakable && found) return found;\n  }\n\n  return;\n}\n\n/**\n * Function creating an array of relevant neighbors for the given node.\n *\n * @param  {string}       type      - Type of neighbors.\n * @param  {string}       direction - Direction.\n * @param  {any}          nodeData  - Target node's data.\n * @return {Array}                  - The list of neighbors.\n */\nfunction createNeighborArrayForNode(type, direction, nodeData) {\n  // If we want only undirected or in or out, we can roll some optimizations\n  if (type !== 'mixed') {\n    if (type === 'undirected') return Object.keys(nodeData.undirected);\n\n    if (typeof direction === 'string') return Object.keys(nodeData[direction]);\n  }\n\n  const neighbors = [];\n\n  forEachNeighbor(false, type, direction, nodeData, function (key) {\n    neighbors.push(key);\n  });\n\n  return neighbors;\n}\n\n/**\n * Function returning an iterator over the given node's relevant neighbors.\n *\n * @param  {string}   type      - Type of neighbors.\n * @param  {string}   direction - Direction.\n * @param  {any}      nodeData  - Target node's data.\n * @return {Iterator}\n */\nfunction createDedupedObjectIterator(visited, nodeData, object) {\n  const keys = Object.keys(object);\n  const l = keys.length;\n\n  let i = 0;\n\n  return new Iterator(function next() {\n    let neighborData = null;\n\n    do {\n      if (i >= l) {\n        if (visited) visited.wrap(object);\n        return {done: true};\n      }\n\n      const edgeData = object[keys[i++]];\n\n      const sourceData = edgeData.source;\n      const targetData = edgeData.target;\n\n      neighborData = sourceData === nodeData ? targetData : sourceData;\n\n      if (visited && visited.has(neighborData.key)) {\n        neighborData = null;\n        continue;\n      }\n    } while (neighborData === null);\n\n    return {\n      done: false,\n      value: {neighbor: neighborData.key, attributes: neighborData.attributes}\n    };\n  });\n}\n\nfunction createNeighborIterator(type, direction, nodeData) {\n  // If we want only undirected or in or out, we can roll some optimizations\n  if (type !== 'mixed') {\n    if (type === 'undirected')\n      return createDedupedObjectIterator(null, nodeData, nodeData.undirected);\n\n    if (typeof direction === 'string')\n      return createDedupedObjectIterator(null, nodeData, nodeData[direction]);\n  }\n\n  let iterator = Iterator.empty();\n\n  // Else we need to keep a set of neighbors not to return duplicates\n  // We cheat by querying the other adjacencies\n  const visited = new CompositeSetWrapper();\n\n  if (type !== 'undirected') {\n    if (direction !== 'out') {\n      iterator = chain(\n        iterator,\n        createDedupedObjectIterator(visited, nodeData, nodeData.in)\n      );\n    }\n    if (direction !== 'in') {\n      iterator = chain(\n        iterator,\n        createDedupedObjectIterator(visited, nodeData, nodeData.out)\n      );\n    }\n  }\n\n  if (type !== 'directed') {\n    iterator = chain(\n      iterator,\n      createDedupedObjectIterator(visited, nodeData, nodeData.undirected)\n    );\n  }\n\n  return iterator;\n}\n\n/**\n * Function attaching a neighbors array creator method to the Graph prototype.\n *\n * @param {function} Class       - Target class.\n * @param {object}   description - Method description.\n */\nfunction attachNeighborArrayCreator(Class, description) {\n  const {name, type, direction} = description;\n\n  /**\n   * Function returning an array of certain neighbors.\n   *\n   * @param  {any}   node   - Target node.\n   * @return {array} - The neighbors of neighbors.\n   *\n   * @throws {Error} - Will throw if node is not found in the graph.\n   */\n  Class.prototype[name] = function (node) {\n    // Early termination\n    if (type !== 'mixed' && this.type !== 'mixed' && type !== this.type)\n      return [];\n\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (typeof nodeData === 'undefined')\n      throw new NotFoundGraphError(\n        `Graph.${name}: could not find the \"${node}\" node in the graph.`\n      );\n\n    // Here, we want to iterate over a node's relevant neighbors\n    return createNeighborArrayForNode(\n      type === 'mixed' ? this.type : type,\n      direction,\n      nodeData\n    );\n  };\n}\n\n/**\n * Function attaching a neighbors callback iterator method to the Graph prototype.\n *\n * @param {function} Class       - Target class.\n * @param {object}   description - Method description.\n */\nfunction attachForEachNeighbor(Class, description) {\n  const {name, type, direction} = description;\n\n  const forEachName = 'forEach' + name[0].toUpperCase() + name.slice(1, -1);\n\n  /**\n   * Function iterating over all the relevant neighbors using a callback.\n   *\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  Class.prototype[forEachName] = function (node, callback) {\n    // Early termination\n    if (type !== 'mixed' && this.type !== 'mixed' && type !== this.type) return;\n\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (typeof nodeData === 'undefined')\n      throw new NotFoundGraphError(\n        `Graph.${forEachName}: could not find the \"${node}\" node in the graph.`\n      );\n\n    // Here, we want to iterate over a node's relevant neighbors\n    forEachNeighbor(\n      false,\n      type === 'mixed' ? this.type : type,\n      direction,\n      nodeData,\n      callback\n    );\n  };\n\n  /**\n   * Function mapping the relevant neighbors using a callback.\n   *\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const mapName = 'map' + name[0].toUpperCase() + name.slice(1);\n\n  Class.prototype[mapName] = function (node, callback) {\n    // TODO: optimize when size is known beforehand\n    const result = [];\n\n    this[forEachName](node, (n, a) => {\n      result.push(callback(n, a));\n    });\n\n    return result;\n  };\n\n  /**\n   * Function filtering the relevant neighbors using a callback.\n   *\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const filterName = 'filter' + name[0].toUpperCase() + name.slice(1);\n\n  Class.prototype[filterName] = function (node, callback) {\n    const result = [];\n\n    this[forEachName](node, (n, a) => {\n      if (callback(n, a)) result.push(n);\n    });\n\n    return result;\n  };\n\n  /**\n   * Function reducing the relevant neighbors using a callback.\n   *\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const reduceName = 'reduce' + name[0].toUpperCase() + name.slice(1);\n\n  Class.prototype[reduceName] = function (node, callback, initialValue) {\n    if (arguments.length < 3)\n      throw new InvalidArgumentsGraphError(\n        `Graph.${reduceName}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`\n      );\n\n    let accumulator = initialValue;\n\n    this[forEachName](node, (n, a) => {\n      accumulator = callback(accumulator, n, a);\n    });\n\n    return accumulator;\n  };\n}\n\n/**\n * Function attaching a breakable neighbors callback iterator method to the\n * Graph prototype.\n *\n * @param {function} Class       - Target class.\n * @param {object}   description - Method description.\n */\nfunction attachFindNeighbor(Class, description) {\n  const {name, type, direction} = description;\n\n  const capitalizedSingular = name[0].toUpperCase() + name.slice(1, -1);\n\n  const findName = 'find' + capitalizedSingular;\n\n  /**\n   * Function iterating over all the relevant neighbors using a callback.\n   *\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   * @return {undefined}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  Class.prototype[findName] = function (node, callback) {\n    // Early termination\n    if (type !== 'mixed' && this.type !== 'mixed' && type !== this.type) return;\n\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (typeof nodeData === 'undefined')\n      throw new NotFoundGraphError(\n        `Graph.${findName}: could not find the \"${node}\" node in the graph.`\n      );\n\n    // Here, we want to iterate over a node's relevant neighbors\n    return forEachNeighbor(\n      true,\n      type === 'mixed' ? this.type : type,\n      direction,\n      nodeData,\n      callback\n    );\n  };\n\n  /**\n   * Function iterating over all the relevant neighbors to find if any of them\n   * matches the given predicate.\n   *\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const someName = 'some' + capitalizedSingular;\n\n  Class.prototype[someName] = function (node, callback) {\n    const found = this[findName](node, callback);\n\n    if (found) return true;\n\n    return false;\n  };\n\n  /**\n   * Function iterating over all the relevant neighbors to find if all of them\n   * matche the given predicate.\n   *\n   * @param  {any}      node     - Target node.\n   * @param  {function} callback - Callback to use.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  const everyName = 'every' + capitalizedSingular;\n\n  Class.prototype[everyName] = function (node, callback) {\n    const found = this[findName](node, (n, a) => {\n      return !callback(n, a);\n    });\n\n    if (found) return false;\n\n    return true;\n  };\n}\n\n/**\n * Function attaching a neighbors callback iterator method to the Graph prototype.\n *\n * @param {function} Class       - Target class.\n * @param {object}   description - Method description.\n */\nfunction attachNeighborIteratorCreator(Class, description) {\n  const {name, type, direction} = description;\n\n  const iteratorName = name.slice(0, -1) + 'Entries';\n\n  /**\n   * Function returning an iterator over all the relevant neighbors.\n   *\n   * @param  {any}      node     - Target node.\n   * @return {Iterator}\n   *\n   * @throws {Error} - Will throw if there are too many arguments.\n   */\n  Class.prototype[iteratorName] = function (node) {\n    // Early termination\n    if (type !== 'mixed' && this.type !== 'mixed' && type !== this.type)\n      return Iterator.empty();\n\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (typeof nodeData === 'undefined')\n      throw new NotFoundGraphError(\n        `Graph.${iteratorName}: could not find the \"${node}\" node in the graph.`\n      );\n\n    // Here, we want to iterate over a node's relevant neighbors\n    return createNeighborIterator(\n      type === 'mixed' ? this.type : type,\n      direction,\n      nodeData\n    );\n  };\n}\n\n/**\n * Function attaching every neighbor iteration method to the Graph class.\n *\n * @param {function} Graph - Graph class.\n */\nexport default function attachNeighborIterationMethods(Graph) {\n  NEIGHBORS_ITERATION.forEach(description => {\n    attachNeighborArrayCreator(Graph, description);\n    attachForEachNeighbor(Graph, description);\n    attachFindNeighbor(Graph, description);\n    attachNeighborIteratorCreator(Graph, description);\n  });\n}\n","/**\n * Graphology Adjacency Iteration\n * ===============================\n *\n * Attaching some methods to the Graph class to be able to iterate over a\n * graph's adjacency.\n */\n\n/**\n * Function iterating over a simple graph's adjacency using a callback.\n *\n * @param {boolean}  breakable         - Can we break?\n * @param {boolean}  assymetric        - Whether to emit undirected edges only once.\n * @param {boolean}  disconnectedNodes - Whether to emit disconnected nodes.\n * @param {Graph}    graph             - Target Graph instance.\n * @param {callback} function          - Iteration callback.\n */\nexport function forEachAdjacency(\n  breakable,\n  assymetric,\n  disconnectedNodes,\n  graph,\n  callback\n) {\n  const iterator = graph._nodes.values();\n\n  const type = graph.type;\n\n  let step, sourceData, neighbor, adj, edgeData, targetData, shouldBreak;\n\n  while (((step = iterator.next()), step.done !== true)) {\n    let hasEdges = false;\n\n    sourceData = step.value;\n\n    if (type !== 'undirected') {\n      adj = sourceData.out;\n\n      for (neighbor in adj) {\n        edgeData = adj[neighbor];\n\n        do {\n          targetData = edgeData.target;\n\n          hasEdges = true;\n          shouldBreak = callback(\n            sourceData.key,\n            targetData.key,\n            sourceData.attributes,\n            targetData.attributes,\n            edgeData.key,\n            edgeData.attributes,\n            edgeData.undirected\n          );\n\n          if (breakable && shouldBreak) return edgeData;\n\n          edgeData = edgeData.next;\n        } while (edgeData);\n      }\n    }\n\n    if (type !== 'directed') {\n      adj = sourceData.undirected;\n\n      for (neighbor in adj) {\n        if (assymetric && sourceData.key > neighbor) continue;\n\n        edgeData = adj[neighbor];\n\n        do {\n          targetData = edgeData.target;\n\n          if (targetData.key !== neighbor) targetData = edgeData.source;\n\n          hasEdges = true;\n          shouldBreak = callback(\n            sourceData.key,\n            targetData.key,\n            sourceData.attributes,\n            targetData.attributes,\n            edgeData.key,\n            edgeData.attributes,\n            edgeData.undirected\n          );\n\n          if (breakable && shouldBreak) return edgeData;\n\n          edgeData = edgeData.next;\n        } while (edgeData);\n      }\n    }\n\n    if (disconnectedNodes && !hasEdges) {\n      shouldBreak = callback(\n        sourceData.key,\n        null,\n        sourceData.attributes,\n        null,\n        null,\n        null,\n        null\n      );\n\n      if (breakable && shouldBreak) return null;\n    }\n  }\n\n  return;\n}\n","/**\n * Graphology Serialization Utilities\n * ===================================\n *\n * Collection of functions used by the graph serialization schemes.\n */\nimport {InvalidArgumentsGraphError} from './errors';\nimport {assign, isPlainObject, isEmpty} from './utils';\n\n/**\n * Formats internal node data into a serialized node.\n *\n * @param  {any}    key  - The node's key.\n * @param  {object} data - Internal node's data.\n * @return {array}       - The serialized node.\n */\nexport function serializeNode(key, data) {\n  const serialized = {key};\n\n  if (!isEmpty(data.attributes))\n    serialized.attributes = assign({}, data.attributes);\n\n  return serialized;\n}\n\n/**\n * Formats internal edge data into a serialized edge.\n *\n * @param  {string} type - The graph's type.\n * @param  {any}    key  - The edge's key.\n * @param  {object} data - Internal edge's data.\n * @return {array}       - The serialized edge.\n */\nexport function serializeEdge(type, key, data) {\n  const serialized = {\n    key,\n    source: data.source.key,\n    target: data.target.key\n  };\n\n  if (!isEmpty(data.attributes))\n    serialized.attributes = assign({}, data.attributes);\n\n  if (type === 'mixed' && data.undirected) serialized.undirected = true;\n\n  return serialized;\n}\n\n/**\n * Checks whether the given value is a serialized node.\n *\n * @param  {mixed} value - Target value.\n * @return {string|null}\n */\nexport function validateSerializedNode(value) {\n  if (!isPlainObject(value))\n    throw new InvalidArgumentsGraphError(\n      'Graph.import: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.'\n    );\n\n  if (!('key' in value))\n    throw new InvalidArgumentsGraphError(\n      'Graph.import: serialized node is missing its key.'\n    );\n\n  if (\n    'attributes' in value &&\n    (!isPlainObject(value.attributes) || value.attributes === null)\n  )\n    throw new InvalidArgumentsGraphError(\n      'Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.'\n    );\n}\n\n/**\n * Checks whether the given value is a serialized edge.\n *\n * @param  {mixed} value - Target value.\n * @return {string|null}\n */\nexport function validateSerializedEdge(value) {\n  if (!isPlainObject(value))\n    throw new InvalidArgumentsGraphError(\n      'Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.'\n    );\n\n  if (!('source' in value))\n    throw new InvalidArgumentsGraphError(\n      'Graph.import: serialized edge is missing its source.'\n    );\n\n  if (!('target' in value))\n    throw new InvalidArgumentsGraphError(\n      'Graph.import: serialized edge is missing its target.'\n    );\n\n  if (\n    'attributes' in value &&\n    (!isPlainObject(value.attributes) || value.attributes === null)\n  )\n    throw new InvalidArgumentsGraphError(\n      'Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.'\n    );\n\n  if ('undirected' in value && typeof value.undirected !== 'boolean')\n    throw new InvalidArgumentsGraphError(\n      'Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.'\n    );\n}\n","/* eslint no-nested-ternary: 0 */\n/**\n * Graphology Reference Implementation\n * ====================================\n *\n * Reference implementation of the graphology specs.\n */\nimport {EventEmitter} from 'events';\nimport Iterator from 'obliterator/iterator';\nimport take from 'obliterator/take';\n\nimport {\n  InvalidArgumentsGraphError,\n  NotFoundGraphError,\n  UsageGraphError\n} from './errors';\n\nimport {\n  MixedNodeData,\n  DirectedNodeData,\n  UndirectedNodeData,\n  EdgeData\n} from './data';\n\nimport attachNodeAttributesMethods from './attributes/nodes';\nimport attachEdgeAttributesMethods from './attributes/edges';\nimport attachEdgeIterationMethods from './iteration/edges';\nimport attachNeighborIterationMethods from './iteration/neighbors';\nimport {forEachAdjacency} from './iteration/adjacency';\n\nimport {\n  serializeNode,\n  serializeEdge,\n  validateSerializedNode,\n  validateSerializedEdge\n} from './serialization';\n\nimport {\n  assign,\n  getMatchingEdge,\n  isPlainObject,\n  privateProperty,\n  readOnlyProperty,\n  incrementalIdStartingFromRandomByte,\n  validateHints\n} from './utils';\n\n/**\n * Constants.\n */\nconst INSTANCE_ID = incrementalIdStartingFromRandomByte();\n\n/**\n * Enums.\n */\nconst TYPES = new Set(['directed', 'undirected', 'mixed']);\n\nconst EMITTER_PROPS = new Set([\n  'domain',\n  '_events',\n  '_eventsCount',\n  '_maxListeners'\n]);\n\nconst EDGE_ADD_METHODS = [\n  {\n    name: verb => `${verb}Edge`,\n    generateKey: true\n  },\n  {\n    name: verb => `${verb}DirectedEdge`,\n    generateKey: true,\n    type: 'directed'\n  },\n  {\n    name: verb => `${verb}UndirectedEdge`,\n    generateKey: true,\n    type: 'undirected'\n  },\n  {\n    name: verb => `${verb}EdgeWithKey`\n  },\n  {\n    name: verb => `${verb}DirectedEdgeWithKey`,\n    type: 'directed'\n  },\n  {\n    name: verb => `${verb}UndirectedEdgeWithKey`,\n    type: 'undirected'\n  }\n];\n\n/**\n * Default options.\n */\nconst DEFAULTS = {\n  allowSelfLoops: true,\n  multi: false,\n  type: 'mixed'\n};\n\n/**\n * Abstract functions used by the Graph class for various methods.\n */\n\n/**\n * Internal method used to add a node to the given graph\n *\n * @param  {Graph}   graph           - Target graph.\n * @param  {any}     node            - The node's key.\n * @param  {object}  [attributes]    - Optional attributes.\n * @return {NodeData}                - Created node data.\n */\nfunction addNode(graph, node, attributes) {\n  if (attributes && !isPlainObject(attributes))\n    throw new InvalidArgumentsGraphError(\n      `Graph.addNode: invalid attributes. Expecting an object but got \"${attributes}\"`\n    );\n\n  // String coercion\n  node = '' + node;\n  attributes = attributes || {};\n\n  if (graph._nodes.has(node))\n    throw new UsageGraphError(\n      `Graph.addNode: the \"${node}\" node already exist in the graph.`\n    );\n\n  const data = new graph.NodeDataClass(node, attributes);\n\n  // Adding the node to internal register\n  graph._nodes.set(node, data);\n\n  // Emitting\n  graph.emit('nodeAdded', {\n    key: node,\n    attributes\n  });\n\n  return data;\n}\n\n/**\n * Same as the above but without sanity checks because we call this in contexts\n * where necessary checks were already done.\n */\nfunction unsafeAddNode(graph, node, attributes) {\n  const data = new graph.NodeDataClass(node, attributes);\n\n  graph._nodes.set(node, data);\n\n  graph.emit('nodeAdded', {\n    key: node,\n    attributes\n  });\n\n  return data;\n}\n\n/**\n * Internal method used to add an arbitrary edge to the given graph.\n *\n * @param  {Graph}   graph           - Target graph.\n * @param  {string}  name            - Name of the child method for errors.\n * @param  {boolean} mustGenerateKey - Should the graph generate an id?\n * @param  {boolean} undirected      - Whether the edge is undirected.\n * @param  {any}     edge            - The edge's key.\n * @param  {any}     source          - The source node.\n * @param  {any}     target          - The target node.\n * @param  {object}  [attributes]    - Optional attributes.\n * @return {any}                     - The edge.\n *\n * @throws {Error} - Will throw if the graph is of the wrong type.\n * @throws {Error} - Will throw if the given attributes are not an object.\n * @throws {Error} - Will throw if source or target doesn't exist.\n * @throws {Error} - Will throw if the edge already exist.\n */\nfunction addEdge(\n  graph,\n  name,\n  mustGenerateKey,\n  undirected,\n  edge,\n  source,\n  target,\n  attributes\n) {\n  // Checking validity of operation\n  if (!undirected && graph.type === 'undirected')\n    throw new UsageGraphError(\n      `Graph.${name}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`\n    );\n\n  if (undirected && graph.type === 'directed')\n    throw new UsageGraphError(\n      `Graph.${name}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`\n    );\n\n  if (attributes && !isPlainObject(attributes))\n    throw new InvalidArgumentsGraphError(\n      `Graph.${name}: invalid attributes. Expecting an object but got \"${attributes}\"`\n    );\n\n  // Coercion of source & target:\n  source = '' + source;\n  target = '' + target;\n  attributes = attributes || {};\n\n  if (!graph.allowSelfLoops && source === target)\n    throw new UsageGraphError(\n      `Graph.${name}: source & target are the same (\"${source}\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`\n    );\n\n  const sourceData = graph._nodes.get(source),\n    targetData = graph._nodes.get(target);\n\n  if (!sourceData)\n    throw new NotFoundGraphError(\n      `Graph.${name}: source node \"${source}\" not found.`\n    );\n\n  if (!targetData)\n    throw new NotFoundGraphError(\n      `Graph.${name}: target node \"${target}\" not found.`\n    );\n\n  // Must the graph generate an id for this edge?\n  const eventData = {\n    key: null,\n    undirected,\n    source,\n    target,\n    attributes\n  };\n\n  if (mustGenerateKey) {\n    // NOTE: in this case we can guarantee that the key does not already\n    // exist and is already correctly casted as a string\n    edge = graph._edgeKeyGenerator();\n  } else {\n    // Coercion of edge key\n    edge = '' + edge;\n\n    // Here, we have a key collision\n    if (graph._edges.has(edge))\n      throw new UsageGraphError(\n        `Graph.${name}: the \"${edge}\" edge already exists in the graph.`\n      );\n  }\n\n  // Here, we might have a source / target collision\n  if (\n    !graph.multi &&\n    (undirected\n      ? typeof sourceData.undirected[target] !== 'undefined'\n      : typeof sourceData.out[target] !== 'undefined')\n  ) {\n    throw new UsageGraphError(\n      `Graph.${name}: an edge linking \"${source}\" to \"${target}\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`\n    );\n  }\n\n  // Storing some data\n  const edgeData = new EdgeData(\n    undirected,\n    edge,\n    sourceData,\n    targetData,\n    attributes\n  );\n\n  // Adding the edge to the internal register\n  graph._edges.set(edge, edgeData);\n\n  // Incrementing node degree counters\n  const isSelfLoop = source === target;\n\n  if (undirected) {\n    sourceData.undirectedDegree++;\n    targetData.undirectedDegree++;\n\n    if (isSelfLoop) {\n      sourceData.undirectedLoops++;\n      graph._undirectedSelfLoopCount++;\n    }\n  } else {\n    sourceData.outDegree++;\n    targetData.inDegree++;\n\n    if (isSelfLoop) {\n      sourceData.directedLoops++;\n      graph._directedSelfLoopCount++;\n    }\n  }\n\n  // Updating relevant index\n  if (graph.multi) edgeData.attachMulti();\n  else edgeData.attach();\n\n  if (undirected) graph._undirectedSize++;\n  else graph._directedSize++;\n\n  // Emitting\n  eventData.key = edge;\n\n  graph.emit('edgeAdded', eventData);\n\n  return edge;\n}\n\n/**\n * Internal method used to add an arbitrary edge to the given graph.\n *\n * @param  {Graph}   graph           - Target graph.\n * @param  {string}  name            - Name of the child method for errors.\n * @param  {boolean} mustGenerateKey - Should the graph generate an id?\n * @param  {boolean} undirected      - Whether the edge is undirected.\n * @param  {any}     edge            - The edge's key.\n * @param  {any}     source          - The source node.\n * @param  {any}     target          - The target node.\n * @param  {object}  [attributes]    - Optional attributes.\n * @param  {boolean} [asUpdater]       - Are we updating or merging?\n * @return {any}                     - The edge.\n *\n * @throws {Error} - Will throw if the graph is of the wrong type.\n * @throws {Error} - Will throw if the given attributes are not an object.\n * @throws {Error} - Will throw if source or target doesn't exist.\n * @throws {Error} - Will throw if the edge already exist.\n */\nfunction mergeEdge(\n  graph,\n  name,\n  mustGenerateKey,\n  undirected,\n  edge,\n  source,\n  target,\n  attributes,\n  asUpdater\n) {\n  // Checking validity of operation\n  if (!undirected && graph.type === 'undirected')\n    throw new UsageGraphError(\n      `Graph.${name}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`\n    );\n\n  if (undirected && graph.type === 'directed')\n    throw new UsageGraphError(\n      `Graph.${name}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`\n    );\n\n  if (attributes) {\n    if (asUpdater) {\n      if (typeof attributes !== 'function')\n        throw new InvalidArgumentsGraphError(\n          `Graph.${name}: invalid updater function. Expecting a function but got \"${attributes}\"`\n        );\n    } else {\n      if (!isPlainObject(attributes))\n        throw new InvalidArgumentsGraphError(\n          `Graph.${name}: invalid attributes. Expecting an object but got \"${attributes}\"`\n        );\n    }\n  }\n\n  // Coercion of source & target:\n  source = '' + source;\n  target = '' + target;\n\n  let updater;\n\n  if (asUpdater) {\n    updater = attributes;\n    attributes = undefined;\n  }\n\n  if (!graph.allowSelfLoops && source === target)\n    throw new UsageGraphError(\n      `Graph.${name}: source & target are the same (\"${source}\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`\n    );\n\n  let sourceData = graph._nodes.get(source);\n  let targetData = graph._nodes.get(target);\n  let edgeData;\n\n  // Do we need to handle duplicate?\n  let alreadyExistingEdgeData;\n\n  if (!mustGenerateKey) {\n    edgeData = graph._edges.get(edge);\n\n    if (edgeData) {\n      // Here, we need to ensure, if the user gave a key, that source & target\n      // are consistent\n      if (edgeData.source.key !== source || edgeData.target.key !== target) {\n        // If source or target inconsistent\n        if (\n          !undirected ||\n          edgeData.source.key !== target ||\n          edgeData.target.key !== source\n        ) {\n          // If directed, or source/target aren't flipped\n          throw new UsageGraphError(\n            `Graph.${name}: inconsistency detected when attempting to merge the \"${edge}\" edge with \"${source}\" source & \"${target}\" target vs. (\"${edgeData.source.key}\", \"${edgeData.target.key}\").`\n          );\n        }\n      }\n\n      alreadyExistingEdgeData = edgeData;\n    }\n  }\n\n  // Here, we might have a source / target collision\n  if (!alreadyExistingEdgeData && !graph.multi && sourceData) {\n    alreadyExistingEdgeData = undirected\n      ? sourceData.undirected[target]\n      : sourceData.out[target];\n  }\n\n  // Handling duplicates\n  if (alreadyExistingEdgeData) {\n    const info = [alreadyExistingEdgeData.key, false, false, false];\n\n    // We can skip the attribute merging part if the user did not provide them\n    if (asUpdater ? !updater : !attributes) return info;\n\n    // Updating the attributes\n    if (asUpdater) {\n      const oldAttributes = alreadyExistingEdgeData.attributes;\n      alreadyExistingEdgeData.attributes = updater(oldAttributes);\n\n      graph.emit('edgeAttributesUpdated', {\n        type: 'replace',\n        key: alreadyExistingEdgeData.key,\n        attributes: alreadyExistingEdgeData.attributes\n      });\n    }\n\n    // Merging the attributes\n    else {\n      assign(alreadyExistingEdgeData.attributes, attributes);\n\n      graph.emit('edgeAttributesUpdated', {\n        type: 'merge',\n        key: alreadyExistingEdgeData.key,\n        attributes: alreadyExistingEdgeData.attributes,\n        data: attributes\n      });\n    }\n\n    return info;\n  }\n\n  attributes = attributes || {};\n\n  if (asUpdater && updater) attributes = updater(attributes);\n\n  // Must the graph generate an id for this edge?\n  const eventData = {\n    key: null,\n    undirected,\n    source,\n    target,\n    attributes\n  };\n\n  if (mustGenerateKey) {\n    // NOTE: in this case we can guarantee that the key does not already\n    // exist and is already correctly casted as a string\n    edge = graph._edgeKeyGenerator();\n  } else {\n    // Coercion of edge key\n    edge = '' + edge;\n\n    // Here, we have a key collision\n    if (graph._edges.has(edge))\n      throw new UsageGraphError(\n        `Graph.${name}: the \"${edge}\" edge already exists in the graph.`\n      );\n  }\n\n  let sourceWasAdded = false;\n  let targetWasAdded = false;\n\n  if (!sourceData) {\n    sourceData = unsafeAddNode(graph, source, {});\n    sourceWasAdded = true;\n\n    if (source === target) {\n      targetData = sourceData;\n      targetWasAdded = true;\n    }\n  }\n  if (!targetData) {\n    targetData = unsafeAddNode(graph, target, {});\n    targetWasAdded = true;\n  }\n\n  // Storing some data\n  edgeData = new EdgeData(undirected, edge, sourceData, targetData, attributes);\n\n  // Adding the edge to the internal register\n  graph._edges.set(edge, edgeData);\n\n  // Incrementing node degree counters\n  const isSelfLoop = source === target;\n\n  if (undirected) {\n    sourceData.undirectedDegree++;\n    targetData.undirectedDegree++;\n\n    if (isSelfLoop) {\n      sourceData.undirectedLoops++;\n      graph._undirectedSelfLoopCount++;\n    }\n  } else {\n    sourceData.outDegree++;\n    targetData.inDegree++;\n\n    if (isSelfLoop) {\n      sourceData.directedLoops++;\n      graph._directedSelfLoopCount++;\n    }\n  }\n\n  // Updating relevant index\n  if (graph.multi) edgeData.attachMulti();\n  else edgeData.attach();\n\n  if (undirected) graph._undirectedSize++;\n  else graph._directedSize++;\n\n  // Emitting\n  eventData.key = edge;\n\n  graph.emit('edgeAdded', eventData);\n\n  return [edge, true, sourceWasAdded, targetWasAdded];\n}\n\n/**\n * Internal method used to drop an edge.\n *\n * @param  {Graph}    graph    - Target graph.\n * @param  {EdgeData} edgeData - Data of the edge to drop.\n */\nfunction dropEdgeFromData(graph, edgeData) {\n  // Dropping the edge from the register\n  graph._edges.delete(edgeData.key);\n\n  // Updating related degrees\n  const {source: sourceData, target: targetData, attributes} = edgeData;\n\n  const undirected = edgeData.undirected;\n\n  const isSelfLoop = sourceData === targetData;\n\n  if (undirected) {\n    sourceData.undirectedDegree--;\n    targetData.undirectedDegree--;\n\n    if (isSelfLoop) {\n      sourceData.undirectedLoops--;\n      graph._undirectedSelfLoopCount--;\n    }\n  } else {\n    sourceData.outDegree--;\n    targetData.inDegree--;\n\n    if (isSelfLoop) {\n      sourceData.directedLoops--;\n      graph._directedSelfLoopCount--;\n    }\n  }\n\n  // Clearing index\n  if (graph.multi) edgeData.detachMulti();\n  else edgeData.detach();\n\n  if (undirected) graph._undirectedSize--;\n  else graph._directedSize--;\n\n  // Emitting\n  graph.emit('edgeDropped', {\n    key: edgeData.key,\n    attributes,\n    source: sourceData.key,\n    target: targetData.key,\n    undirected\n  });\n}\n\n/**\n * Graph class\n *\n * @constructor\n * @param  {object}  [options] - Options:\n * @param  {boolean}   [allowSelfLoops] - Allow self loops?\n * @param  {string}    [type]           - Type of the graph.\n * @param  {boolean}   [map]            - Allow references as keys?\n * @param  {boolean}   [multi]          - Allow parallel edges?\n *\n * @throws {Error} - Will throw if the arguments are not valid.\n */\nexport default class Graph extends EventEmitter {\n  constructor(options) {\n    super();\n\n    //-- Solving options\n    options = assign({}, DEFAULTS, options);\n\n    // Enforcing options validity\n    if (typeof options.multi !== 'boolean')\n      throw new InvalidArgumentsGraphError(\n        `Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"${options.multi}\".`\n      );\n\n    if (!TYPES.has(options.type))\n      throw new InvalidArgumentsGraphError(\n        `Graph.constructor: invalid 'type' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"${options.type}\".`\n      );\n\n    if (typeof options.allowSelfLoops !== 'boolean')\n      throw new InvalidArgumentsGraphError(\n        `Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"${options.allowSelfLoops}\".`\n      );\n\n    //-- Private properties\n\n    // Utilities\n    const NodeDataClass =\n      options.type === 'mixed'\n        ? MixedNodeData\n        : options.type === 'directed'\n        ? DirectedNodeData\n        : UndirectedNodeData;\n\n    privateProperty(this, 'NodeDataClass', NodeDataClass);\n\n    // Internal edge key generator\n\n    // NOTE: this internal generator produce keys that are strings\n    // composed of a weird prefix, an incremental instance id starting from\n    // a random byte and finally an internal instance incremental id.\n    // All this to avoid intra-frame and cross-frame adversarial inputs\n    // that can force a single #.addEdge call to degenerate into a O(n)\n    // available key search loop.\n\n    // It also ensures that automatically generated edge keys are unlikely\n    // to produce collisions with arbitrary keys given by users.\n    const instancePrefix = 'geid_' + INSTANCE_ID() + '_';\n    let edgeId = 0;\n\n    const edgeKeyGenerator = () => {\n      let availableEdgeKey;\n\n      do {\n        availableEdgeKey = instancePrefix + edgeId++;\n      } while (this._edges.has(availableEdgeKey));\n\n      return availableEdgeKey;\n    };\n\n    // Indexes\n    privateProperty(this, '_attributes', {});\n    privateProperty(this, '_nodes', new Map());\n    privateProperty(this, '_edges', new Map());\n    privateProperty(this, '_directedSize', 0);\n    privateProperty(this, '_undirectedSize', 0);\n    privateProperty(this, '_directedSelfLoopCount', 0);\n    privateProperty(this, '_undirectedSelfLoopCount', 0);\n    privateProperty(this, '_edgeKeyGenerator', edgeKeyGenerator);\n\n    // Options\n    privateProperty(this, '_options', options);\n\n    // Emitter properties\n    EMITTER_PROPS.forEach(prop => privateProperty(this, prop, this[prop]));\n\n    //-- Properties readers\n    readOnlyProperty(this, 'order', () => this._nodes.size);\n    readOnlyProperty(this, 'size', () => this._edges.size);\n    readOnlyProperty(this, 'directedSize', () => this._directedSize);\n    readOnlyProperty(this, 'undirectedSize', () => this._undirectedSize);\n    readOnlyProperty(\n      this,\n      'selfLoopCount',\n      () => this._directedSelfLoopCount + this._undirectedSelfLoopCount\n    );\n    readOnlyProperty(\n      this,\n      'directedSelfLoopCount',\n      () => this._directedSelfLoopCount\n    );\n    readOnlyProperty(\n      this,\n      'undirectedSelfLoopCount',\n      () => this._undirectedSelfLoopCount\n    );\n    readOnlyProperty(this, 'multi', this._options.multi);\n    readOnlyProperty(this, 'type', this._options.type);\n    readOnlyProperty(this, 'allowSelfLoops', this._options.allowSelfLoops);\n    readOnlyProperty(this, 'implementation', () => 'graphology');\n  }\n\n  _resetInstanceCounters() {\n    this._directedSize = 0;\n    this._undirectedSize = 0;\n    this._directedSelfLoopCount = 0;\n    this._undirectedSelfLoopCount = 0;\n  }\n\n  /**---------------------------------------------------------------------------\n   * Read\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Method returning whether the given node is found in the graph.\n   *\n   * @param  {any}     node - The node.\n   * @return {boolean}\n   */\n  hasNode(node) {\n    return this._nodes.has('' + node);\n  }\n\n  /**\n   * Method returning whether the given directed edge is found in the graph.\n   *\n   * Arity 1:\n   * @param  {any}     edge - The edge's key.\n   *\n   * Arity 2:\n   * @param  {any}     source - The edge's source.\n   * @param  {any}     target - The edge's target.\n   *\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the arguments are invalid.\n   */\n  hasDirectedEdge(source, target) {\n    // Early termination\n    if (this.type === 'undirected') return false;\n\n    if (arguments.length === 1) {\n      const edge = '' + source;\n\n      const edgeData = this._edges.get(edge);\n\n      return !!edgeData && !edgeData.undirected;\n    } else if (arguments.length === 2) {\n      source = '' + source;\n      target = '' + target;\n\n      // If the node source or the target is not in the graph we break\n      const nodeData = this._nodes.get(source);\n\n      if (!nodeData) return false;\n\n      // Is there a directed edge pointing toward target?\n      return nodeData.out.hasOwnProperty(target);\n    }\n\n    throw new InvalidArgumentsGraphError(\n      `Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`\n    );\n  }\n\n  /**\n   * Method returning whether the given undirected edge is found in the graph.\n   *\n   * Arity 1:\n   * @param  {any}     edge - The edge's key.\n   *\n   * Arity 2:\n   * @param  {any}     source - The edge's source.\n   * @param  {any}     target - The edge's target.\n   *\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the arguments are invalid.\n   */\n  hasUndirectedEdge(source, target) {\n    // Early termination\n    if (this.type === 'directed') return false;\n\n    if (arguments.length === 1) {\n      const edge = '' + source;\n\n      const edgeData = this._edges.get(edge);\n\n      return !!edgeData && edgeData.undirected;\n    } else if (arguments.length === 2) {\n      source = '' + source;\n      target = '' + target;\n\n      // If the node source or the target is not in the graph we break\n      const nodeData = this._nodes.get(source);\n\n      if (!nodeData) return false;\n\n      // Is there a directed edge pointing toward target?\n      return nodeData.undirected.hasOwnProperty(target);\n    }\n\n    throw new InvalidArgumentsGraphError(\n      `Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`\n    );\n  }\n\n  /**\n   * Method returning whether the given edge is found in the graph.\n   *\n   * Arity 1:\n   * @param  {any}     edge - The edge's key.\n   *\n   * Arity 2:\n   * @param  {any}     source - The edge's source.\n   * @param  {any}     target - The edge's target.\n   *\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the arguments are invalid.\n   */\n  hasEdge(source, target) {\n    if (arguments.length === 1) {\n      const edge = '' + source;\n\n      return this._edges.has(edge);\n    } else if (arguments.length === 2) {\n      source = '' + source;\n      target = '' + target;\n\n      // If the node source or the target is not in the graph we break\n      const nodeData = this._nodes.get(source);\n\n      if (!nodeData) return false;\n\n      // Is there a directed edge pointing toward target?\n      return (\n        (typeof nodeData.out !== 'undefined' &&\n          nodeData.out.hasOwnProperty(target)) ||\n        (typeof nodeData.undirected !== 'undefined' &&\n          nodeData.undirected.hasOwnProperty(target))\n      );\n    }\n\n    throw new InvalidArgumentsGraphError(\n      `Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`\n    );\n  }\n\n  /**\n   * Method returning the edge matching source & target in a directed fashion.\n   *\n   * @param  {any} source - The edge's source.\n   * @param  {any} target - The edge's target.\n   *\n   * @return {any|undefined}\n   *\n   * @throws {Error} - Will throw if the graph is multi.\n   * @throws {Error} - Will throw if source or target doesn't exist.\n   */\n  directedEdge(source, target) {\n    if (this.type === 'undirected') return;\n\n    source = '' + source;\n    target = '' + target;\n\n    if (this.multi)\n      throw new UsageGraphError(\n        'Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.'\n      );\n\n    const sourceData = this._nodes.get(source);\n\n    if (!sourceData)\n      throw new NotFoundGraphError(\n        `Graph.directedEdge: could not find the \"${source}\" source node in the graph.`\n      );\n\n    if (!this._nodes.has(target))\n      throw new NotFoundGraphError(\n        `Graph.directedEdge: could not find the \"${target}\" target node in the graph.`\n      );\n\n    const edgeData = (sourceData.out && sourceData.out[target]) || undefined;\n\n    if (edgeData) return edgeData.key;\n  }\n\n  /**\n   * Method returning the edge matching source & target in a undirected fashion.\n   *\n   * @param  {any} source - The edge's source.\n   * @param  {any} target - The edge's target.\n   *\n   * @return {any|undefined}\n   *\n   * @throws {Error} - Will throw if the graph is multi.\n   * @throws {Error} - Will throw if source or target doesn't exist.\n   */\n  undirectedEdge(source, target) {\n    if (this.type === 'directed') return;\n\n    source = '' + source;\n    target = '' + target;\n\n    if (this.multi)\n      throw new UsageGraphError(\n        'Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.'\n      );\n\n    const sourceData = this._nodes.get(source);\n\n    if (!sourceData)\n      throw new NotFoundGraphError(\n        `Graph.undirectedEdge: could not find the \"${source}\" source node in the graph.`\n      );\n\n    if (!this._nodes.has(target))\n      throw new NotFoundGraphError(\n        `Graph.undirectedEdge: could not find the \"${target}\" target node in the graph.`\n      );\n\n    const edgeData =\n      (sourceData.undirected && sourceData.undirected[target]) || undefined;\n\n    if (edgeData) return edgeData.key;\n  }\n\n  /**\n   * Method returning the edge matching source & target in a mixed fashion.\n   *\n   * @param  {any} source - The edge's source.\n   * @param  {any} target - The edge's target.\n   *\n   * @return {any|undefined}\n   *\n   * @throws {Error} - Will throw if the graph is multi.\n   * @throws {Error} - Will throw if source or target doesn't exist.\n   */\n  edge(source, target) {\n    if (this.multi)\n      throw new UsageGraphError(\n        'Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.'\n      );\n\n    source = '' + source;\n    target = '' + target;\n\n    const sourceData = this._nodes.get(source);\n\n    if (!sourceData)\n      throw new NotFoundGraphError(\n        `Graph.edge: could not find the \"${source}\" source node in the graph.`\n      );\n\n    if (!this._nodes.has(target))\n      throw new NotFoundGraphError(\n        `Graph.edge: could not find the \"${target}\" target node in the graph.`\n      );\n\n    const edgeData =\n      (sourceData.out && sourceData.out[target]) ||\n      (sourceData.undirected && sourceData.undirected[target]) ||\n      undefined;\n\n    if (edgeData) return edgeData.key;\n  }\n\n  /**\n   * Method returning whether two nodes are directed neighbors.\n   *\n   * @param  {any}     node     - The node's key.\n   * @param  {any}     neighbor - The neighbor's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  areDirectedNeighbors(node, neighbor) {\n    node = '' + node;\n    neighbor = '' + neighbor;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.areDirectedNeighbors: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return false;\n\n    return neighbor in nodeData.in || neighbor in nodeData.out;\n  }\n\n  /**\n   * Method returning whether two nodes are out neighbors.\n   *\n   * @param  {any}     node     - The node's key.\n   * @param  {any}     neighbor - The neighbor's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  areOutNeighbors(node, neighbor) {\n    node = '' + node;\n    neighbor = '' + neighbor;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.areOutNeighbors: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return false;\n\n    return neighbor in nodeData.out;\n  }\n\n  /**\n   * Method returning whether two nodes are in neighbors.\n   *\n   * @param  {any}     node     - The node's key.\n   * @param  {any}     neighbor - The neighbor's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  areInNeighbors(node, neighbor) {\n    node = '' + node;\n    neighbor = '' + neighbor;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.areInNeighbors: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return false;\n\n    return neighbor in nodeData.in;\n  }\n\n  /**\n   * Method returning whether two nodes are undirected neighbors.\n   *\n   * @param  {any}     node     - The node's key.\n   * @param  {any}     neighbor - The neighbor's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  areUndirectedNeighbors(node, neighbor) {\n    node = '' + node;\n    neighbor = '' + neighbor;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.areUndirectedNeighbors: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'directed') return false;\n\n    return neighbor in nodeData.undirected;\n  }\n\n  /**\n   * Method returning whether two nodes are neighbors.\n   *\n   * @param  {any}     node     - The node's key.\n   * @param  {any}     neighbor - The neighbor's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  areNeighbors(node, neighbor) {\n    node = '' + node;\n    neighbor = '' + neighbor;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.areNeighbors: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type !== 'undirected') {\n      if (neighbor in nodeData.in || neighbor in nodeData.out) return true;\n    }\n\n    if (this.type !== 'directed') {\n      if (neighbor in nodeData.undirected) return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Method returning whether two nodes are inbound neighbors.\n   *\n   * @param  {any}     node     - The node's key.\n   * @param  {any}     neighbor - The neighbor's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  areInboundNeighbors(node, neighbor) {\n    node = '' + node;\n    neighbor = '' + neighbor;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.areInboundNeighbors: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type !== 'undirected') {\n      if (neighbor in nodeData.in) return true;\n    }\n\n    if (this.type !== 'directed') {\n      if (neighbor in nodeData.undirected) return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Method returning whether two nodes are outbound neighbors.\n   *\n   * @param  {any}     node     - The node's key.\n   * @param  {any}     neighbor - The neighbor's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  areOutboundNeighbors(node, neighbor) {\n    node = '' + node;\n    neighbor = '' + neighbor;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.areOutboundNeighbors: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type !== 'undirected') {\n      if (neighbor in nodeData.out) return true;\n    }\n\n    if (this.type !== 'directed') {\n      if (neighbor in nodeData.undirected) return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Method returning the given node's in degree.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's in degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  inDegree(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.inDegree: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return 0;\n\n    return nodeData.inDegree;\n  }\n\n  /**\n   * Method returning the given node's out degree.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's in degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  outDegree(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.outDegree: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return 0;\n\n    return nodeData.outDegree;\n  }\n\n  /**\n   * Method returning the given node's directed degree.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's in degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  directedDegree(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.directedDegree: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return 0;\n\n    return nodeData.inDegree + nodeData.outDegree;\n  }\n\n  /**\n   * Method returning the given node's undirected degree.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's in degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  undirectedDegree(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.undirectedDegree: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'directed') return 0;\n\n    return nodeData.undirectedDegree;\n  }\n\n  /**\n   * Method returning the given node's inbound degree.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's inbound degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  inboundDegree(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.inboundDegree: could not find the \"${node}\" node in the graph.`\n      );\n\n    let degree = 0;\n\n    if (this.type !== 'directed') {\n      degree += nodeData.undirectedDegree;\n    }\n\n    if (this.type !== 'undirected') {\n      degree += nodeData.inDegree;\n    }\n\n    return degree;\n  }\n\n  /**\n   * Method returning the given node's outbound degree.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's outbound degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  outboundDegree(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.outboundDegree: could not find the \"${node}\" node in the graph.`\n      );\n\n    let degree = 0;\n\n    if (this.type !== 'directed') {\n      degree += nodeData.undirectedDegree;\n    }\n\n    if (this.type !== 'undirected') {\n      degree += nodeData.outDegree;\n    }\n\n    return degree;\n  }\n\n  /**\n   * Method returning the given node's directed degree.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  degree(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.degree: could not find the \"${node}\" node in the graph.`\n      );\n\n    let degree = 0;\n\n    if (this.type !== 'directed') {\n      degree += nodeData.undirectedDegree;\n    }\n\n    if (this.type !== 'undirected') {\n      degree += nodeData.inDegree + nodeData.outDegree;\n    }\n\n    return degree;\n  }\n\n  /**\n   * Method returning the given node's in degree without considering self loops.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's in degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  inDegreeWithoutSelfLoops(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.inDegreeWithoutSelfLoops: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return 0;\n\n    return nodeData.inDegree - nodeData.directedLoops;\n  }\n\n  /**\n   * Method returning the given node's out degree without considering self loops.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's in degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  outDegreeWithoutSelfLoops(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.outDegreeWithoutSelfLoops: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return 0;\n\n    return nodeData.outDegree - nodeData.directedLoops;\n  }\n\n  /**\n   * Method returning the given node's directed degree without considering self loops.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's in degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  directedDegreeWithoutSelfLoops(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.directedDegreeWithoutSelfLoops: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'undirected') return 0;\n\n    return nodeData.inDegree + nodeData.outDegree - nodeData.directedLoops * 2;\n  }\n\n  /**\n   * Method returning the given node's undirected degree without considering self loops.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's in degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  undirectedDegreeWithoutSelfLoops(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.undirectedDegreeWithoutSelfLoops: could not find the \"${node}\" node in the graph.`\n      );\n\n    if (this.type === 'directed') return 0;\n\n    return nodeData.undirectedDegree - nodeData.undirectedLoops * 2;\n  }\n\n  /**\n   * Method returning the given node's inbound degree without considering self loops.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's inbound degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  inboundDegreeWithoutSelfLoops(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.inboundDegreeWithoutSelfLoops: could not find the \"${node}\" node in the graph.`\n      );\n\n    let degree = 0;\n    let loops = 0;\n\n    if (this.type !== 'directed') {\n      degree += nodeData.undirectedDegree;\n      loops += nodeData.undirectedLoops * 2;\n    }\n\n    if (this.type !== 'undirected') {\n      degree += nodeData.inDegree;\n      loops += nodeData.directedLoops;\n    }\n\n    return degree - loops;\n  }\n\n  /**\n   * Method returning the given node's outbound degree without considering self loops.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's outbound degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  outboundDegreeWithoutSelfLoops(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.outboundDegreeWithoutSelfLoops: could not find the \"${node}\" node in the graph.`\n      );\n\n    let degree = 0;\n    let loops = 0;\n\n    if (this.type !== 'directed') {\n      degree += nodeData.undirectedDegree;\n      loops += nodeData.undirectedLoops * 2;\n    }\n\n    if (this.type !== 'undirected') {\n      degree += nodeData.outDegree;\n      loops += nodeData.directedLoops;\n    }\n\n    return degree - loops;\n  }\n\n  /**\n   * Method returning the given node's directed degree without considering self loops.\n   *\n   * @param  {any}     node - The node's key.\n   * @return {number}       - The node's degree.\n   *\n   * @throws {Error} - Will throw if the node isn't in the graph.\n   */\n  degreeWithoutSelfLoops(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.degreeWithoutSelfLoops: could not find the \"${node}\" node in the graph.`\n      );\n\n    let degree = 0;\n    let loops = 0;\n\n    if (this.type !== 'directed') {\n      degree += nodeData.undirectedDegree;\n      loops += nodeData.undirectedLoops * 2;\n    }\n\n    if (this.type !== 'undirected') {\n      degree += nodeData.inDegree + nodeData.outDegree;\n      loops += nodeData.directedLoops * 2;\n    }\n\n    return degree - loops;\n  }\n\n  /**\n   * Method returning the given edge's source.\n   *\n   * @param  {any} edge - The edge's key.\n   * @return {any}      - The edge's source.\n   *\n   * @throws {Error} - Will throw if the edge isn't in the graph.\n   */\n  source(edge) {\n    edge = '' + edge;\n\n    const data = this._edges.get(edge);\n\n    if (!data)\n      throw new NotFoundGraphError(\n        `Graph.source: could not find the \"${edge}\" edge in the graph.`\n      );\n\n    return data.source.key;\n  }\n\n  /**\n   * Method returning the given edge's target.\n   *\n   * @param  {any} edge - The edge's key.\n   * @return {any}      - The edge's target.\n   *\n   * @throws {Error} - Will throw if the edge isn't in the graph.\n   */\n  target(edge) {\n    edge = '' + edge;\n\n    const data = this._edges.get(edge);\n\n    if (!data)\n      throw new NotFoundGraphError(\n        `Graph.target: could not find the \"${edge}\" edge in the graph.`\n      );\n\n    return data.target.key;\n  }\n\n  /**\n   * Method returning the given edge's extremities.\n   *\n   * @param  {any}   edge - The edge's key.\n   * @return {array}      - The edge's extremities.\n   *\n   * @throws {Error} - Will throw if the edge isn't in the graph.\n   */\n  extremities(edge) {\n    edge = '' + edge;\n\n    const edgeData = this._edges.get(edge);\n\n    if (!edgeData)\n      throw new NotFoundGraphError(\n        `Graph.extremities: could not find the \"${edge}\" edge in the graph.`\n      );\n\n    return [edgeData.source.key, edgeData.target.key];\n  }\n\n  /**\n   * Given a node & an edge, returns the other extremity of the edge.\n   *\n   * @param  {any}   node - The node's key.\n   * @param  {any}   edge - The edge's key.\n   * @return {any}        - The related node.\n   *\n   * @throws {Error} - Will throw if the edge isn't in the graph or if the\n   *                   edge & node are not related.\n   */\n  opposite(node, edge) {\n    node = '' + node;\n    edge = '' + edge;\n\n    const data = this._edges.get(edge);\n\n    if (!data)\n      throw new NotFoundGraphError(\n        `Graph.opposite: could not find the \"${edge}\" edge in the graph.`\n      );\n\n    const source = data.source.key;\n    const target = data.target.key;\n\n    if (node === source) return target;\n    if (node === target) return source;\n\n    throw new NotFoundGraphError(\n      `Graph.opposite: the \"${node}\" node is not attached to the \"${edge}\" edge (${source}, ${target}).`\n    );\n  }\n\n  /**\n   * Returns whether the given edge has the given node as extremity.\n   *\n   * @param  {any}     edge - The edge's key.\n   * @param  {any}     node - The node's key.\n   * @return {boolean}      - The related node.\n   *\n   * @throws {Error} - Will throw if either the node or the edge isn't in the graph.\n   */\n  hasExtremity(edge, node) {\n    edge = '' + edge;\n    node = '' + node;\n\n    const data = this._edges.get(edge);\n\n    if (!data)\n      throw new NotFoundGraphError(\n        `Graph.hasExtremity: could not find the \"${edge}\" edge in the graph.`\n      );\n\n    return data.source.key === node || data.target.key === node;\n  }\n\n  /**\n   * Method returning whether the given edge is undirected.\n   *\n   * @param  {any}     edge - The edge's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the edge isn't in the graph.\n   */\n  isUndirected(edge) {\n    edge = '' + edge;\n\n    const data = this._edges.get(edge);\n\n    if (!data)\n      throw new NotFoundGraphError(\n        `Graph.isUndirected: could not find the \"${edge}\" edge in the graph.`\n      );\n\n    return data.undirected;\n  }\n\n  /**\n   * Method returning whether the given edge is directed.\n   *\n   * @param  {any}     edge - The edge's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the edge isn't in the graph.\n   */\n  isDirected(edge) {\n    edge = '' + edge;\n\n    const data = this._edges.get(edge);\n\n    if (!data)\n      throw new NotFoundGraphError(\n        `Graph.isDirected: could not find the \"${edge}\" edge in the graph.`\n      );\n\n    return !data.undirected;\n  }\n\n  /**\n   * Method returning whether the given edge is a self loop.\n   *\n   * @param  {any}     edge - The edge's key.\n   * @return {boolean}\n   *\n   * @throws {Error} - Will throw if the edge isn't in the graph.\n   */\n  isSelfLoop(edge) {\n    edge = '' + edge;\n\n    const data = this._edges.get(edge);\n\n    if (!data)\n      throw new NotFoundGraphError(\n        `Graph.isSelfLoop: could not find the \"${edge}\" edge in the graph.`\n      );\n\n    return data.source === data.target;\n  }\n\n  /**---------------------------------------------------------------------------\n   * Mutation\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Method used to add a node to the graph.\n   *\n   * @param  {any}    node         - The node.\n   * @param  {object} [attributes] - Optional attributes.\n   * @return {any}                 - The node.\n   *\n   * @throws {Error} - Will throw if the given node already exist.\n   * @throws {Error} - Will throw if the given attributes are not an object.\n   */\n  addNode(node, attributes) {\n    const nodeData = addNode(this, node, attributes);\n\n    return nodeData.key;\n  }\n\n  /**\n   * Method used to merge a node into the graph.\n   *\n   * @param  {any}    node         - The node.\n   * @param  {object} [attributes] - Optional attributes.\n   * @return {any}                 - The node.\n   */\n  mergeNode(node, attributes) {\n    if (attributes && !isPlainObject(attributes))\n      throw new InvalidArgumentsGraphError(\n        `Graph.mergeNode: invalid attributes. Expecting an object but got \"${attributes}\"`\n      );\n\n    // String coercion\n    node = '' + node;\n    attributes = attributes || {};\n\n    // If the node already exists, we merge the attributes\n    let data = this._nodes.get(node);\n\n    if (data) {\n      if (attributes) {\n        assign(data.attributes, attributes);\n\n        this.emit('nodeAttributesUpdated', {\n          type: 'merge',\n          key: node,\n          attributes: data.attributes,\n          data: attributes\n        });\n      }\n      return [node, false];\n    }\n\n    data = new this.NodeDataClass(node, attributes);\n\n    // Adding the node to internal register\n    this._nodes.set(node, data);\n\n    // Emitting\n    this.emit('nodeAdded', {\n      key: node,\n      attributes\n    });\n\n    return [node, true];\n  }\n\n  /**\n   * Method used to add a node if it does not exist in the graph or else to\n   * update its attributes using a function.\n   *\n   * @param  {any}      node      - The node.\n   * @param  {function} [updater] - Optional updater function.\n   * @return {any}                - The node.\n   */\n  updateNode(node, updater) {\n    if (updater && typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        `Graph.updateNode: invalid updater function. Expecting a function but got \"${updater}\"`\n      );\n\n    // String coercion\n    node = '' + node;\n\n    // If the node already exists, we update the attributes\n    let data = this._nodes.get(node);\n\n    if (data) {\n      if (updater) {\n        const oldAttributes = data.attributes;\n        data.attributes = updater(oldAttributes);\n\n        this.emit('nodeAttributesUpdated', {\n          type: 'replace',\n          key: node,\n          attributes: data.attributes\n        });\n      }\n      return [node, false];\n    }\n\n    const attributes = updater ? updater({}) : {};\n\n    data = new this.NodeDataClass(node, attributes);\n\n    // Adding the node to internal register\n    this._nodes.set(node, data);\n\n    // Emitting\n    this.emit('nodeAdded', {\n      key: node,\n      attributes\n    });\n\n    return [node, true];\n  }\n\n  /**\n   * Method used to drop a single node & all its attached edges from the graph.\n   *\n   * @param  {any}    node - The node.\n   * @return {Graph}\n   *\n   * @throws {Error} - Will throw if the node doesn't exist.\n   */\n  dropNode(node) {\n    node = '' + node;\n\n    const nodeData = this._nodes.get(node);\n\n    if (!nodeData)\n      throw new NotFoundGraphError(\n        `Graph.dropNode: could not find the \"${node}\" node in the graph.`\n      );\n\n    let edgeData;\n\n    // Removing attached edges\n    // NOTE: we could be faster here, but this is such a pain to maintain\n    if (this.type !== 'undirected') {\n      for (const neighbor in nodeData.out) {\n        edgeData = nodeData.out[neighbor];\n\n        do {\n          dropEdgeFromData(this, edgeData);\n          edgeData = edgeData.next;\n        } while (edgeData);\n      }\n\n      for (const neighbor in nodeData.in) {\n        edgeData = nodeData.in[neighbor];\n\n        do {\n          dropEdgeFromData(this, edgeData);\n          edgeData = edgeData.next;\n        } while (edgeData);\n      }\n    }\n\n    if (this.type !== 'directed') {\n      for (const neighbor in nodeData.undirected) {\n        edgeData = nodeData.undirected[neighbor];\n\n        do {\n          dropEdgeFromData(this, edgeData);\n          edgeData = edgeData.next;\n        } while (edgeData);\n      }\n    }\n\n    // Dropping the node from the register\n    this._nodes.delete(node);\n\n    // Emitting\n    this.emit('nodeDropped', {\n      key: node,\n      attributes: nodeData.attributes\n    });\n  }\n\n  /**\n   * Method used to drop a single edge from the graph.\n   *\n   * Arity 1:\n   * @param  {any}    edge - The edge.\n   *\n   * Arity 2:\n   * @param  {any}    source - Source node.\n   * @param  {any}    target - Target node.\n   *\n   * @return {Graph}\n   *\n   * @throws {Error} - Will throw if the edge doesn't exist.\n   */\n  dropEdge(edge) {\n    let edgeData;\n\n    if (arguments.length > 1) {\n      const source = '' + arguments[0];\n      const target = '' + arguments[1];\n\n      edgeData = getMatchingEdge(this, source, target, this.type);\n\n      if (!edgeData)\n        throw new NotFoundGraphError(\n          `Graph.dropEdge: could not find the \"${source}\" -> \"${target}\" edge in the graph.`\n        );\n    } else {\n      edge = '' + edge;\n\n      edgeData = this._edges.get(edge);\n\n      if (!edgeData)\n        throw new NotFoundGraphError(\n          `Graph.dropEdge: could not find the \"${edge}\" edge in the graph.`\n        );\n    }\n\n    dropEdgeFromData(this, edgeData);\n\n    return this;\n  }\n\n  /**\n   * Method used to drop a single directed edge from the graph.\n   *\n   * @param  {any}    source - Source node.\n   * @param  {any}    target - Target node.\n   *\n   * @return {Graph}\n   *\n   * @throws {Error} - Will throw if the edge doesn't exist.\n   */\n  dropDirectedEdge(source, target) {\n    if (arguments.length < 2)\n      throw new UsageGraphError(\n        'Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.'\n      );\n\n    if (this.multi)\n      throw new UsageGraphError(\n        'Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.'\n      );\n\n    source = '' + source;\n    target = '' + target;\n\n    const edgeData = getMatchingEdge(this, source, target, 'directed');\n\n    if (!edgeData)\n      throw new NotFoundGraphError(\n        `Graph.dropDirectedEdge: could not find a \"${source}\" -> \"${target}\" edge in the graph.`\n      );\n\n    dropEdgeFromData(this, edgeData);\n\n    return this;\n  }\n\n  /**\n   * Method used to drop a single undirected edge from the graph.\n   *\n   * @param  {any}    source - Source node.\n   * @param  {any}    target - Target node.\n   *\n   * @return {Graph}\n   *\n   * @throws {Error} - Will throw if the edge doesn't exist.\n   */\n  dropUndirectedEdge(source, target) {\n    if (arguments.length < 2)\n      throw new UsageGraphError(\n        'Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.'\n      );\n\n    if (this.multi)\n      throw new UsageGraphError(\n        'Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.'\n      );\n\n    const edgeData = getMatchingEdge(this, source, target, 'undirected');\n\n    if (!edgeData)\n      throw new NotFoundGraphError(\n        `Graph.dropUndirectedEdge: could not find a \"${source}\" -> \"${target}\" edge in the graph.`\n      );\n\n    dropEdgeFromData(this, edgeData);\n\n    return this;\n  }\n\n  /**\n   * Method used to remove every edge & every node from the graph.\n   *\n   * @return {Graph}\n   */\n  clear() {\n    // Clearing edges\n    this._edges.clear();\n\n    // Clearing nodes\n    this._nodes.clear();\n\n    // Reset counters\n    this._resetInstanceCounters();\n\n    // Emitting\n    this.emit('cleared');\n  }\n\n  /**\n   * Method used to remove every edge from the graph.\n   *\n   * @return {Graph}\n   */\n  clearEdges() {\n    // Clearing structure index\n    const iterator = this._nodes.values();\n\n    let step;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      step.value.clear();\n    }\n\n    // Clearing edges\n    this._edges.clear();\n\n    // Reset counters\n    this._resetInstanceCounters();\n\n    // Emitting\n    this.emit('edgesCleared');\n  }\n\n  /**---------------------------------------------------------------------------\n   * Attributes-related methods\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Method returning the desired graph's attribute.\n   *\n   * @param  {string} name - Name of the attribute.\n   * @return {any}\n   */\n  getAttribute(name) {\n    return this._attributes[name];\n  }\n\n  /**\n   * Method returning the graph's attributes.\n   *\n   * @return {object}\n   */\n  getAttributes() {\n    return this._attributes;\n  }\n\n  /**\n   * Method returning whether the graph has the desired attribute.\n   *\n   * @param  {string}  name - Name of the attribute.\n   * @return {boolean}\n   */\n  hasAttribute(name) {\n    return this._attributes.hasOwnProperty(name);\n  }\n\n  /**\n   * Method setting a value for the desired graph's attribute.\n   *\n   * @param  {string}  name  - Name of the attribute.\n   * @param  {any}     value - Value for the attribute.\n   * @return {Graph}\n   */\n  setAttribute(name, value) {\n    this._attributes[name] = value;\n\n    // Emitting\n    this.emit('attributesUpdated', {\n      type: 'set',\n      attributes: this._attributes,\n      name\n    });\n\n    return this;\n  }\n\n  /**\n   * Method using a function to update the desired graph's attribute's value.\n   *\n   * @param  {string}   name    - Name of the attribute.\n   * @param  {function} updater - Function use to update the attribute's value.\n   * @return {Graph}\n   */\n  updateAttribute(name, updater) {\n    if (typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.updateAttribute: updater should be a function.'\n      );\n\n    const value = this._attributes[name];\n\n    this._attributes[name] = updater(value);\n\n    // Emitting\n    this.emit('attributesUpdated', {\n      type: 'set',\n      attributes: this._attributes,\n      name\n    });\n\n    return this;\n  }\n\n  /**\n   * Method removing the desired graph's attribute.\n   *\n   * @param  {string} name  - Name of the attribute.\n   * @return {Graph}\n   */\n  removeAttribute(name) {\n    delete this._attributes[name];\n\n    // Emitting\n    this.emit('attributesUpdated', {\n      type: 'remove',\n      attributes: this._attributes,\n      name\n    });\n\n    return this;\n  }\n\n  /**\n   * Method replacing the graph's attributes.\n   *\n   * @param  {object} attributes - New attributes.\n   * @return {Graph}\n   *\n   * @throws {Error} - Will throw if given attributes are not a plain object.\n   */\n  replaceAttributes(attributes) {\n    if (!isPlainObject(attributes))\n      throw new InvalidArgumentsGraphError(\n        'Graph.replaceAttributes: provided attributes are not a plain object.'\n      );\n\n    this._attributes = attributes;\n\n    // Emitting\n    this.emit('attributesUpdated', {\n      type: 'replace',\n      attributes: this._attributes\n    });\n\n    return this;\n  }\n\n  /**\n   * Method merging the graph's attributes.\n   *\n   * @param  {object} attributes - Attributes to merge.\n   * @return {Graph}\n   *\n   * @throws {Error} - Will throw if given attributes are not a plain object.\n   */\n  mergeAttributes(attributes) {\n    if (!isPlainObject(attributes))\n      throw new InvalidArgumentsGraphError(\n        'Graph.mergeAttributes: provided attributes are not a plain object.'\n      );\n\n    assign(this._attributes, attributes);\n\n    // Emitting\n    this.emit('attributesUpdated', {\n      type: 'merge',\n      attributes: this._attributes,\n      data: attributes\n    });\n\n    return this;\n  }\n\n  /**\n   * Method updating the graph's attributes.\n   *\n   * @param  {function} updater - Function used to update the attributes.\n   * @return {Graph}\n   *\n   * @throws {Error} - Will throw if given updater is not a function.\n   */\n  updateAttributes(updater) {\n    if (typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.updateAttributes: provided updater is not a function.'\n      );\n\n    this._attributes = updater(this._attributes);\n\n    // Emitting\n    this.emit('attributesUpdated', {\n      type: 'update',\n      attributes: this._attributes\n    });\n\n    return this;\n  }\n\n  /**\n   * Method used to update each node's attributes using the given function.\n   *\n   * @param {function}  updater - Updater function to use.\n   * @param {object}    [hints] - Optional hints.\n   */\n  updateEachNodeAttributes(updater, hints) {\n    if (typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.updateEachNodeAttributes: expecting an updater function.'\n      );\n\n    if (hints && !validateHints(hints))\n      throw new InvalidArgumentsGraphError(\n        'Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}'\n      );\n\n    const iterator = this._nodes.values();\n\n    let step, nodeData;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      nodeData = step.value;\n      nodeData.attributes = updater(nodeData.key, nodeData.attributes);\n    }\n\n    this.emit('eachNodeAttributesUpdated', {\n      hints: hints ? hints : null\n    });\n  }\n\n  /**\n   * Method used to update each edge's attributes using the given function.\n   *\n   * @param {function}  updater - Updater function to use.\n   * @param {object}    [hints] - Optional hints.\n   */\n  updateEachEdgeAttributes(updater, hints) {\n    if (typeof updater !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.updateEachEdgeAttributes: expecting an updater function.'\n      );\n\n    if (hints && !validateHints(hints))\n      throw new InvalidArgumentsGraphError(\n        'Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}'\n      );\n\n    const iterator = this._edges.values();\n\n    let step, edgeData, sourceData, targetData;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      edgeData = step.value;\n      sourceData = edgeData.source;\n      targetData = edgeData.target;\n\n      edgeData.attributes = updater(\n        edgeData.key,\n        edgeData.attributes,\n        sourceData.key,\n        targetData.key,\n        sourceData.attributes,\n        targetData.attributes,\n        edgeData.undirected\n      );\n    }\n\n    this.emit('eachEdgeAttributesUpdated', {\n      hints: hints ? hints : null\n    });\n  }\n\n  /**---------------------------------------------------------------------------\n   * Iteration-related methods\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Method iterating over the graph's adjacency using the given callback.\n   *\n   * @param  {function}  callback - Callback to use.\n   */\n  forEachAdjacencyEntry(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.forEachAdjacencyEntry: expecting a callback.'\n      );\n\n    forEachAdjacency(false, false, false, this, callback);\n  }\n  forEachAdjacencyEntryWithOrphans(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.'\n      );\n\n    forEachAdjacency(false, false, true, this, callback);\n  }\n\n  /**\n   * Method iterating over the graph's assymetric adjacency using the given callback.\n   *\n   * @param  {function}  callback - Callback to use.\n   */\n  forEachAssymetricAdjacencyEntry(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.forEachAssymetricAdjacencyEntry: expecting a callback.'\n      );\n\n    forEachAdjacency(false, true, false, this, callback);\n  }\n  forEachAssymetricAdjacencyEntryWithOrphans(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.'\n      );\n\n    forEachAdjacency(false, true, true, this, callback);\n  }\n\n  /**\n   * Method returning the list of the graph's nodes.\n   *\n   * @return {array} - The nodes.\n   */\n  nodes() {\n    if (typeof Array.from === 'function') return Array.from(this._nodes.keys());\n\n    return take(this._nodes.keys(), this._nodes.size);\n  }\n\n  /**\n   * Method iterating over the graph's nodes using the given callback.\n   *\n   * @param  {function}  callback - Callback (key, attributes, index).\n   */\n  forEachNode(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.forEachNode: expecting a callback.'\n      );\n\n    const iterator = this._nodes.values();\n\n    let step, nodeData;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      nodeData = step.value;\n      callback(nodeData.key, nodeData.attributes);\n    }\n  }\n\n  /**\n   * Method iterating attempting to find a node matching the given predicate\n   * function.\n   *\n   * @param  {function}  callback - Callback (key, attributes).\n   */\n  findNode(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.findNode: expecting a callback.'\n      );\n\n    const iterator = this._nodes.values();\n\n    let step, nodeData;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      nodeData = step.value;\n\n      if (callback(nodeData.key, nodeData.attributes)) return nodeData.key;\n    }\n\n    return;\n  }\n\n  /**\n   * Method mapping nodes.\n   *\n   * @param  {function}  callback - Callback (key, attributes).\n   */\n  mapNodes(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.mapNode: expecting a callback.'\n      );\n\n    const iterator = this._nodes.values();\n\n    let step, nodeData;\n\n    const result = new Array(this.order);\n    let i = 0;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      nodeData = step.value;\n      result[i++] = callback(nodeData.key, nodeData.attributes);\n    }\n\n    return result;\n  }\n\n  /**\n   * Method returning whether some node verify the given predicate.\n   *\n   * @param  {function}  callback - Callback (key, attributes).\n   */\n  someNode(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.someNode: expecting a callback.'\n      );\n\n    const iterator = this._nodes.values();\n\n    let step, nodeData;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      nodeData = step.value;\n\n      if (callback(nodeData.key, nodeData.attributes)) return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Method returning whether all node verify the given predicate.\n   *\n   * @param  {function}  callback - Callback (key, attributes).\n   */\n  everyNode(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.everyNode: expecting a callback.'\n      );\n\n    const iterator = this._nodes.values();\n\n    let step, nodeData;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      nodeData = step.value;\n\n      if (!callback(nodeData.key, nodeData.attributes)) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Method filtering nodes.\n   *\n   * @param  {function}  callback - Callback (key, attributes).\n   */\n  filterNodes(callback) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.filterNodes: expecting a callback.'\n      );\n\n    const iterator = this._nodes.values();\n\n    let step, nodeData;\n\n    const result = [];\n\n    while (((step = iterator.next()), step.done !== true)) {\n      nodeData = step.value;\n\n      if (callback(nodeData.key, nodeData.attributes))\n        result.push(nodeData.key);\n    }\n\n    return result;\n  }\n\n  /**\n   * Method reducing nodes.\n   *\n   * @param  {function}  callback - Callback (accumulator, key, attributes).\n   */\n  reduceNodes(callback, initialValue) {\n    if (typeof callback !== 'function')\n      throw new InvalidArgumentsGraphError(\n        'Graph.reduceNodes: expecting a callback.'\n      );\n\n    if (arguments.length < 2)\n      throw new InvalidArgumentsGraphError(\n        'Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.'\n      );\n\n    let accumulator = initialValue;\n\n    const iterator = this._nodes.values();\n\n    let step, nodeData;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      nodeData = step.value;\n      accumulator = callback(accumulator, nodeData.key, nodeData.attributes);\n    }\n\n    return accumulator;\n  }\n\n  /**\n   * Method returning an iterator over the graph's node entries.\n   *\n   * @return {Iterator}\n   */\n  nodeEntries() {\n    const iterator = this._nodes.values();\n\n    return new Iterator(() => {\n      const step = iterator.next();\n\n      if (step.done) return step;\n\n      const data = step.value;\n\n      return {\n        value: {node: data.key, attributes: data.attributes},\n        done: false\n      };\n    });\n  }\n\n  /**---------------------------------------------------------------------------\n   * Serialization\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Method used to export the whole graph.\n   *\n   * @return {object} - The serialized graph.\n   */\n  export() {\n    const nodes = new Array(this._nodes.size);\n\n    let i = 0;\n\n    this._nodes.forEach((data, key) => {\n      nodes[i++] = serializeNode(key, data);\n    });\n\n    const edges = new Array(this._edges.size);\n\n    i = 0;\n\n    this._edges.forEach((data, key) => {\n      edges[i++] = serializeEdge(this.type, key, data);\n    });\n\n    return {\n      options: {\n        type: this.type,\n        multi: this.multi,\n        allowSelfLoops: this.allowSelfLoops\n      },\n      attributes: this.getAttributes(),\n      nodes,\n      edges\n    };\n  }\n\n  /**\n   * Method used to import a serialized graph.\n   *\n   * @param  {object|Graph} data  - The serialized graph.\n   * @param  {boolean}      merge - Whether to merge data.\n   * @return {Graph}              - Returns itself for chaining.\n   */\n  import(data, merge = false) {\n    // Importing a Graph instance directly\n    if (data instanceof Graph) {\n      // Nodes\n      data.forEachNode((n, a) => {\n        if (merge) this.mergeNode(n, a);\n        else this.addNode(n, a);\n      });\n\n      // Edges\n      data.forEachEdge((e, a, s, t, _sa, _ta, u) => {\n        if (merge) {\n          if (u) this.mergeUndirectedEdgeWithKey(e, s, t, a);\n          else this.mergeDirectedEdgeWithKey(e, s, t, a);\n        } else {\n          if (u) this.addUndirectedEdgeWithKey(e, s, t, a);\n          else this.addDirectedEdgeWithKey(e, s, t, a);\n        }\n      });\n\n      return this;\n    }\n\n    // Importing a serialized graph\n    if (!isPlainObject(data))\n      throw new InvalidArgumentsGraphError(\n        'Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.'\n      );\n\n    if (data.attributes) {\n      if (!isPlainObject(data.attributes))\n        throw new InvalidArgumentsGraphError(\n          'Graph.import: invalid attributes. Expecting a plain object.'\n        );\n\n      if (merge) this.mergeAttributes(data.attributes);\n      else this.replaceAttributes(data.attributes);\n    }\n\n    let i, l, list, node, edge;\n\n    if (data.nodes) {\n      list = data.nodes;\n\n      if (!Array.isArray(list))\n        throw new InvalidArgumentsGraphError(\n          'Graph.import: invalid nodes. Expecting an array.'\n        );\n\n      for (i = 0, l = list.length; i < l; i++) {\n        node = list[i];\n\n        // Validating\n        validateSerializedNode(node);\n\n        // Adding the node\n        const {key, attributes} = node;\n\n        if (merge) this.mergeNode(key, attributes);\n        else this.addNode(key, attributes);\n      }\n    }\n\n    if (data.edges) {\n      let undirectedByDefault = false;\n\n      if (this.type === 'undirected') {\n        undirectedByDefault = true;\n      }\n\n      list = data.edges;\n\n      if (!Array.isArray(list))\n        throw new InvalidArgumentsGraphError(\n          'Graph.import: invalid edges. Expecting an array.'\n        );\n\n      for (i = 0, l = list.length; i < l; i++) {\n        edge = list[i];\n\n        // Validating\n        validateSerializedEdge(edge);\n\n        // Adding the edge\n        const {\n          source,\n          target,\n          attributes,\n          undirected = undirectedByDefault\n        } = edge;\n\n        let method;\n\n        if ('key' in edge) {\n          method = merge\n            ? undirected\n              ? this.mergeUndirectedEdgeWithKey\n              : this.mergeDirectedEdgeWithKey\n            : undirected\n            ? this.addUndirectedEdgeWithKey\n            : this.addDirectedEdgeWithKey;\n\n          method.call(this, edge.key, source, target, attributes);\n        } else {\n          method = merge\n            ? undirected\n              ? this.mergeUndirectedEdge\n              : this.mergeDirectedEdge\n            : undirected\n            ? this.addUndirectedEdge\n            : this.addDirectedEdge;\n\n          method.call(this, source, target, attributes);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  /**---------------------------------------------------------------------------\n   * Utils\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Method returning a null copy of the graph, i.e. a graph without nodes\n   * & edges but with the exact same options.\n   *\n   * @param  {object} options - Options to merge with the current ones.\n   * @return {Graph}          - The null copy.\n   */\n  nullCopy(options) {\n    const graph = new Graph(assign({}, this._options, options));\n    graph.replaceAttributes(assign({}, this.getAttributes()));\n    return graph;\n  }\n\n  /**\n   * Method returning an empty copy of the graph, i.e. a graph without edges but\n   * with the exact same options.\n   *\n   * @param  {object} options - Options to merge with the current ones.\n   * @return {Graph}          - The empty copy.\n   */\n  emptyCopy(options) {\n    const graph = this.nullCopy(options);\n\n    this._nodes.forEach((nodeData, key) => {\n      const attributes = assign({}, nodeData.attributes);\n\n      // NOTE: no need to emit events since user cannot access the instance yet\n      nodeData = new graph.NodeDataClass(key, attributes);\n      graph._nodes.set(key, nodeData);\n    });\n\n    return graph;\n  }\n\n  /**\n   * Method returning an exact copy of the graph.\n   *\n   * @param  {object} options - Upgrade options.\n   * @return {Graph}          - The copy.\n   */\n  copy(options) {\n    options = options || {};\n\n    if (\n      typeof options.type === 'string' &&\n      options.type !== this.type &&\n      options.type !== 'mixed'\n    )\n      throw new UsageGraphError(\n        `Graph.copy: cannot create an incompatible copy from \"${this.type}\" type to \"${options.type}\" because this would mean losing information about the current graph.`\n      );\n\n    if (\n      typeof options.multi === 'boolean' &&\n      options.multi !== this.multi &&\n      options.multi !== true\n    )\n      throw new UsageGraphError(\n        'Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.'\n      );\n\n    if (\n      typeof options.allowSelfLoops === 'boolean' &&\n      options.allowSelfLoops !== this.allowSelfLoops &&\n      options.allowSelfLoops !== true\n    )\n      throw new UsageGraphError(\n        'Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.'\n      );\n\n    const graph = this.emptyCopy(options);\n\n    const iterator = this._edges.values();\n\n    let step, edgeData;\n\n    while (((step = iterator.next()), step.done !== true)) {\n      edgeData = step.value;\n\n      // NOTE: no need to emit events since user cannot access the instance yet\n      addEdge(\n        graph,\n        'copy',\n        false,\n        edgeData.undirected,\n        edgeData.key,\n        edgeData.source.key,\n        edgeData.target.key,\n        assign({}, edgeData.attributes)\n      );\n    }\n\n    return graph;\n  }\n\n  /**---------------------------------------------------------------------------\n   * Known methods\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Method used by JavaScript to perform JSON serialization.\n   *\n   * @return {object} - The serialized graph.\n   */\n  toJSON() {\n    return this.export();\n  }\n\n  /**\n   * Method returning [object Graph].\n   */\n  toString() {\n    return '[object Graph]';\n  }\n\n  /**\n   * Method used internally by node's console to display a custom object.\n   *\n   * @return {object} - Formatted object representation of the graph.\n   */\n  inspect() {\n    const nodes = {};\n    this._nodes.forEach((data, key) => {\n      nodes[key] = data.attributes;\n    });\n\n    const edges = {},\n      multiIndex = {};\n\n    this._edges.forEach((data, key) => {\n      const direction = data.undirected ? '--' : '->';\n\n      let label = '';\n\n      let source = data.source.key;\n      let target = data.target.key;\n      let tmp;\n\n      if (data.undirected && source > target) {\n        tmp = source;\n        source = target;\n        target = tmp;\n      }\n\n      const desc = `(${source})${direction}(${target})`;\n\n      if (!key.startsWith('geid_')) {\n        label += `[${key}]: `;\n      } else if (this.multi) {\n        if (typeof multiIndex[desc] === 'undefined') {\n          multiIndex[desc] = 0;\n        } else {\n          multiIndex[desc]++;\n        }\n\n        label += `${multiIndex[desc]}. `;\n      }\n\n      label += desc;\n\n      edges[label] = data.attributes;\n    });\n\n    const dummy = {};\n\n    for (const k in this) {\n      if (\n        this.hasOwnProperty(k) &&\n        !EMITTER_PROPS.has(k) &&\n        typeof this[k] !== 'function' &&\n        typeof k !== 'symbol'\n      )\n        dummy[k] = this[k];\n    }\n\n    dummy.attributes = this._attributes;\n    dummy.nodes = nodes;\n    dummy.edges = edges;\n\n    privateProperty(dummy, 'constructor', this.constructor);\n\n    return dummy;\n  }\n}\n\n/**\n * Attaching methods to the prototype.\n *\n * Here, we are attaching a wide variety of methods to the Graph class'\n * prototype when those are very numerous and when their creation is\n * abstracted.\n */\n\n/**\n * Attaching custom inspect method for node >= 10.\n */\nif (typeof Symbol !== 'undefined')\n  Graph.prototype[Symbol.for('nodejs.util.inspect.custom')] =\n    Graph.prototype.inspect;\n\n/**\n * Related to edge addition.\n */\nEDGE_ADD_METHODS.forEach(method => {\n  ['add', 'merge', 'update'].forEach(verb => {\n    const name = method.name(verb);\n    const fn = verb === 'add' ? addEdge : mergeEdge;\n\n    if (method.generateKey) {\n      Graph.prototype[name] = function (source, target, attributes) {\n        return fn(\n          this,\n          name,\n          true,\n          (method.type || this.type) === 'undirected',\n          null,\n          source,\n          target,\n          attributes,\n          verb === 'update'\n        );\n      };\n    } else {\n      Graph.prototype[name] = function (edge, source, target, attributes) {\n        return fn(\n          this,\n          name,\n          false,\n          (method.type || this.type) === 'undirected',\n          edge,\n          source,\n          target,\n          attributes,\n          verb === 'update'\n        );\n      };\n    }\n  });\n});\n\n/**\n * Attributes-related.\n */\nattachNodeAttributesMethods(Graph);\nattachEdgeAttributesMethods(Graph);\n\n/**\n * Edge iteration-related.\n */\nattachEdgeIterationMethods(Graph);\n\n/**\n * Neighbor iteration-related.\n */\nattachNeighborIterationMethods(Graph);\n","/**\n * Graphology Helper Classes\n * ==========================\n *\n * Building some higher-order classes instantiating the graph with\n * predefinite options.\n */\nimport {assign} from './utils';\nimport Graph from './graph';\n\nimport {\n  InvalidArgumentsGraphError,\n  NotFoundGraphError,\n  UsageGraphError\n} from './errors';\n\n/**\n * Alternative constructors.\n */\nclass DirectedGraph extends Graph {\n  constructor(options) {\n    const finalOptions = assign({type: 'directed'}, options);\n\n    if ('multi' in finalOptions && finalOptions.multi !== false)\n      throw new InvalidArgumentsGraphError(\n        'DirectedGraph.from: inconsistent indication that the graph should be multi in given options!'\n      );\n\n    if (finalOptions.type !== 'directed')\n      throw new InvalidArgumentsGraphError(\n        'DirectedGraph.from: inconsistent \"' +\n          finalOptions.type +\n          '\" type in given options!'\n      );\n\n    super(finalOptions);\n  }\n}\nclass UndirectedGraph extends Graph {\n  constructor(options) {\n    const finalOptions = assign({type: 'undirected'}, options);\n\n    if ('multi' in finalOptions && finalOptions.multi !== false)\n      throw new InvalidArgumentsGraphError(\n        'UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!'\n      );\n\n    if (finalOptions.type !== 'undirected')\n      throw new InvalidArgumentsGraphError(\n        'UndirectedGraph.from: inconsistent \"' +\n          finalOptions.type +\n          '\" type in given options!'\n      );\n\n    super(finalOptions);\n  }\n}\nclass MultiGraph extends Graph {\n  constructor(options) {\n    const finalOptions = assign({multi: true}, options);\n\n    if ('multi' in finalOptions && finalOptions.multi !== true)\n      throw new InvalidArgumentsGraphError(\n        'MultiGraph.from: inconsistent indication that the graph should be simple in given options!'\n      );\n\n    super(finalOptions);\n  }\n}\nclass MultiDirectedGraph extends Graph {\n  constructor(options) {\n    const finalOptions = assign({type: 'directed', multi: true}, options);\n\n    if ('multi' in finalOptions && finalOptions.multi !== true)\n      throw new InvalidArgumentsGraphError(\n        'MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!'\n      );\n\n    if (finalOptions.type !== 'directed')\n      throw new InvalidArgumentsGraphError(\n        'MultiDirectedGraph.from: inconsistent \"' +\n          finalOptions.type +\n          '\" type in given options!'\n      );\n\n    super(finalOptions);\n  }\n}\nclass MultiUndirectedGraph extends Graph {\n  constructor(options) {\n    const finalOptions = assign({type: 'undirected', multi: true}, options);\n\n    if ('multi' in finalOptions && finalOptions.multi !== true)\n      throw new InvalidArgumentsGraphError(\n        'MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!'\n      );\n\n    if (finalOptions.type !== 'undirected')\n      throw new InvalidArgumentsGraphError(\n        'MultiUndirectedGraph.from: inconsistent \"' +\n          finalOptions.type +\n          '\" type in given options!'\n      );\n\n    super(finalOptions);\n  }\n}\n\n/**\n * Attaching static #.from method to each of the constructors.\n */\nfunction attachStaticFromMethod(Class) {\n  /**\n   * Builds a graph from serialized data or another graph's data.\n   *\n   * @param  {Graph|SerializedGraph} data      - Hydratation data.\n   * @param  {object}                [options] - Options.\n   * @return {Class}\n   */\n  Class.from = function (data, options) {\n    // Merging given options with serialized ones\n    const finalOptions = assign({}, data.options, options);\n\n    const instance = new Class(finalOptions);\n    instance.import(data);\n\n    return instance;\n  };\n}\n\nattachStaticFromMethod(Graph);\nattachStaticFromMethod(DirectedGraph);\nattachStaticFromMethod(UndirectedGraph);\nattachStaticFromMethod(MultiGraph);\nattachStaticFromMethod(MultiDirectedGraph);\nattachStaticFromMethod(MultiUndirectedGraph);\n\nGraph.Graph = Graph;\nGraph.DirectedGraph = DirectedGraph;\nGraph.UndirectedGraph = UndirectedGraph;\nGraph.MultiGraph = MultiGraph;\nGraph.MultiDirectedGraph = MultiDirectedGraph;\nGraph.MultiUndirectedGraph = MultiUndirectedGraph;\n\nGraph.InvalidArgumentsGraphError = InvalidArgumentsGraphError;\nGraph.NotFoundGraphError = NotFoundGraphError;\nGraph.UsageGraphError = UsageGraphError;\n\nexport {\n  Graph,\n  DirectedGraph,\n  UndirectedGraph,\n  MultiGraph,\n  MultiDirectedGraph,\n  MultiUndirectedGraph\n};\n","/**\n * Iwanthue Distance Functions\n * ============================\n *\n * Bunch of color-related distance functions, some of which take daltonism\n * into account.\n */\nvar helpers = require('./helpers.js');\n\nvar CONFUSION_LINES = {\n  protanope: {\n    x: 0.7465,\n    y: 0.2535,\n    m: 1.273463,\n    yint: -0.073894\n  },\n  deuteranope: {\n    x: 1.4,\n    y: -0.4,\n    m: 0.968437,\n    yint: 0.003331\n  },\n  tritanope: {\n    x: 0.1748,\n    y: 0.0,\n    m: 0.062921,\n    yint: 0.292119\n  }\n};\n\nfunction euclidean(lab1, lab2) {\n  return Math.sqrt(\n    Math.pow(lab1[0] - lab2[0], 2) +\n    Math.pow(lab1[1] - lab2[1], 2) +\n    Math.pow(lab1[2] - lab2[2], 2)\n  );\n}\n\nfunction cmc(l, c, lab1, lab2) {\n  var L1 = lab1[0];\n  var L2 = lab2[0];\n  var a1 = lab1[1];\n  var a2 = lab2[1];\n  var b1 = lab1[2];\n  var b2 = lab2[2];\n  var C1 = Math.sqrt(Math.pow(a1, 2) + Math.pow(b1, 2));\n  var C2 = Math.sqrt(Math.pow(a2, 2) + Math.pow(b2, 2));\n  var deltaC = C1 - C2;\n  var deltaL = L1 - L2;\n  var deltaa = a1 - a2;\n  var deltab = b1 - b2;\n  var deltaH = Math.sqrt(\n    Math.pow(deltaa, 2) + Math.pow(deltab, 2) + Math.pow(deltaC, 2)\n  );\n  var H1 = Math.atan2(b1, a1) * (180 / Math.PI);\n  while (H1 < 0) {\n    H1 += 360;\n  }\n  var F = Math.sqrt(Math.pow(C1, 4) / (Math.pow(C1, 4) + 1900));\n  var T =\n    H1 >= 164 && H1 <= 345\n      ? 0.56 + Math.abs(0.2 * Math.cos(H1 + 168))\n      : 0.36 + Math.abs(0.4 * Math.cos(H1 + 35));\n  var S_L = lab1[0] < 16 ? 0.511 : (0.040975 * L1) / (1 + 0.01765 * L1);\n  var S_C = (0.0638 * C1) / (1 + 0.0131 * C1) + 0.638;\n  var S_H = S_C * (F * T + 1 - F);\n  var result = Math.sqrt(\n    Math.pow(deltaL / (l * S_L), 2) +\n      Math.pow(deltaC / (c * S_C), 2) +\n      Math.pow(deltaH / S_H, 2)\n  );\n  return result;\n}\n\nfunction CachedDistances() {\n  this.cache = {};\n}\n\nCachedDistances.prototype.simulate = function(lab, type, amount) {\n  amount = amount || 1;\n\n  // Cache\n  var key = lab.join('-') + '-' + type + '-' + amount;\n  var cache = this.cache[key];\n  if (cache)\n    return cache;\n\n  // Get data from type\n  var confuseX = CONFUSION_LINES[type].x;\n  var confuseY = CONFUSION_LINES[type].y;\n  var confuseM = CONFUSION_LINES[type].m;\n  var confuseYint = CONFUSION_LINES[type].yint;\n\n  // Code adapted from http://galacticmilk.com/labs/Color-Vision/Javascript/Color.Vision.Simulate.js\n  var color = helpers.labToRgb(lab);\n\n  var sr = color[0];\n  var sg = color[1];\n  var sb = color[2];\n  var dr = sr; // destination color\n  var dg = sg;\n  var db = sb;\n  // Convert source color into XYZ color space\n  var powR = Math.pow(sr, 2.2);\n  var powG = Math.pow(sg, 2.2);\n  var powB = Math.pow(sb, 2.2);\n  var X = powR * 0.412424 + powG * 0.357579 + powB * 0.180464; // RGB->XYZ (sRGB:D65)\n  var Y = powR * 0.212656 + powG * 0.715158 + powB * 0.0721856;\n  var Z = powR * 0.0193324 + powG * 0.119193 + powB * 0.950444;\n  // Convert XYZ into xyY Chromacity Coordinates (xy) and Luminance (Y)\n  var chromaX = X / (X + Y + Z);\n  var chromaY = Y / (X + Y + Z);\n  // Generate the \"Confusion Line\" between the source color and the Confusion Point\n  var m = (chromaY - confuseY) / (chromaX - confuseX); // slope of Confusion Line\n  var yint = chromaY - chromaX * m; // y-intercept of confusion line (x-intercept = 0.0)\n  // How far the xy coords deviate from the simulation\n  var deviateX = (confuseYint - yint) / (m - confuseM);\n  var deviateY = m * deviateX + yint;\n  // Compute the simulated color's XYZ coords\n  X = (deviateX * Y) / deviateY;\n  Z = ((1.0 - (deviateX + deviateY)) * Y) / deviateY;\n  // Neutral grey calculated from luminance (in D65)\n  var neutralX = (0.312713 * Y) / 0.329016;\n  var neutralZ = (0.358271 * Y) / 0.329016;\n  // Difference between simulated color and neutral grey\n  var diffX = neutralX - X;\n  var diffZ = neutralZ - Z;\n  var diffR = diffX * 3.24071 + diffZ * -0.498571; // XYZ->RGB (sRGB:D65)\n  var diffG = diffX * -0.969258 + diffZ * 0.0415557;\n  var diffB = diffX * 0.0556352 + diffZ * 1.05707;\n  // Convert to RGB color space\n  dr = X * 3.24071 + Y * -1.53726 + Z * -0.498571; // XYZ->RGB (sRGB:D65)\n  dg = X * -0.969258 + Y * 1.87599 + Z * 0.0415557;\n  db = X * 0.0556352 + Y * -0.203996 + Z * 1.05707;\n  // Compensate simulated color towards a neutral fit in RGB space\n  var fitR = ((dr < 0.0 ? 0.0 : 1.0) - dr) / diffR;\n  var fitG = ((dg < 0.0 ? 0.0 : 1.0) - dg) / diffG;\n  var fitB = ((db < 0.0 ? 0.0 : 1.0) - db) / diffB;\n  var adjust = Math.max(\n    // highest value\n    fitR > 1.0 || fitR < 0.0 ? 0.0 : fitR,\n    fitG > 1.0 || fitG < 0.0 ? 0.0 : fitG,\n    fitB > 1.0 || fitB < 0.0 ? 0.0 : fitB\n  );\n  // Shift proportional to the greatest shift\n  dr = dr + adjust * diffR;\n  dg = dg + adjust * diffG;\n  db = db + adjust * diffB;\n  // Apply gamma correction\n  dr = Math.pow(dr, 1.0 / 2.2);\n  dg = Math.pow(dg, 1.0 / 2.2);\n  db = Math.pow(db, 1.0 / 2.2);\n  // Anomylize colors\n  dr = sr * (1.0 - amount) + dr * amount;\n  dg = sg * (1.0 - amount) + dg * amount;\n  db = sb * (1.0 - amount) + db * amount;\n  var dcolor = [dr, dg, db];\n  var result = helpers.rgbToLab(dcolor);\n  this.cache[key] = result;\n\n  return result;\n};\n\nCachedDistances.prototype.euclidean = euclidean;\nCachedDistances.prototype.cmc = cmc.bind(null, 2, 1);\n\nCachedDistances.prototype.colorblind = function(type, lab1, lab2) {\n  lab1 = this.simulate(lab1, type);\n  lab2 = this.simulate(lab2, type);\n\n  return this.cmc(lab1, lab2);\n};\n\nObject.keys(CONFUSION_LINES).forEach(function(type) {\n  CachedDistances.prototype[type] = function(lab1, lab2) {\n    return this.colorblind(type, lab1, lab2);\n  };\n});\n\nvar COMPROMISE_COUNT = 1000 + 100 + 500 + 1;\n\nCachedDistances.prototype.compromise = function(lab1, lab2) {\n  var total = 0;\n\n  var d = this.cmc(lab1, lab2);\n  total += d * 1000;\n\n  d = this.colorblind('protanope', lab1, lab2);\n  if (!isNaN(d))\n    total += d * 100;\n\n  d = this.colorblind('deuteranope', lab1, lab2);\n  if (!isNaN(d))\n    total += d * 500;\n\n  d = this.colorblind('tritanope', lab1, lab2);\n  if (!isNaN(d))\n    total += d * 1;\n\n  return total / COMPROMISE_COUNT;\n};\n\nCachedDistances.prototype.get = function(name) {\n  if (name in CONFUSION_LINES)\n    return this.colorblind.bind(this, name);\n\n  return this[name].bind(this);\n};\n\nmodule.exports = CachedDistances;\n","/**\n * Iwanthue Library Helpers\n * =========================\n *\n * Collection of color-related helpers used throughout the library.\n */\nvar LAB_CONSTANTS = {\n  // Corresponds roughly to RGB brighter/darker\n  Kn: 18,\n\n  // D65 standard referent\n  Xn: 0.95047,\n  Yn: 1,\n  Zn: 1.08883,\n\n  t0: 0.137931034, // 4 / 29\n  t1: 0.206896552, // 6 / 29\n  t2: 0.12841855, // 3 * t1 * t1\n  t3: 0.008856452 // t1 * t1 * t1\n};\n\nfunction xyzToRgb(r) {\n  return Math.round(\n    255 *\n    (r <= 0.00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - 0.055)\n  );\n}\n\nfunction rgbToXyzHelper(r) {\n  if ((r /= 255) <= 0.04045)\n    return r / 12.92;\n\n  return Math.pow((r + 0.055) / 1.055, 2.4);\n}\n\nfunction xyzToLab(t) {\n  if (t > LAB_CONSTANTS.t3)\n    return Math.pow(t, 1 / 3);\n\n    return t / LAB_CONSTANTS.t2 + LAB_CONSTANTS.t0;\n}\n\nfunction rgbToXyz(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2];\n\n  r = rgbToXyzHelper(r);\n  g = rgbToXyzHelper(g);\n  b = rgbToXyzHelper(b);\n\n  var x = xyzToLab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS.Xn),\n      y = xyzToLab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS.Yn),\n      z = xyzToLab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS.Zn);\n\n  return [x, y, z];\n}\n\nfunction labToXyz(t) {\n  return t > LAB_CONSTANTS.t1 ?\n    t * t * t :\n    LAB_CONSTANTS.t2 * (t - LAB_CONSTANTS.t0);\n}\n\nfunction labToRgb(lab) {\n  var l = lab[0];\n  var a = lab[1];\n  var b = lab[2];\n\n  var y = (l + 16) / 116;\n  var x = isNaN(a) ? y : y + a / 500;\n  var z = isNaN(b) ? y : y - b / 200;\n\n  y = LAB_CONSTANTS.Yn * labToXyz(y);\n  x = LAB_CONSTANTS.Xn * labToXyz(x);\n  z = LAB_CONSTANTS.Zn * labToXyz(z);\n\n  var r = xyzToRgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z); // D65 -> sRGB\n  var g = xyzToRgb(-0.969266 * x + 1.8760108 * y + 0.041556 * z);\n  b = xyzToRgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n  // r, g or b can be -0, beware...\n  return [r, g, b];\n}\n\nfunction rgbToLab(rgb) {\n  var xyz = rgbToXyz(rgb);\n\n  var x = xyz[0],\n      y = xyz[1],\n      z = xyz[2];\n\n  var l = 116 * y - 16;\n\n  return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n}\n\nfunction validateRgb(rgb) {\n  var r = rgb[0];\n  var g = rgb[1];\n  var b = rgb[2];\n\n  return r >= 0 && r <= 255 && g >= 0 && g <= 255 && b >= 0 && b <= 255;\n}\n\nfunction hexPad(x) {\n  return ('0' + x.toString(16)).slice(-2);\n}\n\nfunction labToRgbHex(lab) {\n  var rgb = labToRgb(lab);\n\n  return (\n    '#' +\n    hexPad(rgb[0]) +\n    hexPad(rgb[1]) +\n    hexPad(rgb[2])\n  );\n}\n\nvar RAD_TO_DEG = 180 / Math.PI;\n\nfunction labToHcl(lab) {\n  var l = lab[0];\n  var a = lab[1];\n  var b = lab[2];\n\n  var c = Math.sqrt(a * a + b * b);\n  var h = (Math.atan2(b, a) * RAD_TO_DEG + 360) % 360;\n\n  if (Math.round(c * 10000) === 0)\n    h = NaN;\n\n  return [h, c, l];\n}\n\nfunction diffSort(distance, colors) {\n  colors = colors.slice();\n\n  var diffColors = [colors.shift()];\n\n  var index, maxDistance, candidateIndex;\n\n  var A, B, d, i;\n\n  while (colors.length > 0) {\n    index = -1;\n    maxDistance = -Infinity;\n\n    for (candidateIndex = 0; candidateIndex < colors.length; candidateIndex++) {\n      A = colors[candidateIndex];\n\n      for (i = 0; i < diffColors.length; i++) {\n        B = diffColors[i];\n        d = distance(A, B);\n\n        if (d > maxDistance) {\n          maxDistance = d;\n          index = candidateIndex;\n        }\n      }\n    }\n\n    diffColors.push(colors[index]);\n    colors.splice(index, 1);\n  }\n\n  return diffColors;\n}\n\nfunction computeQualityMetrics(distance, colors) {\n  var i, j, l;\n\n  var min = Infinity, d;\n\n  var S = 0, t = 0;\n\n  for (i = 0, l = colors.length; i < l; i++) {\n    for (j = i + 1; j < l; j++) {\n      d = distance(colors[i], colors[j]);\n\n      if (d < min)\n        min = d;\n\n      S += d;\n      t++;\n    }\n  }\n\n  return {min: min, mean: S / t};\n}\n\nexports.validateRgb = validateRgb;\nexports.labToRgb = labToRgb;\nexports.labToRgbHex = labToRgbHex;\nexports.rgbToLab = rgbToLab;\nexports.labToHcl = labToHcl;\nexports.diffSort = diffSort;\nexports.computeQualityMetrics = computeQualityMetrics;\n","/**\n * Iwanthue Library Endpoint\n * ==========================\n *\n * Exporting the main utilities of the library.\n */\nvar Random = require('./rng.js');\nvar CachedDistances = require('./distances.js');\nvar helpers = require('./helpers.js');\nvar presets = require('./presets.js');\n\nvar validateRgb = helpers.validateRgb;\nvar labToRgb = helpers.labToRgb;\nvar labToRgbHex = helpers.labToRgbHex;\nvar labToHcl = helpers.labToHcl;\nvar diffSort = helpers.diffSort;\n\n/**\n * Constants.\n */\nvar DEFAULT_SETTINGS = {\n  attempts: 1,\n  colorFilter: null,\n  colorSpace: 'default',\n  clustering: 'k-means',\n  quality: 50,\n  ultraPrecision: false,\n  distance: 'euclidean',\n  seed: null\n};\n\nvar VALID_CLUSTERINGS = new Set(['force-vector', 'k-means']);\n\nvar VALID_DISTANCES = new Set([\n  'euclidean',\n  'cmc',\n  'compromise',\n  'protanope',\n  'deuteranope',\n  'tritanope'\n]);\n\nvar VALID_PRESETS = new Set(Object.keys(presets));\n\n/**\n * Helpers.\n */\nfunction stringSum(string) {\n  var sum = 0;\n\n  for (var i = 0, l = string.length; i < l; i++)\n    sum += string.charCodeAt(i);\n\n  return sum;\n}\n\nfunction resolveAndValidateSettings(userSettings) {\n  var settings = Object.assign({}, DEFAULT_SETTINGS, userSettings);\n\n  if (typeof settings.attempts !== 'number' || settings.attempts <= 0)\n    throw new Error('iwanthue: invalid `attempts` setting. Expecting a positive number.');\n\n  if (settings.colorFilter && typeof settings.colorFilter !== 'function')\n    throw new Error('iwanthue: invalid `colorFilter` setting. Expecting a function.');\n\n  if (!VALID_CLUSTERINGS.has(settings.clustering))\n    throw new Error('iwanthue: unknown `clustering` \"' + settings.clustering + '\".');\n\n  if (typeof settings.quality !== 'number' || isNaN(settings.quality) || settings.quality < 1)\n    throw new Error('iwanthue: invalid `quality`. Expecting a number > 0.');\n\n  if (typeof settings.ultraPrecision !== 'boolean')\n    throw new Error('iwanthue: invalid `ultraPrecision`. Expecting a boolean.');\n\n  if (!VALID_DISTANCES.has(settings.distance))\n    throw new Error('iwanthue: unknown `distance` \"' + settings.distance + '\".');\n\n  if (typeof settings.seed === 'string')\n    settings.seed = stringSum(settings.seed);\n\n  if (settings.seed !== null && typeof settings.seed !== 'number')\n    throw new Error('iwanthue: invalid `seed`. Expecting an integer or a string.');\n\n  // Building color filter from preset?\n  if (!settings.colorFilter) {\n    if (\n      settings.colorSpace &&\n      settings.colorSpace !== 'all'\n    ) {\n\n      var preset;\n\n      if (typeof settings.colorSpace === 'string') {\n        if (!VALID_PRESETS.has(settings.colorSpace))\n          throw new Error('iwanthue: unknown `colorSpace` \"' + settings.colorSpace + '\".');\n\n        preset = presets[settings.colorSpace];\n      }\n      else if (Array.isArray(settings.colorSpace)) {\n\n        if (settings.colorSpace.length !== 6)\n          throw new Error('iwanthue: expecting a `colorSpace` array of length 6 ([hmin, hmax, cmin, cmax, lmin, lmax]).');\n\n        preset = settings.colorSpace;\n      }\n      else {\n        preset = [\n          settings.colorSpace.hmin || 0,\n          settings.colorSpace.hmax || 360,\n          settings.colorSpace.cmin || 0,\n          settings.colorSpace.cmax || 100,\n          settings.colorSpace.lmin || 0,\n          settings.colorSpace.lmax || 100\n        ];\n      }\n\n      if (preset[0] < preset[1])\n        settings.colorFilter = function(rgb, lab) {\n          var hcl = labToHcl(lab);\n\n          return (\n            hcl[0] >= preset[0] && hcl[0] <= preset[1] &&\n            hcl[1] >= preset[2] && hcl[1] <= preset[3] &&\n            hcl[2] >= preset[4] && hcl[2] <= preset[5]\n          );\n        };\n      else\n      settings.colorFilter = function(rgb, lab) {\n        var hcl = labToHcl(lab);\n\n        return (\n          (hcl[0] >= preset[0] || hcl[0] <= preset[1]) &&\n          hcl[1] >= preset[2] && hcl[1] <= preset[3] &&\n          hcl[2] >= preset[4] && hcl[2] <= preset[5]\n        );\n      };\n    }\n  }\n\n  return settings;\n}\n\n// NOTE: this function has complexity O(∞).\nfunction sampleLabColors(rng, count, validColor) {\n  var colors = new Array(count),\n      lab,\n      rgb;\n\n  for (var i = 0; i < count; i++) {\n\n    do {\n      lab = [\n        100 * rng(),\n        100 * (2 * rng() - 1),\n        100 * (2 * rng() - 1)\n      ];\n\n      rgb = labToRgb(lab);\n\n    } while (!validColor(rgb, lab));\n\n    colors[i] = lab;\n  }\n\n  return colors;\n}\n\nvar REPULSION = 100;\nvar SPEED = 100;\n\nfunction forceVector(rng, distance, validColor, colors, settings) {\n  var vectors = new Array(colors.length);\n  var steps = settings.quality * 20;\n\n  var i, j, l = colors.length;\n\n  var A, B;\n\n  var d, dl, da, db, force, candidateLab, color, ratio, displacement, rgb;\n\n  while (steps-- > 0) {\n\n    // Initializing vectors\n    for (i = 0; i < l; i++)\n      vectors[i] = {dl: 0, da: 0, db: 0};\n\n    // Computing force\n    for (i = 0; i < l; i++) {\n      A = colors[i];\n\n      for (j = 0; j < i; j++) {\n        B = colors[j];\n\n        // Repulsion\n        d = distance(A, B);\n\n        if (d > 0) {\n          dl = A[0] - B[0];\n          da = A[1] - B[1];\n          db = A[2] - B[2];\n\n          force = REPULSION / Math.pow(d, 2);\n\n          vectors[i].dl += (dl * force) / d;\n          vectors[i].da += (da * force) / d;\n          vectors[i].db += (db * force) / d;\n\n          vectors[j].dl -= (dl * force) / d;\n          vectors[j].da -= (da * force) / d;\n          vectors[j].db -= (db * force) / d;\n        }\n        else {\n\n          // Jitter\n          vectors[j].dl += 2 - 4 * rng();\n          vectors[j].da += 2 - 4 * rng();\n          vectors[j].db += 2 - 4 * rng();\n        }\n      }\n    }\n\n    // Applying force\n    for (i = 0; i < l; i++) {\n      color = colors[i];\n      displacement = SPEED * Math.sqrt(\n        Math.pow(vectors[i].dl, 2) +\n        Math.pow(vectors[i].da, 2) +\n        Math.pow(vectors[i].db, 2)\n      );\n\n      if (displacement > 0) {\n        ratio = (SPEED * Math.min(0.1, displacement)) / displacement;\n        candidateLab = [\n          color[0] + vectors[i].dl * ratio,\n          color[1] + vectors[i].da * ratio,\n          color[2] + vectors[i].db * ratio\n        ];\n\n        rgb = labToRgb(candidateLab);\n\n        if (validColor(rgb, candidateLab))\n          colors[i] = candidateLab;\n      }\n    }\n  }\n}\n\nfunction kMeans(distance, validColor, colors, settings) {\n  var colorSamples = [];\n  var samplesClosest = [];\n\n  var l, a, b;\n\n  var lab, rgb;\n\n  var linc = 5,\n      ainc = 10,\n      binc = 10;\n\n  if (settings.ultraPrecision) {\n    linc = 1;\n    ainc = 5;\n    binc = 5;\n  }\n\n  for (l = 0; l <= 100; l += linc) {\n    for (a = -100; a <= 100; a += ainc) {\n      for (b = -100; b <= 100; b += binc) {\n        lab = [l, a, b];\n        rgb = labToRgb(lab);\n\n        if (!validColor(rgb, lab))\n          continue;\n\n        colorSamples.push(lab);\n        samplesClosest.push(null);\n      }\n    }\n  }\n\n  // Steps\n  var steps = settings.quality;\n\n  var i, j;\n\n  var A, B;\n\n  var li = colorSamples.length,\n      lj = colors.length;\n\n\n  var d, minDistance, freeColorSamples, count, candidate, closest;\n\n  while (steps-- > 0) {\n\n    // Finding closest color\n    for (i = 0; i < li; i++) {\n      B = colorSamples[i];\n      minDistance = Infinity;\n\n      for (j = 0; j < lj; j++) {\n        A = colors[j];\n\n        d = distance(A, B);\n\n        if (d < minDistance) {\n          minDistance = d;\n          samplesClosest[i] = j;\n        }\n      }\n    }\n\n    freeColorSamples = colorSamples.slice();\n\n    for (j = 0; j < lj; j++) {\n      count = 0;\n      candidate = [0, 0, 0];\n\n      for (i = 0; i < li; i++) {\n        if (samplesClosest[i] === j) {\n          count++;\n          candidate[0] += colorSamples[i][0];\n          candidate[1] += colorSamples[i][1];\n          candidate[2] += colorSamples[i][2];\n        }\n      }\n\n      if (count !== 0) {\n        candidate[0] /= count;\n        candidate[1] /= count;\n        candidate[2] /= count;\n\n        rgb = labToRgb(candidate);\n\n        if (validColor(rgb, candidate)) {\n          colors[j] = candidate;\n        }\n        else {\n          // The candidate is out of the boundaries of our color space or unfound\n\n          if (freeColorSamples.length > 0) {\n\n            // We just search for the closest free color\n            minDistance = Infinity;\n            closest = -1;\n\n            for (i = 0; i < freeColorSamples.length; i++) {\n              d = distance(freeColorSamples[i], candidate);\n\n              if (d < minDistance) {\n                minDistance = d;\n                closest = i;\n              }\n            }\n\n            colors[j] = colorSamples[closest];\n          }\n          else {\n\n            // Then we just search for the closest color\n            minDistance = Infinity;\n            closest = -1;\n\n            for (i = 0; i < colorSamples.length; i++) {\n              d = distance(colorSamples[i], candidate);\n\n              if (d < minDistance) {\n                minDistance = d;\n                closest = i;\n              }\n            }\n\n            colors[j] = colorSamples[closest];\n          }\n\n          // Cleaning up free samples\n          /* eslint-disable */\n          freeColorSamples = freeColorSamples.filter(function(color) {\n            return (\n              color[0] !== colors[j][0] ||\n              color[1] !== colors[j][1] ||\n              color[2] !== colors[j][2]\n            )\n          });\n          /* eslint-enable */\n        }\n      }\n    }\n  }\n\n  return colors;\n}\n\n/**\n * Function generating a iwanthue palette.\n *\n * @param  {number}   count            - Number of colors in the palette.\n * @param  {object}   settings         - Optional settings:\n * @param  {function}   colorFilter      - Function filtering unwanted colors.\n * @param  {string}     clustering       - Clustering method to use. Either 'force-vector' or 'k-means'.\n * @param  {number}     quality          - Quality of the clustering, i.e. number of steps/iterations.\n * @param  {boolean}    ultraPrecision   - Whether to use ultra precision or not.\n * @param  {string}     distance         - Name of the color distance function to use. Defaults to 'colorblind'.\n * @param  {number}     seed             - Seed for random number generation.\n * @return {Array}                     - The computed palette as an array of hexadecimal colors.\n */\nmodule.exports = function generatePalette(count, settings) {\n  if (typeof count !== 'number' || count < 1)\n    throw new Error('iwanthue: expecting a color count > 1.');\n\n  settings = resolveAndValidateSettings(settings);\n\n  var random = new Random(settings.seed);\n\n  var rng = function() {\n    return random.nextFloat();\n  };\n\n  var distances = new CachedDistances();\n  var distance = distances.get(settings.distance);\n\n  var validColor = function(rgb, lab) {\n    // if (arguments.length < 2)\n    //   throw new Error('validColor takes both rgb and lab!');\n\n    if (!validateRgb(rgb))\n      return false;\n\n    if (!settings.colorFilter)\n      return true;\n\n    if (!settings.colorFilter(rgb, lab))\n      return false;\n\n    return true;\n  };\n\n  var colors;\n\n  // In this case, we only sample a single color\n  if (count === 1) {\n    colors = sampleLabColors(rng, count, validColor);\n\n    return [labToRgbHex(colors[0])];\n  }\n\n  var attempts = settings.attempts;\n\n  var metrics;\n\n  var bestMetric = -Infinity,\n      best;\n\n  while (attempts > 0) {\n    colors = sampleLabColors(rng, count, validColor);\n\n    if (settings.clustering === 'force-vector')\n      forceVector(rng, distance, validColor, colors, settings);\n    else\n      kMeans(distance, validColor, colors, settings);\n\n    metrics = helpers.computeQualityMetrics(distance, colors);\n\n    if (metrics.min > bestMetric) {\n      bestMetric = metrics.min;\n      best = colors;\n    }\n\n    attempts--;\n  }\n\n  colors = best;\n  colors = diffSort(distance, colors);\n\n  return colors.map(labToRgbHex);\n};\n","/**\n * Iwanthue Color Presets\n * =======================\n *\n * Website's collection of color space presets.\n */\n\n// Format is [hmin, hmax, cmin, cmax, lmin, lmax] to save up some space\nvar presets = {\n  'all': [0, 360, 0, 100, 0, 100],\n  'default': [0, 360, 30, 80, 35, 80],\n  'sensible': [0, 360, 25.59, 55.59, 60.94, 90.94],\n  'colorblind': [0, 360, 40, 70, 15, 85],\n  'fancy-light': [0, 360, 15, 40, 70, 100],\n  'fancy-dark': [0, 360, 8, 40, 7, 40],\n  'shades': [0, 240, 0, 15, 0, 100],\n  'tarnish': [0, 360, 0, 15, 30, 70],\n  'pastel': [0, 360, 0, 30, 70, 100],\n  'pimp': [0, 360, 30, 100, 25, 70],\n  'intense': [0, 360, 20, 100, 15, 80],\n  'fluo': [0, 300, 35, 100, 75, 100],\n  'red-roses': [330, 20, 10, 100, 35, 100],\n  'ochre-sand': [20, 60, 20, 50, 35, 100],\n  'yellow-lime': [60, 90, 10, 100, 35, 100],\n  'green-mint': [90, 150, 10, 100, 35, 100],\n  'ice-cube': [150, 200, 0, 100, 35, 100],\n  'blue-ocean': [220, 260, 8, 80, 0, 50],\n  'indigo-night': [260, 290, 40, 100, 35, 100],\n  'purple-wine': [290, 330, 0, 100, 0, 40]\n};\n\nmodule.exports = presets;\n","/**\n * Iwanthue RNG Utilities\n * =======================\n *\n * Simple & fast seedable RNG.\n *\n * [References]:\n * https://gist.github.com/blixt/f17b47c62508be59987b\n * http://www.firstpr.com.au/dsp/rand31/\n *\n */\nfunction randomInteger(a, b) {\n  return a + Math.floor(Math.random() * (b - a + 1));\n}\n\nfunction Random(seed) {\n  if (!seed)\n    seed = randomInteger(0, Math.pow(2, 31) - 1);\n\n  this.seed = seed % 2147483647;\n\n  if (this.seed <= 0)\n    this.seed += 2147483646;\n}\n\nRandom.prototype.next = function() {\n  this.seed = (this.seed * 16807) % 2147483647;\n\n  return this.seed;\n};\n\nRandom.prototype.nextFloat = function() {\n  return (this.next() - 1) / 2147483646;\n};\n\nmodule.exports = Random;\n","/**\n * Mnemonist Fixed Reverse Heap\n * =============================\n *\n * Static heap implementation with fixed capacity. It's a \"reverse\" heap\n * because it stores the elements in reverse so we can replace the worst\n * item in logarithmic time. As such, one cannot pop this heap but can only\n * consume it at the end. This structure is very efficient when trying to\n * find the n smallest/largest items from a larger query (k nearest neigbors\n * for instance).\n */\nvar comparators = require('./utils/comparators.js'),\n    Heap = require('./heap.js');\n\nvar DEFAULT_COMPARATOR = comparators.DEFAULT_COMPARATOR,\n    reverseComparator = comparators.reverseComparator;\n\n/**\n * Helper functions.\n */\n\n/**\n * Function used to sift up.\n *\n * @param {function} compare - Comparison function.\n * @param {array}    heap    - Array storing the heap's data.\n * @param {number}   size    - Heap's true size.\n * @param {number}   i       - Index.\n */\nfunction siftUp(compare, heap, size, i) {\n  var endIndex = size,\n      startIndex = i,\n      item = heap[i],\n      childIndex = 2 * i + 1,\n      rightIndex;\n\n  while (childIndex < endIndex) {\n    rightIndex = childIndex + 1;\n\n    if (\n      rightIndex < endIndex &&\n      compare(heap[childIndex], heap[rightIndex]) >= 0\n    ) {\n      childIndex = rightIndex;\n    }\n\n    heap[i] = heap[childIndex];\n    i = childIndex;\n    childIndex = 2 * i + 1;\n  }\n\n  heap[i] = item;\n  Heap.siftDown(compare, heap, startIndex, i);\n}\n\n/**\n * Fully consumes the given heap.\n *\n * @param  {function} ArrayClass - Array class to use.\n * @param  {function} compare    - Comparison function.\n * @param  {array}    heap       - Array storing the heap's data.\n * @param  {number}   size       - True size of the heap.\n * @return {array}\n */\nfunction consume(ArrayClass, compare, heap, size) {\n  var l = size,\n      i = l;\n\n  var array = new ArrayClass(size),\n      lastItem,\n      item;\n\n  while (i > 0) {\n    lastItem = heap[--i];\n\n    if (i !== 0) {\n      item = heap[0];\n      heap[0] = lastItem;\n      siftUp(compare, heap, --size, 0);\n      lastItem = item;\n    }\n\n    array[i] = lastItem;\n  }\n\n  return array;\n}\n\n/**\n * Binary Minimum FixedReverseHeap.\n *\n * @constructor\n * @param {function} ArrayClass - The class of array to use.\n * @param {function} comparator - Comparator function.\n * @param {number}   capacity   - Maximum number of items to keep.\n */\nfunction FixedReverseHeap(ArrayClass, comparator, capacity) {\n\n  // Comparator can be omitted\n  if (arguments.length === 2) {\n    capacity = comparator;\n    comparator = null;\n  }\n\n  this.ArrayClass = ArrayClass;\n  this.capacity = capacity;\n\n  this.items = new ArrayClass(capacity);\n  this.clear();\n  this.comparator = comparator || DEFAULT_COMPARATOR;\n\n  if (typeof capacity !== 'number' && capacity <= 0)\n    throw new Error('mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.');\n\n  if (typeof this.comparator !== 'function')\n    throw new Error('mnemonist/FixedReverseHeap.constructor: given comparator should be a function.');\n\n  this.comparator = reverseComparator(this.comparator);\n}\n\n/**\n * Method used to clear the heap.\n *\n * @return {undefined}\n */\nFixedReverseHeap.prototype.clear = function() {\n\n  // Properties\n  this.size = 0;\n};\n\n/**\n * Method used to push an item into the heap.\n *\n * @param  {any}    item - Item to push.\n * @return {number}\n */\nFixedReverseHeap.prototype.push = function(item) {\n\n  // Still some place\n  if (this.size < this.capacity) {\n    this.items[this.size] = item;\n    Heap.siftDown(this.comparator, this.items, 0, this.size);\n    this.size++;\n  }\n\n  // Heap is full, we need to replace worst item\n  else {\n\n    if (this.comparator(item, this.items[0]) > 0)\n      Heap.replace(this.comparator, this.items, item);\n  }\n\n  return this.size;\n};\n\n/**\n * Method used to peek the worst item in the heap.\n *\n * @return {any}\n */\nFixedReverseHeap.prototype.peek = function() {\n  return this.items[0];\n};\n\n/**\n * Method used to consume the heap fully and return its items as a sorted array.\n *\n * @return {array}\n */\nFixedReverseHeap.prototype.consume = function() {\n  var items = consume(this.ArrayClass, this.comparator, this.items, this.size);\n  this.size = 0;\n\n  return items;\n};\n\n/**\n * Method used to convert the heap to an array. Note that it basically clone\n * the heap and consumes it completely. This is hardly performant.\n *\n * @return {array}\n */\nFixedReverseHeap.prototype.toArray = function() {\n  return consume(this.ArrayClass, this.comparator, this.items.slice(0, this.size), this.size);\n};\n\n/**\n * Convenience known methods.\n */\nFixedReverseHeap.prototype.inspect = function() {\n  var proxy = this.toArray();\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: FixedReverseHeap,\n    enumerable: false\n  });\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  FixedReverseHeap.prototype[Symbol.for('nodejs.util.inspect.custom')] = FixedReverseHeap.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = FixedReverseHeap;\n","/**\n * Mnemonist Binary Heap\n * ======================\n *\n * Binary heap implementation.\n */\nvar forEach = require('obliterator/foreach'),\n    comparators = require('./utils/comparators.js'),\n    iterables = require('./utils/iterables.js');\n\nvar DEFAULT_COMPARATOR = comparators.DEFAULT_COMPARATOR,\n    reverseComparator = comparators.reverseComparator;\n\n/**\n * Heap helper functions.\n */\n\n/**\n * Function used to sift down.\n *\n * @param {function} compare    - Comparison function.\n * @param {array}    heap       - Array storing the heap's data.\n * @param {number}   startIndex - Starting index.\n * @param {number}   i          - Index.\n */\nfunction siftDown(compare, heap, startIndex, i) {\n  var item = heap[i],\n      parentIndex,\n      parent;\n\n  while (i > startIndex) {\n    parentIndex = (i - 1) >> 1;\n    parent = heap[parentIndex];\n\n    if (compare(item, parent) < 0) {\n      heap[i] = parent;\n      i = parentIndex;\n      continue;\n    }\n\n    break;\n  }\n\n  heap[i] = item;\n}\n\n/**\n * Function used to sift up.\n *\n * @param {function} compare - Comparison function.\n * @param {array}    heap    - Array storing the heap's data.\n * @param {number}   i       - Index.\n */\nfunction siftUp(compare, heap, i) {\n  var endIndex = heap.length,\n      startIndex = i,\n      item = heap[i],\n      childIndex = 2 * i + 1,\n      rightIndex;\n\n  while (childIndex < endIndex) {\n    rightIndex = childIndex + 1;\n\n    if (\n      rightIndex < endIndex &&\n      compare(heap[childIndex], heap[rightIndex]) >= 0\n    ) {\n      childIndex = rightIndex;\n    }\n\n    heap[i] = heap[childIndex];\n    i = childIndex;\n    childIndex = 2 * i + 1;\n  }\n\n  heap[i] = item;\n  siftDown(compare, heap, startIndex, i);\n}\n\n/**\n * Function used to push an item into a heap represented by a raw array.\n *\n * @param {function} compare - Comparison function.\n * @param {array}    heap    - Array storing the heap's data.\n * @param {any}      item    - Item to push.\n */\nfunction push(compare, heap, item) {\n  heap.push(item);\n  siftDown(compare, heap, 0, heap.length - 1);\n}\n\n/**\n * Function used to pop an item from a heap represented by a raw array.\n *\n * @param  {function} compare - Comparison function.\n * @param  {array}    heap    - Array storing the heap's data.\n * @return {any}\n */\nfunction pop(compare, heap) {\n  var lastItem = heap.pop();\n\n  if (heap.length !== 0) {\n    var item = heap[0];\n    heap[0] = lastItem;\n    siftUp(compare, heap, 0);\n\n    return item;\n  }\n\n  return lastItem;\n}\n\n/**\n * Function used to pop the heap then push a new value into it, thus \"replacing\"\n * it.\n *\n * @param  {function} compare - Comparison function.\n * @param  {array}    heap    - Array storing the heap's data.\n * @param  {any}      item    - The item to push.\n * @return {any}\n */\nfunction replace(compare, heap, item) {\n  if (heap.length === 0)\n    throw new Error('mnemonist/heap.replace: cannot pop an empty heap.');\n\n  var popped = heap[0];\n  heap[0] = item;\n  siftUp(compare, heap, 0);\n\n  return popped;\n}\n\n/**\n * Function used to push an item in the heap then pop the heap and return the\n * popped value.\n *\n * @param  {function} compare - Comparison function.\n * @param  {array}    heap    - Array storing the heap's data.\n * @param  {any}      item    - The item to push.\n * @return {any}\n */\nfunction pushpop(compare, heap, item) {\n  var tmp;\n\n  if (heap.length !== 0 && compare(heap[0], item) < 0) {\n    tmp = heap[0];\n    heap[0] = item;\n    item = tmp;\n    siftUp(compare, heap, 0);\n  }\n\n  return item;\n}\n\n/**\n * Converts and array into an abstract heap in linear time.\n *\n * @param {function} compare - Comparison function.\n * @param {array}    array   - Target array.\n */\nfunction heapify(compare, array) {\n  var n = array.length,\n      l = n >> 1,\n      i = l;\n\n  while (--i >= 0)\n    siftUp(compare, array, i);\n}\n\n/**\n * Fully consumes the given heap.\n *\n * @param  {function} compare - Comparison function.\n * @param  {array}    heap    - Array storing the heap's data.\n * @return {array}\n */\nfunction consume(compare, heap) {\n  var l = heap.length,\n      i = 0;\n\n  var array = new Array(l);\n\n  while (i < l)\n    array[i++] = pop(compare, heap);\n\n  return array;\n}\n\n/**\n * Function used to retrieve the n smallest items from the given iterable.\n *\n * @param {function} compare  - Comparison function.\n * @param {number}   n        - Number of top items to retrieve.\n * @param {any}      iterable - Arbitrary iterable.\n * @param {array}\n */\nfunction nsmallest(compare, n, iterable) {\n  if (arguments.length === 2) {\n    iterable = n;\n    n = compare;\n    compare = DEFAULT_COMPARATOR;\n  }\n\n  var reverseCompare = reverseComparator(compare);\n\n  var i, l, v;\n\n  var min = Infinity;\n\n  var result;\n\n  // If n is equal to 1, it's just a matter of finding the minimum\n  if (n === 1) {\n    if (iterables.isArrayLike(iterable)) {\n      for (i = 0, l = iterable.length; i < l; i++) {\n        v = iterable[i];\n\n        if (min === Infinity || compare(v, min) < 0)\n          min = v;\n      }\n\n      result = new iterable.constructor(1);\n      result[0] = min;\n\n      return result;\n    }\n\n    forEach(iterable, function(value) {\n      if (min === Infinity || compare(value, min) < 0)\n        min = value;\n    });\n\n    return [min];\n  }\n\n  if (iterables.isArrayLike(iterable)) {\n\n    // If n > iterable length, we just clone and sort\n    if (n >= iterable.length)\n      return iterable.slice().sort(compare);\n\n    result = iterable.slice(0, n);\n    heapify(reverseCompare, result);\n\n    for (i = n, l = iterable.length; i < l; i++)\n      if (reverseCompare(iterable[i], result[0]) > 0)\n        replace(reverseCompare, result, iterable[i]);\n\n    // NOTE: if n is over some number, it becomes faster to consume the heap\n    return result.sort(compare);\n  }\n\n  // Correct for size\n  var size = iterables.guessLength(iterable);\n\n  if (size !== null && size < n)\n    n = size;\n\n  result = new Array(n);\n  i = 0;\n\n  forEach(iterable, function(value) {\n    if (i < n) {\n      result[i] = value;\n    }\n    else {\n      if (i === n)\n        heapify(reverseCompare, result);\n\n      if (reverseCompare(value, result[0]) > 0)\n        replace(reverseCompare, result, value);\n    }\n\n    i++;\n  });\n\n  if (result.length > i)\n    result.length = i;\n\n  // NOTE: if n is over some number, it becomes faster to consume the heap\n  return result.sort(compare);\n}\n\n/**\n * Function used to retrieve the n largest items from the given iterable.\n *\n * @param {function} compare  - Comparison function.\n * @param {number}   n        - Number of top items to retrieve.\n * @param {any}      iterable - Arbitrary iterable.\n * @param {array}\n */\nfunction nlargest(compare, n, iterable) {\n  if (arguments.length === 2) {\n    iterable = n;\n    n = compare;\n    compare = DEFAULT_COMPARATOR;\n  }\n\n  var reverseCompare = reverseComparator(compare);\n\n  var i, l, v;\n\n  var max = -Infinity;\n\n  var result;\n\n  // If n is equal to 1, it's just a matter of finding the maximum\n  if (n === 1) {\n    if (iterables.isArrayLike(iterable)) {\n      for (i = 0, l = iterable.length; i < l; i++) {\n        v = iterable[i];\n\n        if (max === -Infinity || compare(v, max) > 0)\n          max = v;\n      }\n\n      result = new iterable.constructor(1);\n      result[0] = max;\n\n      return result;\n    }\n\n    forEach(iterable, function(value) {\n      if (max === -Infinity || compare(value, max) > 0)\n        max = value;\n    });\n\n    return [max];\n  }\n\n  if (iterables.isArrayLike(iterable)) {\n\n    // If n > iterable length, we just clone and sort\n    if (n >= iterable.length)\n      return iterable.slice().sort(reverseCompare);\n\n    result = iterable.slice(0, n);\n    heapify(compare, result);\n\n    for (i = n, l = iterable.length; i < l; i++)\n      if (compare(iterable[i], result[0]) > 0)\n        replace(compare, result, iterable[i]);\n\n    // NOTE: if n is over some number, it becomes faster to consume the heap\n    return result.sort(reverseCompare);\n  }\n\n  // Correct for size\n  var size = iterables.guessLength(iterable);\n\n  if (size !== null && size < n)\n    n = size;\n\n  result = new Array(n);\n  i = 0;\n\n  forEach(iterable, function(value) {\n    if (i < n) {\n      result[i] = value;\n    }\n    else {\n      if (i === n)\n        heapify(compare, result);\n\n      if (compare(value, result[0]) > 0)\n        replace(compare, result, value);\n    }\n\n    i++;\n  });\n\n  if (result.length > i)\n    result.length = i;\n\n  // NOTE: if n is over some number, it becomes faster to consume the heap\n  return result.sort(reverseCompare);\n}\n\n/**\n * Binary Minimum Heap.\n *\n * @constructor\n * @param {function} comparator - Comparator function to use.\n */\nfunction Heap(comparator) {\n  this.clear();\n  this.comparator = comparator || DEFAULT_COMPARATOR;\n\n  if (typeof this.comparator !== 'function')\n    throw new Error('mnemonist/Heap.constructor: given comparator should be a function.');\n}\n\n/**\n * Method used to clear the heap.\n *\n * @return {undefined}\n */\nHeap.prototype.clear = function() {\n\n  // Properties\n  this.items = [];\n  this.size = 0;\n};\n\n/**\n * Method used to push an item into the heap.\n *\n * @param  {any}    item - Item to push.\n * @return {number}\n */\nHeap.prototype.push = function(item) {\n  push(this.comparator, this.items, item);\n  return ++this.size;\n};\n\n/**\n * Method used to retrieve the \"first\" item of the heap.\n *\n * @return {any}\n */\nHeap.prototype.peek = function() {\n  return this.items[0];\n};\n\n/**\n * Method used to retrieve & remove the \"first\" item of the heap.\n *\n * @return {any}\n */\nHeap.prototype.pop = function() {\n  if (this.size !== 0)\n    this.size--;\n\n  return pop(this.comparator, this.items);\n};\n\n/**\n * Method used to pop the heap, then push an item and return the popped\n * item.\n *\n * @param  {any} item - Item to push into the heap.\n * @return {any}\n */\nHeap.prototype.replace = function(item) {\n  return replace(this.comparator, this.items, item);\n};\n\n/**\n * Method used to push the heap, the pop it and return the pooped item.\n *\n * @param  {any} item - Item to push into the heap.\n * @return {any}\n */\nHeap.prototype.pushpop = function(item) {\n  return pushpop(this.comparator, this.items, item);\n};\n\n/**\n * Method used to consume the heap fully and return its items as a sorted array.\n *\n * @return {array}\n */\nHeap.prototype.consume = function() {\n  this.size = 0;\n  return consume(this.comparator, this.items);\n};\n\n/**\n * Method used to convert the heap to an array. Note that it basically clone\n * the heap and consumes it completely. This is hardly performant.\n *\n * @return {array}\n */\nHeap.prototype.toArray = function() {\n  return consume(this.comparator, this.items.slice());\n};\n\n/**\n * Convenience known methods.\n */\nHeap.prototype.inspect = function() {\n  var proxy = this.toArray();\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: Heap,\n    enumerable: false\n  });\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  Heap.prototype[Symbol.for('nodejs.util.inspect.custom')] = Heap.prototype.inspect;\n\n/**\n * Binary Maximum Heap.\n *\n * @constructor\n * @param {function} comparator - Comparator function to use.\n */\nfunction MaxHeap(comparator) {\n  this.clear();\n  this.comparator = comparator || DEFAULT_COMPARATOR;\n\n  if (typeof this.comparator !== 'function')\n    throw new Error('mnemonist/MaxHeap.constructor: given comparator should be a function.');\n\n  this.comparator = reverseComparator(this.comparator);\n}\n\nMaxHeap.prototype = Heap.prototype;\n\n/**\n * Static @.from function taking an arbitrary iterable & converting it into\n * a heap.\n *\n * @param  {Iterable} iterable   - Target iterable.\n * @param  {function} comparator - Custom comparator function.\n * @return {Heap}\n */\nHeap.from = function(iterable, comparator) {\n  var heap = new Heap(comparator);\n\n  var items;\n\n  // If iterable is an array, we can be clever about it\n  if (iterables.isArrayLike(iterable))\n    items = iterable.slice();\n  else\n    items = iterables.toArray(iterable);\n\n  heapify(heap.comparator, items);\n  heap.items = items;\n  heap.size = items.length;\n\n  return heap;\n};\n\nMaxHeap.from = function(iterable, comparator) {\n  var heap = new MaxHeap(comparator);\n\n  var items;\n\n  // If iterable is an array, we can be clever about it\n  if (iterables.isArrayLike(iterable))\n    items = iterable.slice();\n  else\n    items = iterables.toArray(iterable);\n\n  heapify(heap.comparator, items);\n  heap.items = items;\n  heap.size = items.length;\n\n  return heap;\n};\n\n/**\n * Exporting.\n */\nHeap.siftUp = siftUp;\nHeap.siftDown = siftDown;\nHeap.push = push;\nHeap.pop = pop;\nHeap.replace = replace;\nHeap.pushpop = pushpop;\nHeap.heapify = heapify;\nHeap.consume = consume;\n\nHeap.nsmallest = nsmallest;\nHeap.nlargest = nlargest;\n\nHeap.MinHeap = Heap;\nHeap.MaxHeap = MaxHeap;\n\nmodule.exports = Heap;\n","/**\n * Mnemonist MultiSet\n * ====================\n *\n * JavaScript implementation of a MultiSet.\n */\nvar Iterator = require('obliterator/iterator'),\n    forEach = require('obliterator/foreach'),\n    FixedReverseHeap = require('./fixed-reverse-heap.js');\n\n/**\n * Helpers.\n */\nvar MULTISET_ITEM_COMPARATOR = function(a, b) {\n  if (a[1] > b[1])\n    return -1;\n  if (a[1] < b[1])\n    return 1;\n\n  return 0;\n};\n\n// TODO: helper functions: union, intersection, sum, difference, subtract\n\n/**\n * MultiSet.\n *\n * @constructor\n */\nfunction MultiSet() {\n  this.items = new Map();\n\n  Object.defineProperty(this.items, 'constructor', {\n    value: MultiSet,\n    enumerable: false\n  });\n\n  this.clear();\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nMultiSet.prototype.clear = function() {\n\n  // Properties\n  this.size = 0;\n  this.dimension = 0;\n  this.items.clear();\n};\n\n/**\n * Method used to add an item to the set.\n *\n * @param  {any}    item  - Item to add.\n * @param  {number} count - Optional count.\n * @return {MultiSet}\n */\nMultiSet.prototype.add = function(item, count) {\n  if (count === 0)\n    return this;\n\n  if (count < 0)\n    return this.remove(item, -count);\n\n  count = count || 1;\n\n  if (typeof count !== 'number')\n    throw new Error('mnemonist/multi-set.add: given count should be a number.');\n\n  this.size += count;\n\n  const currentCount = this.items.get(item);\n\n  if (currentCount === undefined)\n    this.dimension++;\n  else\n    count += currentCount;\n\n  this.items.set(item, count);\n\n  return this;\n};\n\n/**\n * Method used to set the multiplicity of an item in the set.\n *\n * @param  {any}    item  - Target item.\n * @param  {number} count - Desired multiplicity.\n * @return {MultiSet}\n */\nMultiSet.prototype.set = function(item, count) {\n  var currentCount;\n\n  if (typeof count !== 'number')\n    throw new Error('mnemonist/multi-set.set: given count should be a number.');\n\n  // Setting an item to 0 or to a negative number means deleting it from the set\n  if (count <= 0) {\n    currentCount = this.items.get(item);\n\n    if (typeof currentCount !== 'undefined') {\n      this.size -= currentCount;\n      this.dimension--;\n    }\n\n    this.items.delete(item);\n    return this;\n  }\n\n  count = count || 1;\n\n  currentCount = this.items.get(item);\n\n  if (typeof currentCount === 'number') {\n    this.items.set(item, currentCount + count);\n  }\n  else {\n    this.dimension++;\n    this.items.set(item, count);\n  }\n\n  this.size += count;\n\n  return this;\n};\n\n/**\n * Method used to return whether the item exists in the set.\n *\n * @param  {any} item  - Item to check.\n * @return {boolan}\n */\nMultiSet.prototype.has = function(item) {\n  return this.items.has(item);\n};\n\n/**\n * Method used to delete an item from the set.\n *\n * @param  {any} item  - Item to delete.\n * @return {boolan}\n */\nMultiSet.prototype.delete = function(item) {\n  var count = this.items.get(item);\n\n  if (count === 0)\n    return false;\n\n  this.size -= count;\n  this.dimension--;\n  this.items.delete(item);\n\n  return true;\n};\n\n/**\n * Method used to remove an item from the set.\n *\n * @param  {any} item  - Item to delete.\n * @param  {number} count - Optional count.\n * @return {undefined}\n */\nMultiSet.prototype.remove = function(item, count) {\n  if (count === 0)\n    return;\n\n  if (count < 0)\n    return this.add(item, -count);\n\n  count = count || 1;\n\n  if (typeof count !== 'number')\n    throw new Error('mnemonist/multi-set.remove: given count should be a number.');\n\n  var currentCount = this.items.get(item);\n\n  if (typeof currentCount === 'undefined') return;\n\n  var newCount = Math.max(0, currentCount - count);\n\n  if (newCount === 0) {\n    this.items.delete(item);\n    this.size -= currentCount;\n    this.dimension--;\n  }\n  else {\n    this.items.set(item, newCount);\n    this.size -= count;\n  }\n\n  return;\n};\n\n/**\n * Method used to change a key into another one, merging counts if the target\n * key already exists.\n *\n * @param  {any} a - From key.\n * @param  {any} b - To key.\n * @return {MultiSet}\n */\nMultiSet.prototype.edit = function(a, b) {\n  var am = this.multiplicity(a);\n\n  // If a does not exist in the set, we can stop right there\n  if (am === 0)\n    return;\n\n  var bm = this.multiplicity(b);\n\n  this.items.set(b, am + bm);\n  this.items.delete(a);\n\n  return this;\n};\n\n/**\n * Method used to return the multiplicity of the given item.\n *\n * @param  {any} item  - Item to get.\n * @return {number}\n */\nMultiSet.prototype.multiplicity = function(item) {\n  var count = this.items.get(item);\n\n  if (typeof count === 'undefined')\n    return 0;\n\n  return count;\n};\nMultiSet.prototype.get = MultiSet.prototype.multiplicity;\nMultiSet.prototype.count = MultiSet.prototype.multiplicity;\n\n/**\n * Method used to return the frequency of the given item in the set.\n *\n * @param  {any} item - Item to get.\n * @return {number}\n */\nMultiSet.prototype.frequency = function(item) {\n  if (this.size === 0)\n    return 0;\n\n  var count = this.multiplicity(item);\n\n  return count / this.size;\n};\n\n/**\n * Method used to return the n most common items from the set.\n *\n * @param  {number} n - Number of items to retrieve.\n * @return {array}\n */\nMultiSet.prototype.top = function(n) {\n  if (typeof n !== 'number' || n <= 0)\n    throw new Error('mnemonist/multi-set.top: n must be a number > 0.');\n\n  var heap = new FixedReverseHeap(Array, MULTISET_ITEM_COMPARATOR, n);\n\n  var iterator = this.items.entries(),\n      step;\n\n  while ((step = iterator.next(), !step.done))\n    heap.push(step.value);\n\n  return heap.consume();\n};\n\n/**\n * Method used to iterate over the set's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nMultiSet.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  var i;\n\n  this.items.forEach(function(multiplicity, value) {\n\n    for (i = 0; i < multiplicity; i++)\n      callback.call(scope, value, value);\n  });\n};\n\n/**\n * Method used to iterate over the set's multiplicities.\n *\n * @param  {function}  callback - Function to call for each multiplicity.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nMultiSet.prototype.forEachMultiplicity = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  this.items.forEach(callback, scope);\n};\n\n/**\n * Method returning an iterator over the set's keys. I.e. its unique values,\n * in a sense.\n *\n * @return {Iterator}\n */\nMultiSet.prototype.keys = function() {\n  return this.items.keys();\n};\n\n/**\n * Method returning an iterator over the set's values.\n *\n * @return {Iterator}\n */\nMultiSet.prototype.values = function() {\n  var iterator = this.items.entries(),\n      inContainer = false,\n      step,\n      value,\n      multiplicity,\n      i;\n\n  return new Iterator(function next() {\n    if (!inContainer) {\n      step = iterator.next();\n\n      if (step.done)\n        return {done: true};\n\n      inContainer = true;\n      value = step.value[0];\n      multiplicity = step.value[1];\n      i = 0;\n    }\n\n    if (i >= multiplicity) {\n      inContainer = false;\n      return next();\n    }\n\n    i++;\n\n    return {\n      done: false,\n      value: value\n    };\n  });\n};\n\n/**\n * Method returning an iterator over the set's multiplicities.\n *\n * @return {Iterator}\n */\nMultiSet.prototype.multiplicities = function() {\n  return this.items.entries();\n};\n\n/**\n * Attaching the #.entries method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  MultiSet.prototype[Symbol.iterator] = MultiSet.prototype.values;\n\n/**\n * Convenience known methods.\n */\nMultiSet.prototype.inspect = function() {\n  return this.items;\n};\n\nif (typeof Symbol !== 'undefined')\n  MultiSet.prototype[Symbol.for('nodejs.util.inspect.custom')] = MultiSet.prototype.inspect;\nMultiSet.prototype.toJSON = function() {\n  return this.items;\n};\n\n/**\n * Static @.from function taking an arbitrary iterable & converting it into\n * a structure.\n *\n * @param  {Iterable} iterable - Target iterable.\n * @return {MultiSet}\n */\nMultiSet.from = function(iterable) {\n  var set = new MultiSet();\n\n  forEach(iterable, function(value) {\n    set.add(value);\n  });\n\n  return set;\n};\n\n/**\n * Function returning whether the multiset A is a subset of the multiset B.\n *\n * @param  {MultiSet} A - First set.\n * @param  {MultiSet} B - Second set.\n * @return {boolean}\n */\nMultiSet.isSubset = function(A, B) {\n  var iterator = A.multiplicities(),\n      step,\n      key,\n      mA;\n\n  // Shortcuts\n  if (A === B)\n    return true;\n\n  if (A.dimension > B.dimension)\n    return false;\n\n  while ((step = iterator.next(), !step.done)) {\n    key = step.value[0];\n    mA = step.value[1];\n\n    if (B.multiplicity(key) < mA)\n      return false;\n  }\n\n  return true;\n};\n\n/**\n * Function returning whether the multiset A is a superset of the multiset B.\n *\n * @param  {MultiSet} A - First set.\n * @param  {MultiSet} B - Second set.\n * @return {boolean}\n */\nMultiSet.isSuperset = function(A, B) {\n  return MultiSet.isSubset(B, A);\n};\n\n/**\n * Exporting.\n */\nmodule.exports = MultiSet;\n","/**\n * Mnemonist SparseMap\n * ====================\n *\n * JavaScript sparse map implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseMap.\n *\n * @constructor\n */\nfunction SparseMap(Values, length) {\n  if (arguments.length < 2) {\n    length = Values;\n    Values = Array;\n  }\n\n  var ByteArray = getPointerArray(length);\n\n  // Properties\n  this.size = 0;\n  this.length = length;\n  this.dense = new ByteArray(length);\n  this.sparse = new ByteArray(length);\n  this.vals = new Values(length);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseMap.prototype.clear = function() {\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {SparseMap}\n */\nSparseMap.prototype.has = function(member) {\n  var index = this.sparse[member];\n\n  return (\n    index < this.size &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to get the value associated to a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {any}\n */\nSparseMap.prototype.get = function(member) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member)\n    return this.vals[index];\n\n  return;\n};\n\n/**\n * Method used to set a value into the map.\n *\n * @param  {number} member - Member to set.\n * @param  {any}    value  - Associated value.\n * @return {SparseMap}\n */\nSparseMap.prototype.set = function(member, value) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member) {\n    this.vals[index] = value;\n    return this;\n  }\n\n  this.dense[this.size] = member;\n  this.sparse[member] = this.size;\n  this.vals[this.size] = value;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove a member from the set.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseMap.prototype.delete = function(member) {\n  var index = this.sparse[member];\n\n  if (index >= this.size || this.dense[index] !== member)\n    return false;\n\n  index = this.dense[this.size - 1];\n  this.dense[this.sparse[member]] = index;\n  this.sparse[index] = this.sparse[member];\n  this.size--;\n\n  return true;\n};\n\n/**\n * Method used to iterate over the set's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseMap.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  for (var i = 0; i < this.size; i++)\n    callback.call(scope, this.vals[i], this.dense[i]);\n};\n\n/**\n * Method used to create an iterator over a set's members.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.keys = function() {\n  var size = this.size,\n      dense = this.dense,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = dense[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.values = function() {\n  var size = this.size,\n      values = this.vals,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = values[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a set's entries.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.entries = function() {\n  var size = this.size,\n      dense = this.dense,\n      values = this.vals,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = [dense[i], values[i]];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Attaching the #.entries method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseMap.prototype[Symbol.iterator] = SparseMap.prototype.entries;\n\n/**\n * Convenience known methods.\n */\nSparseMap.prototype.inspect = function() {\n  var proxy = new Map();\n\n  for (var i = 0; i < this.size; i++)\n    proxy.set(this.dense[i], this.vals[i]);\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseMap,\n    enumerable: false\n  });\n\n  proxy.length = this.length;\n\n  if (this.vals.constructor !== Array)\n    proxy.type = this.vals.constructor.name;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseMap.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseMap.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseMap;\n","/**\n * Mnemonist SparseQueueSet\n * =========================\n *\n * JavaScript sparse queue set implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseQueueSet.\n *\n * @constructor\n */\nfunction SparseQueueSet(capacity) {\n\n  var ByteArray = getPointerArray(capacity);\n\n  // Properties\n  this.start = 0;\n  this.size = 0;\n  this.capacity = capacity;\n  this.dense = new ByteArray(capacity);\n  this.sparse = new ByteArray(capacity);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseQueueSet.prototype.clear = function() {\n  this.start = 0;\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the queue.\n *\n * @param  {number} member - Member to test.\n * @return {SparseQueueSet}\n */\nSparseQueueSet.prototype.has = function(member) {\n  if (this.size === 0)\n    return false;\n\n  var index = this.sparse[member];\n\n  var inBounds = (\n    index < this.capacity &&\n    (\n      index >= this.start &&\n      index < this.start + this.size\n    ) ||\n    (\n      index < ((this.start + this.size) % this.capacity)\n    )\n  );\n\n  return (\n    inBounds &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to add a member to the queue.\n *\n * @param  {number} member - Member to add.\n * @return {SparseQueueSet}\n */\nSparseQueueSet.prototype.enqueue = function(member) {\n  var index = this.sparse[member];\n\n  if (this.size !== 0) {\n    var inBounds = (\n      index < this.capacity &&\n      (\n        index >= this.start &&\n        index < this.start + this.size\n      ) ||\n      (\n        index < ((this.start + this.size) % this.capacity)\n      )\n    );\n\n    if (inBounds && this.dense[index] === member)\n      return this;\n  }\n\n  index = (this.start + this.size) % this.capacity;\n\n  this.dense[index] = member;\n  this.sparse[member] = index;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove the next member from the queue.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseQueueSet.prototype.dequeue = function() {\n  if (this.size === 0)\n    return;\n\n  var index = this.start;\n\n  this.size--;\n  this.start++;\n\n  if (this.start === this.capacity)\n    this.start = 0;\n\n  var member = this.dense[index];\n\n  this.sparse[member] = this.capacity;\n\n  return member;\n};\n\n/**\n * Method used to iterate over the queue's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseQueueSet.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  var c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  while (j < l) {\n    callback.call(scope, this.dense[i], j, this);\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n  }\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseQueueSet.prototype.values = function() {\n  var dense = this.dense,\n      c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  return new Iterator(function() {\n    if (j >= l)\n      return {\n        done: true\n      };\n\n    var value = dense[i];\n\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n\n    return {\n      value: value,\n      done: false\n    };\n  });\n};\n\n/**\n * Attaching the #.values method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseQueueSet.prototype[Symbol.iterator] = SparseQueueSet.prototype.values;\n\n/**\n * Convenience known methods.\n */\nSparseQueueSet.prototype.inspect = function() {\n  var proxy = [];\n\n  this.forEach(function(member) {\n    proxy.push(member);\n  });\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseQueueSet,\n    enumerable: false\n  });\n\n  proxy.capacity = this.capacity;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseQueueSet.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseQueueSet.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseQueueSet;\n","/**\n * Mnemonist Heap Comparators\n * ===========================\n *\n * Default comparators & functions dealing with comparators reversing etc.\n */\nvar DEFAULT_COMPARATOR = function(a, b) {\n  if (a < b)\n    return -1;\n  if (a > b)\n    return 1;\n\n  return 0;\n};\n\nvar DEFAULT_REVERSE_COMPARATOR = function(a, b) {\n  if (a < b)\n    return 1;\n  if (a > b)\n    return -1;\n\n  return 0;\n};\n\n/**\n * Function used to reverse a comparator.\n */\nfunction reverseComparator(comparator) {\n  return function(a, b) {\n    return comparator(b, a);\n  };\n}\n\n/**\n * Function returning a tuple comparator.\n */\nfunction createTupleComparator(size) {\n  if (size === 2) {\n    return function(a, b) {\n      if (a[0] < b[0])\n        return -1;\n\n      if (a[0] > b[0])\n        return 1;\n\n      if (a[1] < b[1])\n        return -1;\n\n      if (a[1] > b[1])\n        return 1;\n\n      return 0;\n    };\n  }\n\n  return function(a, b) {\n    var i = 0;\n\n    while (i < size) {\n      if (a[i] < b[i])\n        return -1;\n\n      if (a[i] > b[i])\n        return 1;\n\n      i++;\n    }\n\n    return 0;\n  };\n}\n\n/**\n * Exporting.\n */\nexports.DEFAULT_COMPARATOR = DEFAULT_COMPARATOR;\nexports.DEFAULT_REVERSE_COMPARATOR = DEFAULT_REVERSE_COMPARATOR;\nexports.reverseComparator = reverseComparator;\nexports.createTupleComparator = createTupleComparator;\n","/**\n * Mnemonist Iterable Function\n * ============================\n *\n * Harmonized iteration helpers over mixed iterable targets.\n */\nvar forEach = require('obliterator/foreach');\n\nvar typed = require('./typed-arrays.js');\n\n/**\n * Function used to determine whether the given object supports array-like\n * random access.\n *\n * @param  {any} target - Target object.\n * @return {boolean}\n */\nfunction isArrayLike(target) {\n  return Array.isArray(target) || typed.isTypedArray(target);\n}\n\n/**\n * Function used to guess the length of the structure over which we are going\n * to iterate.\n *\n * @param  {any} target - Target object.\n * @return {number|undefined}\n */\nfunction guessLength(target) {\n  if (typeof target.length === 'number')\n    return target.length;\n\n  if (typeof target.size === 'number')\n    return target.size;\n\n  return;\n}\n\n/**\n * Function used to convert an iterable to an array.\n *\n * @param  {any}   target - Iteration target.\n * @return {array}\n */\nfunction toArray(target) {\n  var l = guessLength(target);\n\n  var array = typeof l === 'number' ? new Array(l) : [];\n\n  var i = 0;\n\n  // TODO: we could optimize when given target is array like\n  forEach(target, function(value) {\n    array[i++] = value;\n  });\n\n  return array;\n}\n\n/**\n * Same as above but returns a supplementary indices array.\n *\n * @param  {any}   target - Iteration target.\n * @return {array}\n */\nfunction toArrayWithIndices(target) {\n  var l = guessLength(target);\n\n  var IndexArray = typeof l === 'number' ?\n    typed.getPointerArray(l) :\n    Array;\n\n  var array = typeof l === 'number' ? new Array(l) : [];\n  var indices = typeof l === 'number' ? new IndexArray(l) : [];\n\n  var i = 0;\n\n  // TODO: we could optimize when given target is array like\n  forEach(target, function(value) {\n    array[i] = value;\n    indices[i] = i++;\n  });\n\n  return [array, indices];\n}\n\n/**\n * Exporting.\n */\nexports.isArrayLike = isArrayLike;\nexports.guessLength = guessLength;\nexports.toArray = toArray;\nexports.toArrayWithIndices = toArrayWithIndices;\n","/**\n * Mnemonist Typed Array Helpers\n * ==============================\n *\n * Miscellaneous helpers related to typed arrays.\n */\n\n/**\n * When using an unsigned integer array to store pointers, one might want to\n * choose the optimal word size in regards to the actual numbers of pointers\n * to store.\n *\n * This helpers does just that.\n *\n * @param  {number} size - Expected size of the array to map.\n * @return {TypedArray}\n */\nvar MAX_8BIT_INTEGER = Math.pow(2, 8) - 1,\n    MAX_16BIT_INTEGER = Math.pow(2, 16) - 1,\n    MAX_32BIT_INTEGER = Math.pow(2, 32) - 1;\n\nvar MAX_SIGNED_8BIT_INTEGER = Math.pow(2, 7) - 1,\n    MAX_SIGNED_16BIT_INTEGER = Math.pow(2, 15) - 1,\n    MAX_SIGNED_32BIT_INTEGER = Math.pow(2, 31) - 1;\n\nexports.getPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_8BIT_INTEGER)\n    return Uint8Array;\n\n  if (maxIndex <= MAX_16BIT_INTEGER)\n    return Uint16Array;\n\n  if (maxIndex <= MAX_32BIT_INTEGER)\n    return Uint32Array;\n\n  throw new Error('mnemonist: Pointer Array of size > 4294967295 is not supported.');\n};\n\nexports.getSignedPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_SIGNED_8BIT_INTEGER)\n    return Int8Array;\n\n  if (maxIndex <= MAX_SIGNED_16BIT_INTEGER)\n    return Int16Array;\n\n  if (maxIndex <= MAX_SIGNED_32BIT_INTEGER)\n    return Int32Array;\n\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given number.\n *\n * @param  {number} value - Value to test.\n * @return {TypedArrayClass}\n */\nexports.getNumberType = function(value) {\n\n  // <= 32 bits itnteger?\n  if (value === (value | 0)) {\n\n    // Negative\n    if (Math.sign(value) === -1) {\n      if (value <= 127 && value >= -128)\n        return Int8Array;\n\n      if (value <= 32767 && value >= -32768)\n        return Int16Array;\n\n      return Int32Array;\n    }\n    else {\n\n      if (value <= 255)\n        return Uint8Array;\n\n      if (value <= 65535)\n        return Uint16Array;\n\n      return Uint32Array;\n    }\n  }\n\n  // 53 bits integer & floats\n  // NOTE: it's kinda hard to tell whether we could use 32bits or not...\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given array\n * of JavaScript numbers.\n *\n * @param  {array}    array  - Array to represent.\n * @param  {function} getter - Optional getter.\n * @return {TypedArrayClass}\n */\nvar TYPE_PRIORITY = {\n  Uint8Array: 1,\n  Int8Array: 2,\n  Uint16Array: 3,\n  Int16Array: 4,\n  Uint32Array: 5,\n  Int32Array: 6,\n  Float32Array: 7,\n  Float64Array: 8\n};\n\n// TODO: make this a one-shot for one value\nexports.getMinimalRepresentation = function(array, getter) {\n  var maxType = null,\n      maxPriority = 0,\n      p,\n      t,\n      v,\n      i,\n      l;\n\n  for (i = 0, l = array.length; i < l; i++) {\n    v = getter ? getter(array[i]) : array[i];\n    t = exports.getNumberType(v);\n    p = TYPE_PRIORITY[t.name];\n\n    if (p > maxPriority) {\n      maxPriority = p;\n      maxType = t;\n    }\n  }\n\n  return maxType;\n};\n\n/**\n * Function returning whether the given value is a typed array.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nexports.isTypedArray = function(value) {\n  return typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView(value);\n};\n\n/**\n * Function used to concat byte arrays.\n *\n * @param  {...ByteArray}\n * @return {ByteArray}\n */\nexports.concat = function() {\n  var length = 0,\n      i,\n      o,\n      l;\n\n  for (i = 0, l = arguments.length; i < l; i++)\n    length += arguments[i].length;\n\n  var array = new (arguments[0].constructor)(length);\n\n  for (i = 0, o = 0; i < l; i++) {\n    array.set(arguments[i], o);\n    o += arguments[i].length;\n  }\n\n  return array;\n};\n\n/**\n * Function used to initialize a byte array of indices.\n *\n * @param  {number}    length - Length of target.\n * @return {ByteArray}\n */\nexports.indices = function(length) {\n  var PointerArray = exports.getPointerArray(length);\n\n  var array = new PointerArray(length);\n\n  for (var i = 0; i < length; i++)\n    array[i] = i;\n\n  return array;\n};\n","/**\n * Obliterator ForEach Function\n * =============================\n *\n * Helper function used to easily iterate over mixed values.\n */\nvar support = require('./support.js');\n\nvar ARRAY_BUFFER_SUPPORT = support.ARRAY_BUFFER_SUPPORT;\nvar SYMBOL_SUPPORT = support.SYMBOL_SUPPORT;\n\n/**\n * Function able to iterate over almost any iterable JS value.\n *\n * @param  {any}      iterable - Iterable value.\n * @param  {function} callback - Callback function.\n */\nmodule.exports = function forEach(iterable, callback) {\n  var iterator, k, i, l, s;\n\n  if (!iterable) throw new Error('obliterator/forEach: invalid iterable.');\n\n  if (typeof callback !== 'function')\n    throw new Error('obliterator/forEach: expecting a callback.');\n\n  // The target is an array or a string or function arguments\n  if (\n    Array.isArray(iterable) ||\n    (ARRAY_BUFFER_SUPPORT && ArrayBuffer.isView(iterable)) ||\n    typeof iterable === 'string' ||\n    iterable.toString() === '[object Arguments]'\n  ) {\n    for (i = 0, l = iterable.length; i < l; i++) callback(iterable[i], i);\n    return;\n  }\n\n  // The target has a #.forEach method\n  if (typeof iterable.forEach === 'function') {\n    iterable.forEach(callback);\n    return;\n  }\n\n  // The target is iterable\n  if (\n    SYMBOL_SUPPORT &&\n    Symbol.iterator in iterable &&\n    typeof iterable.next !== 'function'\n  ) {\n    iterable = iterable[Symbol.iterator]();\n  }\n\n  // The target is an iterator\n  if (typeof iterable.next === 'function') {\n    iterator = iterable;\n    i = 0;\n\n    while (((s = iterator.next()), s.done !== true)) {\n      callback(s.value, i);\n      i++;\n    }\n\n    return;\n  }\n\n  // The target is a plain object\n  for (k in iterable) {\n    if (iterable.hasOwnProperty(k)) {\n      callback(iterable[k], k);\n    }\n  }\n\n  return;\n};\n","/**\n * Obliterator Iterator Class\n * ===========================\n *\n * Simple class representing the library's iterators.\n */\n\n/**\n * Iterator class.\n *\n * @constructor\n * @param {function} next - Next function.\n */\nfunction Iterator(next) {\n  if (typeof next !== 'function')\n    throw new Error('obliterator/iterator: expecting a function!');\n\n  this.next = next;\n}\n\n/**\n * If symbols are supported, we add `next` to `Symbol.iterator`.\n */\nif (typeof Symbol !== 'undefined')\n  Iterator.prototype[Symbol.iterator] = function () {\n    return this;\n  };\n\n/**\n * Returning an iterator of the given values.\n *\n * @param  {any...} values - Values.\n * @return {Iterator}\n */\nIterator.of = function () {\n  var args = arguments,\n    l = args.length,\n    i = 0;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: args[i++]};\n  });\n};\n\n/**\n * Returning an empty iterator.\n *\n * @return {Iterator}\n */\nIterator.empty = function () {\n  var iterator = new Iterator(function () {\n    return {done: true};\n  });\n\n  return iterator;\n};\n\n/**\n * Returning an iterator over the given indexed sequence.\n *\n * @param  {string|Array} sequence - Target sequence.\n * @return {Iterator}\n */\nIterator.fromSequence = function (sequence) {\n  var i = 0,\n    l = sequence.length;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: sequence[i++]};\n  });\n};\n\n/**\n * Returning whether the given value is an iterator.\n *\n * @param  {any} value - Value.\n * @return {boolean}\n */\nIterator.is = function (value) {\n  if (value instanceof Iterator) return true;\n\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    typeof value.next === 'function'\n  );\n};\n\n/**\n * Exporting.\n */\nmodule.exports = Iterator;\n","exports.ARRAY_BUFFER_SUPPORT = typeof ArrayBuffer !== 'undefined';\nexports.SYMBOL_SUPPORT = typeof Symbol !== 'undefined';\n","/**\n * Pandemonium Random Index\n * =========================\n *\n * Random index function.\n */\n\n/**\n * Creating a function returning a random index from the given array.\n *\n * @param  {function} rng - RNG function returning uniform random.\n * @return {function}     - The created function.\n */\nfunction createRandomIndex(rng) {\n  /**\n   * Random function.\n   *\n   * @param  {array|number}  array - Target array or length of the array.\n   * @return {number}\n   */\n  return function (length) {\n    if (typeof length !== 'number') length = length.length;\n\n    return Math.floor(rng() * length);\n  };\n}\n\n/**\n * Default random index using `Math.random`.\n */\nvar randomIndex = createRandomIndex(Math.random);\n\n/**\n * Exporting.\n */\nrandomIndex.createRandomIndex = createRandomIndex;\nmodule.exports = randomIndex;\n","/**\n * Pandemonium Random\n * ===================\n *\n * Random function.\n */\n\n/**\n * Creating a function returning a random integer such as a <= N <= b.\n *\n * @param  {function} rng - RNG function returning uniform random.\n * @return {function}     - The created function.\n */\nfunction createRandom(rng) {\n  /**\n   * Random function.\n   *\n   * @param  {number} a - From.\n   * @param  {number} b - To.\n   * @return {number}\n   */\n  return function (a, b) {\n    return a + Math.floor(rng() * (b - a + 1));\n  };\n}\n\n/**\n * Default random using `Math.random`.\n */\nvar random = createRandom(Math.random);\n\n/**\n * Exporting.\n */\nrandom.createRandom = createRandom;\nmodule.exports = random;\n","/**\n * Pandemonium Shuffle In Place\n * =============================\n *\n * Shuffle function applying the Fisher-Yates algorithm to the provided array.\n */\nvar createRandom = require('./random.js').createRandom;\n\n/**\n * Creating a function returning the given array shuffled.\n *\n * @param  {function} rng - The RNG to use.\n * @return {function}     - The created function.\n */\nfunction createShuffleInPlace(rng) {\n  var customRandom = createRandom(rng);\n\n  /**\n   * Function returning the shuffled array.\n   *\n   * @param  {array}  sequence - Target sequence.\n   * @return {array}           - The shuffled sequence.\n   */\n  return function (sequence) {\n    var length = sequence.length,\n      lastIndex = length - 1;\n\n    var index = -1;\n\n    while (++index < length) {\n      var r = customRandom(index, lastIndex),\n        value = sequence[r];\n\n      sequence[r] = sequence[index];\n      sequence[index] = value;\n    }\n  };\n}\n\n/**\n * Default shuffle in place using `Math.random`.\n */\nvar shuffleInPlace = createShuffleInPlace(Math.random);\n\n/**\n * Exporting.\n */\nshuffleInPlace.createShuffleInPlace = createShuffleInPlace;\nmodule.exports = shuffleInPlace;\n","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// François Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n} else {\n  // When included as a plain script, set up Math.seedrandom global.\n  math['seed' + rngname] = seedrandom;\n}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js Camera Class\n * ======================\n *\n * Class designed to store camera information & used to update it.\n * @module\n */\nvar animate_1 = require(\"../utils/animate\");\nvar easings_1 = __importDefault(require(\"../utils/easings\"));\nvar utils_1 = require(\"../utils\");\nvar types_1 = require(\"../types\");\n/**\n * Defaults.\n */\nvar DEFAULT_ZOOMING_RATIO = 1.5;\n/**\n * Camera class\n *\n * @constructor\n */\nvar Camera = /** @class */ (function (_super) {\n    __extends(Camera, _super);\n    function Camera() {\n        var _this = _super.call(this) || this;\n        _this.x = 0.5;\n        _this.y = 0.5;\n        _this.angle = 0;\n        _this.ratio = 1;\n        _this.minRatio = null;\n        _this.maxRatio = null;\n        _this.nextFrame = null;\n        _this.previousState = null;\n        _this.enabled = true;\n        // State\n        _this.previousState = _this.getState();\n        return _this;\n    }\n    /**\n     * Static method used to create a Camera object with a given state.\n     *\n     * @param state\n     * @return {Camera}\n     */\n    Camera.from = function (state) {\n        var camera = new Camera();\n        return camera.setState(state);\n    };\n    /**\n     * Method used to enable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.enable = function () {\n        this.enabled = true;\n        return this;\n    };\n    /**\n     * Method used to disable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.disable = function () {\n        this.enabled = false;\n        return this;\n    };\n    /**\n     * Method used to retrieve the camera's current state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getState = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            angle: this.angle,\n            ratio: this.ratio,\n        };\n    };\n    /**\n     * Method used to check whether the camera has the given state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.hasState = function (state) {\n        return this.x === state.x && this.y === state.y && this.ratio === state.ratio && this.angle === state.angle;\n    };\n    /**\n     * Method used to retrieve the camera's previous state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getPreviousState = function () {\n        var state = this.previousState;\n        if (!state)\n            return null;\n        return {\n            x: state.x,\n            y: state.y,\n            angle: state.angle,\n            ratio: state.ratio,\n        };\n    };\n    /**\n     * Method used to check minRatio and maxRatio values.\n     *\n     * @param ratio\n     * @return {number}\n     */\n    Camera.prototype.getBoundedRatio = function (ratio) {\n        var r = ratio;\n        if (typeof this.minRatio === \"number\")\n            r = Math.max(r, this.minRatio);\n        if (typeof this.maxRatio === \"number\")\n            r = Math.min(r, this.maxRatio);\n        return r;\n    };\n    /**\n     * Method used to check various things to return a legit state candidate.\n     *\n     * @param state\n     * @return {object}\n     */\n    Camera.prototype.validateState = function (state) {\n        var validatedState = {};\n        if (typeof state.x === \"number\")\n            validatedState.x = state.x;\n        if (typeof state.y === \"number\")\n            validatedState.y = state.y;\n        if (typeof state.angle === \"number\")\n            validatedState.angle = state.angle;\n        if (typeof state.ratio === \"number\")\n            validatedState.ratio = this.getBoundedRatio(state.ratio);\n        return validatedState;\n    };\n    /**\n     * Method used to check whether the camera is currently being animated.\n     *\n     * @return {boolean}\n     */\n    Camera.prototype.isAnimated = function () {\n        return !!this.nextFrame;\n    };\n    /**\n     * Method used to set the camera's state.\n     *\n     * @param  {object} state - New state.\n     * @return {Camera}\n     */\n    Camera.prototype.setState = function (state) {\n        if (!this.enabled)\n            return this;\n        // TODO: update by function\n        // Keeping track of last state\n        this.previousState = this.getState();\n        var validState = this.validateState(state);\n        if (typeof validState.x === \"number\")\n            this.x = validState.x;\n        if (typeof validState.y === \"number\")\n            this.y = validState.y;\n        if (typeof validState.angle === \"number\")\n            this.angle = validState.angle;\n        if (typeof validState.ratio === \"number\")\n            this.ratio = validState.ratio;\n        // Emitting\n        if (!this.hasState(this.previousState))\n            this.emit(\"updated\", this.getState());\n        return this;\n    };\n    /**\n     * Method used to update the camera's state using a function.\n     *\n     * @param  {function} updater - Updated function taking current state and\n     *                              returning next state.\n     * @return {Camera}\n     */\n    Camera.prototype.updateState = function (updater) {\n        this.setState(updater(this.getState()));\n        return this;\n    };\n    /**\n     * Method used to animate the camera.\n     *\n     * @param  {object}                    state      - State to reach eventually.\n     * @param  {object}                    opts       - Options:\n     * @param  {number}                      duration - Duration of the animation.\n     * @param  {string | number => number}   easing   - Easing function or name of an existing one\n     * @param  {function}                  callback   - Callback\n     */\n    Camera.prototype.animate = function (state, opts, callback) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var options = Object.assign({}, animate_1.ANIMATE_DEFAULTS, opts);\n        var validState = this.validateState(state);\n        var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n        // State\n        var start = Date.now(), initialState = this.getState();\n        // Function performing the animation\n        var fn = function () {\n            var t = (Date.now() - start) / options.duration;\n            // The animation is over:\n            if (t >= 1) {\n                _this.nextFrame = null;\n                _this.setState(validState);\n                if (_this.animationCallback) {\n                    _this.animationCallback.call(null);\n                    _this.animationCallback = undefined;\n                }\n                return;\n            }\n            var coefficient = easing(t);\n            var newState = {};\n            if (typeof validState.x === \"number\")\n                newState.x = initialState.x + (validState.x - initialState.x) * coefficient;\n            if (typeof validState.y === \"number\")\n                newState.y = initialState.y + (validState.y - initialState.y) * coefficient;\n            if (typeof validState.angle === \"number\")\n                newState.angle = initialState.angle + (validState.angle - initialState.angle) * coefficient;\n            if (typeof validState.ratio === \"number\")\n                newState.ratio = initialState.ratio + (validState.ratio - initialState.ratio) * coefficient;\n            _this.setState(newState);\n            _this.nextFrame = (0, utils_1.requestFrame)(fn);\n        };\n        if (this.nextFrame) {\n            (0, utils_1.cancelFrame)(this.nextFrame);\n            if (this.animationCallback)\n                this.animationCallback.call(null);\n            this.nextFrame = (0, utils_1.requestFrame)(fn);\n        }\n        else {\n            fn();\n        }\n        this.animationCallback = callback;\n    };\n    /**\n     * Method used to zoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     * @return {function}\n     */\n    Camera.prototype.animatedZoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio / DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio / factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio / (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to unzoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     */\n    Camera.prototype.animatedUnzoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio * DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio * factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio * (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to reset the camera.\n     *\n     * @param  {object} options - Options.\n     */\n    Camera.prototype.animatedReset = function (options) {\n        this.animate({\n            x: 0.5,\n            y: 0.5,\n            ratio: 1,\n            angle: 0,\n        }, options);\n    };\n    /**\n     * Returns a new Camera instance, with the same state as the current camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.copy = function () {\n        return Camera.from(this.getState());\n    };\n    return Camera;\n}(types_1.TypedEventEmitter));\nexports.default = Camera;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWheelDelta = exports.getTouchCoords = exports.getTouchesArray = exports.getWheelCoords = exports.getMouseCoords = exports.getPosition = void 0;\n/**\n * Sigma.js Captor Class\n * ======================\n * @module\n */\nvar types_1 = require(\"../../types\");\n/**\n * Captor utils functions\n * ======================\n */\n/**\n * Extract the local X and Y coordinates from a mouse event or touch object. If\n * a DOM element is given, it uses this element's offset to compute the position\n * (this allows using events that are not bound to the container itself and\n * still have a proper position).\n *\n * @param  {event}       e - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {number}      The local Y value of the mouse.\n */\nfunction getPosition(e, dom) {\n    var bbox = dom.getBoundingClientRect();\n    return {\n        x: e.clientX - bbox.left,\n        y: e.clientY - bbox.top,\n    };\n}\nexports.getPosition = getPosition;\n/**\n * Convert mouse coords to sigma coords.\n *\n * @param  {event}       e   - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getMouseCoords(e, dom) {\n    var res = __assign(__assign({}, getPosition(e, dom)), { sigmaDefaultPrevented: false, preventSigmaDefault: function () {\n            res.sigmaDefaultPrevented = true;\n        }, original: e });\n    return res;\n}\nexports.getMouseCoords = getMouseCoords;\n/**\n * Convert mouse wheel event coords to sigma coords.\n *\n * @param  {event}       e   - A wheel mouse event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getWheelCoords(e, dom) {\n    return __assign(__assign({}, getMouseCoords(e, dom)), { delta: getWheelDelta(e) });\n}\nexports.getWheelCoords = getWheelCoords;\nvar MAX_TOUCHES = 2;\nfunction getTouchesArray(touches) {\n    var arr = [];\n    for (var i = 0, l = Math.min(touches.length, MAX_TOUCHES); i < l; i++)\n        arr.push(touches[i]);\n    return arr;\n}\nexports.getTouchesArray = getTouchesArray;\n/**\n * Convert touch coords to sigma coords.\n *\n * @param  {event}       e   - A touch event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getTouchCoords(e, dom) {\n    return {\n        touches: getTouchesArray(e.touches).map(function (touch) { return getPosition(touch, dom); }),\n        original: e,\n    };\n}\nexports.getTouchCoords = getTouchCoords;\n/**\n * Extract the wheel delta from a mouse event or touch object.\n *\n * @param  {event}  e - A mouse event or touch object.\n * @return {number}     The wheel delta of the mouse.\n */\nfunction getWheelDelta(e) {\n    // TODO: check those ratios again to ensure a clean Chrome/Firefox compat\n    if (typeof e.deltaY !== \"undefined\")\n        return (e.deltaY * -3) / 360;\n    if (typeof e.detail !== \"undefined\")\n        return e.detail / -9;\n    throw new Error(\"Captor: could not extract delta from event.\");\n}\nexports.getWheelDelta = getWheelDelta;\n/**\n * Abstract class representing a captor like the user's mouse or touch controls.\n */\nvar Captor = /** @class */ (function (_super) {\n    __extends(Captor, _super);\n    function Captor(container, renderer) {\n        var _this = _super.call(this) || this;\n        // Properties\n        _this.container = container;\n        _this.renderer = renderer;\n        return _this;\n    }\n    return Captor;\n}(types_1.TypedEventEmitter));\nexports.default = Captor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\n/**\n * Constants.\n */\nvar DRAG_TIMEOUT = 100;\nvar DRAGGED_EVENTS_TOLERANCE = 3;\nvar MOUSE_INERTIA_DURATION = 200;\nvar MOUSE_INERTIA_RATIO = 3;\nvar MOUSE_ZOOM_DURATION = 250;\nvar ZOOMING_RATIO = 1.7;\nvar DOUBLE_CLICK_TIMEOUT = 300;\nvar DOUBLE_CLICK_ZOOMING_RATIO = 2.2;\nvar DOUBLE_CLICK_ZOOMING_DURATION = 200;\n/**\n * Mouse captor class.\n *\n * @constructor\n */\nvar MouseCaptor = /** @class */ (function (_super) {\n    __extends(MouseCaptor, _super);\n    function MouseCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        // State\n        _this.enabled = true;\n        _this.draggedEvents = 0;\n        _this.downStartTime = null;\n        _this.lastMouseX = null;\n        _this.lastMouseY = null;\n        _this.isMouseDown = false;\n        _this.isMoving = false;\n        _this.movingTimeout = null;\n        _this.startCameraState = null;\n        _this.clicks = 0;\n        _this.doubleClickTimeout = null;\n        _this.currentWheelDirection = 0;\n        // Binding methods\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleRightClick = _this.handleRightClick.bind(_this);\n        _this.handleDown = _this.handleDown.bind(_this);\n        _this.handleUp = _this.handleUp.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        _this.handleWheel = _this.handleWheel.bind(_this);\n        _this.handleOut = _this.handleOut.bind(_this);\n        // Binding events\n        container.addEventListener(\"click\", _this.handleClick, false);\n        container.addEventListener(\"contextmenu\", _this.handleRightClick, false);\n        container.addEventListener(\"mousedown\", _this.handleDown, false);\n        container.addEventListener(\"wheel\", _this.handleWheel, false);\n        container.addEventListener(\"mouseout\", _this.handleOut, false);\n        document.addEventListener(\"mousemove\", _this.handleMove, false);\n        document.addEventListener(\"mouseup\", _this.handleUp, false);\n        return _this;\n    }\n    MouseCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"click\", this.handleClick);\n        container.removeEventListener(\"contextmenu\", this.handleRightClick);\n        container.removeEventListener(\"mousedown\", this.handleDown);\n        container.removeEventListener(\"wheel\", this.handleWheel);\n        container.removeEventListener(\"mouseout\", this.handleOut);\n        document.removeEventListener(\"mousemove\", this.handleMove);\n        document.removeEventListener(\"mouseup\", this.handleUp);\n    };\n    MouseCaptor.prototype.handleClick = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        this.clicks++;\n        if (this.clicks === 2) {\n            this.clicks = 0;\n            if (typeof this.doubleClickTimeout === \"number\") {\n                clearTimeout(this.doubleClickTimeout);\n                this.doubleClickTimeout = null;\n            }\n            return this.handleDoubleClick(e);\n        }\n        setTimeout(function () {\n            _this.clicks = 0;\n            _this.doubleClickTimeout = null;\n        }, DOUBLE_CLICK_TIMEOUT);\n        // NOTE: this is here to prevent click events on drag\n        if (this.draggedEvents < DRAGGED_EVENTS_TOLERANCE)\n            this.emit(\"click\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleRightClick = function (e) {\n        if (!this.enabled)\n            return;\n        this.emit(\"rightClick\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleDoubleClick = function (e) {\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        this.emit(\"doubleClick\", mouseCoords);\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // default behavior\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio / DOUBLE_CLICK_ZOOMING_RATIO);\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticInOut\",\n            duration: DOUBLE_CLICK_ZOOMING_DURATION,\n        });\n    };\n    MouseCaptor.prototype.handleDown = function (e) {\n        if (!this.enabled)\n            return;\n        // We only start dragging on left button\n        if (e.button === 0) {\n            this.startCameraState = this.renderer.getCamera().getState();\n            var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n            this.lastMouseX = x;\n            this.lastMouseY = y;\n            this.draggedEvents = 0;\n            this.downStartTime = Date.now();\n            this.isMouseDown = true;\n        }\n        this.emit(\"mousedown\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleUp = function (e) {\n        var _this = this;\n        if (!this.enabled || !this.isMouseDown)\n            return;\n        var camera = this.renderer.getCamera();\n        this.isMouseDown = false;\n        if (typeof this.movingTimeout === \"number\") {\n            clearTimeout(this.movingTimeout);\n            this.movingTimeout = null;\n        }\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n        if (this.isMoving) {\n            camera.animate({\n                x: cameraState.x + MOUSE_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                y: cameraState.y + MOUSE_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n            }, {\n                duration: MOUSE_INERTIA_DURATION,\n                easing: \"quadraticOut\",\n            });\n        }\n        else if (this.lastMouseX !== x || this.lastMouseY !== y) {\n            camera.setState({\n                x: cameraState.x,\n                y: cameraState.y,\n            });\n        }\n        this.isMoving = false;\n        setTimeout(function () {\n            _this.draggedEvents = 0;\n            // NOTE: this refresh is here to make sure `hideEdgesOnMove` can work\n            // when someone releases camera pan drag after having stopped moving.\n            // See commit: https://github.com/jacomyal/sigma.js/commit/cfd9197f70319109db6b675dd7c82be493ca95a2\n            // See also issue: https://github.com/jacomyal/sigma.js/issues/1290\n            // It could be possible to render instead of scheduling a refresh but for\n            // now it seems good enough.\n            _this.renderer.refresh();\n        }, 0);\n        this.emit(\"mouseup\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleMove = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        // Always trigger a \"mousemovebody\" event, so that it is possible to develop\n        // a drag-and-drop effect that works even when the mouse is out of the\n        // container:\n        this.emit(\"mousemovebody\", mouseCoords);\n        // Only trigger the \"mousemove\" event when the mouse is actually hovering\n        // the container, to avoid weirdly hovering nodes and/or edges when the\n        // mouse is not hover the container:\n        if (e.target === this.container) {\n            this.emit(\"mousemove\", mouseCoords);\n        }\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // Handle the case when \"isMouseDown\" all the time, to allow dragging the\n        // stage while the mouse is not hover the container:\n        if (this.isMouseDown) {\n            this.isMoving = true;\n            this.draggedEvents++;\n            if (typeof this.movingTimeout === \"number\") {\n                clearTimeout(this.movingTimeout);\n            }\n            this.movingTimeout = window.setTimeout(function () {\n                _this.movingTimeout = null;\n                _this.isMoving = false;\n            }, DRAG_TIMEOUT);\n            var camera = this.renderer.getCamera();\n            var _a = (0, captor_1.getPosition)(e, this.container), eX = _a.x, eY = _a.y;\n            var lastMouse = this.renderer.viewportToFramedGraph({\n                x: this.lastMouseX,\n                y: this.lastMouseY,\n            });\n            var mouse = this.renderer.viewportToFramedGraph({ x: eX, y: eY });\n            var offsetX = lastMouse.x - mouse.x, offsetY = lastMouse.y - mouse.y;\n            var cameraState = camera.getState();\n            var x = cameraState.x + offsetX, y = cameraState.y + offsetY;\n            camera.setState({ x: x, y: y });\n            this.lastMouseX = eX;\n            this.lastMouseY = eY;\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n    MouseCaptor.prototype.handleWheel = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var delta = (0, captor_1.getWheelDelta)(e);\n        if (!delta)\n            return;\n        var wheelCoords = (0, captor_1.getWheelCoords)(e, this.container);\n        this.emit(\"wheel\", wheelCoords);\n        if (wheelCoords.sigmaDefaultPrevented)\n            return;\n        // Default behavior\n        var ratioDiff = delta > 0 ? 1 / ZOOMING_RATIO : ZOOMING_RATIO;\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio * ratioDiff);\n        var wheelDirection = delta > 0 ? 1 : -1;\n        var now = Date.now();\n        // Cancel events that are too close too each other and in the same direction:\n        if (this.currentWheelDirection === wheelDirection &&\n            this.lastWheelTriggerTime &&\n            now - this.lastWheelTriggerTime < MOUSE_ZOOM_DURATION / 5) {\n            return;\n        }\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticOut\",\n            duration: MOUSE_ZOOM_DURATION,\n        }, function () {\n            _this.currentWheelDirection = 0;\n        });\n        this.currentWheelDirection = wheelDirection;\n        this.lastWheelTriggerTime = now;\n    };\n    MouseCaptor.prototype.handleOut = function () {\n        // TODO: dispatch event\n    };\n    return MouseCaptor;\n}(captor_1.default));\nexports.default = MouseCaptor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */ (function (_super) {\n    __extends(TouchCaptor, _super);\n    function TouchCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        _this.enabled = true;\n        _this.isMoving = false;\n        _this.hasMoved = false;\n        _this.touchMode = 0; // number of touches down\n        _this.startTouchesPositions = [];\n        // Binding methods:\n        _this.handleStart = _this.handleStart.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        // Binding events\n        container.addEventListener(\"touchstart\", _this.handleStart, false);\n        container.addEventListener(\"touchend\", _this.handleLeave, false);\n        container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n        container.addEventListener(\"touchmove\", _this.handleMove, false);\n        return _this;\n    }\n    TouchCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"touchstart\", this.handleStart);\n        container.removeEventListener(\"touchend\", this.handleLeave);\n        container.removeEventListener(\"touchcancel\", this.handleLeave);\n        container.removeEventListener(\"touchmove\", this.handleMove);\n    };\n    TouchCaptor.prototype.getDimensions = function () {\n        return {\n            width: this.container.offsetWidth,\n            height: this.container.offsetHeight,\n        };\n    };\n    TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, touch, emitter) {\n        var mousePosition = touch || e.touches[0];\n        var mouseEvent = new MouseEvent(type, {\n            clientX: mousePosition.clientX,\n            clientY: mousePosition.clientY,\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n        });\n        mouseEvent.isFakeSigmaMouseEvent = true;\n        (emitter || this.container).dispatchEvent(mouseEvent);\n    };\n    TouchCaptor.prototype.handleStart = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousedown\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        this.touchMode = touches.length;\n        this.startCameraState = this.renderer.getCamera().getState();\n        this.startTouchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = this.startTouchesPositions;\n        // When there are two touches down, let's record distance and angle as well:\n        if (this.touchMode === 2) {\n            var _a = __read(this.startTouchesPositions, 2), _b = _a[0], x0 = _b.x, y0 = _b.y, _c = _a[1], x1 = _c.x, y1 = _c.y;\n            this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n            this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n        }\n        this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleLeave = function (e) {\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 0 && this.lastTouches && this.lastTouches.length) {\n            this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouches[0], document);\n            // ... and only click if no move was made\n            if (!this.hasMoved) {\n                this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouches[0]);\n            }\n        }\n        if (this.movingTimeout) {\n            this.isMoving = false;\n            clearTimeout(this.movingTimeout);\n        }\n        switch (this.touchMode) {\n            case 2:\n                if (e.touches.length === 1) {\n                    this.handleStart(e);\n                    e.preventDefault();\n                    break;\n                }\n            /* falls through */\n            case 1:\n                // TODO\n                // Dispatch event\n                if (this.isMoving) {\n                    var camera = this.renderer.getCamera();\n                    var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n                    camera.animate({\n                        x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                        y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n                    }, {\n                        duration: TOUCH_INERTIA_DURATION,\n                        easing: \"quadraticOut\",\n                    });\n                }\n                this.hasMoved = false;\n                this.isMoving = false;\n                this.touchMode = 0;\n                break;\n        }\n        this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleMove = function (e) {\n        var _a;\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousemove\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        var touchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = touchesPositions;\n        // If a move was initiated at some point and we get back to startpoint,\n        // we should still consider that we did move (which also happens after a\n        // multiple touch when only one touch remains in which case handleStart\n        // is recalled within handleLeave).\n        // Now, some mobile browsers report zero-distance moves so we also check that\n        // one of the touches did actually move from the origin position.\n        this.hasMoved || (this.hasMoved = touchesPositions.some(function (position, idx) {\n            var startPosition = _this.startTouchesPositions[idx];\n            return position.x !== startPosition.x || position.y !== startPosition.y;\n        }));\n        // If there was no move, do not trigger touch moves behavior\n        if (!this.hasMoved) {\n            return;\n        }\n        this.isMoving = true;\n        if (this.movingTimeout)\n            clearTimeout(this.movingTimeout);\n        this.movingTimeout = window.setTimeout(function () {\n            _this.isMoving = false;\n        }, DRAG_TIMEOUT);\n        var camera = this.renderer.getCamera();\n        var startCameraState = this.startCameraState;\n        switch (this.touchMode) {\n            case 1: {\n                var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]), xStart = _b.x, yStart = _b.y;\n                var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]), x = _c.x, y = _c.y;\n                camera.setState({\n                    x: startCameraState.x + xStart - x,\n                    y: startCameraState.y + yStart - y,\n                });\n                break;\n            }\n            case 2: {\n                /**\n                 * Here is the thinking here:\n                 *\n                 * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n                 *    of the d'n'd and now\n                 *\n                 * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n                 *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n                 *    position of this same touch now\n                 */\n                var newCameraState = {};\n                var _d = touchesPositions[0], x0 = _d.x, y0 = _d.y;\n                var _e = touchesPositions[1], x1 = _e.x, y1 = _e.y;\n                var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n                var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n                // 1.\n                var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n                newCameraState.ratio = newRatio;\n                newCameraState.angle = startCameraState.angle + angleDiff;\n                // 2.\n                var dimensions = this.getDimensions();\n                var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], { cameraState: startCameraState });\n                var smallestDimension = Math.min(dimensions.width, dimensions.height);\n                var dx = smallestDimension / dimensions.width;\n                var dy = smallestDimension / dimensions.height;\n                var ratio = newRatio / smallestDimension;\n                // Align with center of the graph:\n                var x = x0 - smallestDimension / 2 / dx;\n                var y = y0 - smallestDimension / 2 / dy;\n                // Rotate:\n                _a = __read([\n                    x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n                    y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n                ], 2), x = _a[0], y = _a[1];\n                newCameraState.x = touchGraphPosition.x - x * ratio;\n                newCameraState.y = touchGraphPosition.y + y * ratio;\n                camera.setState(newCameraState);\n                break;\n            }\n        }\n        this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    return TouchCaptor;\n}(captor_1.default));\nexports.default = TouchCaptor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgeLabelsToDisplayFromNodes = exports.LabelGrid = void 0;\n/**\n * Class representing a single candidate for the label grid selection.\n *\n * It also describes a deterministic way to compare two candidates to assess\n * which one is better.\n */\nvar LabelCandidate = /** @class */ (function () {\n    function LabelCandidate(key, size) {\n        this.key = key;\n        this.size = size;\n    }\n    LabelCandidate.compare = function (first, second) {\n        // First we compare by size\n        if (first.size > second.size)\n            return -1;\n        if (first.size < second.size)\n            return 1;\n        // Then since no two nodes can have the same key, we use it to\n        // deterministically tie-break by key\n        if (first.key > second.key)\n            return 1;\n        // NOTE: this comparator cannot return 0\n        return -1;\n    };\n    return LabelCandidate;\n}());\n/**\n * Class representing a 2D spatial grid divided into constant-size cells.\n */\nvar LabelGrid = /** @class */ (function () {\n    function LabelGrid() {\n        this.width = 0;\n        this.height = 0;\n        this.cellSize = 0;\n        this.columns = 0;\n        this.rows = 0;\n        this.cells = {};\n    }\n    LabelGrid.prototype.resizeAndClear = function (dimensions, cellSize) {\n        this.width = dimensions.width;\n        this.height = dimensions.height;\n        this.cellSize = cellSize;\n        this.columns = Math.ceil(dimensions.width / cellSize);\n        this.rows = Math.ceil(dimensions.height / cellSize);\n        this.cells = {};\n    };\n    LabelGrid.prototype.getIndex = function (pos) {\n        var xIndex = Math.floor(pos.x / this.cellSize);\n        var yIndex = Math.floor(pos.y / this.cellSize);\n        return yIndex * this.columns + xIndex;\n    };\n    LabelGrid.prototype.add = function (key, size, pos) {\n        var candidate = new LabelCandidate(key, size);\n        var index = this.getIndex(pos);\n        var cell = this.cells[index];\n        if (!cell) {\n            cell = [];\n            this.cells[index] = cell;\n        }\n        cell.push(candidate);\n    };\n    LabelGrid.prototype.organize = function () {\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            cell.sort(LabelCandidate.compare);\n        }\n    };\n    LabelGrid.prototype.getLabelsToDisplay = function (ratio, density) {\n        // TODO: work on visible nodes to optimize? ^ -> threshold outside so that memoization works?\n        // TODO: adjust threshold lower, but increase cells a bit?\n        // TODO: hunt for geom issue in disguise\n        // TODO: memoize while ratio does not move. method to force recompute\n        var cellArea = this.cellSize * this.cellSize;\n        var scaledCellArea = cellArea / ratio / ratio;\n        var scaledDensity = (scaledCellArea * density) / cellArea;\n        var labelsToDisplayPerCell = Math.ceil(scaledDensity);\n        var labels = [];\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            for (var i = 0; i < Math.min(labelsToDisplayPerCell, cell.length); i++) {\n                labels.push(cell[i].key);\n            }\n        }\n        return labels;\n    };\n    return LabelGrid;\n}());\nexports.LabelGrid = LabelGrid;\n/**\n * Label heuristic selecting edge labels to display, based on displayed node\n * labels\n *\n * @param  {object} params                 - Parameters:\n * @param  {Set}      displayedNodeLabels  - Currently displayed node labels.\n * @param  {Set}      highlightedNodes     - Highlighted nodes.\n * @param  {Graph}    graph                - The rendered graph.\n * @param  {string}   hoveredNode          - Hovered node (optional)\n * @return {Array}                         - The selected labels.\n */\nfunction edgeLabelsToDisplayFromNodes(params) {\n    var graph = params.graph, hoveredNode = params.hoveredNode, highlightedNodes = params.highlightedNodes, displayedNodeLabels = params.displayedNodeLabels;\n    var worthyEdges = [];\n    // TODO: the code below can be optimized using #.forEach and batching the code per adj\n    // We should display an edge's label if:\n    //   - Any of its extremities is highlighted or hovered\n    //   - Both of its extremities has its label shown\n    graph.forEachEdge(function (edge, _, source, target) {\n        if (source === hoveredNode ||\n            target === hoveredNode ||\n            highlightedNodes.has(source) ||\n            highlightedNodes.has(target) ||\n            (displayedNodeLabels.has(source) && displayedNodeLabels.has(target))) {\n            worthyEdges.push(edge);\n        }\n    });\n    return worthyEdges;\n}\nexports.edgeLabelsToDisplayFromNodes = edgeLabelsToDisplayFromNodes;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rectangleCollidesWithQuad = exports.squareCollidesWithQuad = exports.getCircumscribedAlignedRectangle = exports.isRectangleAligned = void 0;\n/**\n * Sigma.js Quad Tree Class\n * =========================\n *\n * Class implementing the quad tree data structure used to solve hovers and\n * determine which elements are currently in the scope of the camera so that\n * we don't waste time rendering things the user cannot see anyway.\n * @module\n */\n/* eslint no-nested-ternary: 0 */\n/* eslint no-constant-condition: 0 */\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\n/**\n * Notes:\n *\n *   - a square can be represented as topleft + width, saying for the quad blocks,\n *     to reduce overall memory usage (which is already pretty low).\n *   - this implementation of a quadtree is often called a MX-CIF quadtree.\n *   - we could explore spatial hashing (hilbert quadtrees, notably).\n */\n/**\n * Constants.\n *\n * Note that since we are representing a static 4-ary tree, the indices of the\n * quadrants are the following:\n *   - TOP_LEFT:     4i + b\n *   - TOP_RIGHT:    4i + 2b\n *   - BOTTOM_LEFT:  4i + 3b\n *   - BOTTOM_RIGHT: 4i + 4b\n */\nvar BLOCKS = 4;\nvar MAX_LEVEL = 5;\n// Outside block is max block index + 1, i.e.:\n// BLOCKS * ((4 * (4 ** MAX_LEVEL) - 1) / 3)\nvar OUTSIDE_BLOCK = 5460;\nvar X_OFFSET = 0;\nvar Y_OFFSET = 1;\nvar WIDTH_OFFSET = 2;\nvar HEIGHT_OFFSET = 3;\nvar TOP_LEFT = 1;\nvar TOP_RIGHT = 2;\nvar BOTTOM_LEFT = 3;\nvar BOTTOM_RIGHT = 4;\nvar hasWarnedTooMuchOutside = false;\n/**\n * Geometry helpers.\n */\n/**\n * Function returning whether the given rectangle is axis-aligned.\n *\n * @param  {Rectangle} rect\n * @return {boolean}\n */\nfunction isRectangleAligned(rect) {\n    return rect.x1 === rect.x2 || rect.y1 === rect.y2;\n}\nexports.isRectangleAligned = isRectangleAligned;\n/**\n * Function returning the smallest rectangle that contains the given rectangle, and that is aligned with the axis.\n *\n * @param {Rectangle} rect\n * @return {Rectangle}\n */\nfunction getCircumscribedAlignedRectangle(rect) {\n    var width = Math.sqrt(Math.pow(rect.x2 - rect.x1, 2) + Math.pow(rect.y2 - rect.y1, 2));\n    var heightVector = {\n        x: ((rect.y1 - rect.y2) * rect.height) / width,\n        y: ((rect.x2 - rect.x1) * rect.height) / width,\n    };\n    // Compute all corners:\n    var tl = { x: rect.x1, y: rect.y1 };\n    var tr = { x: rect.x2, y: rect.y2 };\n    var bl = {\n        x: rect.x1 + heightVector.x,\n        y: rect.y1 + heightVector.y,\n    };\n    var br = {\n        x: rect.x2 + heightVector.x,\n        y: rect.y2 + heightVector.y,\n    };\n    var xL = Math.min(tl.x, tr.x, bl.x, br.x);\n    var xR = Math.max(tl.x, tr.x, bl.x, br.x);\n    var yT = Math.min(tl.y, tr.y, bl.y, br.y);\n    var yB = Math.max(tl.y, tr.y, bl.y, br.y);\n    return {\n        x1: xL,\n        y1: yT,\n        x2: xR,\n        y2: yT,\n        height: yB - yT,\n    };\n}\nexports.getCircumscribedAlignedRectangle = getCircumscribedAlignedRectangle;\n/**\n *\n * @param x1\n * @param y1\n * @param w\n * @param qx\n * @param qy\n * @param qw\n * @param qh\n */\nfunction squareCollidesWithQuad(x1, y1, w, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + w > qy;\n}\nexports.squareCollidesWithQuad = squareCollidesWithQuad;\nfunction rectangleCollidesWithQuad(x1, y1, w, h, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + h > qy;\n}\nexports.rectangleCollidesWithQuad = rectangleCollidesWithQuad;\nfunction pointIsInQuad(x, y, qx, qy, qw, qh) {\n    var xmp = qx + qw / 2, ymp = qy + qh / 2, top = y < ymp, left = x < xmp;\n    return top ? (left ? TOP_LEFT : TOP_RIGHT) : left ? BOTTOM_LEFT : BOTTOM_RIGHT;\n}\n/**\n * Helper functions that are not bound to the class so an external user\n * cannot mess with them.\n */\nfunction buildQuadrants(maxLevel, data) {\n    // [block, level]\n    var stack = [0, 0];\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var x = data[block + X_OFFSET], y = data[block + Y_OFFSET], width = data[block + WIDTH_OFFSET], height = data[block + HEIGHT_OFFSET], hw = width / 2, hh = height / 2;\n        data[topLeftBlock + X_OFFSET] = x;\n        data[topLeftBlock + Y_OFFSET] = y;\n        data[topLeftBlock + WIDTH_OFFSET] = hw;\n        data[topLeftBlock + HEIGHT_OFFSET] = hh;\n        data[topRightBlock + X_OFFSET] = x + hw;\n        data[topRightBlock + Y_OFFSET] = y;\n        data[topRightBlock + WIDTH_OFFSET] = hw;\n        data[topRightBlock + HEIGHT_OFFSET] = hh;\n        data[bottomLeftBlock + X_OFFSET] = x;\n        data[bottomLeftBlock + Y_OFFSET] = y + hh;\n        data[bottomLeftBlock + WIDTH_OFFSET] = hw;\n        data[bottomLeftBlock + HEIGHT_OFFSET] = hh;\n        data[bottomRightBlock + X_OFFSET] = x + hw;\n        data[bottomRightBlock + Y_OFFSET] = y + hh;\n        data[bottomRightBlock + WIDTH_OFFSET] = hw;\n        data[bottomRightBlock + HEIGHT_OFFSET] = hh;\n        if (level < maxLevel - 1) {\n            stack.push(bottomRightBlock, level + 1);\n            stack.push(bottomLeftBlock, level + 1);\n            stack.push(topRightBlock, level + 1);\n            stack.push(topLeftBlock, level + 1);\n        }\n    }\n}\nfunction insertNode(maxLevel, data, containers, key, x, y, size) {\n    var x1 = x - size, y1 = y - size, w = size * 2;\n    var level = 0, block = 0;\n    while (true) {\n        // If we reached max level\n        if (level >= maxLevel) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = squareCollidesWithQuad(x1, y1, w, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = squareCollidesWithQuad(x1, y1, w, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = squareCollidesWithQuad(x1, y1, w, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = squareCollidesWithQuad(x1, y1, w, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        var collisions = [\n            collidingWithTopLeft,\n            collidingWithTopRight,\n            collidingWithBottomLeft,\n            collidingWithBottomRight,\n        ].reduce(function (acc, current) {\n            if (current)\n                return acc + 1;\n            else\n                return acc;\n        }, 0);\n        // If we have no collision at root level, inject node in the outside block\n        if (collisions === 0 && level === 0) {\n            containers[OUTSIDE_BLOCK].push(key);\n            if (!hasWarnedTooMuchOutside && containers[OUTSIDE_BLOCK].length >= 5) {\n                hasWarnedTooMuchOutside = true;\n                console.warn(\"sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. \" +\n                    \"You might have a problem with the normalization function or the custom bounding box.\");\n            }\n            return;\n        }\n        // If we don't have at least a collision but deeper, there is an issue\n        if (collisions === 0)\n            throw new Error(\"sigma/quadtree.insertNode: no collision (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have 3 collisions, we have a geometry problem obviously\n        if (collisions === 3)\n            throw new Error(\"sigma/quadtree.insertNode: 3 impossible collisions (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have more that one collision, we stop here and store the node\n        // in the relevant containers\n        if (collisions > 1) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        else {\n            level++;\n        }\n        // Else we recurse into the correct quads\n        if (collidingWithTopLeft)\n            block = topLeftBlock;\n        if (collidingWithTopRight)\n            block = topRightBlock;\n        if (collidingWithBottomLeft)\n            block = bottomLeftBlock;\n        if (collidingWithBottomRight)\n            block = bottomRightBlock;\n    }\n}\nfunction getNodesInAxisAlignedRectangleArea(maxLevel, data, containers, x1, y1, w, h) {\n    // [block, level]\n    var stack = [0, 0];\n    var collectedNodes = [];\n    var container;\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        // Collecting nodes\n        container = containers[block];\n        if (container)\n            (0, extend_1.default)(collectedNodes, container);\n        // If we reached max level\n        if (level >= maxLevel)\n            continue;\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = rectangleCollidesWithQuad(x1, y1, w, h, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        if (collidingWithTopLeft)\n            stack.push(topLeftBlock, level + 1);\n        if (collidingWithTopRight)\n            stack.push(topRightBlock, level + 1);\n        if (collidingWithBottomLeft)\n            stack.push(bottomLeftBlock, level + 1);\n        if (collidingWithBottomRight)\n            stack.push(bottomRightBlock, level + 1);\n    }\n    return collectedNodes;\n}\n/**\n * QuadTree class.\n *\n * @constructor\n * @param {object} boundaries - The graph boundaries.\n */\nvar QuadTree = /** @class */ (function () {\n    function QuadTree(params) {\n        var _a;\n        if (params === void 0) { params = {}; }\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        this.cache = null;\n        this.lastRectangle = null;\n        // Allocating the underlying byte array\n        var L = Math.pow(4, MAX_LEVEL);\n        this.data = new Float32Array(BLOCKS * ((4 * L - 1) / 3));\n        if (params.boundaries)\n            this.resize(params.boundaries);\n        else\n            this.resize({\n                x: 0,\n                y: 0,\n                width: 1,\n                height: 1,\n            });\n    }\n    QuadTree.prototype.add = function (key, x, y, size) {\n        insertNode(MAX_LEVEL, this.data, this.containers, key, x, y, size);\n        return this;\n    };\n    QuadTree.prototype.resize = function (boundaries) {\n        this.clear();\n        // Building the quadrants\n        this.data[X_OFFSET] = boundaries.x;\n        this.data[Y_OFFSET] = boundaries.y;\n        this.data[WIDTH_OFFSET] = boundaries.width;\n        this.data[HEIGHT_OFFSET] = boundaries.height;\n        buildQuadrants(MAX_LEVEL, this.data);\n    };\n    QuadTree.prototype.clear = function () {\n        var _a;\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        return this;\n    };\n    QuadTree.prototype.point = function (x, y) {\n        var nodes = this.containers[OUTSIDE_BLOCK].slice();\n        var block = 0, level = 0;\n        do {\n            if (this.containers[block])\n                (0, extend_1.default)(nodes, this.containers[block]);\n            var quad = pointIsInQuad(x, y, this.data[block + X_OFFSET], this.data[block + Y_OFFSET], this.data[block + WIDTH_OFFSET], this.data[block + HEIGHT_OFFSET]);\n            block = 4 * block + quad * BLOCKS;\n            level++;\n        } while (level <= MAX_LEVEL);\n        return nodes;\n    };\n    QuadTree.prototype.rectangle = function (x1, y1, x2, y2, height) {\n        var lr = this.lastRectangle;\n        if (lr && x1 === lr.x1 && x2 === lr.x2 && y1 === lr.y1 && y2 === lr.y2 && height === lr.height) {\n            return this.cache;\n        }\n        this.lastRectangle = {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            height: height,\n        };\n        // If the rectangle is shifted, we use the smallest aligned rectangle that contains the shifted one:\n        if (!isRectangleAligned(this.lastRectangle))\n            this.lastRectangle = getCircumscribedAlignedRectangle(this.lastRectangle);\n        this.cache = getNodesInAxisAlignedRectangleArea(MAX_LEVEL, this.data, this.containers, x1, y1, Math.abs(x1 - x2) || Math.abs(y1 - y2), height);\n        // Add all the nodes in the outside block, since they might be relevant, and since they should be very few:\n        (0, extend_1.default)(this.cache, this.containers[OUTSIDE_BLOCK]);\n        return this.cache;\n    };\n    return QuadTree;\n}());\nexports.default = QuadTree;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sigma = exports.MouseCaptor = exports.QuadTree = exports.Camera = void 0;\n/**\n * Sigma.js Library Endpoint\n * =========================\n *\n * The library endpoint.\n * @module\n */\nvar sigma_1 = __importDefault(require(\"./sigma\"));\nexports.Sigma = sigma_1.default;\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nexports.Camera = camera_1.default;\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nexports.QuadTree = quadtree_1.default;\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nexports.MouseCaptor = mouse_1.default;\nexports.default = sigma_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawEdgeLabel(context, edgeData, sourceData, targetData, settings) {\n    var size = settings.edgeLabelSize, font = settings.edgeLabelFont, weight = settings.edgeLabelWeight, color = settings.edgeLabelColor.attribute\n        ? edgeData[settings.edgeLabelColor.attribute] || settings.edgeLabelColor.color || \"#000\"\n        : settings.edgeLabelColor.color;\n    var label = edgeData.label;\n    if (!label)\n        return;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Computing positions without considering nodes sizes:\n    var sSize = sourceData.size;\n    var tSize = targetData.size;\n    var sx = sourceData.x;\n    var sy = sourceData.y;\n    var tx = targetData.x;\n    var ty = targetData.y;\n    var cx = (sx + tx) / 2;\n    var cy = (sy + ty) / 2;\n    var dx = tx - sx;\n    var dy = ty - sy;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    if (d < sSize + tSize)\n        return;\n    // Adding nodes sizes:\n    sx += (dx * sSize) / d;\n    sy += (dy * sSize) / d;\n    tx -= (dx * tSize) / d;\n    ty -= (dy * tSize) / d;\n    cx = (sx + tx) / 2;\n    cy = (sy + ty) / 2;\n    dx = tx - sx;\n    dy = ty - sy;\n    d = Math.sqrt(dx * dx + dy * dy);\n    // Handling ellipsis\n    var textLength = context.measureText(label).width;\n    if (textLength > d) {\n        var ellipsis = \"…\";\n        label = label + ellipsis;\n        textLength = context.measureText(label).width;\n        while (textLength > d && label.length > 1) {\n            label = label.slice(0, -2) + ellipsis;\n            textLength = context.measureText(label).width;\n        }\n        if (label.length < 4)\n            return;\n    }\n    var angle;\n    if (dx > 0) {\n        if (dy > 0)\n            angle = Math.acos(dx / d);\n        else\n            angle = Math.asin(dy / d);\n    }\n    else {\n        if (dy > 0)\n            angle = Math.acos(dx / d) + Math.PI;\n        else\n            angle = Math.asin(dx / d) + Math.PI / 2;\n    }\n    context.save();\n    context.translate(cx, cy);\n    context.rotate(angle);\n    context.fillText(label, -textLength / 2, edgeData.size / 2 + size);\n    context.restore();\n}\nexports.default = drawEdgeLabel;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar label_1 = __importDefault(require(\"./label\"));\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nfunction drawHover(context, data, settings) {\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Then we draw the label background\n    context.fillStyle = \"#FFF\";\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 8;\n    context.shadowColor = \"#000\";\n    var PADDING = 2;\n    if (typeof data.label === \"string\") {\n        var textWidth = context.measureText(data.label).width, boxWidth = Math.round(textWidth + 5), boxHeight = Math.round(size + 2 * PADDING), radius = Math.max(data.size, size / 2) + PADDING;\n        var angleRadian = Math.asin(boxHeight / 2 / radius);\n        var xDeltaCoord = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2)));\n        context.beginPath();\n        context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n        context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n        context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n        context.closePath();\n        context.fill();\n    }\n    else {\n        context.beginPath();\n        context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n        context.closePath();\n        context.fill();\n    }\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 0;\n    // And finally we draw the label\n    (0, label_1.default)(context, data, settings);\n}\nexports.default = drawHover;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawLabel(context, data, settings) {\n    if (!data.label)\n        return;\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight, color = settings.labelColor.attribute\n        ? data[settings.labelColor.attribute] || settings.labelColor.color || \"#000\"\n        : settings.labelColor.color;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\nexports.default = drawLabel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEdgeCompoundProgram = exports.EdgeProgram = exports.AbstractEdgeProgram = void 0;\nvar program_1 = require(\"./program\");\nvar AbstractEdgeProgram = /** @class */ (function (_super) {\n    __extends(AbstractEdgeProgram, _super);\n    function AbstractEdgeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractEdgeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractEdgeProgram = AbstractEdgeProgram;\nvar EdgeProgram = /** @class */ (function (_super) {\n    __extends(EdgeProgram, _super);\n    function EdgeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeProgram.prototype.process = function (offset, sourceData, targetData, data) {\n        var i = offset * this.STRIDE;\n        // NOTE: dealing with hidden items automatically\n        if (data.hidden || sourceData.hidden || targetData.hidden) {\n            for (var l = i + this.STRIDE; i < l; i++) {\n                this.array[i] = 0;\n            }\n            return;\n        }\n        return this.processVisibleItem(i, sourceData, targetData, data);\n    };\n    return EdgeProgram;\n}(program_1.Program));\nexports.EdgeProgram = EdgeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createEdgeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function EdgeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (Program) {\n                return new Program(gl, renderer);\n            });\n        }\n        EdgeCompoundProgram.prototype.reallocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.reallocate(capacity); });\n        };\n        EdgeCompoundProgram.prototype.process = function (offset, sourceData, targetData, data) {\n            this.programs.forEach(function (program) { return program.process(offset, sourceData, targetData, data); });\n        };\n        EdgeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) { return program.render(params); });\n        };\n        return EdgeCompoundProgram;\n    }());\n}\nexports.createEdgeCompoundProgram = createEdgeCompoundProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeCompoundProgram = exports.NodeProgram = exports.AbstractNodeProgram = void 0;\nvar program_1 = require(\"./program\");\nvar AbstractNodeProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeProgram, _super);\n    function AbstractNodeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractNodeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractNodeProgram = AbstractNodeProgram;\nvar NodeProgram = /** @class */ (function (_super) {\n    __extends(NodeProgram, _super);\n    function NodeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeProgram.prototype.process = function (offset, data) {\n        var i = offset * this.STRIDE;\n        // NOTE: dealing with hidden items automatically\n        if (data.hidden) {\n            for (var l = i + this.STRIDE; i < l; i++) {\n                this.array[i] = 0;\n            }\n            return;\n        }\n        return this.processVisibleItem(i, data);\n    };\n    return NodeProgram;\n}(program_1.Program));\nexports.NodeProgram = NodeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createNodeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function NodeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (Program) {\n                return new Program(gl, renderer);\n            });\n        }\n        NodeCompoundProgram.prototype.reallocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.reallocate(capacity); });\n        };\n        NodeCompoundProgram.prototype.process = function (offset, data) {\n            this.programs.forEach(function (program) { return program.process(offset, data); });\n        };\n        NodeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) { return program.render(params); });\n        };\n        return NodeCompoundProgram;\n    }());\n}\nexports.createNodeCompoundProgram = createNodeCompoundProgram;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Program = exports.AbstractProgram = void 0;\nvar utils_1 = require(\"../../../../utils\");\nvar utils_2 = require(\"../../shaders/utils\");\nvar SIZE_FACTOR_PER_ATTRIBUTE_TYPE = (_a = {},\n    _a[WebGL2RenderingContext.BOOL] = 1,\n    _a[WebGL2RenderingContext.BYTE] = 1,\n    _a[WebGL2RenderingContext.UNSIGNED_BYTE] = 1,\n    _a[WebGL2RenderingContext.SHORT] = 2,\n    _a[WebGL2RenderingContext.UNSIGNED_SHORT] = 2,\n    _a[WebGL2RenderingContext.INT] = 4,\n    _a[WebGL2RenderingContext.UNSIGNED_INT] = 4,\n    _a[WebGL2RenderingContext.FLOAT] = 4,\n    _a);\nvar AbstractProgram = /** @class */ (function () {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    function AbstractProgram(_gl, _renderer) {\n    }\n    return AbstractProgram;\n}());\nexports.AbstractProgram = AbstractProgram;\nvar Program = /** @class */ (function () {\n    function Program(gl, renderer) {\n        var _this = this;\n        this.array = new Float32Array();\n        this.indicesArray = null;\n        this.uniformLocations = {};\n        this.attributeLocations = {};\n        this.capacity = 0;\n        this.verticesCount = 0;\n        // Reading program definition\n        var definition = this.getDefinition();\n        this.VERTICES = definition.VERTICES;\n        this.ARRAY_ITEMS_PER_VERTEX = definition.ARRAY_ITEMS_PER_VERTEX;\n        this.VERTEX_SHADER_SOURCE = definition.VERTEX_SHADER_SOURCE;\n        this.FRAGMENT_SHADER_SOURCE = definition.FRAGMENT_SHADER_SOURCE;\n        this.UNIFORMS = definition.UNIFORMS;\n        this.ATTRIBUTES = definition.ATTRIBUTES;\n        // Computing stride\n        this.STRIDE = this.VERTICES * this.ARRAY_ITEMS_PER_VERTEX;\n        // Members\n        this.gl = gl;\n        this.renderer = renderer;\n        // Webgl buffers\n        var buffer = gl.createBuffer();\n        if (buffer === null)\n            throw new Error(\"Program: error while creating the webgl buffer.\");\n        this.buffer = buffer;\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"Program: error while creating the webgl indices buffer.\");\n        this.indicesBuffer = indicesBuffer;\n        // Shaders and program\n        this.vertexShader = (0, utils_2.loadVertexShader)(this.gl, this.VERTEX_SHADER_SOURCE);\n        this.fragmentShader = (0, utils_2.loadFragmentShader)(this.gl, this.FRAGMENT_SHADER_SOURCE);\n        this.program = (0, utils_2.loadProgram)(this.gl, [this.vertexShader, this.fragmentShader]);\n        // Indices\n        this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(this.gl);\n        this.indicesType = this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        this.IndicesArray = this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        // Initializing locations\n        this.UNIFORMS.forEach(function (uniformName) {\n            var location = _this.gl.getUniformLocation(_this.program, uniformName);\n            if (location === null)\n                throw new Error(\"Program: error while getting location for uniform \\\"\".concat(uniformName, \"\\\".\"));\n            _this.uniformLocations[uniformName] = location;\n        });\n        this.ATTRIBUTES.forEach(function (attr) {\n            var location = _this.gl.getAttribLocation(_this.program, attr.name);\n            if (location === -1)\n                throw new Error(\"Program: error while getting location for attribute \\\"\".concat(attr.name, \"\\\".\"));\n            _this.attributeLocations[attr.name] = location;\n        });\n    }\n    Program.prototype.bind = function () {\n        var _this = this;\n        var gl = this.gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        if (this.indicesArray) {\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        }\n        for (var attributeName in this.attributeLocations) {\n            gl.enableVertexAttribArray(this.attributeLocations[attributeName]);\n        }\n        var offset = 0;\n        this.ATTRIBUTES.forEach(function (attr) {\n            var location = _this.attributeLocations[attr.name];\n            gl.vertexAttribPointer(location, attr.size, attr.type, attr.normalized || false, _this.ARRAY_ITEMS_PER_VERTEX * Float32Array.BYTES_PER_ELEMENT, offset);\n            var sizeFactor = SIZE_FACTOR_PER_ATTRIBUTE_TYPE[attr.type];\n            if (typeof sizeFactor !== \"number\")\n                throw new Error(\"Program.bind: yet unsupported attribute type \\\"\".concat(attr.type, \"\\\"!\"));\n            offset += attr.size * sizeFactor;\n        });\n    };\n    Program.prototype.bufferData = function () {\n        var gl = this.gl;\n        this.gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n        if (this.indicesArray) {\n            this.gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n        }\n    };\n    // NOTE: implementing `reallocateIndices` is optional\n    Program.prototype.reallocateIndices = function () {\n        return;\n    };\n    Program.prototype.reallocate = function (capacity) {\n        // If desired capacity has not changed we do nothing\n        // NOTE: it's possible here to implement more subtle reallocation schemes\n        // when the number of rendered items increase or decrease\n        if (capacity === this.capacity)\n            return;\n        this.capacity = capacity;\n        this.verticesCount = this.VERTICES * capacity;\n        this.array = new Float32Array(this.verticesCount * this.ARRAY_ITEMS_PER_VERTEX);\n        if (typeof this.reallocateIndices === \"function\")\n            this.reallocateIndices();\n    };\n    Program.prototype.hasNothingToRender = function () {\n        return this.verticesCount === 0;\n    };\n    Program.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        this.bind();\n        this.bufferData();\n        this.gl.useProgram(this.program);\n        this.draw(params);\n    };\n    return Program;\n}());\nexports.Program = Program;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Arrow Program\n * ===========================================\n *\n * Compound program rendering edges as an arrow from the source to the target.\n * @module\n */\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_1 = __importDefault(require(\"./edge.arrowHead\"));\nvar edge_clamped_1 = __importDefault(require(\"./edge.clamped\"));\nvar EdgeArrowProgram = (0, edge_1.createEdgeCompoundProgram)([edge_clamped_1.default, edge_arrowHead_1.default]);\nexports.default = EdgeArrowProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_vert_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.vert.glsl.js\"));\nvar edge_arrowHead_frag_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeArrowHeadProgram = /** @class */ (function (_super) {\n    __extends(EdgeArrowHeadProgram, _super);\n    function EdgeArrowHeadProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeArrowHeadProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 9,\n            VERTEX_SHADER_SOURCE: edge_arrowHead_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_arrowHead_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_radius\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_barycentric\", size: 3, type: FLOAT },\n            ],\n        };\n    };\n    EdgeArrowHeadProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var radius = targetData.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = 0;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 1;\n        array[i++] = 0;\n        // Third point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i] = 1;\n    };\n    EdgeArrowHeadProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    return EdgeArrowHeadProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeArrowHeadProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines but with a twist: the end of edge\n * does not sit in the middle of target node but instead stays by some margin.\n *\n * This is useful when combined with arrows to draw directed edges.\n * @module\n */\nvar edge_rectangle_1 = __importDefault(require(\"./edge.rectangle\"));\nvar edge_clamped_vert_glsl_1 = __importDefault(require(\"../shaders/edge.clamped.vert.glsl.js\"));\nvar utils_1 = require(\"../../../utils\");\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar EdgeClampedProgram = /** @class */ (function (_super) {\n    __extends(EdgeClampedProgram, _super);\n    function EdgeClampedProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeClampedProgram.prototype.getDefinition = function () {\n        return __assign(__assign({}, _super.prototype.getDefinition.call(this)), { ARRAY_ITEMS_PER_VERTEX: 6, VERTEX_SHADER_SOURCE: edge_clamped_vert_glsl_1.default, ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_radius\", size: 1, type: FLOAT },\n            ] });\n    };\n    EdgeClampedProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var radius = targetData.size || 1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = radius;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i] = -radius;\n    };\n    return EdgeClampedProgram;\n}(edge_rectangle_1.default));\nexports.default = EdgeClampedProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_line_vert_glsl_1 = __importDefault(require(\"../shaders/edge.line.vert.glsl.js\"));\nvar edge_line_frag_glsl_1 = __importDefault(require(\"../shaders/edge.line.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\"];\nvar EdgeLineProgram = /** @class */ (function (_super) {\n    __extends(EdgeLineProgram, _super);\n    function EdgeLineProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeLineProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 2,\n            ARRAY_ITEMS_PER_VERTEX: 3,\n            VERTEX_SHADER_SOURCE: edge_line_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_line_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    EdgeLineProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var array = this.array;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = color;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i] = color;\n    };\n    EdgeLineProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var u_matrix = this.uniformLocations.u_matrix;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.LINES, 0, this.verticesCount);\n    };\n    return EdgeLineProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeLineProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_rectangle_vert_glsl_1 = __importDefault(require(\"../shaders/edge.rectangle.vert.glsl.js\"));\nvar edge_rectangle_frag_glsl_1 = __importDefault(require(\"../shaders/edge.rectangle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_zoomRatio\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeRectangleProgram = /** @class */ (function (_super) {\n    __extends(EdgeRectangleProgram, _super);\n    function EdgeRectangleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeRectangleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 4,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: edge_rectangle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_rectangle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    EdgeRectangleProgram.prototype.reallocateIndices = function () {\n        var l = this.verticesCount;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeRectangleProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i] = color;\n    };\n    EdgeRectangleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_zoomRatio = _a.u_zoomRatio, u_correctionRatio = _a.u_correctionRatio, u_sizeRatio = _a.u_sizeRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_zoomRatio, params.zoomRatio);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        if (!this.indicesArray)\n            throw new Error(\"EdgeRectangleProgram: indicesArray should be allocated when drawing!\");\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeRectangleProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeRectangleProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_triangle_vert_glsl_1 = __importDefault(require(\"../shaders/edge.triangle.vert.glsl.js\"));\nvar edge_triangle_frag_glsl_1 = __importDefault(require(\"../shaders/edge.triangle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeTriangleProgram = /** @class */ (function (_super) {\n    __extends(EdgeTriangleProgram, _super);\n    function EdgeTriangleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeTriangleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: edge_triangle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_triangle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    EdgeTriangleProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i] = color;\n    };\n    EdgeTriangleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    return EdgeTriangleProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeTriangleProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_1 = require(\"./common/node\");\nvar node_circle_vert_glsl_1 = __importDefault(require(\"../shaders/node.circle.vert.glsl.js\"));\nvar node_circle_frag_glsl_1 = __importDefault(require(\"../shaders/node.circle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_sizeRatio\", \"u_correctionRatio\", \"u_matrix\"];\nvar NodeCircleProgram = /** @class */ (function (_super) {\n    __extends(NodeCircleProgram, _super);\n    function NodeCircleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeCircleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: node_circle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: node_circle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_angle\", size: 1, type: FLOAT },\n            ],\n        };\n    };\n    NodeCircleProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var color = (0, utils_1.floatColor)(data.color);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i++] = NodeCircleProgram.ANGLE_1;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i++] = NodeCircleProgram.ANGLE_2;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i] = NodeCircleProgram.ANGLE_3;\n    };\n    NodeCircleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio, u_matrix = _a.u_matrix;\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    NodeCircleProgram.ANGLE_1 = 0;\n    NodeCircleProgram.ANGLE_2 = (2 * Math.PI) / 3;\n    NodeCircleProgram.ANGLE_3 = (4 * Math.PI) / 3;\n    return NodeCircleProgram;\n}(node_1.NodeProgram));\nexports.default = NodeCircleProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_1 = require(\"./common/node\");\nvar node_point_vert_glsl_1 = __importDefault(require(\"../shaders/node.point.vert.glsl.js\"));\nvar node_point_frag_glsl_1 = __importDefault(require(\"../shaders/node.point.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_sizeRatio\", \"u_pixelRatio\", \"u_matrix\"];\nvar NodePointProgram = /** @class */ (function (_super) {\n    __extends(NodePointProgram, _super);\n    function NodePointProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodePointProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 1,\n            ARRAY_ITEMS_PER_VERTEX: 4,\n            VERTEX_SHADER_SOURCE: node_point_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: node_point_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    NodePointProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i] = (0, utils_1.floatColor)(data.color);\n    };\n    NodePointProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_pixelRatio = _a.u_pixelRatio, u_matrix = _a.u_matrix;\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_pixelRatio, params.pixelRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.POINTS, 0, this.verticesCount);\n    };\n    return NodePointProgram;\n}(node_1.NodeProgram));\nexports.default = NodePointProgram;\n","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(a,n)=>{for(var t in n)e.o(n,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:n[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},a={};e.r(a),e.d(a,{default:()=>n});const n=\"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute float a_radius;\\nattribute vec4 a_color;\\nattribute vec3 a_barycentric;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadWidthLengthRatio = 0.66;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl and\\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\\n  // happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\\n\\n  float da = a_barycentric.x;\\n  float db = a_barycentric.y;\\n  float dc = a_barycentric.z;\\n\\n  vec2 delta = vec2(\\n      da * (webGLNodeRadius * unitNormal.y)\\n    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)\\n    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),\\n\\n      da * (-webGLNodeRadius * unitNormal.x)\\n    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)\\n    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)\\n  );\\n\\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\\n\\n  gl_Position = vec4(position, 0, 1);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=a})();","(()=>{\"use strict\";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>n});const n=\"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\nattribute float a_radius;\\n\\nuniform mat3 u_matrix;\\nuniform float u_zoomRatio;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl. Please read it to\\n  // get better comments on what's happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here, we move the point to leave space for the arrow head:\\n  float direction = sign(a_radius);\\n  float webGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n\\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);\\n\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var o={d:(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},e={};o.r(e),o.d(e,{default:()=>n});const n=\"attribute vec2 a_position;\\nattribute vec4 a_color;\\n\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  // Scale from [[-1 1] [-1 1]] to the container:\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=e})();","(()=>{\"use strict\";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>t});const t=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float feather = 0.001;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_normal) * v_thickness;\\n\\n  float t = smoothstep(\\n    v_thickness - feather,\\n    v_thickness,\\n    dist\\n  );\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o='attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_zoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // We require edges to be at least `minThickness` pixels thick *on screen*\\n  // (so we need to compensate the size ratio):\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n\\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\\n  // referential (in a ([0, 1], [0, 1]) space), using our \"magic\" correction\\n  // ratio:\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\\n\\n  // For the fragment shader though, we need a thickness that takes the \"magic\"\\n  // correction ratio into account (as in webGLThickness), but so that the\\n  // antialiasing effect does not depend on the zoom level. So here\\'s yet\\n  // another thickness version:\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n';module.exports=n})();","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var n={d:(o,e)=>{for(var t in e)n.o(e,t)&&!n.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:e[t]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})}},o={};n.r(o),n.d(o,{default:()=>e});const e=\"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  // The only different here with edge.vert.glsl is that we need to handle null\\n  // input normal vector. Apart from that, you can read edge.vert.glsl more info\\n  // on how it works:\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n  if (normalLength <= 0.0) unitNormal = a_normal;\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(n,r)=>{for(var t in r)e.o(r,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\n\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_diffVector) - v_radius;\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o:(o,n)=>Object.prototype.hasOwnProperty.call(o,n),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},n={};o.r(n),o.d(n,{default:()=>t});const t=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute float a_angle;\\nattribute vec4 a_color;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\nconst float marginRatio = 1.05;\\n\\nvoid main() {\\n  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;\\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\\n  vec2 position = a_position + diffVector * marginRatio;\\n  gl_Position = vec4(\\n    (u_matrix * vec3(position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  v_border = u_correctionRatio;\\n  v_diffVector = diffVector;\\n  v_radius = size / 2.0 / marginRatio;\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = radius - length(m);\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(transparent, v_color, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},t={};o.r(t),o.d(t,{default:()=>e});const e=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=t})();","\"use strict\";\n/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadProgram = exports.loadFragmentShader = exports.loadVertexShader = void 0;\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type, gl, source) {\n    var glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n    // Creating the shader\n    var shader = gl.createShader(glType);\n    if (shader === null) {\n        throw new Error(\"loadShader: error while creating the shader\");\n    }\n    // Loading source\n    gl.shaderSource(shader, source);\n    // Compiling the shader\n    gl.compileShader(shader);\n    // Retrieving compilation status\n    var successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    // Throwing if something went awry\n    if (!successfullyCompiled) {\n        var infoLog = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"loadShader: error while compiling the shader:\\n\".concat(infoLog, \"\\n\").concat(source));\n    }\n    return shader;\n}\nfunction loadVertexShader(gl, source) {\n    return loadShader(\"VERTEX\", gl, source);\n}\nexports.loadVertexShader = loadVertexShader;\nfunction loadFragmentShader(gl, source) {\n    return loadShader(\"FRAGMENT\", gl, source);\n}\nexports.loadFragmentShader = loadFragmentShader;\n/**\n * Function used to load a program.\n */\nfunction loadProgram(gl, shaders) {\n    var program = gl.createProgram();\n    if (program === null) {\n        throw new Error(\"loadProgram: error while creating the program.\");\n    }\n    var i, l;\n    // Attaching the shaders\n    for (i = 0, l = shaders.length; i < l; i++)\n        gl.attachShader(program, shaders[i]);\n    gl.linkProgram(program);\n    // Checking status\n    var successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!successfullyLinked) {\n        gl.deleteProgram(program);\n        throw new Error(\"loadProgram: error while linking the program.\");\n    }\n    return program;\n}\nexports.loadProgram = loadProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSettings = exports.validateSettings = exports.DEFAULT_EDGE_PROGRAM_CLASSES = exports.DEFAULT_NODE_PROGRAM_CLASSES = exports.DEFAULT_SETTINGS = void 0;\nvar utils_1 = require(\"./utils\");\nvar label_1 = __importDefault(require(\"./rendering/canvas/label\"));\nvar hover_1 = __importDefault(require(\"./rendering/canvas/hover\"));\nvar edge_label_1 = __importDefault(require(\"./rendering/canvas/edge-label\"));\nvar node_point_1 = __importDefault(require(\"./rendering/webgl/programs/node.point\"));\nvar edge_rectangle_1 = __importDefault(require(\"./rendering/webgl/programs/edge.rectangle\"));\nvar edge_arrow_1 = __importDefault(require(\"./rendering/webgl/programs/edge.arrow\"));\nexports.DEFAULT_SETTINGS = {\n    // Performance\n    hideEdgesOnMove: false,\n    hideLabelsOnMove: false,\n    renderLabels: true,\n    renderEdgeLabels: false,\n    enableEdgeClickEvents: false,\n    enableEdgeWheelEvents: false,\n    enableEdgeHoverEvents: false,\n    // Component rendering\n    defaultNodeColor: \"#999\",\n    defaultNodeType: \"circle\",\n    defaultEdgeColor: \"#ccc\",\n    defaultEdgeType: \"line\",\n    labelFont: \"Arial\",\n    labelSize: 14,\n    labelWeight: \"normal\",\n    labelColor: { color: \"#000\" },\n    edgeLabelFont: \"Arial\",\n    edgeLabelSize: 14,\n    edgeLabelWeight: \"normal\",\n    edgeLabelColor: { attribute: \"color\" },\n    stagePadding: 30,\n    zoomToSizeRatioFunction: Math.sqrt,\n    // Labels\n    labelDensity: 1,\n    labelGridCellSize: 100,\n    labelRenderedSizeThreshold: 6,\n    // Reducers\n    nodeReducer: null,\n    edgeReducer: null,\n    // Features\n    zIndex: false,\n    minCameraRatio: null,\n    maxCameraRatio: null,\n    // Renderers\n    labelRenderer: label_1.default,\n    hoverRenderer: hover_1.default,\n    edgeLabelRenderer: edge_label_1.default,\n    // Lifecycle\n    allowInvalidContainer: false,\n    // Program classes\n    nodeProgramClasses: {},\n    nodeHoverProgramClasses: {},\n    edgeProgramClasses: {},\n};\nexports.DEFAULT_NODE_PROGRAM_CLASSES = {\n    circle: node_point_1.default,\n};\nexports.DEFAULT_EDGE_PROGRAM_CLASSES = {\n    arrow: edge_arrow_1.default,\n    line: edge_rectangle_1.default,\n};\nfunction validateSettings(settings) {\n    if (typeof settings.labelDensity !== \"number\" || settings.labelDensity < 0) {\n        throw new Error(\"Settings: invalid `labelDensity`. Expecting a positive number.\");\n    }\n    var minCameraRatio = settings.minCameraRatio, maxCameraRatio = settings.maxCameraRatio;\n    if (typeof minCameraRatio === \"number\" && typeof maxCameraRatio === \"number\" && maxCameraRatio < minCameraRatio) {\n        throw new Error(\"Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.\");\n    }\n}\nexports.validateSettings = validateSettings;\nfunction resolveSettings(settings) {\n    var resolvedSettings = (0, utils_1.assign)({}, exports.DEFAULT_SETTINGS, settings);\n    resolvedSettings.nodeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_NODE_PROGRAM_CLASSES, resolvedSettings.nodeProgramClasses);\n    resolvedSettings.edgeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_EDGE_PROGRAM_CLASSES, resolvedSettings.edgeProgramClasses);\n    return resolvedSettings;\n}\nexports.resolveSettings = resolveSettings;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nvar types_1 = require(\"./types\");\nvar utils_1 = require(\"./utils\");\nvar labels_1 = require(\"./core/labels\");\nvar settings_1 = require(\"./settings\");\nvar touch_1 = __importDefault(require(\"./core/captors/touch\"));\nvar matrices_1 = require(\"./utils/matrices\");\nvar edge_collisions_1 = require(\"./utils/edge-collisions\");\n/**\n * Constants.\n */\nvar X_LABEL_MARGIN = 150;\nvar Y_LABEL_MARGIN = 50;\n/**\n * Important functions.\n */\nfunction applyNodeDefaults(settings, key, data) {\n    if (!data.hasOwnProperty(\"x\") || !data.hasOwnProperty(\"y\"))\n        throw new Error(\"Sigma: could not find a valid position (x, y) for node \\\"\".concat(key, \"\\\". All your nodes must have a number \\\"x\\\" and \\\"y\\\". Maybe your forgot to apply a layout or your \\\"nodeReducer\\\" is not returning the correct data?\"));\n    if (!data.color)\n        data.color = settings.defaultNodeColor;\n    if (!data.label && data.label !== \"\")\n        data.label = null;\n    if (data.label !== undefined && data.label !== null)\n        data.label = \"\" + data.label;\n    else\n        data.label = null;\n    if (!data.size)\n        data.size = 2;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"highlighted\"))\n        data.highlighted = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultNodeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\nfunction applyEdgeDefaults(settings, key, data) {\n    if (!data.color)\n        data.color = settings.defaultEdgeColor;\n    if (!data.label)\n        data.label = \"\";\n    if (!data.size)\n        data.size = 0.5;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultEdgeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\n/**\n * Main class.\n *\n * @constructor\n * @param {Graph}       graph     - Graph to render.\n * @param {HTMLElement} container - DOM container in which to render.\n * @param {object}      settings  - Optional settings.\n */\nvar Sigma = /** @class */ (function (_super) {\n    __extends(Sigma, _super);\n    function Sigma(graph, container, settings) {\n        if (settings === void 0) { settings = {}; }\n        var _this = _super.call(this) || this;\n        _this.elements = {};\n        _this.canvasContexts = {};\n        _this.webGLContexts = {};\n        _this.activeListeners = {};\n        _this.quadtree = new quadtree_1.default();\n        _this.labelGrid = new labels_1.LabelGrid();\n        _this.nodeDataCache = {};\n        _this.edgeDataCache = {};\n        _this.nodesWithForcedLabels = [];\n        _this.edgesWithForcedLabels = [];\n        _this.nodeExtent = { x: [0, 1], y: [0, 1] };\n        _this.matrix = (0, matrices_1.identity)();\n        _this.invMatrix = (0, matrices_1.identity)();\n        _this.correctionRatio = 1;\n        _this.customBBox = null;\n        _this.normalizationFunction = (0, utils_1.createNormalizationFunction)({\n            x: [0, 1],\n            y: [0, 1],\n        });\n        // Cache:\n        _this.cameraSizeRatio = 1;\n        // Starting dimensions and pixel ratio\n        _this.width = 0;\n        _this.height = 0;\n        _this.pixelRatio = (0, utils_1.getPixelRatio)();\n        // State\n        _this.displayedNodeLabels = new Set();\n        _this.displayedEdgeLabels = new Set();\n        _this.highlightedNodes = new Set();\n        _this.hoveredNode = null;\n        _this.hoveredEdge = null;\n        _this.renderFrame = null;\n        _this.renderHighlightedNodesFrame = null;\n        _this.needToProcess = false;\n        _this.checkEdgesEventsFrame = null;\n        // Programs\n        _this.nodePrograms = {};\n        _this.nodeHoverPrograms = {};\n        _this.edgePrograms = {};\n        // Resolving settings\n        _this.settings = (0, settings_1.resolveSettings)(settings);\n        // Validating\n        (0, settings_1.validateSettings)(_this.settings);\n        (0, utils_1.validateGraph)(graph);\n        if (!(container instanceof HTMLElement))\n            throw new Error(\"Sigma: container should be an html element.\");\n        // Properties\n        _this.graph = graph;\n        _this.container = container;\n        // Initializing contexts\n        _this.createWebGLContext(\"edges\", { preserveDrawingBuffer: true });\n        _this.createCanvasContext(\"edgeLabels\");\n        _this.createWebGLContext(\"nodes\");\n        _this.createCanvasContext(\"labels\");\n        _this.createCanvasContext(\"hovers\");\n        _this.createWebGLContext(\"hoverNodes\");\n        _this.createCanvasContext(\"mouse\");\n        // Blending\n        for (var key in _this.webGLContexts) {\n            var gl = _this.webGLContexts[key];\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            gl.enable(gl.BLEND);\n        }\n        // Loading programs\n        for (var type in _this.settings.nodeProgramClasses) {\n            var NodeProgramClass = _this.settings.nodeProgramClasses[type];\n            _this.nodePrograms[type] = new NodeProgramClass(_this.webGLContexts.nodes, _this);\n            var NodeHoverProgram = NodeProgramClass;\n            if (type in _this.settings.nodeHoverProgramClasses) {\n                NodeHoverProgram = _this.settings.nodeHoverProgramClasses[type];\n            }\n            _this.nodeHoverPrograms[type] = new NodeHoverProgram(_this.webGLContexts.hoverNodes, _this);\n        }\n        for (var type in _this.settings.edgeProgramClasses) {\n            var EdgeProgramClass = _this.settings.edgeProgramClasses[type];\n            _this.edgePrograms[type] = new EdgeProgramClass(_this.webGLContexts.edges, _this);\n        }\n        // Initial resize\n        _this.resize();\n        // Initializing the camera\n        _this.camera = new camera_1.default();\n        // Binding camera events\n        _this.bindCameraHandlers();\n        // Initializing captors\n        _this.mouseCaptor = new mouse_1.default(_this.elements.mouse, _this);\n        _this.touchCaptor = new touch_1.default(_this.elements.mouse, _this);\n        // Binding event handlers\n        _this.bindEventHandlers();\n        // Binding graph handlers\n        _this.bindGraphHandlers();\n        // Trigger eventual settings-related things\n        _this.handleSettingsUpdate();\n        // Processing data for the first time & render\n        _this.refresh();\n        return _this;\n    }\n    /**---------------------------------------------------------------------------\n     * Internal methods.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Internal function used to create a canvas element.\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvas = function (id) {\n        var canvas = (0, utils_1.createElement)(\"canvas\", {\n            position: \"absolute\",\n        }, {\n            class: \"sigma-\".concat(id),\n        });\n        this.elements[id] = canvas;\n        this.container.appendChild(canvas);\n        return canvas;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvasContext = function (id) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = {\n            preserveDrawingBuffer: false,\n            antialias: false,\n        };\n        this.canvasContexts[id] = canvas.getContext(\"2d\", contextOptions);\n        return this;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string}  id      - Context's id.\n     * @param  {object?} options - #getContext params to override (optional)\n     * @return {Sigma}\n     */\n    Sigma.prototype.createWebGLContext = function (id, options) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = __assign({ preserveDrawingBuffer: false, antialias: false }, (options || {}));\n        var context;\n        // First we try webgl2 for an easy performance boost\n        context = canvas.getContext(\"webgl2\", contextOptions);\n        // Else we fall back to webgl\n        if (!context)\n            context = canvas.getContext(\"webgl\", contextOptions);\n        // Edge, I am looking right at you...\n        if (!context)\n            context = canvas.getContext(\"experimental-webgl\", contextOptions);\n        this.webGLContexts[id] = context;\n        return this;\n    };\n    /**\n     * Method binding camera handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindCameraHandlers = function () {\n        var _this = this;\n        this.activeListeners.camera = function () {\n            _this.scheduleRender();\n        };\n        this.camera.on(\"updated\", this.activeListeners.camera);\n        return this;\n    };\n    /**\n     * Method that checks whether or not a node collides with a given position.\n     */\n    Sigma.prototype.mouseIsOnNode = function (_a, _b, size) {\n        var x = _a.x, y = _a.y;\n        var nodeX = _b.x, nodeY = _b.y;\n        return (x > nodeX - size &&\n            x < nodeX + size &&\n            y > nodeY - size &&\n            y < nodeY + size &&\n            Math.sqrt(Math.pow(x - nodeX, 2) + Math.pow(y - nodeY, 2)) < size);\n    };\n    /**\n     * Method that returns all nodes in quad at a given position.\n     */\n    Sigma.prototype.getQuadNodes = function (position) {\n        var mouseGraphPosition = this.viewportToFramedGraph(position);\n        return this.quadtree.point(mouseGraphPosition.x, 1 - mouseGraphPosition.y);\n    };\n    /**\n     * Method that returns the closest node to a given position.\n     */\n    Sigma.prototype.getNodeAtPosition = function (position) {\n        var x = position.x, y = position.y;\n        var quadNodes = this.getQuadNodes(position);\n        // We will hover the node whose center is closest to mouse\n        var minDistance = Infinity, nodeAtPosition = null;\n        for (var i = 0, l = quadNodes.length; i < l; i++) {\n            var node = quadNodes[i];\n            var data = this.nodeDataCache[node];\n            var nodePosition = this.framedGraphToViewport(data);\n            var size = this.scaleSize(data.size);\n            if (!data.hidden && this.mouseIsOnNode(position, nodePosition, size)) {\n                var distance = Math.sqrt(Math.pow(x - nodePosition.x, 2) + Math.pow(y - nodePosition.y, 2));\n                // TODO: sort by min size also for cases where center is the same\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    nodeAtPosition = node;\n                }\n            }\n        }\n        return nodeAtPosition;\n    };\n    /**\n     * Method binding event handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindEventHandlers = function () {\n        var _this = this;\n        // Handling window resize\n        this.activeListeners.handleResize = function () {\n            _this.scheduleRender();\n        };\n        window.addEventListener(\"resize\", this.activeListeners.handleResize);\n        // Handling mouse move\n        this.activeListeners.handleMove = function (e) {\n            var baseEvent = {\n                event: e,\n                preventSigmaDefault: function () {\n                    e.preventSigmaDefault();\n                },\n            };\n            var nodeToHover = _this.getNodeAtPosition(e);\n            if (nodeToHover && _this.hoveredNode !== nodeToHover && !_this.nodeDataCache[nodeToHover].hidden) {\n                // Handling passing from one node to the other directly\n                if (_this.hoveredNode)\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: _this.hoveredNode }));\n                _this.hoveredNode = nodeToHover;\n                _this.emit(\"enterNode\", __assign(__assign({}, baseEvent), { node: nodeToHover }));\n                _this.scheduleHighlightedNodesRender();\n                return;\n            }\n            // Checking if the hovered node is still hovered\n            if (_this.hoveredNode) {\n                var data = _this.nodeDataCache[_this.hoveredNode];\n                var pos = _this.framedGraphToViewport(data);\n                var size = _this.scaleSize(data.size);\n                if (!_this.mouseIsOnNode(e, pos, size)) {\n                    var node = _this.hoveredNode;\n                    _this.hoveredNode = null;\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: node }));\n                    _this.scheduleHighlightedNodesRender();\n                    return;\n                }\n            }\n            if (_this.settings.enableEdgeHoverEvents === true) {\n                _this.checkEdgeHoverEvents(baseEvent);\n            }\n            else if (_this.settings.enableEdgeHoverEvents === \"debounce\") {\n                if (!_this.checkEdgesEventsFrame)\n                    _this.checkEdgesEventsFrame = (0, utils_1.requestFrame)(function () {\n                        _this.checkEdgeHoverEvents(baseEvent);\n                        _this.checkEdgesEventsFrame = null;\n                    });\n            }\n        };\n        // Handling click\n        var createMouseListener = function (eventType) {\n            return function (e) {\n                var baseEvent = {\n                    event: e,\n                    preventSigmaDefault: function () {\n                        e.preventSigmaDefault();\n                    },\n                };\n                var isFakeSigmaMouseEvent = e.original.isFakeSigmaMouseEvent;\n                var nodeAtPosition = isFakeSigmaMouseEvent ? _this.getNodeAtPosition(e) : _this.hoveredNode;\n                if (nodeAtPosition)\n                    return _this.emit(\"\".concat(eventType, \"Node\"), __assign(__assign({}, baseEvent), { node: nodeAtPosition }));\n                if (eventType === \"wheel\" ? _this.settings.enableEdgeWheelEvents : _this.settings.enableEdgeClickEvents) {\n                    var edge = _this.getEdgeAtPoint(e.x, e.y);\n                    if (edge)\n                        return _this.emit(\"\".concat(eventType, \"Edge\"), __assign(__assign({}, baseEvent), { edge: edge }));\n                }\n                return _this.emit(\"\".concat(eventType, \"Stage\"), baseEvent);\n            };\n        };\n        this.activeListeners.handleClick = createMouseListener(\"click\");\n        this.activeListeners.handleRightClick = createMouseListener(\"rightClick\");\n        this.activeListeners.handleDoubleClick = createMouseListener(\"doubleClick\");\n        this.activeListeners.handleWheel = createMouseListener(\"wheel\");\n        this.activeListeners.handleDown = createMouseListener(\"down\");\n        this.mouseCaptor.on(\"mousemove\", this.activeListeners.handleMove);\n        this.mouseCaptor.on(\"click\", this.activeListeners.handleClick);\n        this.mouseCaptor.on(\"rightClick\", this.activeListeners.handleRightClick);\n        this.mouseCaptor.on(\"doubleClick\", this.activeListeners.handleDoubleClick);\n        this.mouseCaptor.on(\"wheel\", this.activeListeners.handleWheel);\n        this.mouseCaptor.on(\"mousedown\", this.activeListeners.handleDown);\n        // TODO\n        // Deal with Touch captor events\n        return this;\n    };\n    /**\n     * Method binding graph handlers\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindGraphHandlers = function () {\n        var _this = this;\n        var graph = this.graph;\n        this.activeListeners.graphUpdate = function () {\n            _this.scheduleRefresh();\n        };\n        this.activeListeners.dropNodeGraphUpdate = function (e) {\n            delete _this.nodeDataCache[e.key];\n            if (_this.hoveredNode === e.key)\n                _this.hoveredNode = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.dropEdgeGraphUpdate = function (e) {\n            delete _this.edgeDataCache[e.key];\n            if (_this.hoveredEdge === e.key)\n                _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearEdgesGraphUpdate = function () {\n            _this.edgeDataCache = {};\n            _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearGraphUpdate = function () {\n            _this.nodeDataCache = {};\n            _this.hoveredNode = null;\n            _this.activeListeners.clearEdgesGraphUpdate();\n        };\n        graph.on(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.on(\"nodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.on(\"edgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.on(\"cleared\", this.activeListeners.clearGraphUpdate);\n        return this;\n    };\n    /**\n     * Method used to unbind handlers from the graph.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.unbindGraphHandlers = function () {\n        var graph = this.graph;\n        graph.removeListener(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.removeListener(\"nodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.removeListener(\"edgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.removeListener(\"cleared\", this.activeListeners.clearGraphUpdate);\n    };\n    /**\n     * Method dealing with \"leaveEdge\" and \"enterEdge\" events.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.checkEdgeHoverEvents = function (payload) {\n        var edgeToHover = this.hoveredNode ? null : this.getEdgeAtPoint(payload.event.x, payload.event.y);\n        if (edgeToHover !== this.hoveredEdge) {\n            if (this.hoveredEdge)\n                this.emit(\"leaveEdge\", __assign(__assign({}, payload), { edge: this.hoveredEdge }));\n            if (edgeToHover)\n                this.emit(\"enterEdge\", __assign(__assign({}, payload), { edge: edgeToHover }));\n            this.hoveredEdge = edgeToHover;\n        }\n        return this;\n    };\n    /**\n     * Method looking for an edge colliding with a given point at (x, y). Returns\n     * the key of the edge if any, or null else.\n     */\n    Sigma.prototype.getEdgeAtPoint = function (x, y) {\n        var e_1, _a;\n        var _this = this;\n        var _b = this, edgeDataCache = _b.edgeDataCache, nodeDataCache = _b.nodeDataCache;\n        // Check first that pixel is colored:\n        // Note that mouse positions must be corrected by pixel ratio to correctly\n        // index the drawing buffer.\n        if (!(0, edge_collisions_1.isPixelColored)(this.webGLContexts.edges, x * this.pixelRatio, y * this.pixelRatio))\n            return null;\n        // Check for each edge if it collides with the point:\n        var _c = this.viewportToGraph({ x: x, y: y }), graphX = _c.x, graphY = _c.y;\n        // To translate edge thicknesses to the graph system, we observe by how much\n        // the length of a non-null edge is transformed to between the graph system\n        // and the viewport system:\n        var transformationRatio = 0;\n        this.graph.someEdge(function (key, _, sourceId, targetId, _a, _b) {\n            var xs = _a.x, ys = _a.y;\n            var xt = _b.x, yt = _b.y;\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if (xs !== xt || ys !== yt) {\n                var graphLength = Math.sqrt(Math.pow(xt - xs, 2) + Math.pow(yt - ys, 2));\n                var _c = _this.graphToViewport({ x: xs, y: ys }), vp_xs = _c.x, vp_ys = _c.y;\n                var _d = _this.graphToViewport({ x: xt, y: yt }), vp_xt = _d.x, vp_yt = _d.y;\n                var viewportLength = Math.sqrt(Math.pow(vp_xt - vp_xs, 2) + Math.pow(vp_yt - vp_ys, 2));\n                transformationRatio = graphLength / viewportLength;\n                return true;\n            }\n        });\n        // If no non-null edge has been found, return null:\n        if (!transformationRatio)\n            return null;\n        // Now we can look for matching edges:\n        var edges = this.graph.filterEdges(function (key, edgeAttributes, sourceId, targetId, sourcePosition, targetPosition) {\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if ((0, edge_collisions_1.doEdgeCollideWithPoint)(graphX, graphY, sourcePosition.x, sourcePosition.y, targetPosition.x, targetPosition.y, \n            // Adapt the edge size to the zoom ratio:\n            (edgeDataCache[key].size * transformationRatio) / _this.cameraSizeRatio)) {\n                return true;\n            }\n        });\n        if (edges.length === 0)\n            return null; // no edges found\n        // if none of the edges have a zIndex, selected the most recently created one to match the rendering order\n        var selectedEdge = edges[edges.length - 1];\n        // otherwise select edge with highest zIndex\n        var highestZIndex = -Infinity;\n        try {\n            for (var edges_1 = __values(edges), edges_1_1 = edges_1.next(); !edges_1_1.done; edges_1_1 = edges_1.next()) {\n                var edge = edges_1_1.value;\n                var zIndex = this.graph.getEdgeAttribute(edge, \"zIndex\");\n                if (zIndex >= highestZIndex) {\n                    selectedEdge = edge;\n                    highestZIndex = zIndex;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (edges_1_1 && !edges_1_1.done && (_a = edges_1.return)) _a.call(edges_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return selectedEdge;\n    };\n    /**\n     * Method used to process the whole graph's data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.process = function () {\n        var _this = this;\n        var graph = this.graph;\n        var settings = this.settings;\n        var dimensions = this.getDimensions();\n        var nodeZExtent = [Infinity, -Infinity];\n        var edgeZExtent = [Infinity, -Infinity];\n        // Clearing the quad\n        this.quadtree.clear();\n        // Resetting the label grid\n        // TODO: it's probably better to do this explicitly or on resizes for layout and anims\n        this.labelGrid.resizeAndClear(dimensions, settings.labelGridCellSize);\n        // Clear the highlightedNodes\n        this.highlightedNodes = new Set();\n        // Computing extents\n        this.nodeExtent = (0, utils_1.graphExtent)(graph);\n        // Resetting `forceLabel` indices\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        // NOTE: it is important to compute this matrix after computing the node's extent\n        // because #.getGraphDimensions relies on it\n        var nullCamera = new camera_1.default();\n        var nullCameraMatrix = (0, utils_1.matrixFromCamera)(nullCamera.getState(), this.getDimensions(), this.getGraphDimensions(), this.getSetting(\"stagePadding\") || 0);\n        // Rescaling function\n        this.normalizationFunction = (0, utils_1.createNormalizationFunction)(this.customBBox || this.nodeExtent);\n        var nodesPerPrograms = {};\n        var nodes = graph.nodes();\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            // Node display data resolution:\n            //   1. First we get the node's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            //   4. We apply the normalization function\n            // We shallow copy node data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getNodeAttributes(node));\n            if (settings.nodeReducer)\n                attr = settings.nodeReducer(node, attr);\n            var data = applyNodeDefaults(this.settings, node, attr);\n            nodesPerPrograms[data.type] = (nodesPerPrograms[data.type] || 0) + 1;\n            this.nodeDataCache[node] = data;\n            this.normalizationFunction.applyTo(data);\n            if (data.forceLabel)\n                this.nodesWithForcedLabels.push(node);\n            if (this.settings.zIndex) {\n                if (data.zIndex < nodeZExtent[0])\n                    nodeZExtent[0] = data.zIndex;\n                if (data.zIndex > nodeZExtent[1])\n                    nodeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.nodePrograms) {\n            if (!this.nodePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(type, \"\\\"!\"));\n            }\n            this.nodePrograms[type].reallocate(nodesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            nodesPerPrograms[type] = 0;\n        }\n        // Handling node z-index\n        // TODO: z-index needs us to compute display data before hand\n        if (this.settings.zIndex && nodeZExtent[0] !== nodeZExtent[1])\n            nodes = (0, utils_1.zIndexOrdering)(nodeZExtent, function (node) { return _this.nodeDataCache[node].zIndex; }, nodes);\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            var data = this.nodeDataCache[node];\n            this.quadtree.add(node, data.x, 1 - data.y, data.size / this.width);\n            if (typeof data.label === \"string\" && !data.hidden)\n                this.labelGrid.add(node, data.size, this.framedGraphToViewport(data, { matrix: nullCameraMatrix }));\n            var nodeProgram = this.nodePrograms[data.type];\n            if (!nodeProgram)\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(data.type, \"\\\"!\"));\n            nodeProgram.process(nodesPerPrograms[data.type]++, data);\n            // Save the node in the highlighted set if needed\n            if (data.highlighted && !data.hidden)\n                this.highlightedNodes.add(node);\n        }\n        this.labelGrid.organize();\n        var edgesPerPrograms = {};\n        var edges = graph.edges();\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            // Edge display data resolution:\n            //   1. First we get the edge's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            // We shallow copy edge data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getEdgeAttributes(edge));\n            if (settings.edgeReducer)\n                attr = settings.edgeReducer(edge, attr);\n            var data = applyEdgeDefaults(this.settings, edge, attr);\n            edgesPerPrograms[data.type] = (edgesPerPrograms[data.type] || 0) + 1;\n            this.edgeDataCache[edge] = data;\n            if (data.forceLabel && !data.hidden)\n                this.edgesWithForcedLabels.push(edge);\n            if (this.settings.zIndex) {\n                if (data.zIndex < edgeZExtent[0])\n                    edgeZExtent[0] = data.zIndex;\n                if (data.zIndex > edgeZExtent[1])\n                    edgeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.edgePrograms) {\n            if (!this.edgePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for edge type \\\"\".concat(type, \"\\\"!\"));\n            }\n            this.edgePrograms[type].reallocate(edgesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            edgesPerPrograms[type] = 0;\n        }\n        // Handling edge z-index\n        if (this.settings.zIndex && edgeZExtent[0] !== edgeZExtent[1])\n            edges = (0, utils_1.zIndexOrdering)(edgeZExtent, function (edge) { return _this.edgeDataCache[edge].zIndex; }, edges);\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            var data = this.edgeDataCache[edge];\n            var extremities = graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]];\n            this.edgePrograms[data.type].process(edgesPerPrograms[data.type]++, sourceData, targetData, data);\n        }\n        return this;\n    };\n    /**\n     * Method that backports potential settings updates where it's needed.\n     * @private\n     */\n    Sigma.prototype.handleSettingsUpdate = function () {\n        this.camera.minRatio = this.settings.minCameraRatio;\n        this.camera.maxRatio = this.settings.maxCameraRatio;\n        this.camera.setState(this.camera.validateState(this.camera.getState()));\n        return this;\n    };\n    /**\n     * Method used to render labels.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderLabels = function () {\n        if (!this.settings.renderLabels)\n            return this;\n        var cameraState = this.camera.getState();\n        // Selecting labels to draw\n        var labelsToDisplay = this.labelGrid.getLabelsToDisplay(cameraState.ratio, this.settings.labelDensity);\n        (0, extend_1.default)(labelsToDisplay, this.nodesWithForcedLabels);\n        this.displayedNodeLabels = new Set();\n        // Drawing labels\n        var context = this.canvasContexts.labels;\n        for (var i = 0, l = labelsToDisplay.length; i < l; i++) {\n            var node = labelsToDisplay[i];\n            var data = this.nodeDataCache[node];\n            // If the node was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            // NOTE: we can do better probably\n            if (this.displayedNodeLabels.has(node))\n                continue;\n            // If the node is hidden, we don't need to display its label obviously\n            if (data.hidden)\n                continue;\n            var _a = this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            // NOTE: we can cache the labels we need to render until the camera's ratio changes\n            var size = this.scaleSize(data.size);\n            // Is node big enough?\n            if (!data.forceLabel && size < this.settings.labelRenderedSizeThreshold)\n                continue;\n            // Is node actually on screen (with some margin)\n            // NOTE: we used to rely on the quadtree for this, but the coordinates\n            // conversion make it unreliable and at that point we already converted\n            // to viewport coordinates and since the label grid already culls the\n            // number of potential labels to display this looks like a good\n            // performance compromise.\n            // NOTE: labelGrid.getLabelsToDisplay could probably optimize by not\n            // considering cells obviously outside of the range of the current\n            // view rectangle.\n            if (x < -X_LABEL_MARGIN ||\n                x > this.width + X_LABEL_MARGIN ||\n                y < -Y_LABEL_MARGIN ||\n                y > this.height + Y_LABEL_MARGIN)\n                continue;\n            // Because displayed edge labels depend directly on actually rendered node\n            // labels, we need to only add to this.displayedNodeLabels nodes whose label\n            // is rendered.\n            // This makes this.displayedNodeLabels depend on viewport, which might become\n            // an issue once we start memoizing getLabelsToDisplay.\n            this.displayedNodeLabels.add(node);\n            this.settings.labelRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), this.settings);\n        }\n        return this;\n    };\n    /**\n     * Method used to render edge labels, based on which node labels were\n     * rendered.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderEdgeLabels = function () {\n        if (!this.settings.renderEdgeLabels)\n            return this;\n        var context = this.canvasContexts.edgeLabels;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        var edgeLabelsToDisplay = (0, labels_1.edgeLabelsToDisplayFromNodes)({\n            graph: this.graph,\n            hoveredNode: this.hoveredNode,\n            displayedNodeLabels: this.displayedNodeLabels,\n            highlightedNodes: this.highlightedNodes,\n        }).concat(this.edgesWithForcedLabels);\n        var displayedLabels = new Set();\n        for (var i = 0, l = edgeLabelsToDisplay.length; i < l; i++) {\n            var edge = edgeLabelsToDisplay[i], extremities = this.graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]], edgeData = this.edgeDataCache[edge];\n            // If the edge was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (displayedLabels.has(edge))\n                continue;\n            // If the edge is hidden we don't need to display its label\n            // NOTE: the test on sourceData & targetData is probably paranoid at this point?\n            if (edgeData.hidden || sourceData.hidden || targetData.hidden) {\n                continue;\n            }\n            this.settings.edgeLabelRenderer(context, __assign(__assign({ key: edge }, edgeData), { size: this.scaleSize(edgeData.size) }), __assign(__assign(__assign({ key: extremities[0] }, sourceData), this.framedGraphToViewport(sourceData)), { size: this.scaleSize(sourceData.size) }), __assign(__assign(__assign({ key: extremities[1] }, targetData), this.framedGraphToViewport(targetData)), { size: this.scaleSize(targetData.size) }), this.settings);\n            displayedLabels.add(edge);\n        }\n        this.displayedEdgeLabels = displayedLabels;\n        return this;\n    };\n    /**\n     * Method used to render the highlighted nodes.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderHighlightedNodes = function () {\n        var _this = this;\n        var context = this.canvasContexts.hovers;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        // Rendering\n        var render = function (node) {\n            var data = _this.nodeDataCache[node];\n            var _a = _this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            var size = _this.scaleSize(data.size);\n            _this.settings.hoverRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), _this.settings);\n        };\n        var nodesToRender = [];\n        if (this.hoveredNode && !this.nodeDataCache[this.hoveredNode].hidden) {\n            nodesToRender.push(this.hoveredNode);\n        }\n        this.highlightedNodes.forEach(function (node) {\n            // The hovered node has already been highlighted\n            if (node !== _this.hoveredNode)\n                nodesToRender.push(node);\n        });\n        // Draw labels:\n        nodesToRender.forEach(function (node) { return render(node); });\n        // Draw WebGL nodes on top of the labels:\n        var nodesPerPrograms = {};\n        // 1. Count nodes per type:\n        nodesToRender.forEach(function (node) {\n            var type = _this.nodeDataCache[node].type;\n            nodesPerPrograms[type] = (nodesPerPrograms[type] || 0) + 1;\n        });\n        // 2. Allocate for each type for the proper number of nodes\n        for (var type in this.nodeHoverPrograms) {\n            this.nodeHoverPrograms[type].reallocate(nodesPerPrograms[type] || 0);\n            // Also reset count, to use when rendering:\n            nodesPerPrograms[type] = 0;\n        }\n        // 3. Process all nodes to render:\n        nodesToRender.forEach(function (node) {\n            var data = _this.nodeDataCache[node];\n            _this.nodeHoverPrograms[data.type].process(nodesPerPrograms[data.type]++, data);\n        });\n        // 4. Clear hovered nodes layer:\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        // 5. Render:\n        for (var type in this.nodeHoverPrograms) {\n            var program = this.nodeHoverPrograms[type];\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                pixelRatio: this.pixelRatio,\n                zoomRatio: this.camera.ratio,\n                sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n                correctionRatio: this.correctionRatio,\n            });\n        }\n    };\n    /**\n     * Method used to schedule a hover render.\n     *\n     */\n    Sigma.prototype.scheduleHighlightedNodesRender = function () {\n        var _this = this;\n        if (this.renderHighlightedNodesFrame || this.renderFrame)\n            return;\n        this.renderHighlightedNodesFrame = (0, utils_1.requestFrame)(function () {\n            // Resetting state\n            _this.renderHighlightedNodesFrame = null;\n            // Rendering\n            _this.renderHighlightedNodes();\n            _this.renderEdgeLabels();\n        });\n    };\n    /**\n     * Method used to render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.render = function () {\n        var _this = this;\n        this.emit(\"beforeRender\");\n        var exitRender = function () {\n            _this.emit(\"afterRender\");\n            return _this;\n        };\n        // If a render was scheduled, we cancel it\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        // First we need to resize\n        this.resize();\n        // Recomputing useful camera-related values:\n        this.updateCachedValues();\n        // Do we need to reprocess data?\n        if (this.needToProcess)\n            this.process();\n        this.needToProcess = false;\n        // Clearing the canvases\n        this.clear();\n        // If we have no nodes we can stop right there\n        if (!this.graph.order)\n            return exitRender();\n        // TODO: improve this heuristic or move to the captor itself?\n        // TODO: deal with the touch captor here as well\n        var mouseCaptor = this.mouseCaptor;\n        var moving = this.camera.isAnimated() ||\n            mouseCaptor.isMoving ||\n            mouseCaptor.draggedEvents ||\n            mouseCaptor.currentWheelDirection;\n        // Then we need to extract a matrix from the camera\n        var cameraState = this.camera.getState();\n        var viewportDimensions = this.getDimensions();\n        var graphDimensions = this.getGraphDimensions();\n        var padding = this.getSetting(\"stagePadding\") || 0;\n        this.matrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding);\n        this.invMatrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding, true);\n        this.correctionRatio = (0, utils_1.getMatrixImpact)(this.matrix, cameraState, viewportDimensions);\n        var params = {\n            matrix: this.matrix,\n            width: this.width,\n            height: this.height,\n            pixelRatio: this.pixelRatio,\n            zoomRatio: this.camera.ratio,\n            sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n            correctionRatio: this.correctionRatio,\n        };\n        // Drawing nodes\n        for (var type in this.nodePrograms) {\n            var program = this.nodePrograms[type];\n            program.render(params);\n        }\n        // Drawing edges\n        if (!this.settings.hideEdgesOnMove || !moving) {\n            for (var type in this.edgePrograms) {\n                var program = this.edgePrograms[type];\n                program.render(params);\n            }\n        }\n        // Do not display labels on move per setting\n        if (this.settings.hideLabelsOnMove && moving)\n            return exitRender();\n        this.renderLabels();\n        this.renderEdgeLabels();\n        this.renderHighlightedNodes();\n        return exitRender();\n    };\n    /**\n     * Internal method used to update expensive and therefore cached values\n     * each time the camera state is updated.\n     */\n    Sigma.prototype.updateCachedValues = function () {\n        var ratio = this.camera.getState().ratio;\n        this.cameraSizeRatio = this.settings.zoomToSizeRatioFunction(ratio);\n    };\n    /**---------------------------------------------------------------------------\n     * Public API.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Method returning the renderer's camera.\n     *\n     * @return {Camera}\n     */\n    Sigma.prototype.getCamera = function () {\n        return this.camera;\n    };\n    /**\n     * Method returning the container DOM element.\n     *\n     * @return {HTMLElement}\n     */\n    Sigma.prototype.getContainer = function () {\n        return this.container;\n    };\n    /**\n     * Method returning the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.getGraph = function () {\n        return this.graph;\n    };\n    /**\n     * Method used to set the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.setGraph = function (graph) {\n        if (graph === this.graph)\n            return;\n        // Unbinding handlers on the current graph\n        this.unbindGraphHandlers();\n        // Clearing the graph data caches\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        // Cleaning renderer state tied to the current graph\n        this.displayedNodeLabels.clear();\n        this.displayedEdgeLabels.clear();\n        this.highlightedNodes.clear();\n        this.hoveredNode = null;\n        this.hoveredEdge = null;\n        this.nodesWithForcedLabels.length = 0;\n        this.edgesWithForcedLabels.length = 0;\n        if (this.checkEdgesEventsFrame !== null) {\n            (0, utils_1.cancelFrame)(this.checkEdgesEventsFrame);\n            this.checkEdgesEventsFrame = null;\n        }\n        // Installing new graph\n        this.graph = graph;\n        // Binding new handlers\n        this.bindGraphHandlers();\n        // Re-rendering now to avoid discrepancies from now to next frame\n        this.refresh();\n    };\n    /**\n     * Method returning the mouse captor.\n     *\n     * @return {MouseCaptor}\n     */\n    Sigma.prototype.getMouseCaptor = function () {\n        return this.mouseCaptor;\n    };\n    /**\n     * Method returning the touch captor.\n     *\n     * @return {TouchCaptor}\n     */\n    Sigma.prototype.getTouchCaptor = function () {\n        return this.touchCaptor;\n    };\n    /**\n     * Method returning the current renderer's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getDimensions = function () {\n        return { width: this.width, height: this.height };\n    };\n    /**\n     * Method returning the current graph's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getGraphDimensions = function () {\n        var extent = this.customBBox || this.nodeExtent;\n        return {\n            width: extent.x[1] - extent.x[0] || 1,\n            height: extent.y[1] - extent.y[0] || 1,\n        };\n    };\n    /**\n     * Method used to get all the sigma node attributes.\n     * It's usefull for example to get the position of a node\n     * and to get values that are set by the nodeReducer\n     *\n     * @param  {string} key - The node's key.\n     * @return {NodeDisplayData | undefined} A copy of the desired node's attribute or undefined if not found\n     */\n    Sigma.prototype.getNodeDisplayData = function (key) {\n        var node = this.nodeDataCache[key];\n        return node ? Object.assign({}, node) : undefined;\n    };\n    /**\n     * Method used to get all the sigma edge attributes.\n     * It's usefull for example to get values that are set by the edgeReducer.\n     *\n     * @param  {string} key - The edge's key.\n     * @return {EdgeDisplayData | undefined} A copy of the desired edge's attribute or undefined if not found\n     */\n    Sigma.prototype.getEdgeDisplayData = function (key) {\n        var edge = this.edgeDataCache[key];\n        return edge ? Object.assign({}, edge) : undefined;\n    };\n    /**\n     * Method used to get the set of currently displayed node labels.\n     *\n     * @return {Set<string>} A set of node keys whose label is displayed.\n     */\n    Sigma.prototype.getNodeDisplayedLabels = function () {\n        return new Set(this.displayedNodeLabels);\n    };\n    /**\n     * Method used to get the set of currently displayed edge labels.\n     *\n     * @return {Set<string>} A set of edge keys whose label is displayed.\n     */\n    Sigma.prototype.getEdgeDisplayedLabels = function () {\n        return new Set(this.displayedEdgeLabels);\n    };\n    /**\n     * Method returning a copy of the settings collection.\n     *\n     * @return {Settings} A copy of the settings collection.\n     */\n    Sigma.prototype.getSettings = function () {\n        return __assign({}, this.settings);\n    };\n    /**\n     * Method returning the current value for a given setting key.\n     *\n     * @param  {string} key - The setting key to get.\n     * @return {any} The value attached to this setting key or undefined if not found\n     */\n    Sigma.prototype.getSetting = function (key) {\n        return this.settings[key];\n    };\n    /**\n     * Method setting the value of a given setting key. Note that this will schedule\n     * a new render next frame.\n     *\n     * @param  {string} key - The setting key to set.\n     * @param  {any}    value - The value to set.\n     * @return {Sigma}\n     */\n    Sigma.prototype.setSetting = function (key, value) {\n        this.settings[key] = value;\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method updating the value of a given setting key using the provided function.\n     * Note that this will schedule a new render next frame.\n     *\n     * @param  {string}   key     - The setting key to set.\n     * @param  {function} updater - The update function.\n     * @return {Sigma}\n     */\n    Sigma.prototype.updateSetting = function (key, updater) {\n        this.settings[key] = updater(this.settings[key]);\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to resize the renderer.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.resize = function () {\n        var previousWidth = this.width, previousHeight = this.height;\n        this.width = this.container.offsetWidth;\n        this.height = this.container.offsetHeight;\n        this.pixelRatio = (0, utils_1.getPixelRatio)();\n        if (this.width === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.width = 1;\n            else\n                throw new Error(\"Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        if (this.height === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.height = 1;\n            else\n                throw new Error(\"Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        // If nothing has changed, we can stop right here\n        if (previousWidth === this.width && previousHeight === this.height)\n            return this;\n        this.emit(\"resize\");\n        // Sizing dom elements\n        for (var id in this.elements) {\n            var element = this.elements[id];\n            element.style.width = this.width + \"px\";\n            element.style.height = this.height + \"px\";\n        }\n        // Sizing canvas contexts\n        for (var id in this.canvasContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            if (this.pixelRatio !== 1)\n                this.canvasContexts[id].scale(this.pixelRatio, this.pixelRatio);\n        }\n        // Sizing WebGL contexts\n        for (var id in this.webGLContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            this.webGLContexts[id].viewport(0, 0, this.width * this.pixelRatio, this.height * this.pixelRatio);\n        }\n        return this;\n    };\n    /**\n     * Method used to clear all the canvases.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.clear = function () {\n        this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT);\n        this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT);\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        this.canvasContexts.labels.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.hovers.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.edgeLabels.clearRect(0, 0, this.width, this.height);\n        return this;\n    };\n    /**\n     * Method used to refresh, i.e. force the renderer to fully reprocess graph\n     * data and render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.refresh = function () {\n        this.needToProcess = true;\n        this.render();\n        return this;\n    };\n    /**\n     * Method used to schedule a render at the next available frame.\n     * This method can be safely called on a same frame because it basically\n     * debounce refresh to the next frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRender = function () {\n        var _this = this;\n        if (!this.renderFrame) {\n            this.renderFrame = (0, utils_1.requestFrame)(function () {\n                _this.render();\n            });\n        }\n        return this;\n    };\n    /**\n     * Method used to schedule a refresh (i.e. fully reprocess graph data and render)\n     * at the next available frame.\n     * This method can be safely called on a same frame because it basically\n     * debounce refresh to the next frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRefresh = function () {\n        this.needToProcess = true;\n        this.scheduleRender();\n        return this;\n    };\n    /**\n     * Method used to (un)zoom, while preserving the position of a viewport point.\n     * Used for instance to zoom \"on the mouse cursor\".\n     *\n     * @param viewportTarget\n     * @param newRatio\n     * @return {CameraState}\n     */\n    Sigma.prototype.getViewportZoomedState = function (viewportTarget, newRatio) {\n        var _a = this.camera.getState(), ratio = _a.ratio, angle = _a.angle, x = _a.x, y = _a.y;\n        // TODO: handle max zoom\n        var ratioDiff = newRatio / ratio;\n        var center = {\n            x: this.width / 2,\n            y: this.height / 2,\n        };\n        var graphMousePosition = this.viewportToFramedGraph(viewportTarget);\n        var graphCenterPosition = this.viewportToFramedGraph(center);\n        return {\n            angle: angle,\n            x: (graphMousePosition.x - graphCenterPosition.x) * (1 - ratioDiff) + x,\n            y: (graphMousePosition.y - graphCenterPosition.y) * (1 - ratioDiff) + y,\n            ratio: newRatio,\n        };\n    };\n    /**\n     * Method returning the abstract rectangle containing the graph according\n     * to the camera's state.\n     *\n     * @return {object} - The view's rectangle.\n     */\n    Sigma.prototype.viewRectangle = function () {\n        // TODO: reduce relative margin?\n        var marginX = (0 * this.width) / 8, marginY = (0 * this.height) / 8;\n        var p1 = this.viewportToFramedGraph({ x: 0 - marginX, y: 0 - marginY }), p2 = this.viewportToFramedGraph({ x: this.width + marginX, y: 0 - marginY }), h = this.viewportToFramedGraph({ x: 0, y: this.height + marginY });\n        return {\n            x1: p1.x,\n            y1: p1.y,\n            x2: p2.x,\n            y2: p2.y,\n            height: p2.y - h.y,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the framed graph system to the viewport system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.framedGraphToViewport = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !!override.graphDimensions;\n        var matrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0)\n                : this.matrix;\n        var viewportPos = (0, matrices_1.multiplyVec2)(matrix, coordinates);\n        return {\n            x: ((1 + viewportPos.x) * this.width) / 2,\n            y: ((1 - viewportPos.y) * this.height) / 2,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the viewport system to the framed graph system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.viewportToFramedGraph = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !override.graphDimensions;\n        var invMatrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0, true)\n                : this.invMatrix;\n        var res = (0, matrices_1.multiplyVec2)(invMatrix, {\n            x: (coordinates.x / this.width) * 2 - 1,\n            y: 1 - (coordinates.y / this.height) * 2,\n        });\n        if (isNaN(res.x))\n            res.x = 0;\n        if (isNaN(res.y))\n            res.y = 0;\n        return res;\n    };\n    /**\n     * Method used to translate a point's coordinates from the viewport system (pixel distance from the top-left of the\n     * stage) to the graph system (the reference system of data as they are in the given graph instance).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  viewportPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.viewportToGraph = function (viewportPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.normalizationFunction.inverse(this.viewportToFramedGraph(viewportPoint, override));\n    };\n    /**\n     * Method used to translate a point's coordinates from the graph system (the reference system of data as they are in\n     * the given graph instance) to the viewport system (pixel distance from the top-left of the stage).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  graphPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.graphToViewport = function (graphPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.framedGraphToViewport(this.normalizationFunction(graphPoint), override);\n    };\n    /**\n     * Method returning the graph's bounding box.\n     *\n     * @return {{ x: Extent, y: Extent }}\n     */\n    Sigma.prototype.getBBox = function () {\n        return (0, utils_1.graphExtent)(this.graph);\n    };\n    /**\n     * Method returning the graph's custom bounding box, if any.\n     *\n     * @return {{ x: Extent, y: Extent } | null}\n     */\n    Sigma.prototype.getCustomBBox = function () {\n        return this.customBBox;\n    };\n    /**\n     * Method used to override the graph's bounding box with a custom one. Give `null` as the argument to stop overriding.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.setCustomBBox = function (customBBox) {\n        this.customBBox = customBBox;\n        this.scheduleRender();\n        return this;\n    };\n    /**\n     * Method used to shut the container & release event listeners.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.kill = function () {\n        // Emitting \"kill\" events so that plugins and such can cleanup\n        this.emit(\"kill\");\n        // Releasing events\n        this.removeAllListeners();\n        // Releasing camera handlers\n        this.camera.removeListener(\"updated\", this.activeListeners.camera);\n        // Releasing DOM events & captors\n        window.removeEventListener(\"resize\", this.activeListeners.handleResize);\n        this.mouseCaptor.kill();\n        this.touchCaptor.kill();\n        // Releasing graph handlers\n        this.unbindGraphHandlers();\n        // Releasing cache & state\n        this.quadtree = new quadtree_1.default();\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        this.highlightedNodes.clear();\n        // Clearing frames\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        if (this.renderHighlightedNodesFrame) {\n            (0, utils_1.cancelFrame)(this.renderHighlightedNodesFrame);\n            this.renderHighlightedNodesFrame = null;\n        }\n        // Destroying canvases\n        var container = this.container;\n        while (container.firstChild)\n            container.removeChild(container.firstChild);\n    };\n    /**\n     * Method used to scale the given size according to the camera's ratio, i.e.\n     * zooming state.\n     *\n     * @param  {number} size - The size to scale (node size, edge thickness etc.).\n     * @return {number}      - The scaled size.\n     */\n    Sigma.prototype.scaleSize = function (size) {\n        return size / this.cameraSizeRatio;\n    };\n    /**\n     * Method that returns the collection of all used canvases.\n     * At the moment, the instantiated canvases are the following, and in the\n     * following order in the DOM:\n     * - `edges`\n     * - `nodes`\n     * - `edgeLabels`\n     * - `labels`\n     * - `hovers`\n     * - `hoverNodes`\n     * - `mouse`\n     *\n     * @return {PlainObject<HTMLCanvasElement>} - The collection of canvases.\n     */\n    Sigma.prototype.getCanvases = function () {\n        return __assign({}, this.elements);\n    };\n    return Sigma;\n}(types_1.TypedEventEmitter));\nexports.default = Sigma;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\n/**\n * Sigma.js Types\n * ===============\n *\n * Various type declarations used throughout the library.\n * @module\n */\nvar events_1 = require(\"events\");\nvar TypedEventEmitter = /** @class */ (function (_super) {\n    __extends(TypedEventEmitter, _super);\n    function TypedEventEmitter() {\n        var _this = _super.call(this) || this;\n        _this.rawEmitter = _this;\n        return _this;\n    }\n    return TypedEventEmitter;\n}(events_1.EventEmitter));\nexports.TypedEventEmitter = TypedEventEmitter;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animateNodes = exports.ANIMATE_DEFAULTS = void 0;\nvar index_1 = require(\"./index\");\nvar easings_1 = __importDefault(require(\"./easings\"));\nexports.ANIMATE_DEFAULTS = {\n    easing: \"quadraticInOut\",\n    duration: 150,\n};\n/**\n * Function used to animate the nodes.\n */\nfunction animateNodes(graph, targets, opts, callback) {\n    var options = Object.assign({}, exports.ANIMATE_DEFAULTS, opts);\n    var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n    var start = Date.now();\n    var startPositions = {};\n    for (var node in targets) {\n        var attrs = targets[node];\n        startPositions[node] = {};\n        for (var k in attrs)\n            startPositions[node][k] = graph.getNodeAttribute(node, k);\n    }\n    var frame = null;\n    var step = function () {\n        frame = null;\n        var p = (Date.now() - start) / options.duration;\n        if (p >= 1) {\n            // Animation is done\n            for (var node in targets) {\n                var attrs = targets[node];\n                // We use given values to avoid precision issues and for convenience\n                for (var k in attrs)\n                    graph.setNodeAttribute(node, k, attrs[k]);\n            }\n            if (typeof callback === \"function\")\n                callback();\n            return;\n        }\n        p = easing(p);\n        for (var node in targets) {\n            var attrs = targets[node];\n            var s = startPositions[node];\n            for (var k in attrs)\n                graph.setNodeAttribute(node, k, attrs[k] * p + s[k] * (1 - p));\n        }\n        frame = (0, index_1.requestFrame)(step);\n    };\n    step();\n    return function () {\n        if (frame)\n            (0, index_1.cancelFrame)(frame);\n    };\n}\nexports.animateNodes = animateNodes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTML_COLORS = void 0;\nexports.HTML_COLORS = {\n    black: \"#000000\",\n    silver: \"#C0C0C0\",\n    gray: \"#808080\",\n    grey: \"#808080\",\n    white: \"#FFFFFF\",\n    maroon: \"#800000\",\n    red: \"#FF0000\",\n    purple: \"#800080\",\n    fuchsia: \"#FF00FF\",\n    green: \"#008000\",\n    lime: \"#00FF00\",\n    olive: \"#808000\",\n    yellow: \"#FFFF00\",\n    navy: \"#000080\",\n    blue: \"#0000FF\",\n    teal: \"#008080\",\n    aqua: \"#00FFFF\",\n    darkblue: \"#00008B\",\n    mediumblue: \"#0000CD\",\n    darkgreen: \"#006400\",\n    darkcyan: \"#008B8B\",\n    deepskyblue: \"#00BFFF\",\n    darkturquoise: \"#00CED1\",\n    mediumspringgreen: \"#00FA9A\",\n    springgreen: \"#00FF7F\",\n    cyan: \"#00FFFF\",\n    midnightblue: \"#191970\",\n    dodgerblue: \"#1E90FF\",\n    lightseagreen: \"#20B2AA\",\n    forestgreen: \"#228B22\",\n    seagreen: \"#2E8B57\",\n    darkslategray: \"#2F4F4F\",\n    darkslategrey: \"#2F4F4F\",\n    limegreen: \"#32CD32\",\n    mediumseagreen: \"#3CB371\",\n    turquoise: \"#40E0D0\",\n    royalblue: \"#4169E1\",\n    steelblue: \"#4682B4\",\n    darkslateblue: \"#483D8B\",\n    mediumturquoise: \"#48D1CC\",\n    indigo: \"#4B0082\",\n    darkolivegreen: \"#556B2F\",\n    cadetblue: \"#5F9EA0\",\n    cornflowerblue: \"#6495ED\",\n    rebeccapurple: \"#663399\",\n    mediumaquamarine: \"#66CDAA\",\n    dimgray: \"#696969\",\n    dimgrey: \"#696969\",\n    slateblue: \"#6A5ACD\",\n    olivedrab: \"#6B8E23\",\n    slategray: \"#708090\",\n    slategrey: \"#708090\",\n    lightslategray: \"#778899\",\n    lightslategrey: \"#778899\",\n    mediumslateblue: \"#7B68EE\",\n    lawngreen: \"#7CFC00\",\n    chartreuse: \"#7FFF00\",\n    aquamarine: \"#7FFFD4\",\n    skyblue: \"#87CEEB\",\n    lightskyblue: \"#87CEFA\",\n    blueviolet: \"#8A2BE2\",\n    darkred: \"#8B0000\",\n    darkmagenta: \"#8B008B\",\n    saddlebrown: \"#8B4513\",\n    darkseagreen: \"#8FBC8F\",\n    lightgreen: \"#90EE90\",\n    mediumpurple: \"#9370DB\",\n    darkviolet: \"#9400D3\",\n    palegreen: \"#98FB98\",\n    darkorchid: \"#9932CC\",\n    yellowgreen: \"#9ACD32\",\n    sienna: \"#A0522D\",\n    brown: \"#A52A2A\",\n    darkgray: \"#A9A9A9\",\n    darkgrey: \"#A9A9A9\",\n    lightblue: \"#ADD8E6\",\n    greenyellow: \"#ADFF2F\",\n    paleturquoise: \"#AFEEEE\",\n    lightsteelblue: \"#B0C4DE\",\n    powderblue: \"#B0E0E6\",\n    firebrick: \"#B22222\",\n    darkgoldenrod: \"#B8860B\",\n    mediumorchid: \"#BA55D3\",\n    rosybrown: \"#BC8F8F\",\n    darkkhaki: \"#BDB76B\",\n    mediumvioletred: \"#C71585\",\n    indianred: \"#CD5C5C\",\n    peru: \"#CD853F\",\n    chocolate: \"#D2691E\",\n    tan: \"#D2B48C\",\n    lightgray: \"#D3D3D3\",\n    lightgrey: \"#D3D3D3\",\n    thistle: \"#D8BFD8\",\n    orchid: \"#DA70D6\",\n    goldenrod: \"#DAA520\",\n    palevioletred: \"#DB7093\",\n    crimson: \"#DC143C\",\n    gainsboro: \"#DCDCDC\",\n    plum: \"#DDA0DD\",\n    burlywood: \"#DEB887\",\n    lightcyan: \"#E0FFFF\",\n    lavender: \"#E6E6FA\",\n    darksalmon: \"#E9967A\",\n    violet: \"#EE82EE\",\n    palegoldenrod: \"#EEE8AA\",\n    lightcoral: \"#F08080\",\n    khaki: \"#F0E68C\",\n    aliceblue: \"#F0F8FF\",\n    honeydew: \"#F0FFF0\",\n    azure: \"#F0FFFF\",\n    sandybrown: \"#F4A460\",\n    wheat: \"#F5DEB3\",\n    beige: \"#F5F5DC\",\n    whitesmoke: \"#F5F5F5\",\n    mintcream: \"#F5FFFA\",\n    ghostwhite: \"#F8F8FF\",\n    salmon: \"#FA8072\",\n    antiquewhite: \"#FAEBD7\",\n    linen: \"#FAF0E6\",\n    lightgoldenrodyellow: \"#FAFAD2\",\n    oldlace: \"#FDF5E6\",\n    magenta: \"#FF00FF\",\n    deeppink: \"#FF1493\",\n    orangered: \"#FF4500\",\n    tomato: \"#FF6347\",\n    hotpink: \"#FF69B4\",\n    coral: \"#FF7F50\",\n    darkorange: \"#FF8C00\",\n    lightsalmon: \"#FFA07A\",\n    orange: \"#FFA500\",\n    lightpink: \"#FFB6C1\",\n    pink: \"#FFC0CB\",\n    gold: \"#FFD700\",\n    peachpuff: \"#FFDAB9\",\n    navajowhite: \"#FFDEAD\",\n    moccasin: \"#FFE4B5\",\n    bisque: \"#FFE4C4\",\n    mistyrose: \"#FFE4E1\",\n    blanchedalmond: \"#FFEBCD\",\n    papayawhip: \"#FFEFD5\",\n    lavenderblush: \"#FFF0F5\",\n    seashell: \"#FFF5EE\",\n    cornsilk: \"#FFF8DC\",\n    lemonchiffon: \"#FFFACD\",\n    floralwhite: \"#FFFAF0\",\n    snow: \"#FFFAFA\",\n    lightyellow: \"#FFFFE0\",\n    ivory: \"#FFFFF0\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cubicInOut = exports.cubicOut = exports.cubicIn = exports.quadraticInOut = exports.quadraticOut = exports.quadraticIn = exports.linear = void 0;\n/**\n * Sigma.js Easings\n * =================\n *\n * Handy collection of easing functions.\n * @module\n */\nvar linear = function (k) { return k; };\nexports.linear = linear;\nvar quadraticIn = function (k) { return k * k; };\nexports.quadraticIn = quadraticIn;\nvar quadraticOut = function (k) { return k * (2 - k); };\nexports.quadraticOut = quadraticOut;\nvar quadraticInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k;\n    return -0.5 * (--k * (k - 2) - 1);\n};\nexports.quadraticInOut = quadraticInOut;\nvar cubicIn = function (k) { return k * k * k; };\nexports.cubicIn = cubicIn;\nvar cubicOut = function (k) { return --k * k * k + 1; };\nexports.cubicOut = cubicOut;\nvar cubicInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k * k;\n    return 0.5 * ((k -= 2) * k * k + 2);\n};\nexports.cubicInOut = cubicInOut;\nvar easings = {\n    linear: exports.linear,\n    quadraticIn: exports.quadraticIn,\n    quadraticOut: exports.quadraticOut,\n    quadraticInOut: exports.quadraticInOut,\n    cubicIn: exports.cubicIn,\n    cubicOut: exports.cubicOut,\n    cubicInOut: exports.cubicInOut,\n};\nexports.default = easings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.doEdgeCollideWithPoint = exports.isPixelColored = void 0;\n/**\n * This helper returns true is the pixel at (x,y) in the given WebGL context is\n * colored, and false else.\n */\nfunction isPixelColored(gl, x, y) {\n    var pixels = new Uint8Array(4);\n    gl.readPixels(x, gl.drawingBufferHeight - y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return pixels[3] > 0;\n}\nexports.isPixelColored = isPixelColored;\n/**\n * This helper checks whether or not a point (x, y) collides with an\n * edge, connecting a source (xS, yS) to a target (xT, yT) with a thickness in\n * pixels.\n */\nfunction doEdgeCollideWithPoint(x, y, xS, yS, xT, yT, thickness) {\n    // Check first if point is out of the rectangle which opposite corners are the\n    // source and the target, rectangle we expand by `thickness` in every\n    // directions:\n    if (x < xS - thickness && x < xT - thickness)\n        return false;\n    if (y < yS - thickness && y < yT - thickness)\n        return false;\n    if (x > xS + thickness && x > xT + thickness)\n        return false;\n    if (y > yS + thickness && y > yT + thickness)\n        return false;\n    // Check actual collision now: Since we now the point is in this big rectangle\n    // we \"just\" need to check that the distance between the point and the line\n    // connecting the source and the target is less than `thickness`:\n    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    var distance = Math.abs((xT - xS) * (yS - y) - (xS - x) * (yT - yS)) / Math.sqrt(Math.pow(xT - xS, 2) + Math.pow(yT - yS, 2));\n    return distance < thickness / 2;\n}\nexports.doEdgeCollideWithPoint = doEdgeCollideWithPoint;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateGraph = exports.canUse32BitsIndices = exports.extractPixel = exports.getMatrixImpact = exports.matrixFromCamera = exports.getCorrectionRatio = exports.floatColor = exports.floatArrayColor = exports.parseColor = exports.zIndexOrdering = exports.createNormalizationFunction = exports.graphExtent = exports.getPixelRatio = exports.createElement = exports.cancelFrame = exports.requestFrame = exports.assignDeep = exports.assign = exports.isPlainObject = void 0;\nvar is_graph_1 = __importDefault(require(\"graphology-utils/is-graph\"));\nvar matrices_1 = require(\"./matrices\");\nvar data_1 = require(\"./data\");\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction isPlainObject(value) {\n    return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nexports.isPlainObject = isPlainObject;\n/**\n * Helper to use Object.assign with more than two objects.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assign(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        Object.assign(target, o);\n    }\n    return target;\n}\nexports.assign = assign;\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assignDeep(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        for (var k in o) {\n            if (isPlainObject(o[k])) {\n                target[k] = assignDeep(target[k], o[k]);\n            }\n            else {\n                target[k] = o[k];\n            }\n        }\n    }\n    return target;\n}\nexports.assignDeep = assignDeep;\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexports.requestFrame = typeof requestAnimationFrame !== \"undefined\"\n    ? function (callback) { return requestAnimationFrame(callback); }\n    : function (callback) { return setTimeout(callback, 0); };\nexports.cancelFrame = typeof cancelAnimationFrame !== \"undefined\"\n    ? function (requestID) { return cancelAnimationFrame(requestID); }\n    : function (requestID) { return clearTimeout(requestID); };\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nfunction createElement(tag, style, attributes) {\n    var element = document.createElement(tag);\n    if (style) {\n        for (var k in style) {\n            element.style[k] = style[k];\n        }\n    }\n    if (attributes) {\n        for (var k in attributes) {\n            element.setAttribute(k, attributes[k]);\n        }\n    }\n    return element;\n}\nexports.createElement = createElement;\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nfunction getPixelRatio() {\n    if (typeof window.devicePixelRatio !== \"undefined\")\n        return window.devicePixelRatio;\n    return 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * Function returning the graph's node extent in x & y.\n *\n * @param  {Graph}\n * @return {object}\n */\nfunction graphExtent(graph) {\n    if (!graph.order)\n        return { x: [0, 1], y: [0, 1] };\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n    graph.forEachNode(function (_, attr) {\n        var x = attr.x, y = attr.y;\n        if (x < xMin)\n            xMin = x;\n        if (x > xMax)\n            xMax = x;\n        if (y < yMin)\n            yMin = y;\n        if (y > yMax)\n            yMax = y;\n    });\n    return { x: [xMin, xMax], y: [yMin, yMax] };\n}\nexports.graphExtent = graphExtent;\nfunction createNormalizationFunction(extent) {\n    var _a = __read(extent.x, 2), minX = _a[0], maxX = _a[1], _b = __read(extent.y, 2), minY = _b[0], maxY = _b[1];\n    var ratio = Math.max(maxX - minX, maxY - minY), dX = (maxX + minX) / 2, dY = (maxY + minY) / 2;\n    if (ratio === 0 || Math.abs(ratio) === Infinity || isNaN(ratio))\n        ratio = 1;\n    if (isNaN(dX))\n        dX = 0;\n    if (isNaN(dY))\n        dY = 0;\n    var fn = function (data) {\n        return {\n            x: 0.5 + (data.x - dX) / ratio,\n            y: 0.5 + (data.y - dY) / ratio,\n        };\n    };\n    // TODO: possibility to apply this in batch over array of indices\n    fn.applyTo = function (data) {\n        data.x = 0.5 + (data.x - dX) / ratio;\n        data.y = 0.5 + (data.y - dY) / ratio;\n    };\n    fn.inverse = function (data) {\n        return {\n            x: dX + ratio * (data.x - 0.5),\n            y: dY + ratio * (data.y - 0.5),\n        };\n    };\n    fn.ratio = ratio;\n    return fn;\n}\nexports.createNormalizationFunction = createNormalizationFunction;\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nfunction zIndexOrdering(extent, getter, elements) {\n    // If k is > n, we'll use a standard sort\n    return elements.sort(function (a, b) {\n        var zA = getter(a) || 0, zB = getter(b) || 0;\n        if (zA < zB)\n            return -1;\n        if (zA > zB)\n            return 1;\n        return 0;\n    });\n    // TODO: counting sort optimization\n}\nexports.zIndexOrdering = zIndexOrdering;\n/**\n * WebGL utils\n * ===========\n */\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nvar INT8 = new Int8Array(4);\nvar INT32 = new Int32Array(INT8.buffer, 0, 1);\nvar FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\nvar RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nvar RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\nfunction parseColor(val) {\n    var r = 0; // byte\n    var g = 0; // byte\n    var b = 0; // byte\n    var a = 1; // float\n    // Handling hexadecimal notation\n    if (val[0] === \"#\") {\n        if (val.length === 4) {\n            r = parseInt(val.charAt(1) + val.charAt(1), 16);\n            g = parseInt(val.charAt(2) + val.charAt(2), 16);\n            b = parseInt(val.charAt(3) + val.charAt(3), 16);\n        }\n        else {\n            r = parseInt(val.charAt(1) + val.charAt(2), 16);\n            g = parseInt(val.charAt(3) + val.charAt(4), 16);\n            b = parseInt(val.charAt(5) + val.charAt(6), 16);\n        }\n        if (val.length === 9) {\n            a = parseInt(val.charAt(7) + val.charAt(8), 16) / 255;\n        }\n    }\n    // Handling rgb notation\n    else if (RGBA_TEST_REGEX.test(val)) {\n        var match = val.match(RGBA_EXTRACT_REGEX);\n        if (match) {\n            r = +match[1];\n            g = +match[2];\n            b = +match[3];\n            if (match[4])\n                a = +match[4];\n        }\n    }\n    return { r: r, g: g, b: b, a: a };\n}\nexports.parseColor = parseColor;\nvar FLOAT_COLOR_CACHE = {};\nfor (var htmlColor in data_1.HTML_COLORS) {\n    FLOAT_COLOR_CACHE[htmlColor] = floatColor(data_1.HTML_COLORS[htmlColor]);\n    // Replicating cache for hex values for free\n    FLOAT_COLOR_CACHE[data_1.HTML_COLORS[htmlColor]] = FLOAT_COLOR_CACHE[htmlColor];\n}\nfunction floatArrayColor(val) {\n    val = data_1.HTML_COLORS[val] || val;\n    // NOTE: this variant is not cached because it is mostly used for uniforms\n    var _a = parseColor(val), r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n    return new Float32Array([r / 255, g / 255, b / 255, a]);\n}\nexports.floatArrayColor = floatArrayColor;\nfunction floatColor(val) {\n    // If the color is already computed, we yield it\n    if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\")\n        return FLOAT_COLOR_CACHE[val];\n    var parsed = parseColor(val);\n    var r = parsed.r, g = parsed.g, b = parsed.b;\n    var a = parsed.a;\n    a = (a * 255) | 0;\n    INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n    var color = FLOAT32[0];\n    FLOAT_COLOR_CACHE[val] = color;\n    return color;\n}\nexports.floatColor = floatColor;\n/**\n * In sigma, the graph is normalized into a [0, 1], [0, 1] square, before being given to the various renderers. This\n * helps dealing with quadtree in particular.\n * But at some point, we need to rescale it so that it takes the best place in the screen, ie. we always want to see two\n * nodes \"touching\" opposite sides of the graph, with the camera being at its default state.\n *\n * This function determines this ratio.\n */\nfunction getCorrectionRatio(viewportDimensions, graphDimensions) {\n    var viewportRatio = viewportDimensions.height / viewportDimensions.width;\n    var graphRatio = graphDimensions.height / graphDimensions.width;\n    // If the stage and the graphs are in different directions (such as the graph being wider that tall while the stage\n    // is taller than wide), we can stop here to have indeed nodes touching opposite sides:\n    if ((viewportRatio < 1 && graphRatio > 1) || (viewportRatio > 1 && graphRatio < 1)) {\n        return 1;\n    }\n    // Else, we need to fit the graph inside the stage:\n    // 1. If the graph is \"squarer\" (ie. with a ratio closer to 1), we need to make the largest sides touch;\n    // 2. If the stage is \"squarer\", we need to make the smallest sides touch.\n    return Math.min(Math.max(graphRatio, 1 / graphRatio), Math.max(1 / viewportRatio, viewportRatio));\n}\nexports.getCorrectionRatio = getCorrectionRatio;\n/**\n * Function returning a matrix from the current state of the camera.\n */\n// TODO: it's possible to optimize this drastically!\nfunction matrixFromCamera(state, viewportDimensions, graphDimensions, padding, inverse) {\n    var angle = state.angle, ratio = state.ratio, x = state.x, y = state.y;\n    var width = viewportDimensions.width, height = viewportDimensions.height;\n    var matrix = (0, matrices_1.identity)();\n    var smallestDimension = Math.min(width, height) - 2 * padding;\n    var correctionRatio = getCorrectionRatio(viewportDimensions, graphDimensions);\n    if (!inverse) {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 2 * (smallestDimension / width) * correctionRatio, 2 * (smallestDimension / height) * correctionRatio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), -angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 1 / ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), -x, -y));\n    }\n    else {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), x, y));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), width / smallestDimension / 2 / correctionRatio, height / smallestDimension / 2 / correctionRatio));\n    }\n    return matrix;\n}\nexports.matrixFromCamera = matrixFromCamera;\n/**\n * All these transformations we apply on the matrix to get it rescale the graph\n * as we want make it very hard to get pixel-perfect distances in WebGL. This\n * function returns a factor that properly cancels the matrix effect on lengths.\n *\n * [jacomyal]\n * To be fully honest, I can't really explain happens here... I notice that the\n * following ratio works (ie. it correctly compensates the matrix impact on all\n * camera states I could try):\n * > `R = size(V) / size(M * V) / W`\n * as long as `M * V` is in the direction of W (ie. parallel to (Ox)). It works\n * as well with H and a vector that transforms into something parallel to (Oy).\n *\n * Also, note that we use `angle` and not `-angle` (that would seem logical,\n * since we want to anticipate the rotation), because of the fact that in WebGL,\n * the image is vertically swapped.\n */\nfunction getMatrixImpact(matrix, cameraState, viewportDimensions) {\n    var _a = (0, matrices_1.multiplyVec2)(matrix, { x: Math.cos(cameraState.angle), y: Math.sin(cameraState.angle) }, 0), x = _a.x, y = _a.y;\n    return 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) / viewportDimensions.width;\n}\nexports.getMatrixImpact = getMatrixImpact;\n/**\n * Function extracting the color at the given pixel.\n */\nfunction extractPixel(gl, x, y, array) {\n    var data = array || new Uint8Array(4);\n    gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    return data;\n}\nexports.extractPixel = extractPixel;\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nfunction canUse32BitsIndices(gl) {\n    var webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n    return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\nexports.canUse32BitsIndices = canUse32BitsIndices;\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nfunction validateGraph(graph) {\n    // check if it's a valid graphology instance\n    if (!(0, is_graph_1.default)(graph))\n        throw new Error(\"Sigma: invalid graph instance.\");\n    // check if nodes have x/y attributes\n    graph.forEachNode(function (key, attributes) {\n        if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n            throw new Error(\"Sigma: Coordinates of node \".concat(key, \" are invalid. A node must have a numeric 'x' and 'y' attribute.\"));\n        }\n    });\n}\nexports.validateGraph = validateGraph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiplyVec2 = exports.multiply = exports.translate = exports.rotate = exports.scale = exports.identity = void 0;\nfunction identity() {\n    return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\nexports.identity = identity;\n// TODO: optimize\nfunction scale(m, x, y) {\n    m[0] = x;\n    m[4] = typeof y === \"number\" ? y : x;\n    return m;\n}\nexports.scale = scale;\nfunction rotate(m, r) {\n    var s = Math.sin(r), c = Math.cos(r);\n    m[0] = c;\n    m[1] = s;\n    m[3] = -s;\n    m[4] = c;\n    return m;\n}\nexports.rotate = rotate;\nfunction translate(m, x, y) {\n    m[6] = x;\n    m[7] = y;\n    return m;\n}\nexports.translate = translate;\nfunction multiply(a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2];\n    var a10 = a[3], a11 = a[4], a12 = a[5];\n    var a20 = a[6], a21 = a[7], a22 = a[8];\n    var b00 = b[0], b01 = b[1], b02 = b[2];\n    var b10 = b[3], b11 = b[4], b12 = b[5];\n    var b20 = b[6], b21 = b[7], b22 = b[8];\n    a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return a;\n}\nexports.multiply = multiply;\nfunction multiplyVec2(a, b, z) {\n    if (z === void 0) { z = 1; }\n    var a00 = a[0];\n    var a01 = a[1];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a20 = a[6];\n    var a21 = a[7];\n    var b0 = b.x;\n    var b1 = b.y;\n    return { x: b0 * a00 + b1 * a10 + a20 * z, y: b0 * a01 + b1 * a11 + a21 * z };\n}\nexports.multiplyVec2 = multiplyVec2;\n","module.exports = require('./lib/xml-writer.js');\n","\nfunction isFalse(s) {\n  return typeof s !== 'number' && !s;\n}\n\nfunction strval(s) {\n  if (typeof s == 'string') {\n    return s;\n  }\n  else if (typeof s == 'number') {\n    return s+'';\n  }\n  else if (typeof s == 'function') {\n    return s();\n  }\n  else if (s instanceof XMLWriter) {\n    return s.toString();\n  }\n  else throw Error('Bad Parameter');\n}\n\nfunction XMLWriter(indent, callback) {\n\n    if (!(this instanceof XMLWriter)) {\n        return new XMLWriter();\n    }\n\n    this.name_regex = /[_:A-Za-z][-._:A-Za-z0-9]*/;\n    this.indent = indent ? true : false;\n    this.indentString = this.indent && typeof indent === 'string' ? indent : '    ';\n    this.output = '';\n    this.stack = [];\n    this.tags = 0;\n    this.attributes = 0;\n    this.attribute = 0;\n    this.texts = 0;\n    this.comment = 0;\n    this.dtd = 0;\n    this.root = '';\n    this.pi = 0;\n    this.cdata = 0;\n    this.started_write = false;\n    this.writer;\n    this.writer_encoding = 'UTF-8';\n\n    if (typeof callback == 'function') {\n        this.writer = callback;\n    } else {\n        this.writer = function (s, e) {\n            this.output += s;\n        }\n    }\n}\n\nXMLWriter.prototype = {\n    toString : function () {\n        this.flush();\n        return this.output;\n    },\n\n    indenter : function () {\n      if (this.indent) {\n        this.write('\\n');\n        for (var i = 1; i < this.tags; i++) {\n          this.write(this.indentString);\n        }\n      }\n    },\n\n    write : function () {\n        for (var i = 0; i < arguments.length; i++) {\n            this.writer(arguments[i], this.writer_encoding);\n        }\n    },\n\n\n    flush : function () {\n        for (var i = this.tags; i > 0; i--) {\n            this.endElement();\n        }\n        this.tags = 0;\n    },\n\n    startDocument : function (version, encoding, standalone) {\n        if (this.tags || this.attributes) return this;\n\n        this.startPI('xml');\n        this.startAttribute('version');\n        this.text(typeof version == \"string\" ? version : \"1.0\");\n        this.endAttribute();\n        if (typeof encoding == \"string\") {\n            this.startAttribute('encoding');\n            this.text(encoding);\n            this.endAttribute();\n            this.writer_encoding = encoding;\n        }\n        if (standalone) {\n            this.startAttribute('standalone');\n            this.text(\"yes\");\n            this.endAttribute();\n        }\n        this.endPI();\n        if (!this.indent) {\n          this.write('\\n');\n        }\n        return this;\n    },\n\n    endDocument : function () {\n        if (this.attributes) this.endAttributes();\n        return this;\n    },\n\n    writeElement : function (name, content) {\n        return this.startElement(name).text(content).endElement();\n    },\n\n    writeElementNS : function (prefix, name, uri, content) {\n        if (!content) {\n            content = uri;\n        }\n        return this.startElementNS(prefix, name, uri).text(content).endElement();\n    },\n\n    startElement : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.tags === 0 && this.root && this.root !== name) throw Error('Invalid Parameter');\n        if (this.attributes) this.endAttributes();\n        ++this.tags;\n        this.texts = 0;\n        if (this.stack.length > 0)\n          this.stack[this.stack.length-1].containsTag = true;\n\n        this.stack.push({\n            name: name,\n            tags: this.tags\n        });\n        if (this.started_write) this.indenter();\n        this.write('<', name);\n        this.startAttributes();\n        this.started_write = true;\n        return this;\n    },\n    startElementNS : function (prefix, name, uri) {\n        prefix = strval(prefix);\n        name = strval(name);\n\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.attributes) this.endAttributes();\n        ++this.tags;\n        this.texts = 0;\n        if (this.stack.length > 0)\n          this.stack[this.stack.length-1].containsTag = true;\n\n        this.stack.push({\n            name: prefix + ':' + name,\n            tags: this.tags\n        });\n        if (this.started_write) this.indenter();\n        this.write('<', prefix + ':' + name);\n        this.startAttributes();\n        this.started_write = true;\n        return this;\n    },\n\n    endElement : function () {\n        if (!this.tags) return this;\n        var t = this.stack.pop();\n        if (this.attributes > 0) {\n            if (this.attribute) {\n                if (this.texts) this.endAttribute();\n                this.endAttribute();\n            }\n            this.write('/');\n            this.endAttributes();\n        } else {\n            if (t.containsTag) this.indenter();\n            this.write('</', t.name, '>');\n        }\n        --this.tags;\n        this.texts = 0;\n        return this;\n    },\n\n    writeAttribute : function (name, content) {\n        if (typeof content == 'function') {\n          content = content();\n        }\n        if (isFalse(content)) {\n           return this;\n        }\n        return this.startAttribute(name).text(content).endAttribute();\n    },\n    writeAttributeNS : function (prefix, name, uri, content) {\n        if (!content) {\n            content = uri;\n        }\n        if (typeof content == 'function') {\n          content = content();\n        }\n        if (isFalse(content)) {\n          return this;\n        }\n        return this.startAttributeNS(prefix, name, uri).text(content).endAttribute();\n    },\n\n    startAttributes : function () {\n        this.attributes = 1;\n        return this;\n    },\n\n    endAttributes : function () {\n        if (!this.attributes) return this;\n        if (this.attribute) this.endAttribute();\n        this.attributes = 0;\n        this.attribute = 0;\n        this.texts = 0;\n        this.write('>');\n        return this;\n    },\n\n    startAttribute : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!this.attributes && !this.pi) return this;\n        if (this.attribute) return this;\n        this.attribute = 1;\n        this.write(' ', name, '=\"');\n        return this;\n    },\n    startAttributeNS : function (prefix, name, uri) {\n        prefix = strval(prefix);\n        name = strval(name);\n\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!this.attributes && !this.pi) return this;\n        if (this.attribute) return this;\n        this.attribute = 1;\n        this.write(' ', prefix + ':' + name, '=\"');\n        return this;\n    },\n    endAttribute : function () {\n        if (!this.attribute) return this;\n        this.attribute = 0;\n        this.texts = 0;\n        this.write('\"');\n        return this;\n    },\n\n    text : function (content) {\n        content = strval(content);\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\n        if (this.attributes && this.attribute) {\n            ++this.texts;\n            this.write(content\n                       .replace(/&/g, '&amp;')\n                       .replace(/</g, '&lt;')\n                       .replace(/\"/g, '&quot;')\n                       .replace(/\\t/g, '&#x9;')\n                       .replace(/\\n/g, '&#xA;')\n                       .replace(/\\r/g, '&#xD;')\n                      );\n            return this;\n        } else if (this.attributes && !this.attribute) {\n            this.endAttributes();\n        }\n        if (this.comment || this.cdata) {\n            this.write(content);\n        }\n        else {\n          this.write(content.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;'));\n        }\n        ++this.texts;\n        this.started_write = true;\n        return this;\n    },\n\n    writeComment : function (content) {\n        return this.startComment().text(content).endComment();\n    },\n\n    startComment : function () {\n        if (this.comment) return this;\n        if (this.attributes) this.endAttributes();\n        this.indenter();\n        this.write('<!--');\n        this.comment = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endComment : function () {\n        if (!this.comment) return this;\n        this.write('-->');\n        this.comment = 0;\n        return this;\n    },\n\n    writeDocType : function (name, pubid, sysid, subset) {\n        return this.startDocType(name, pubid, sysid, subset).endDocType()\n    },\n\n    startDocType : function (name, pubid, sysid, subset) {\n        if (this.dtd || this.tags) return this;\n\n        name = strval(name);\n        pubid = pubid ? strval(pubid) : pubid;\n        sysid = sysid ? strval(sysid) : sysid;\n        subset = subset ? strval(subset) : subset;\n\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (pubid && !pubid.match(/^[\\w\\-][\\w\\s\\-\\/\\+\\:\\.]*/)) throw Error('Invalid Parameter');\n        if (sysid && !sysid.match(/^[\\w\\.][\\w\\-\\/\\\\\\:\\.]*/)) throw Error('Invalid Parameter');\n        if (subset && !subset.match(/[\\w\\s\\<\\>\\+\\.\\!\\#\\-\\?\\*\\,\\(\\)\\|]*/)) throw Error('Invalid Parameter');\n\n        pubid = pubid ? ' PUBLIC \"' + pubid + '\"' : (sysid) ? ' SYSTEM' : '';\n        sysid = sysid ? ' \"' + sysid + '\"' : '';\n        subset = subset ? ' [' + subset + ']': '';\n\n        if (this.started_write) this.indenter();\n        this.write('<!DOCTYPE ', name, pubid, sysid, subset);\n        this.root = name;\n        this.dtd = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endDocType : function () {\n        if (!this.dtd) return this;\n        this.write('>');\n        return this;\n    },\n\n    writePI : function (name, content) {\n        return this.startPI(name).text(content).endPI()\n    },\n\n    startPI : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.pi) return this;\n        if (this.attributes) this.endAttributes();\n        if (this.started_write) this.indenter();\n        this.write('<?', name);\n        this.pi = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endPI : function () {\n        if (!this.pi) return this;\n        this.write('?>');\n        this.pi = 0;\n        return this;\n    },\n\n    writeCData : function (content) {\n        return this.startCData().text(content).endCData();\n    },\n\n    startCData : function () {\n        if (this.cdata) return this;\n        if (this.attributes) this.endAttributes();\n        this.indenter();\n        this.write('<![CDATA[');\n        this.cdata = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endCData : function () {\n        if (!this.cdata) return this;\n        this.write(']]>');\n        this.cdata = 0;\n        return this;\n    },\n\n    writeRaw : function(content) {\n        content = strval(content);\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\n        if (this.attributes && this.attribute) {\n            ++this.texts;\n            this.write(content.replace('&', '&amp;').replace('\"', '&quot;'));\n            return this;\n        } else if (this.attributes && !this.attribute) {\n            this.endAttributes();\n        }\n        ++this.texts;\n        this.write(content);\n        this.started_write = true;\n        return this;\n    }\n\n}\n\nmodule.exports = XMLWriter;\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./widget.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../css-loader/dist/cjs.js!./choices.min.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","/**\n * Sigma.js Canvas Renderer Hover Component\n * =========================================\n *\n * Function used by the canvas renderer to display a single node's hovered\n * state.\n * @module\n */\nimport { Settings } from 'sigma/settings';\nimport { NodeDisplayData, PartialButFor } from 'sigma/types';\nimport drawLabel from './custom-label';\n\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nexport default function drawHover(\n  context: CanvasRenderingContext2D,\n  data: PartialButFor<NodeDisplayData, 'x' | 'y' | 'size' | 'label' | 'color'>,\n  settings: Settings\n): void {\n  const size = data.labelSize || settings.labelSize;\n  const font = settings.labelFont;\n  const weight = settings.labelWeight;\n\n  data = { ...data, label: data.label || data.hoverLabel };\n\n  context.font = `${weight} ${size}px ${font}`;\n\n  // Then we draw the label background\n  context.fillStyle = '#FFF';\n  context.shadowOffsetX = 0;\n  context.shadowOffsetY = 0;\n  context.shadowBlur = 8;\n  context.shadowColor = '#000';\n\n  const PADDING = 2;\n\n  if (typeof data.label === 'string') {\n    const textWidth = context.measureText(data.label).width;\n    const boxWidth = Math.round(textWidth + 5);\n    const boxHeight = Math.round(size + 2 * PADDING);\n    const radius = Math.max(data.size, size / 2) + PADDING;\n\n    const angleRadian = Math.asin(boxHeight / 2 / radius);\n    const xDeltaCoord = Math.sqrt(\n      Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2))\n    );\n\n    context.beginPath();\n    context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n    context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n    context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n    context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n    context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n    context.closePath();\n    context.fill();\n  } else {\n    context.beginPath();\n    context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n    context.closePath();\n    context.fill();\n  }\n\n  context.shadowOffsetX = 0;\n  context.shadowOffsetY = 0;\n  context.shadowBlur = 0;\n\n  // And finally we draw the label\n  drawLabel(context, data, settings);\n}\n","import { Settings } from 'sigma/settings';\nimport { NodeDisplayData, PartialButFor } from 'sigma/types';\n\nexport default function drawLabel(\n  context: CanvasRenderingContext2D,\n  data: PartialButFor<NodeDisplayData, 'x' | 'y' | 'size' | 'label' | 'color'>,\n  settings: Settings\n): void {\n  if (!data.label) return;\n\n  const size = data.labelSize || settings.labelSize;\n  const font = settings.labelFont;\n  const weight = settings.labelWeight;\n  const color = data.labelColor || settings.labelColor.color;\n\n  context.fillStyle = color;\n  context.font = `${weight} ${size}px ${font}`;\n\n  context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\n// Entry point for the notebook bundle containing custom model definitions.\n//\n// Setup notebook base URL\n//\n// Some static assets may be required by the custom widget javascript. The base\n// url for the notebook is not known at build time and is therefore computed\n// dynamically.\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n(window as any).__webpack_public_path__ =\n  document.querySelector('body')!.getAttribute('data-base-url') +\n  'nbextensions/ipysigma';\n\nexport * from './index';\n","export const zoomIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path><path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"></path></svg>`;\n\nexport const unzoomIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"></path></svg>`;\n\nexport const resetZoomIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><path d=\"M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\"></path></svg>`;\n\nexport const resetLayoutIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><path d=\"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z\"></path></svg>`;\n\nexport const playIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><path d=\"M8 5v14l11-7z\"></path></svg>`;\n\nexport const pauseIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"></path></svg>`;\n\nexport const fullscreenEnterIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"></path></svg>`;\n\nexport const fullscreenExitIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"></path></svg>`;\n\nexport const scatterIcon = `<svg width=\"20\" height=\"20\" focusable=\"false\" viewBox=\"0 0 24 24\"><circle cx=\"7\" cy=\"14\" r=\"3\"></circle><circle cx=\"11\" cy=\"6\" r=\"3\"></circle><circle cx=\"16.6\" cy=\"17.6\" r=\"3\"></circle></svg>`;\n","export * from './version';\nexport * from './widget';\n","import iwanthue from 'iwanthue';\nimport * as d3Chromatic from 'd3-scale-chromatic';\nimport { createShuffleInPlace } from 'pandemonium/shuffle-in-place';\nimport seedrandom from 'seedrandom';\n\nimport { USEFUL_SHAPES, UNKNOWN_SHAPE } from './shapes';\n\nexport type PaletteKind = 'color' | 'shape';\nexport type Entries<T> = Array<[key: T, value: string]>;\n\nfunction getDefaultDefaultValue(kind: PaletteKind): string {\n  if (kind === 'color') return '#ccc';\n  else return UNKNOWN_SHAPE;\n}\n\nexport default class Palette<K> {\n  name: string;\n  kind: PaletteKind;\n  map: Map<K, string>;\n  defaultValue: string;\n  size: number;\n\n  constructor(\n    name: string,\n    kind: PaletteKind,\n    map: Map<K, string>,\n    defaultValue: string\n  ) {\n    this.name = name;\n    this.kind = kind;\n    this.map = map;\n    this.defaultValue = defaultValue;\n    this.size = this.map.size;\n  }\n\n  get(key: K): string {\n    const value = this.map.get(key);\n\n    if (value === undefined) return this.defaultValue;\n\n    return value;\n  }\n\n  forEach(callback: (value: string, key: K) => void): void {\n    this.map.forEach(callback);\n  }\n\n  static getMacroDefault(kind: PaletteKind) {\n    if (kind === 'color') return '#ccc';\n    else return UNKNOWN_SHAPE;\n  }\n\n  static fromScheme<T>(\n    name: string,\n    kind: PaletteKind,\n    scheme: string,\n    values: Array<T>,\n    defaultValue?: string\n  ): Palette<T> {\n    const target = (\n      d3Chromatic as unknown as Record<\n        string,\n        Array<string> | Array<Array<string | undefined>>\n      >\n    )['scheme' + scheme];\n\n    let colors: Array<string>;\n\n    if (Array.isArray(target[target.length - 1])) {\n      const firstValidCount = target.findIndex((c) => Array.isArray(c));\n      colors = target[\n        Math.min(Math.max(firstValidCount, values.length), target.length)\n      ] as Array<string>;\n    } else {\n      colors = (target as Array<string>).slice();\n\n      const shuffleInPlace = createShuffleInPlace(seedrandom(name));\n      shuffleInPlace(colors);\n\n      colors = colors.slice(0, Math.min(values.length, colors.length));\n    }\n\n    const map = new Map();\n\n    values.slice(0, colors.length).forEach((v, i) => {\n      map.set(v, colors[i]);\n    });\n\n    return new Palette(\n      name,\n      kind,\n      map,\n      defaultValue || getDefaultDefaultValue(kind)\n    );\n  }\n\n  static fromEntries<T>(\n    name: string,\n    kind: PaletteKind,\n    entries: Entries<T>,\n    defaultValue?: string\n  ): Palette<T> {\n    return new Palette(\n      name,\n      kind,\n      new Map(entries),\n      defaultValue || getDefaultDefaultValue(kind)\n    );\n  }\n\n  static generateFromValues<T>(\n    name: string,\n    kind: PaletteKind,\n    values: Array<T>,\n    defaultValue?: string\n  ): Palette<T> {\n    if (kind === 'color') {\n      const settings = {\n        colorSpace: 'sensible',\n        seed: name,\n        clustering: 'force-vector',\n        attempts: 5,\n      } as const;\n\n      if (values.length === 0)\n        return new Palette(\n          name,\n          kind,\n          new Map(),\n          defaultValue || getDefaultDefaultValue(kind)\n        );\n\n      const colors = iwanthue(values.length, settings);\n\n      const map = new Map();\n\n      values.forEach((v, i) => {\n        map.set(v, colors[i]);\n      });\n\n      return new Palette(\n        name,\n        kind,\n        map,\n        defaultValue || getDefaultDefaultValue(kind)\n      );\n    } else {\n      const map = new Map();\n\n      USEFUL_SHAPES.slice(\n        0,\n        Math.min(values.length, USEFUL_SHAPES.length)\n      ).forEach((shape, i) => {\n        map.set(values[i], shape.name);\n      });\n\n      return new Palette(\n        name,\n        kind,\n        map,\n        defaultValue || getDefaultDefaultValue(kind)\n      );\n    }\n  }\n}\n","export const USEFUL_SHAPES = [\n  { name: 'circle', pictogram: 'circle' },\n  { name: 'triangle', pictogram: 'change_history' },\n  { name: 'square', pictogram: 'square' },\n  { name: 'pentagon', pictogram: 'pentagon' },\n  { name: 'star', pictogram: 'star' },\n  { name: 'hexagon', pictogram: 'hexagon' },\n  { name: 'heart', pictogram: 'favorite' },\n  { name: 'cloud', pictogram: 'cloudy' },\n];\n\nexport const UNKNOWN_SHAPE = 'help';\n\nconst SHAPES_MAP = new Map();\n\nUSEFUL_SHAPES.forEach(({ name, pictogram }) => {\n  SHAPES_MAP.set(name, pictogram);\n});\n\nexport function shapeToPicto(shape: string): string | undefined {\n  return SHAPES_MAP.get(shape) || shape;\n}\n","import Sigma from 'sigma';\nimport FileSaver from 'file-saver';\nimport * as gexf from 'graphology-gexf/browser';\n// @ts-ignore\nimport renderAsSVG from 'graphology-svg/renderer';\n// @ts-ignore\nimport { DEFAULTS as SVG_DEFAULTS } from 'graphology-svg/defaults';\nimport { AbstractGraph as Graph, Attributes } from 'graphology-types';\n\n// Taken and adapted from: https://github.com/jacomyal/sigma.js/blob/main/examples/png-snapshot/saveAsPNG.ts\nfunction renderToAuxiliaryCanvas(\n  renderer: Sigma,\n  inputLayers?: string[]\n): [HTMLCanvasElement, () => void] {\n  const { width, height } = renderer.getDimensions();\n\n  // This pixel ratio is here to deal with retina displays.\n  // Indeed, for dimensions W and H, on a retina display, the canvases\n  // dimensions actually are 2 * W and 2 * H. Sigma properly deals with it, but\n  // we need to readapt here:\n  const pixelRatio = window.devicePixelRatio || 1;\n\n  const tmpRoot = document.createElement('DIV');\n  tmpRoot.style.width = `${width}px`;\n  tmpRoot.style.height = `${height}px`;\n  tmpRoot.style.position = 'absolute';\n  tmpRoot.style.right = '101%';\n  tmpRoot.style.bottom = '101%';\n  document.body.appendChild(tmpRoot);\n\n  // Instantiate sigma:\n  const tmpRenderer = new Sigma(\n    renderer.getGraph(),\n    tmpRoot,\n    renderer.getSettings()\n  );\n\n  // Copy camera and force to render now, to avoid having to wait the schedule /\n  // debounce frame:\n  tmpRenderer.getCamera().setState(renderer.getCamera().getState());\n  tmpRenderer.refresh();\n\n  // Create a new canvas, on which the different layers will be drawn:\n  const canvas = document.createElement('CANVAS') as HTMLCanvasElement;\n  canvas.setAttribute('width', width * pixelRatio + '');\n  canvas.setAttribute('height', height * pixelRatio + '');\n  const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n\n  // Draw a white background first:\n  ctx.fillStyle = '#fff';\n  ctx.fillRect(0, 0, width * pixelRatio, height * pixelRatio);\n\n  // For each layer, draw it on our canvas:\n  const canvases = tmpRenderer.getCanvases();\n  const layers = inputLayers\n    ? inputLayers.filter((id) => !!canvases[id])\n    : Object.keys(canvases);\n\n  layers.forEach((id) => {\n    ctx.drawImage(\n      canvases[id],\n      0,\n      0,\n      width * pixelRatio,\n      height * pixelRatio,\n      0,\n      0,\n      width * pixelRatio,\n      height * pixelRatio\n    );\n  });\n\n  return [\n    canvas,\n    () => {\n      // Cleanup:\n      tmpRenderer.kill();\n      tmpRoot.remove();\n    },\n  ];\n}\n\nfunction copyGraphForGexf(renderer: Sigma): Graph {\n  const original = renderer.getGraph();\n  const copy = original.copy();\n\n  copy.updateEachNodeAttributes((node, attr) => {\n    const displayData = renderer.getNodeDisplayData(node) as Attributes & {\n      x: number;\n      y: number;\n    };\n    const { x, y } = renderer.graphToViewport(displayData);\n\n    return {\n      ...attr,\n      color: displayData.color,\n      size: displayData.size,\n      x,\n      y,\n    };\n  });\n\n  copy.updateEachEdgeAttributes((edge, attr) => {\n    const displayData = renderer.getEdgeDisplayData(edge) as Attributes;\n\n    return {\n      ...attr,\n      color: displayData.color,\n      size: displayData.size,\n    };\n  });\n\n  return copy;\n}\n\nexport function renderAsDataURL(renderer: Sigma): string {\n  const [canvas, cleanup] = renderToAuxiliaryCanvas(renderer);\n\n  const dataURL = canvas.toDataURL();\n\n  cleanup();\n\n  return dataURL;\n}\n\nexport function saveAsPNG(renderer: Sigma): void {\n  const [canvas, cleanup] = renderToAuxiliaryCanvas(renderer);\n\n  // Save the canvas as a PNG image:\n  canvas.toBlob((blob) => {\n    if (blob) FileSaver.saveAs(blob, 'graph.png');\n    cleanup();\n  }, 'image/png');\n}\n\nexport function saveAsJSON(renderer: Sigma): void {\n  const data = JSON.stringify(renderer.getGraph(), null, 2);\n  FileSaver.saveAs(\n    new Blob([data], { type: 'application/json' }),\n    'graph.json'\n  );\n}\n\nexport function saveAsGEXF(renderer: Sigma): void {\n  const data = gexf.write(copyGraphForGexf(renderer));\n  FileSaver.saveAs(new Blob([data], { type: 'application/xml' }), 'graph.gexf');\n}\n\nexport function saveAsSVG(renderer: Sigma): void {\n  const rendererSettings = renderer.getSettings();\n\n  const settings = Object.assign({}, SVG_DEFAULTS);\n\n  settings.nodes = {\n    // @ts-ignore\n    reducer: (_, n, a) => rendererSettings.nodeReducer(n, a),\n    defaultColor: rendererSettings.defaultNodeColor,\n  };\n  settings.edges = {\n    // @ts-ignore\n    reducer: (_, e, a) => rendererSettings.edgeReducer(e, a),\n    defaultColor: rendererSettings.defaultEdgeColor,\n  };\n\n  const data = renderAsSVG(renderer.getGraph(), settings);\n  FileSaver.saveAs(new Blob([data], { type: 'image/svg+xml' }), 'graph.svg');\n}\n\nexport function pictogramToUrl(picto: string, qualifier = 'default'): string {\n  if (picto.startsWith('http')) return picto;\n\n  return `https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/${picto}/${qualifier}/48px.svg`;\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst data = require('../package.json');\n\n/**\n * The _model_module_version/_view_module_version this package implements.\n *\n * The html widget manager assumes that this is the same as the npm package\n * version number.\n */\nexport const MODULE_VERSION = data.version;\n\n/*\n * The current package name.\n */\nexport const MODULE_NAME = data.name;\n","/**\n * Code related to visual variables.\n */\nimport Graph, { Attributes } from 'graphology-types';\nimport MultiSet from 'mnemonist/multi-set';\nimport Palette, { Entries, PaletteKind } from './palette';\nimport { scaleLinear, scaleLog, scalePow, scaleSqrt } from 'd3-scale';\nimport * as d3Chromatic from 'd3-scale-chromatic';\n\n/**\n * Constants.\n */\nconst MAX_CATEGORICAL_COLORS = 10;\nconst DEFAULT_DEFAULT_CONTINUOUS_NUMERICAL_VALUE = 1;\nconst DEFAULT_DEFAULT_CONTINUOUS_COLOR_VALUE = 'black';\nconst ESPILON = 1e-8;\n\n/**\n * Types.\n */\nexport type Bound = number | string;\nexport type Range = [Bound, Bound];\nexport type ScaleType = 'lin' | 'log' | 'log+1' | 'pow' | 'sqrt';\nexport type ScaleDefinition = [\n  type: ScaleType,\n  param: number | null | undefined\n];\n\nexport interface AttributeScale {\n  (value: Attributes): string | number;\n  summary?: CategorySummary;\n}\n\nexport type ConstantVisualVariable = {\n  type: 'constant';\n  default: string;\n};\n\nexport type RawVisualVariable = {\n  type: 'raw';\n  attribute: string;\n  default?: string;\n};\n\nexport type CategoryVisualVariable = {\n  type: 'category';\n  attribute: string;\n  palette?: Entries<string> | string;\n  default?: string;\n  kind?: PaletteKind;\n};\n\nexport type ContinuousVisualVariable = {\n  type: 'continuous';\n  attribute: string;\n  range: Range | string;\n  default?: number;\n  scale?: ScaleDefinition;\n};\n\nexport type DependentVisualVariable = {\n  type: 'dependent';\n  value: string;\n};\n\nexport type DisabledVisualVariable = {\n  type: 'disabled';\n};\n\nexport type VisualVariable =\n  | ConstantVisualVariable\n  | RawVisualVariable\n  | CategoryVisualVariable\n  | ContinuousVisualVariable\n  | DependentVisualVariable\n  | DisabledVisualVariable;\n\nexport type VisualVariables = {\n  nodeColor: VisualVariable;\n  nodeColorSaturation: VisualVariable;\n  nodeBorderColor: VisualVariable;\n  nodeBorderRatio: VisualVariable;\n  nodeBorderSize: VisualVariable;\n  nodeSize: VisualVariable;\n  nodeLabel: VisualVariable;\n  nodeLabelSize: VisualVariable;\n  nodeLabelColor: VisualVariable;\n  nodePictogram: VisualVariable;\n  nodePictogramColor: VisualVariable;\n  nodeShape: VisualVariable;\n  nodeHaloSize: VisualVariable;\n  nodeHaloColor: VisualVariable;\n  edgeColor: VisualVariable;\n  edgeSize: VisualVariable;\n  edgeLabel: VisualVariable;\n  edgeCurveness: VisualVariable;\n  [name: string]: VisualVariable;\n};\n\n/**\n * Helper functions.\n */\nfunction isValidNumber(value: any): value is number {\n  return (\n    typeof value === 'number' &&\n    !Number.isNaN(value) &&\n    value !== Infinity &&\n    value !== -Infinity\n  );\n}\n\nfunction rangeIsConstant(range: Range | string): boolean {\n  if (!Array.isArray(range)) return false;\n\n  if (typeof range[0] === 'string') return range[0] === range[1];\n\n  return Math.abs(range[0] - (range[1] as number)) <= ESPILON;\n}\n\nfunction getContinuousDefaultValue(\n  variable: ContinuousVisualVariable\n): number | string {\n  if (\n    typeof variable.range === 'string' ||\n    typeof variable.range[0] === 'string'\n  ) {\n    // Color\n    if (typeof variable.default === 'string') return variable.default;\n    if (Array.isArray(variable.range) && typeof variable.range[0] === 'string')\n      return variable.range[0];\n    return DEFAULT_DEFAULT_CONTINUOUS_COLOR_VALUE;\n  } else {\n    // Size\n    if (isValidNumber(variable.default)) return variable.default;\n    if (Array.isArray(variable.range) && isValidNumber(variable.range[0]))\n      return variable.range[0];\n    return DEFAULT_DEFAULT_CONTINUOUS_NUMERICAL_VALUE;\n  }\n}\n\nfunction createContinuousScale(\n  variable: ContinuousVisualVariable,\n  extent: Extent\n): AttributeScale {\n  const defaultValue = getContinuousDefaultValue(variable);\n\n  if (rangeIsConstant(variable.range) || extent.isConstant()) {\n    return () => defaultValue;\n  }\n\n  let scale: ReturnType<typeof scaleLinear>;\n\n  const definition = variable.scale;\n\n  let isLogPlusOne = false;\n\n  if (!definition) scale = scaleLinear();\n  else {\n    const [type, param] = definition;\n\n    if (type === 'lin') scale = scaleLinear();\n    else if (type === 'log' || type === 'log+1') {\n      isLogPlusOne = type === 'log+1';\n      scale = scaleLog();\n      if (param) (scale as ReturnType<typeof scaleLog>).base(param);\n    } else if (type === 'pow') {\n      scale = scalePow();\n      (scale as ReturnType<typeof scalePow>).exponent(param ? param : 2);\n    } else if (type === 'sqrt') {\n      scale = scaleSqrt();\n      if (param) (scale as ReturnType<typeof scaleSqrt>).exponent(1 / param);\n    } else throw new Error('unknown scale type');\n  }\n\n  const offset = isLogPlusOne ? 1 : 0;\n\n  scale.domain([extent.min + offset, extent.max + offset]);\n\n  if (typeof variable.range === 'string') {\n    const chromatic = (\n      d3Chromatic as unknown as Record<string, (value: number) => string>\n    )['interpolate' + variable.range];\n\n    return (attr) => {\n      let value = attr[variable.attribute];\n\n      if (!isValidNumber(value)) return defaultValue;\n\n      value += offset;\n\n      return chromatic(scale(value) as number);\n    };\n  } else if (variable.range) {\n    scale.range(variable.range);\n\n    return (attr) => {\n      let value = attr[variable.attribute];\n\n      if (!isValidNumber(value)) return defaultValue;\n\n      value += offset;\n\n      return scale(value) as number | string;\n    };\n  }\n\n  throw new Error('could not create valid continuous scale');\n}\n\n/**\n * Helper classes.\n */\nexport class Extent {\n  min = Infinity;\n  max = -Infinity;\n\n  add(value: number) {\n    if (value < this.min) this.min = value;\n    if (value > this.max) this.max = value;\n  }\n\n  isConstant(): boolean {\n    return this.min === Infinity || this.min === this.max;\n  }\n}\n\nexport class AttributeExtents {\n  attributes: Record<string, Extent> = {};\n\n  constructor(names: Array<string>) {\n    // NOTE: this naturally deduplicates names\n    names.forEach((name) => (this.attributes[name] = new Extent()));\n  }\n\n  add(attributes: Attributes): void {\n    for (const name in this.attributes) {\n      const value = attributes[name];\n\n      if (!isValidNumber(value)) continue;\n\n      this.attributes[name].add(value);\n    }\n  }\n}\n\nexport class AttributeCategories {\n  attributes: Record<string, MultiSet<string>> = {};\n\n  constructor(names: Array<string>) {\n    // NOTE: this naturally deduplicates names\n    names.forEach((name) => (this.attributes[name] = new MultiSet()));\n  }\n\n  add(attributes: Attributes): void {\n    for (const name in this.attributes) {\n      this.attributes[name].add(attributes[name]);\n    }\n  }\n}\n\nexport class CategorySummary {\n  name: string;\n  kind: PaletteKind;\n  palette: Palette<string>;\n  overflowing: boolean;\n\n  constructor(\n    name: string,\n    kind: PaletteKind,\n    palette: Palette<string>,\n    overflowing: boolean = false\n  ) {\n    this.name = name;\n    this.kind = kind;\n    this.palette = palette;\n    this.overflowing = overflowing;\n  }\n\n  static fromTopValues(\n    name: string,\n    kind: PaletteKind,\n    frequencies: MultiSet<string>,\n    defaultValue: string | undefined,\n    scheme?: string,\n    maxCount = MAX_CATEGORICAL_COLORS\n  ) {\n    const count = Math.min(maxCount, frequencies.dimension);\n    const topValues = frequencies.top(count);\n    const overflowing = count < frequencies.dimension;\n\n    const values = topValues.map((item) => item[0]);\n\n    const palette =\n      !scheme || scheme === 'IWantHue'\n        ? Palette.generateFromValues(name, kind, values, defaultValue)\n        : Palette.fromScheme(name, kind, scheme, values, defaultValue);\n\n    return new CategorySummary(name, kind, palette, overflowing);\n  }\n\n  static fromEntries(\n    name: string,\n    kind: PaletteKind,\n    entries: Entries<string>,\n    defaultValue: string | undefined\n  ) {\n    const palette = Palette.fromEntries(name, kind, entries, defaultValue);\n\n    return new CategorySummary(name, kind, palette);\n  }\n}\n\nexport type VisualVariableScales = {\n  [name: keyof VisualVariables]: AttributeScale;\n};\n\nexport class VisualVariableScalesBuilder {\n  variables: VisualVariables;\n  nodeExtents: AttributeExtents;\n  edgeExtents: AttributeExtents;\n  nodeCategories: AttributeCategories;\n  edgeCategories: AttributeCategories;\n  maxCategories: number;\n\n  constructor(\n    visualVariables: VisualVariables,\n    maxCategories = MAX_CATEGORICAL_COLORS\n  ) {\n    this.variables = visualVariables;\n    this.maxCategories = maxCategories;\n\n    const nodeExtentAttributes: Array<string> = [];\n    const nodeCategoryAttributes: Array<string> = [];\n    const edgeExtentAttributes: Array<string> = [];\n    const edgeCategoryAttributes: Array<string> = [];\n\n    for (const variableName in visualVariables) {\n      const variable = visualVariables[variableName];\n\n      if (variableName.startsWith('node')) {\n        if (variable.type === 'category') {\n          if (!variable.palette || typeof variable.palette === 'string')\n            nodeCategoryAttributes.push(variable.attribute);\n        } else if (\n          variable.type === 'continuous' ||\n          variableName === 'nodeSize'\n        ) {\n          nodeExtentAttributes.push(\n            (variable as ContinuousVisualVariable).attribute\n          );\n        }\n      } else if (variableName.startsWith('edge')) {\n        if (variable.type === 'category') {\n          if (!variable.palette || typeof variable.palette === 'string')\n            edgeCategoryAttributes.push(variable.attribute);\n        } else if (variable.type === 'continuous') {\n          edgeExtentAttributes.push(variable.attribute);\n        }\n      }\n    }\n\n    this.nodeExtents = new AttributeExtents(nodeExtentAttributes);\n    this.edgeExtents = new AttributeExtents(edgeExtentAttributes);\n    this.nodeCategories = new AttributeCategories(nodeCategoryAttributes);\n    this.edgeCategories = new AttributeCategories(edgeCategoryAttributes);\n  }\n\n  readGraph(graph: Graph): void {\n    graph.forEachNode((node, attr) => {\n      this.nodeExtents.add(attr);\n      this.nodeCategories.add(attr);\n    });\n\n    graph.forEachEdge((edge, attr) => {\n      this.edgeExtents.add(attr);\n      this.edgeCategories.add(attr);\n    });\n  }\n\n  build(): VisualVariableScales {\n    const scales: VisualVariableScales = {};\n\n    for (const variableName in this.variables) {\n      const variable = this.variables[variableName];\n      let scale: AttributeScale | null = null;\n\n      // Raw variables\n      if (variable.type === 'raw') {\n        scale = (attr) => attr[variable.attribute] || variable.default;\n      }\n\n      // Constant variables\n      else if (variable.type === 'constant') {\n        scale = () => variable.default;\n      }\n\n      // Category variables\n      else if (variable.type === 'category') {\n        const categories = variableName.startsWith('node')\n          ? this.nodeCategories\n          : this.edgeCategories;\n\n        const summary =\n          variable.palette && typeof variable.palette !== 'string'\n            ? CategorySummary.fromEntries(\n                variable.attribute,\n                variable.kind || 'color',\n                variable.palette,\n                variable.default\n              )\n            : CategorySummary.fromTopValues(\n                variable.attribute,\n                variable.kind || 'color',\n                categories.attributes[variable.attribute],\n                variable.default,\n                variable.palette,\n                this.maxCategories\n              );\n\n        const palette = summary.palette;\n\n        scale = (attr) => palette.get(attr[variable.attribute]);\n        scale.summary = summary;\n      }\n\n      // Continuous variables\n      else if (variable.type === 'continuous') {\n        const extents = variableName.startsWith('node')\n          ? this.nodeExtents\n          : this.edgeExtents;\n\n        const extent = extents.attributes[variable.attribute];\n\n        scale = createContinuousScale(variable, extent);\n      }\n\n      if (scale) scales[variableName] = scale;\n    }\n\n    return scales;\n  }\n\n  inferLabelRenderedSizeThreshold(): number {\n    const variable = this.variables.nodeSize;\n\n    if (variable.type === 'continuous') {\n      const range = variable.range;\n\n      return Math.min(6, range[0] as number);\n    }\n\n    return 6;\n  }\n}\n","import {\n  DOMWidgetModel,\n  DOMWidgetView,\n  ISerializers,\n} from '@jupyter-widgets/base';\n\nimport Graph from 'graphology';\nimport { SerializedGraph } from 'graphology-types';\nimport LayoutSupervisor from 'graphology-layout-forceatlas2/worker';\nimport NoverlapSupervisor from 'graphology-layout-noverlap/worker';\nimport forceAtlas2 from 'graphology-layout-forceatlas2';\nimport type { ForceAtlas2Settings } from 'graphology-layout-forceatlas2';\nimport louvain from 'graphology-communities-louvain';\nimport { collectLayout, assignLayout } from 'graphology-layout/utils';\nimport chroma from 'chroma-js';\n\nimport Sigma from 'sigma';\nimport { animateNodes } from 'sigma/utils/animate';\nimport { Settings as SigmaSettings } from 'sigma/settings';\nimport { CameraState, NodeDisplayData, EdgeDisplayData } from 'sigma/types';\nimport { createNodeCompoundProgram } from 'sigma/rendering/webgl/programs/common/node';\nimport NodePointProgram from 'sigma/rendering/webgl/programs/node.point';\nimport NodePointWithBorderProgram from '@yomguithereal/sigma-experiments-renderers/node/node.point.border';\nimport NodeHaloProgram from '@yomguithereal/sigma-experiments-renderers/node/node.halo';\nimport createNodePictogramProgram from '@yomguithereal/sigma-experiments-renderers/node/node.pictogram';\nimport EdgeLineProgram from 'sigma/rendering/webgl/programs/edge.line';\nimport EdgeRectangleProgram from 'sigma/rendering/webgl/programs/edge.rectangle';\nimport EdgeTriangleProgram from 'sigma/rendering/webgl/programs/edge.triangle';\nimport EdgeCurveProgram from '@yomguithereal/sigma-experiments-renderers/edge/edge.curve';\n\nimport EventEmitter from 'events';\nimport seedrandom from 'seedrandom';\nimport type { Properties as CSSProperties } from 'csstype';\nimport comma from 'comma-number';\nimport Choices from 'choices.js';\nimport screenfull from 'screenfull';\nimport debounce from 'debounce';\n\nimport { MODULE_NAME, MODULE_VERSION } from './version';\nimport drawHover from './custom-hover';\nimport drawLabel from './custom-label';\nimport {\n  CategorySummary,\n  VisualVariableScalesBuilder,\n  VisualVariable,\n  VisualVariables,\n} from './visual-variables';\nimport {\n  renderAsDataURL,\n  saveAsPNG,\n  saveAsGEXF,\n  saveAsJSON,\n  saveAsSVG,\n  pictogramToUrl,\n} from './utils';\nimport { shapeToPicto } from './shapes';\nimport {\n  zoomIcon,\n  unzoomIcon,\n  resetZoomIcon,\n  playIcon,\n  pauseIcon,\n  resetLayoutIcon,\n  fullscreenEnterIcon,\n  fullscreenExitIcon,\n  scatterIcon,\n} from './icons';\n\nimport 'choices.js/public/assets/styles/choices.min.css';\nimport '../css/widget.css';\n\n/**\n * Constants.\n */\nconst NODE_VIZ_ATTRIBUTES = new Set(['label', 'size', 'color', 'x', 'y']);\nconst EDGE_VIZ_ATTRIBUTES = new Set(['label', 'size', 'color']);\nconst MUTED_NODE_COLOR = '#ccc';\nconst IPYSIGMA_KWARG_PREFIX = 'ipysigma_kwarg_';\n\n/**\n * Types.\n */\ntype ItemType = 'node' | 'edge';\ntype RNGFunction = () => number;\ntype InformationDisplayTab = 'legend' | 'info';\ntype Position = { x: number; y: number };\ntype LayoutMapping = Record<string, Position>;\ntype SyncTarget = 'layout' | 'camera' | 'selection' | 'hover';\n\ninterface IPysigmaNodeDisplayData extends NodeDisplayData {\n  hoverLabel?: string | null;\n  categoryValue?: string;\n  borderColor?: string;\n  borderRatio?: number;\n  borderSize?: number;\n  labelSize?: number;\n  labelColor?: string;\n  pictogram?: string;\n  pictogramColor?: string;\n  haloSize?: number;\n  haloColor?: string;\n}\n\ninterface IPysigmaEdgeDisplayData extends EdgeDisplayData {\n  curveness?: number;\n}\n\n// type IPysigmaProgramSettings = {};\n\ntype IPysigmaUISettings = {\n  hideInfoPanel: boolean;\n  hideSearch: boolean;\n};\n\n/**\n * Template.\n */\nconst TEMPLATE = `\n<div class=\"ipysigma-container\"></div>\n<div class=\"ipysigma-left-panel\">\n  <div class=\"ipysigma-graph-description\"></div>\n  <div>\n    <button class=\"ipysigma-zoom-button ipysigma-button ipysigma-svg-icon\" title=\"zoom\">\n      ${zoomIcon}\n    </button>\n    <button class=\"ipysigma-unzoom-button ipysigma-button ipysigma-svg-icon\" title=\"unzoom\">\n      ${unzoomIcon}\n    </button>\n    <button class=\"ipysigma-reset-zoom-button ipysigma-button ipysigma-svg-icon\" title=\"reset zoom\">\n      ${resetZoomIcon}\n    </button>\n  </div>\n  <div>\n    <button class=\"ipysigma-fullscreen-button ipysigma-button ipysigma-svg-icon\" title=\"enter fullscreen\">\n      ${fullscreenEnterIcon}\n    </button>\n  </div>\n  <div class=\"ipysigma-layout-controls\">\n    <button class=\"ipysigma-layout-button ipysigma-button ipysigma-svg-icon\" title=\"start layout\">\n      ${playIcon}\n    </button>\n    <button class=\"ipysigma-noverlap-button ipysigma-button ipysigma-svg-icon\" title=\"spread nodes\">\n      ${scatterIcon}\n    </button>\n    <button class=\"ipysigma-reset-layout-button ipysigma-button ipysigma-svg-icon\" title=\"reset layout\">\n      ${resetLayoutIcon}\n    </button>\n  </div>\n</div>\n<div class=\"ipysigma-right-panel\">\n  <select class=\"ipysigma-search\">\n    <option value=\"\">Search a node...</option>\n  </select>\n  <div class=\"ipysigma-information-shadow-display\" style=\"display: none;\">\n    <span class=\"ipysigma-information-show-button\">show info</span>\n  </div>\n  <div class=\"ipysigma-information-display\">\n    <div class=\"ipysigma-information-display-tabs\">\n      <span class=\"ipysigma-information-legend-button ipysigma-tab-button\">legend</span>\n      &middot;\n      <span class=\"ipysigma-information-info-button ipysigma-tab-button\">info</span>\n      <span class=\"ipysigma-information-hide-button\">hide</span>\n    </div>\n    <hr>\n    <div class=\"ipysigma-legend\"></div>\n    <div class=\"ipysigma-information-contents\"></div>\n  </div>\n  <div class=\"ipysigma-download-controls\">\n    <button class=\"ipysigma-download-png-button ipysigma-button\">\n      png\n    </button>\n    <button class=\"ipysigma-download-svg-button ipysigma-button\">\n      svg\n    </button>\n    <button class=\"ipysigma-download-gexf-button ipysigma-button\">\n      gexf\n    </button>\n    <button class=\"ipysigma-download-json-button ipysigma-button\">\n      json\n    </button>\n  </div>\n</div>\n`;\n\n/**\n * Model declaration.\n */\nexport class SigmaModel extends DOMWidgetModel {\n  defaults() {\n    return {\n      ...super.defaults(),\n      _model_name: SigmaModel.model_name,\n      _model_module: SigmaModel.model_module,\n      _model_module_version: SigmaModel.model_module_version,\n      _view_name: SigmaModel.view_name,\n      _view_module: SigmaModel.view_module,\n      _view_module_version: SigmaModel.view_module_version,\n      data: { nodes: [], edges: [] },\n      height: 500,\n      start_layout: false,\n      snapshot: null,\n      layout: null,\n      clickableEdges: false,\n      visual_variables: {},\n    };\n  }\n\n  static serializers: ISerializers = {\n    ...DOMWidgetModel.serializers,\n    // Add any extra serializers here\n  };\n\n  static model_name = 'SigmaModel';\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n  static view_name = 'SigmaView'; // Set to null if no view\n  static view_module = MODULE_NAME; // Set to null if no view\n  static view_module_version = MODULE_VERSION;\n}\n\n/**\n * Helper functions.\n */\nfunction createRng(): RNGFunction {\n  return seedrandom('ipysigma');\n}\n\nfunction isValidNumber(value: any): boolean {\n  return typeof value === 'number' && !isNaN(value);\n}\n\nfunction escapeHtml(unsafe: string): string {\n  return ('' + unsafe)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\n\nfunction renderTypedValue(value: any): string {\n  let safe = escapeHtml('' + value);\n\n  let type = 'unknown';\n\n  if (typeof value === 'number') {\n    type = 'number';\n  } else if (typeof value === 'string') {\n    type = 'string';\n  } else if (typeof value === 'boolean') {\n    type = 'boolean';\n    safe = value ? 'True' : 'False';\n  } else if (value === null) {\n    type = 'keyword';\n    safe = 'null';\n  }\n\n  return `<span class=\"ipysigma-${type}\" title=\"${type}\">${safe}</span>`;\n}\n\nfunction buildGraph(data: SerializedGraph, rng: RNGFunction): Graph {\n  const graph = Graph.from(data);\n\n  // Rectifications\n  graph.updateEachNodeAttributes((key, attr) => {\n    // Random position for nodes without positions\n    if (!isValidNumber(attr.x)) attr.x = rng();\n    if (!isValidNumber(attr.y)) attr.y = rng();\n\n    return attr;\n  });\n\n  return graph;\n}\n\nfunction createElement(\n  tag: keyof HTMLElementTagNameMap,\n  options?: {\n    className?: string | null;\n    style?: CSSProperties;\n    innerHTML?: string;\n    title?: string;\n  }\n): HTMLElement {\n  const element = document.createElement(tag);\n\n  const { className, style, innerHTML, title } = options || {};\n\n  if (className) element.setAttribute('class', className);\n\n  for (const prop in style) {\n    (<any>element.style)[prop] = (<any>style)[prop];\n  }\n\n  if (innerHTML) element.innerHTML = innerHTML;\n\n  if (title) element.setAttribute('title', title);\n\n  return element;\n}\n\nfunction hide(el: HTMLElement): void {\n  el.style.display = 'none';\n}\n\nfunction show(el: HTMLElement): void {\n  el.style.display = 'block';\n}\n\nfunction disable(el: HTMLButtonElement): void {\n  el.classList.add('disabled');\n  el.disabled = true;\n}\n\nfunction enable(el: HTMLButtonElement): void {\n  el.classList.remove('disabled');\n  el.disabled = false;\n}\n\nconst SPINNER_STATES = ['⣾', '⣽', '⣻', '⢿', '⡿', '⣟', '⣯', '⣷'];\n\nfunction createSpinner(): [HTMLElement, () => void] {\n  const span = createElement('span', {\n    className: 'ipysigma-spinner',\n    innerHTML: SPINNER_STATES[0],\n  });\n\n  let state = -1;\n  let frame: ReturnType<typeof setTimeout> | null = null;\n\n  const update = () => {\n    state++;\n    state %= SPINNER_STATES.length;\n    span.innerHTML = SPINNER_STATES[state];\n\n    frame = setTimeout(update, 80);\n  };\n\n  update();\n\n  return [span, () => frame !== null && clearTimeout(frame)];\n}\n\nfunction getGraphDescription(name: string | undefined, graph: Graph): string {\n  let html = '';\n\n  if (name) {\n    html += `<u>${escapeHtml(name)}</u><br>`;\n  }\n\n  const graphTitle = `${graph.multi ? 'Multi ' : ''}${\n    graph.type === 'undirected' ? 'Undirected' : 'Directed'\n  } Graph`;\n\n  html += `${graphTitle}<br><b>${comma(graph.order)}</b> nodes<br><b>${comma(\n    graph.size\n  )}</b> edges`;\n\n  return html;\n}\n\n/**\n * Global.\n */\ntype SyncRegistryEntry = {\n  emitter: EventEmitter;\n  renderers: Set<Sigma>;\n};\n\nconst SYNC_REGISTRY: Map<string, SyncRegistryEntry> = new Map();\n\n/**\n * View declaration.\n */\nexport class SigmaView extends DOMWidgetView {\n  container: HTMLElement;\n  renderer: Sigma;\n  graph: Graph;\n  emitter: EventEmitter = new EventEmitter();\n  edgeWeightAttribute: string | null = null;\n\n  syncKey: string | undefined;\n  syncHoveredNode: string | null = null;\n  syncListeners: Record<string, (...args: any) => void> = {};\n\n  originalLayoutPositions: LayoutMapping;\n  layout: LayoutSupervisor;\n  noverlap: NoverlapSupervisor;\n  layoutButton: HTMLButtonElement;\n  noverlapButton: HTMLButtonElement;\n  resetLayoutButton: HTMLButtonElement;\n  layoutSpinner: [HTMLElement, () => void] | null = null;\n  layoutControls: HTMLElement;\n\n  zoomButton: HTMLElement;\n  unzoomButton: HTMLElement;\n  resetZoomButton: HTMLElement;\n\n  fullscreenButton: HTMLElement;\n\n  choices: Choices;\n  currentTab: InformationDisplayTab = 'legend';\n  informationDisplayElement: HTMLElement;\n  informationShadowDisplayElement: HTMLElement;\n  itemInfoElement: HTMLElement;\n  legendElement: HTMLElement;\n  legendButton: HTMLElement;\n  nodeInfoButton: HTMLElement;\n  hideInformationButton: HTMLElement;\n  showInformationButton: HTMLElement;\n  isInformationShown: boolean = true;\n  selectedNode: string | null = null;\n  selectedEdge: string | null = null;\n  focusedNodes: Set<string> | null = null;\n  selectedNodeCategoryValues: Set<string> | null = null;\n  selectedEdgeCategoryValues: Set<string> | null = null;\n\n  downloadPNGButton: HTMLElement;\n  downloadGEXFButton: HTMLElement;\n  downloadSVGButton: HTMLElement;\n  downloadJSONButton: HTMLElement;\n\n  render() {\n    super.render();\n\n    this.el.classList.add('ipysigma-widget');\n\n    const height = this.model.get('height');\n    const backgroundColor = this.model.get('background_color');\n    const name = this.model.get('name');\n    const data = this.model.get('data');\n\n    this.el.style.backgroundColor = backgroundColor;\n\n    const graph = buildGraph(data, createRng());\n    this.graph = graph;\n\n    // Preexisting layout?\n    const preexistingLayout = this.model.get('layout');\n\n    if (preexistingLayout) {\n      assignLayout(graph, preexistingLayout);\n    } else {\n      this.saveLayout();\n    }\n    this.originalLayoutPositions = collectLayout(graph);\n\n    // Selection state\n    const selectedNodeCategoryValues = this.model.get(\n      'selected_node_category_values'\n    ) as Array<string> | undefined;\n    const selectedEdgeCategoryValues = this.model.get(\n      'selected_edge_category_values'\n    ) as Array<string> | undefined;\n\n    if (selectedNodeCategoryValues)\n      this.selectedNodeCategoryValues = new Set(selectedNodeCategoryValues);\n    if (selectedEdgeCategoryValues)\n      this.selectedEdgeCategoryValues = new Set(selectedEdgeCategoryValues);\n\n    // Widget-side metrics\n    this.edgeWeightAttribute = this.model.get('edge_weight') as string | null;\n\n    let nodeMetrics =\n      (this.model.get('node_metrics') as Record<string, any>) || {};\n\n    // NOTE: for some untractable reason, I need a completly new deep object\n    nodeMetrics = JSON.parse(JSON.stringify(nodeMetrics));\n\n    for (const attrName in nodeMetrics) {\n      const metricSpec = nodeMetrics[attrName];\n      const metric = metricSpec.name;\n\n      if (metric === 'louvain') {\n        const communities = louvain(graph, {\n          getEdgeWeight: this.edgeWeightAttribute,\n          rng: createRng(),\n          resolution: metricSpec.resolution || 1,\n        });\n\n        metricSpec.result = communities;\n\n        graph.updateEachNodeAttributes(\n          (node, attr) => {\n            attr[attrName] = communities[node];\n            return attr;\n          },\n          { attributes: [attrName] }\n        );\n      } else {\n        throw new Error(`unkown metric \"${metric}\"` + metric);\n      }\n    }\n\n    this.model.set('node_metrics', nodeMetrics);\n    this.touch();\n\n    this.el.insertAdjacentHTML('beforeend', TEMPLATE);\n    this.el.style.width = '100%';\n    this.el.style.height = height;\n\n    this.container = this.el.querySelector(\n      '.ipysigma-container'\n    ) as HTMLElement;\n    this.container.style.width = '100%';\n    this.container.style.height = height;\n\n    // Description\n    const description = this.el.querySelector(\n      '.ipysigma-graph-description'\n    ) as HTMLElement;\n    description.innerHTML = getGraphDescription(name, graph);\n\n    // Camera controls\n    this.zoomButton = this.el.querySelector(\n      '.ipysigma-zoom-button'\n    ) as HTMLElement;\n    this.unzoomButton = this.el.querySelector(\n      '.ipysigma-unzoom-button'\n    ) as HTMLElement;\n    this.resetZoomButton = this.el.querySelector(\n      '.ipysigma-reset-zoom-button'\n    ) as HTMLElement;\n\n    // Fullscreen controls\n    this.fullscreenButton = this.el.querySelector(\n      '.ipysigma-fullscreen-button'\n    ) as HTMLElement;\n\n    // Layout controls\n    this.layoutControls = this.el.querySelector(\n      '.ipysigma-layout-controls'\n    ) as HTMLElement;\n    this.layoutButton = this.el.querySelector(\n      '.ipysigma-layout-button'\n    ) as HTMLButtonElement;\n    this.noverlapButton = this.el.querySelector(\n      '.ipysigma-noverlap-button'\n    ) as HTMLButtonElement;\n    this.resetLayoutButton = this.el.querySelector(\n      '.ipysigma-reset-layout-button'\n    ) as HTMLButtonElement;\n\n    // Search\n    var searchContainer = this.el.querySelector(\n      '.ipysigma-search'\n    ) as HTMLElement;\n\n    const nodeLabelAttribute =\n      this.model.get('visual_variables').nodeLabel.attribute;\n\n    const options = graph.mapNodes((key, attr) => {\n      let labelParts = [escapeHtml(key)];\n\n      const label = attr[nodeLabelAttribute];\n\n      if (label && label !== key) {\n        labelParts.push(\n          ` <small style=\"font-size: 75%;\">${escapeHtml(label)}</small>`\n        );\n      }\n\n      return { value: key, label: labelParts.join(' ') };\n    });\n\n    this.choices = new Choices(searchContainer, {\n      allowHTML: true,\n      removeItemButton: true,\n      renderChoiceLimit: 10,\n      choices: options,\n      itemSelectText: '',\n      position: 'bottom',\n    });\n\n    this.informationDisplayElement = this.el.querySelector(\n      '.ipysigma-information-display'\n    ) as HTMLElement;\n    this.informationShadowDisplayElement = this.el.querySelector(\n      '.ipysigma-information-shadow-display'\n    ) as HTMLElement;\n    this.itemInfoElement = this.el.querySelector(\n      '.ipysigma-information-contents'\n    ) as HTMLElement;\n    this.legendElement = this.el.querySelector(\n      '.ipysigma-legend'\n    ) as HTMLElement;\n\n    this.nodeInfoButton = this.el.querySelector(\n      '.ipysigma-information-info-button'\n    ) as HTMLElement;\n    this.legendButton = this.el.querySelector(\n      '.ipysigma-information-legend-button'\n    ) as HTMLElement;\n    this.hideInformationButton = this.el.querySelector(\n      '.ipysigma-information-hide-button'\n    ) as HTMLElement;\n    this.showInformationButton = this.el.querySelector(\n      '.ipysigma-information-show-button'\n    ) as HTMLElement;\n\n    this.changeInformationDisplayTab('legend');\n\n    // Download controls\n    this.downloadPNGButton = this.el.querySelector(\n      '.ipysigma-download-png-button'\n    ) as HTMLElement;\n    this.downloadGEXFButton = this.el.querySelector(\n      '.ipysigma-download-gexf-button'\n    ) as HTMLElement;\n    this.downloadSVGButton = this.el.querySelector(\n      '.ipysigma-download-svg-button'\n    ) as HTMLElement;\n    this.downloadJSONButton = this.el.querySelector(\n      '.ipysigma-download-json-button'\n    ) as HTMLElement;\n\n    // Waiting for widget to be mounted to register events\n    this.displayed.then(() => {\n      // const programSettings = this.model.get(\n      //   'program_settings'\n      // ) as IPysigmaProgramSettings;\n\n      const visualVariables = this.model.get(\n        'visual_variables'\n      ) as VisualVariables;\n\n      const nodeColorSaturationEnabled =\n        visualVariables.nodeColorSaturation.type !== 'disabled';\n      const nodeBordersEnabled =\n        visualVariables.nodeBorderColor.type !== 'disabled' &&\n        (visualVariables.nodeBorderSize.type !== 'disabled' ||\n          visualVariables.nodeBorderRatio.type !== 'disabled');\n      const nodePictogramsEnabled =\n        visualVariables.nodePictogram.type !== 'disabled';\n      const nodeShapeEnabled = visualVariables.nodeShape.type !== 'disabled';\n      const nodeHaloEnabled =\n        visualVariables.nodeHaloSize.type !== 'disabled' &&\n        visualVariables.nodeHaloColor.type !== 'disabled';\n\n      const edgeProgramClasses = {\n        rectangle: EdgeRectangleProgram,\n        line: EdgeLineProgram,\n        triangle: EdgeTriangleProgram,\n        curve: EdgeCurveProgram,\n      };\n\n      const NodePictogramProgram = createNodePictogramProgram({\n        correctCentering: true,\n        forcedSvgSize: 384,\n        keepWithinCircle: true,\n      });\n\n      const NodeShapeProgram = createNodePictogramProgram({\n        correctCentering: true,\n        forcedSvgSize: 384,\n        keepWithinCircle: false,\n      });\n\n      const nodeProgramClasses = {\n        point: NodePointProgram,\n        halo: createNodeCompoundProgram([NodeHaloProgram, NodePointProgram]),\n        border: NodePointWithBorderProgram,\n        picto: createNodeCompoundProgram([\n          NodePointProgram,\n          NodePictogramProgram,\n        ]),\n        shape: NodeShapeProgram,\n        'border+picto': createNodeCompoundProgram([\n          NodePointWithBorderProgram,\n          NodePictogramProgram,\n        ]),\n        'border+halo': createNodeCompoundProgram([\n          NodeHaloProgram,\n          NodePointWithBorderProgram,\n        ]),\n        'border+halo+picto': createNodeCompoundProgram([\n          NodeHaloProgram,\n          NodePointWithBorderProgram,\n          NodePictogramProgram,\n        ]),\n        'halo+picto': createNodeCompoundProgram([\n          NodeHaloProgram,\n          NodePointProgram,\n          NodePictogramProgram,\n        ]),\n      };\n\n      const nodeHoverProgramClasses = {\n        halo: NodePointProgram,\n        'border+halo': NodePointWithBorderProgram,\n        'border+halo+picto': createNodeCompoundProgram([\n          NodePointWithBorderProgram,\n          NodePictogramProgram,\n        ]),\n        'halo+picto': createNodeCompoundProgram([\n          NodePointProgram,\n          NodePictogramProgram,\n        ]),\n      };\n\n      let rendererSettings = this.model.get(\n        'renderer_settings'\n      ) as Partial<SigmaSettings>;\n\n      rendererSettings = {\n        hoverRenderer: drawHover,\n        labelRenderer: drawLabel,\n        edgeProgramClasses,\n        nodeProgramClasses,\n        nodeHoverProgramClasses,\n        defaultNodeType: 'point',\n        defaultEdgeType: 'rectangle',\n        ...rendererSettings,\n      };\n\n      // Gathering info about the graph to build reducers correctly\n      const maxCategoricalColors = this.model.get('max_categorical_colors') as number;\n\n      const scaleBuilder = new VisualVariableScalesBuilder(\n        visualVariables,\n        maxCategoricalColors\n      );\n\n      scaleBuilder.readGraph(graph);\n\n      if (!('labelRenderedSizeThreshold' in rendererSettings))\n        rendererSettings.labelRenderedSizeThreshold =\n          scaleBuilder.inferLabelRenderedSizeThreshold();\n\n      const scales = scaleBuilder.build();\n\n      this.updateLegend(visualVariables, {\n        nodeColor: scales.nodeColor?.summary,\n        nodeBorderColor: scales.nodeBorderColor?.summary,\n        edgeColor: scales.edgeColor?.summary,\n      });\n\n      const nodeDisplayDataRegister: Record<\n        string,\n        Partial<IPysigmaNodeDisplayData>\n      > = {};\n\n      const nodeCategoryAttribute =\n        visualVariables.nodeColor.type === 'category'\n          ? visualVariables.nodeColor.attribute\n          : null;\n\n      const edgeCategoryAttribute =\n        visualVariables.edgeColor.type === 'category'\n          ? visualVariables.edgeColor.attribute\n          : null;\n\n      const edgeColorFrom =\n        visualVariables.edgeColor.type === 'dependent'\n          ? visualVariables.edgeColor.value\n          : null;\n\n      const nodeBorderColorFrom =\n        visualVariables.nodeBorderColor.type === 'dependent'\n          ? visualVariables.nodeBorderColor.value\n          : undefined;\n\n      // Node reducer\n      rendererSettings.nodeReducer = (node, data) => {\n        const displayData: Partial<IPysigmaNodeDisplayData> = {\n          x: data.x,\n          y: data.y,\n        };\n\n        // Visual variables\n        const categoryValue = nodeCategoryAttribute\n          ? data[nodeCategoryAttribute]\n          : undefined;\n\n        if (categoryValue !== undefined) {\n          displayData.categoryValue = categoryValue;\n        }\n\n        displayData.color = scales.nodeColor(data) as string;\n        displayData.size = scales.nodeSize(data) as number;\n        displayData.label = (scales.nodeLabel(data) || node) as string;\n        displayData.labelSize = scales.nodeLabelSize(data) as number;\n        displayData.labelColor = scales.nodeLabelColor(data) as string;\n\n        if (nodeColorSaturationEnabled) {\n          const color = chroma(displayData.color);\n\n          displayData.color = color\n            .set(\n              'lch.c',\n              color.get('lch.c') * (scales.nodeColorSaturation(data) as number)\n            )\n            .hex();\n        }\n\n        if (nodeBordersEnabled) {\n          if (visualVariables.nodeBorderRatio.type !== 'disabled')\n            displayData.borderRatio = scales.nodeBorderRatio(data) as number;\n          else {\n            displayData.borderSize = scales.nodeBorderSize(data) as number;\n            displayData.size += displayData.borderSize;\n          }\n\n          if (nodeBorderColorFrom) {\n            displayData.borderColor = chroma(displayData.color).darken().hex();\n          } else {\n            displayData.borderColor = scales.nodeBorderColor(data) as string;\n          }\n        }\n\n        if (nodePictogramsEnabled) {\n          displayData.pictogram = pictogramToUrl(\n            scales.nodePictogram(data) as string\n          );\n\n          displayData.pictogramColor = scales.nodePictogramColor(\n            data\n          ) as string;\n        }\n\n        if (nodeShapeEnabled) {\n          displayData.pictogram = pictogramToUrl(\n            shapeToPicto(scales.nodeShape(data) as string) || 'circle',\n            'wght700fill1'\n          );\n          displayData.pictogramColor = displayData.color;\n        }\n\n        if (nodeHaloEnabled) {\n          const haloSize = scales.nodeHaloSize(data) as number;\n\n          if (haloSize !== 0) {\n            displayData.haloSize = displayData.size + haloSize;\n          } else {\n            displayData.haloSize = 0;\n          }\n\n          displayData.haloColor = scales.nodeHaloColor(data) as string;\n        }\n\n        // Transient state\n        if (node === this.selectedNode || node === this.syncHoveredNode) {\n          displayData.highlighted = true;\n        }\n\n        if (\n          (this.focusedNodes && !this.focusedNodes.has(node)) ||\n          (this.selectedNodeCategoryValues &&\n            !this.selectedNodeCategoryValues.has(categoryValue))\n        ) {\n          if (!nodeShapeEnabled) {\n            displayData.type = 'point';\n            displayData.color = MUTED_NODE_COLOR;\n          } else {\n            displayData.pictogramColor = MUTED_NODE_COLOR;\n          }\n\n          displayData.zIndex = 0;\n          displayData.size = displayData.size ? displayData.size / 2 : 1;\n          displayData.hoverLabel = displayData.label;\n          displayData.label = '';\n        } else {\n          displayData.zIndex = 1;\n        }\n\n        nodeDisplayDataRegister[node] = displayData;\n\n        return displayData;\n      };\n\n      // Edge reducer\n      rendererSettings.edgeReducer = (edge, data) => {\n        const displayData: Partial<IPysigmaEdgeDisplayData> = {};\n\n        const [source, target] = graph.extremities(edge);\n\n        // Visual variables\n        const categoryValue = edgeCategoryAttribute\n          ? data[edgeCategoryAttribute]\n          : null;\n\n        if (edgeColorFrom) {\n          displayData.color =\n            nodeDisplayDataRegister[\n              edgeColorFrom === 'source' ? source : target\n            ].color;\n        } else {\n          displayData.color = scales.edgeColor(data) as string;\n        }\n\n        displayData.size = scales.edgeSize(data) as number;\n\n        if (scales.edgeLabel)\n          displayData.label = scales.edgeLabel(data) as string;\n\n        if (rendererSettings.defaultEdgeType === 'curve') {\n          displayData.curveness = scales.edgeCurveness(data) as number;\n        }\n\n        // Transient state\n        if (this.selectedNode && this.focusedNodes) {\n          if (source !== this.selectedNode && target !== this.selectedNode) {\n            displayData.hidden = true;\n          }\n        }\n\n        if (this.selectedNodeCategoryValues) {\n          if (\n            !this.selectedNodeCategoryValues.has(\n              nodeDisplayDataRegister[source]?.categoryValue as string\n            ) &&\n            !this.selectedNodeCategoryValues.has(\n              nodeDisplayDataRegister[target]?.categoryValue as string\n            )\n          ) {\n            displayData.hidden = true;\n          }\n        }\n\n        if (this.selectedEdgeCategoryValues) {\n          if (!this.selectedEdgeCategoryValues.has(categoryValue)) {\n            displayData.hidden = true;\n          }\n        }\n\n        if (this.selectedEdge) {\n          displayData.hidden = edge !== this.selectedEdge;\n        }\n\n        return displayData;\n      };\n\n      this.renderer = new Sigma(graph, this.container, rendererSettings);\n\n      const uiSettings = this.model.get('ui_settings') as IPysigmaUISettings;\n\n      const initialCameraState = this.model.get('camera_state') as CameraState;\n      this.renderer.getCamera().setState(initialCameraState);\n\n      const selectedNode = this.model.get('selected_node') as\n        | string\n        | undefined;\n      const selectedEdge = this.model.get('selected_edge') as\n        | string\n        | undefined;\n\n      if (selectedNode) this.selectItem('node', selectedNode);\n      else if (selectedEdge)\n        this.selectItem(\n          'edge',\n          graph.edge(selectedEdge[0], selectedEdge[1]) as string\n        );\n      else this.clearSelectedItem();\n\n      if (uiSettings.hideInfoPanel) this.toggleInformationDisplay();\n      if (uiSettings.hideSearch) {\n        this.choices.destroy();\n        hide(searchContainer);\n        this.informationDisplayElement.classList.add('full');\n      }\n\n      this.bindMessageHandlers();\n      this.bindRendererHandlers();\n      this.bindChoicesHandlers();\n      this.bindInformationDisplayHandlers();\n      this.bindDownloadHandlers();\n      this.bindCameraHandlers();\n      this.bindFullscreenHandlers();\n      this.bindLayoutHandlers();\n\n      this.syncKey = this.model.get('sync_key') as string | undefined;\n\n      if (this.syncKey) {\n        const currentSyncEntry = SYNC_REGISTRY.get(this.syncKey);\n\n        if (!currentSyncEntry) {\n          const emitter = new EventEmitter();\n\n          SYNC_REGISTRY.set(this.syncKey, {\n            emitter,\n            renderers: new Set([this.renderer]),\n          });\n\n          this.bindSyncEvents(emitter);\n        } else {\n          currentSyncEntry.renderers.add(this.renderer);\n          this.bindSyncEvents(currentSyncEntry.emitter);\n        }\n      }\n    });\n  }\n\n  renderSnapshot() {\n    this.model.set('snapshot', renderAsDataURL(this.renderer));\n    this.touch();\n  }\n\n  saveCameraState(state: CameraState) {\n    this.model.set('camera_state', state);\n    this.touch();\n  }\n\n  saveLayout() {\n    const mapping = collectLayout(this.graph);\n    this.model.set('layout', mapping);\n    this.touch();\n  }\n\n  resetLayout() {\n    this.model.set('layout', this.originalLayoutPositions);\n    this.touch();\n  }\n\n  changeInformationDisplayTab(tab: InformationDisplayTab) {\n    if (tab === 'legend') {\n      hide(this.itemInfoElement);\n      show(this.legendElement);\n      this.legendButton.classList.remove('selectable');\n      this.nodeInfoButton.classList.add('selectable');\n    } else {\n      hide(this.legendElement);\n      show(this.itemInfoElement);\n      this.legendButton.classList.add('selectable');\n      this.nodeInfoButton.classList.remove('selectable');\n    }\n  }\n\n  toggleInformationDisplay(): void {\n    if (this.isInformationShown) {\n      // Hiding\n      hide(this.informationDisplayElement);\n      show(this.informationShadowDisplayElement);\n      this.el.querySelector('.ipysigma-right-panel')?.classList.add('hidden');\n      this.isInformationShown = false;\n    } else {\n      // Showing\n      show(this.informationDisplayElement);\n      hide(this.informationShadowDisplayElement);\n      this.el\n        .querySelector('.ipysigma-right-panel')\n        ?.classList.remove('hidden');\n      this.isInformationShown = true;\n    }\n  }\n\n  updateLegend(\n    variables: VisualVariables,\n    summaries: {\n      nodeColor?: CategorySummary;\n      nodeBorderColor?: CategorySummary;\n      edgeColor?: CategorySummary;\n    }\n  ) {\n    type ItemType = 'node' | 'edge';\n\n    const categoryMap: Map<number, { type: ItemType; values: Array<string> }> =\n      new Map();\n    let dataId = 0;\n\n    function renderLegend(\n      type: ItemType,\n      title: string,\n      variable: VisualVariable,\n      summary?: CategorySummary,\n      defaultColor?: string\n    ) {\n      if (variable.type === 'disabled' || variable.type === 'constant')\n        return null;\n\n      let html = `<b>${title}</b><br>`;\n\n      if (variable.type === 'dependent') {\n        html += `based on <span class=\"ipysigma-keyword\">${variable.value}</span> color`;\n      } else {\n        const source = variable.attribute.startsWith(IPYSIGMA_KWARG_PREFIX)\n          ? 'kwarg'\n          : 'attribute';\n        const name = variable.attribute.startsWith(IPYSIGMA_KWARG_PREFIX)\n          ? variable.attribute.slice(IPYSIGMA_KWARG_PREFIX.length)\n          : variable.attribute;\n\n        if (variable.type === 'raw') {\n          html += `<span class=\"ipysigma-keyword\">${escapeHtml(\n            name\n          )}</span> ${source}`;\n        } else if (variable.type === 'continuous') {\n          html += `<span class=\"ipysigma-keyword\">${escapeHtml(\n            name\n          )}</span> ${source} `;\n\n          if (typeof variable.range === 'string') {\n            html += `(using the <span class=\"ipysigma-keyword\">${variable.range}</span> color scheme)`;\n          } else if (typeof variable.range[0] === 'number') {\n            html += `(scaled to <span class=\"ipysigma-number\">${variable.range[0]}</span>-<span class=\"ipysigma-number\">${variable.range[1]}</span> px)`;\n          } else {\n            html += `(from <span style=\"color: ${variable.range[0]}\">■</span> ${variable.range[0]} to <span style=\"color: ${variable.range[1]}\">■</span> ${variable.range[1]})`;\n          }\n        } else {\n          html += `<span class=\"ipysigma-keyword\">${escapeHtml(\n            name\n          )}</span> ${source} as a category:`;\n\n          const paletteItems: string[] = [];\n\n          if (summary && summary.kind === 'color') {\n            const values: string[] = [];\n            categoryMap.set(dataId, { type, values });\n            let i = 0;\n\n            summary.palette.forEach((color, value) => {\n              values.push(value);\n              paletteItems.push(\n                `<span title=\"click to filter\" class=\"category\" data-key=\"${dataId}\" data-index=\"${i++}\"><span style=\"color: ${color}\">■</span> <span class=\"category-value\">${value}</span></span>`\n              );\n            });\n\n            dataId++;\n\n            if (summary.overflowing) {\n              paletteItems.push(\n                `<span style=\"color: ${summary.palette.defaultValue}\">■</span> ...`\n              );\n            }\n          } else {\n            paletteItems.push(\n              `<span style=\"color: ${defaultColor}\">■</span> default`\n            );\n          }\n\n          html += '<br>' + paletteItems.join('<br>');\n        }\n      }\n\n      return html;\n    }\n\n    const items = [\n      renderLegend('node', 'Node labels', variables.nodeLabel),\n      renderLegend(\n        'node',\n        'Node colors',\n        variables.nodeColor,\n        summaries.nodeColor\n      ),\n      renderLegend(\n        'node',\n        'Node border colors',\n        variables.nodeBorderColor,\n        summaries.nodeBorderColor\n      ),\n      renderLegend('node', 'Node sizes', variables.nodeSize),\n      renderLegend(\n        'edge',\n        'Edge colors',\n        variables.edgeColor,\n        summaries.edgeColor\n      ),\n      renderLegend('edge', 'Edge sizes', variables.edgeSize),\n      renderLegend('edge', 'Edge labels', variables.edgeLabel),\n    ];\n\n    this.legendElement.innerHTML = items.filter((l) => l).join('<hr>');\n\n    // Binding category span events\n    function getSpanInfo(span: HTMLElement): { type: ItemType; value: string } {\n      const key = +(span.getAttribute('data-key') as string);\n      const index = +(span.getAttribute('data-index') as string);\n\n      const record = categoryMap.get(key);\n\n      if (!record)\n        throw new Error('error registering category span click event handlers');\n\n      return { type: record.type, value: record.values[index] };\n    }\n\n    const categorySpans = this.legendElement.querySelectorAll(\n      '.category'\n    ) as NodeListOf<HTMLElement>;\n\n    const updateSpans = () => {\n      categorySpans.forEach((span) => {\n        const { type, value } = getSpanInfo(span);\n\n        if (type === 'node') {\n          if (\n            !this.selectedNodeCategoryValues ||\n            this.selectedNodeCategoryValues.has(value)\n          ) {\n            span.classList.remove('evicted');\n          } else {\n            span.classList.add('evicted');\n          }\n        } else if (type === 'edge') {\n          if (\n            !this.selectedEdgeCategoryValues ||\n            this.selectedEdgeCategoryValues.has(value)\n          ) {\n            span.classList.remove('evicted');\n          } else {\n            span.classList.add('evicted');\n          }\n        }\n      });\n    };\n\n    categorySpans.forEach((span) => {\n      span.onclick = () => {\n        const { type, value } = getSpanInfo(span);\n\n        const relatedPaletteCount = (\n          type === 'node' ? summaries.nodeColor : summaries.edgeColor\n        ) as CategorySummary;\n\n        this.toggleCategoryValue(type, relatedPaletteCount.palette.size, value);\n        updateSpans();\n        this.renderer.refresh();\n      };\n    });\n\n    updateSpans();\n  }\n\n  clearSelectedItem() {\n    this.selectedEdge = null;\n    this.selectedNode = null;\n    this.focusedNodes = null;\n    this.syncHoveredNode = null;\n\n    this.choices.setChoiceByValue('');\n\n    if (this.model.get('clickable_edges')) {\n      this.itemInfoElement.innerHTML =\n        '<i>Click on a node/edge or search a node to display information about it...</i>';\n    } else {\n      this.itemInfoElement.innerHTML =\n        '<i>Click on a node or search a node to display information about it...</i>';\n    }\n\n    this.changeInformationDisplayTab('legend');\n\n    this.model.set('selected_node', null);\n    this.model.set('selected_edge', null);\n    this.touch();\n\n    this.renderer.refresh();\n    this.emitter.emit('clearSelectedItem');\n  }\n\n  toggleCategoryValue(type: ItemType, max: number, value: string) {\n    let target =\n      type === 'node'\n        ? this.selectedNodeCategoryValues\n        : this.selectedEdgeCategoryValues;\n\n    if (!target) {\n      target = new Set([value]);\n    } else if (target.size === max - 1) {\n      target = null;\n    } else if (target.has(value)) {\n      if (target.size === 1) {\n        target = null;\n      } else {\n        target.delete(value);\n      }\n    } else {\n      target.add(value);\n    }\n\n    const update = target ? Array.from(target) : null;\n\n    if (type === 'node') {\n      this.selectedNodeCategoryValues = target;\n      this.model.set('selected_node_category_values', update);\n    } else {\n      this.selectedEdgeCategoryValues = target;\n      this.model.set('selected_edge_category_values', update);\n    }\n\n    this.touch();\n  }\n\n  selectItem(type: ItemType, key: string) {\n    const graph = this.graph;\n\n    if (type === 'node') {\n      this.selectedEdge = null;\n      this.selectedNode = key;\n      const focusedNodes: Set<string> = new Set();\n\n      focusedNodes.add(this.selectedNode);\n\n      graph.forEachNeighbor(key, (neighbor) => {\n        focusedNodes.add(neighbor);\n      });\n\n      this.focusedNodes = focusedNodes;\n      this.choices.setChoiceByValue(key);\n      this.model.set('selected_node', key);\n      this.model.set('selected_edge', null);\n    } else {\n      const extremities = graph.extremities(key);\n      this.selectedEdge = key;\n      this.selectedNode = null;\n      this.focusedNodes = new Set(extremities);\n      this.choices.setChoiceByValue('');\n      this.model.set('selected_edge', extremities);\n      this.model.set('selected_node', null);\n    }\n\n    this.touch();\n\n    const attr =\n      type === 'node'\n        ? graph.getNodeAttributes(key)\n        : graph.getEdgeAttributes(key);\n\n    let innerHTML = '';\n\n    if (type === 'node') {\n      innerHTML += `<b>Node</b> <i>${renderTypedValue(key)}</i>`;\n    } else {\n      const [source, target] = this.graph.extremities(key);\n      innerHTML += '<b>Edge</b>';\n\n      if (!key.startsWith('geid_'))\n        innerHTML += ` <i>${renderTypedValue(key)}</i>`;\n\n      innerHTML += `<br>from ${renderTypedValue(source)} to ${renderTypedValue(\n        target\n      )}`;\n    }\n\n    const kwargInfo: string[] = [];\n    const vizInfo: string[] = [];\n    const info: string[] = [];\n\n    const vizAttributes =\n      type === 'node' ? NODE_VIZ_ATTRIBUTES : EDGE_VIZ_ATTRIBUTES;\n\n    for (let k in attr) {\n      let target = info;\n\n      if (vizAttributes.has(k)) target = vizInfo;\n      else if (k.startsWith(IPYSIGMA_KWARG_PREFIX)) target = kwargInfo;\n\n      target.push(\n        `<b>${\n          k.startsWith(IPYSIGMA_KWARG_PREFIX)\n            ? k.slice(IPYSIGMA_KWARG_PREFIX.length)\n            : k\n        }</b> ${renderTypedValue(attr[k])}`\n      );\n    }\n\n    if (kwargInfo.length !== 0)\n      innerHTML += '<hr>From kwargs:<br>' + kwargInfo.join('<br>');\n    if (info.length !== 0)\n      innerHTML += `<hr>Attributes:<br>` + info.join('<br>');\n    if (vizInfo.length !== 0)\n      innerHTML += '<hr>Known viz data:<br>' + vizInfo.join('<br>');\n\n    if (type === 'node') {\n      innerHTML += '<hr>Computed metrics:<br>';\n      innerHTML += `<b>degree</b> ${renderTypedValue(graph.degree(key))}<br>`;\n\n      if (graph.directedSize !== 0) {\n        innerHTML += `<b>indegree</b> ${renderTypedValue(\n          graph.inDegree(key)\n        )}<br>`;\n        innerHTML += `<b>outdegree</b> ${renderTypedValue(\n          graph.outDegree(key)\n        )}<br>`;\n      }\n    }\n\n    this.itemInfoElement.innerHTML = innerHTML;\n\n    this.changeInformationDisplayTab('info');\n\n    this.renderer.refresh();\n    this.emitter.emit('selectItem', { type, key });\n  }\n\n  moveCameraToNode(node: string): void {\n    const pos = this.renderer.getNodeDisplayData(node);\n\n    if (!pos) return;\n\n    this.renderer.getCamera().animate(pos, { duration: 500 });\n  }\n\n  bindMessageHandlers() {\n    this.model.on('msg:custom', (content) => {\n      if (content.msg === 'render_snapshot') {\n        this.renderSnapshot();\n      }\n    });\n  }\n\n  bindRendererHandlers() {\n    const debouncedSaveCameraState = debounce(\n      this.saveCameraState.bind(this),\n      500\n    );\n\n    this.renderer.getCamera().on('updated', (state) => {\n      debouncedSaveCameraState(state);\n    });\n\n    let hoveredCount = 0;\n\n    this.renderer.on('enterNode', () => {\n      hoveredCount++;\n      this.container.style.cursor = 'pointer';\n    });\n\n    this.renderer.on('leaveNode', () => {\n      hoveredCount--;\n      if (hoveredCount === 0) this.container.style.cursor = 'default';\n    });\n\n    this.renderer.on('clickNode', ({ node }) => {\n      if (node === this.selectedNode) return;\n\n      this.selectItem('node', node);\n    });\n\n    this.renderer.on('clickStage', () => {\n      if (!this.selectedNode && !this.selectedEdge) return;\n\n      this.clearSelectedItem();\n    });\n\n    if (this.model.get('clickable_edges')) {\n      this.renderer.on('enterEdge', () => {\n        hoveredCount++;\n        this.container.style.cursor = 'pointer';\n      });\n\n      this.renderer.on('leaveEdge', () => {\n        hoveredCount--;\n        if (hoveredCount === 0) this.container.style.cursor = 'default';\n      });\n\n      this.renderer.on('clickEdge', ({ edge }) => {\n        if (edge === this.selectedEdge) return;\n\n        this.selectItem('edge', edge);\n      });\n    }\n  }\n\n  bindChoicesHandlers() {\n    this.choices.passedElement.element.addEventListener(\n      'change',\n      (event: any) => {\n        const node = event.detail.value;\n\n        if (node === this.selectedNode) return;\n\n        if (!node) return this.clearSelectedItem();\n\n        this.selectItem('node', node);\n\n        // We don't need to move the camera if we are fully unzoomed\n        if (this.renderer.getCamera().getState().ratio >= 1) return;\n        this.moveCameraToNode(node);\n      }\n    );\n  }\n\n  bindInformationDisplayHandlers() {\n    this.legendButton.onclick = () => {\n      if (!this.legendButton.classList.contains('selectable')) return;\n\n      this.changeInformationDisplayTab('legend');\n    };\n\n    this.nodeInfoButton.onclick = () => {\n      if (!this.nodeInfoButton.classList.contains('selectable')) return;\n\n      this.changeInformationDisplayTab('info');\n    };\n\n    this.hideInformationButton.onclick = () => {\n      this.toggleInformationDisplay();\n    };\n\n    this.showInformationButton.onclick = () => {\n      this.toggleInformationDisplay();\n    };\n  }\n\n  bindDownloadHandlers() {\n    this.downloadPNGButton.onclick = () => {\n      saveAsPNG(this.renderer);\n    };\n    this.downloadGEXFButton.onclick = () => {\n      saveAsGEXF(this.renderer);\n    };\n    this.downloadSVGButton.onclick = () => {\n      saveAsSVG(this.renderer);\n    };\n    this.downloadJSONButton.onclick = () => {\n      saveAsJSON(this.renderer);\n    };\n  }\n\n  bindCameraHandlers() {\n    this.zoomButton.onclick = () => {\n      this.renderer.getCamera().animatedZoom();\n    };\n\n    this.unzoomButton.onclick = () => {\n      this.renderer.getCamera().animatedUnzoom();\n    };\n\n    this.resetZoomButton.onclick = () => {\n      this.renderer.getCamera().animatedReset();\n    };\n  }\n\n  bindFullscreenHandlers() {\n    const enter = () => {\n      this.el.style.height = '100%';\n      this.container.style.height = '100%';\n      this.fullscreenButton.innerHTML = fullscreenExitIcon;\n      this.fullscreenButton.setAttribute('title', 'exit fullscreen');\n      this.renderer.scheduleRefresh();\n    };\n\n    const exit = () => {\n      const targetHeight = this.model.get('height');\n      this.el.style.height = targetHeight;\n      this.container.style.height = targetHeight;\n      this.fullscreenButton.innerHTML = fullscreenEnterIcon;\n      this.fullscreenButton.setAttribute('title', 'enter fullscreen');\n      this.renderer.scheduleRefresh();\n    };\n\n    screenfull.onchange(() => {\n      if (screenfull.isFullscreen) enter();\n      else exit();\n    });\n\n    this.fullscreenButton.onclick = () => {\n      if (screenfull.isFullscreen) {\n        screenfull.exit();\n      } else {\n        screenfull.request(this.el);\n      }\n    };\n  }\n\n  bindLayoutHandlers() {\n    const graph = this.graph;\n    const renderer = this.renderer;\n\n    let settings = (this.model.get('layout_settings') ||\n      {}) as ForceAtlas2Settings;\n    const inferredSettings = forceAtlas2.inferSettings(graph);\n    settings = Object.assign(inferredSettings, settings);\n\n    this.layout = new LayoutSupervisor(graph, {\n      settings,\n      getEdgeWeight: this.edgeWeightAttribute,\n    });\n\n    this.noverlap = new NoverlapSupervisor(graph, {\n      inputReducer(key, attr) {\n        const pos = renderer.graphToViewport(attr);\n\n        return {\n          x: pos.x,\n          y: pos.y,\n          size: renderer.getNodeDisplayData(key)?.size,\n        };\n      },\n      outputReducer(key, attr) {\n        return renderer.viewportToGraph(attr);\n      },\n      onConverged() {\n        stopNoverlap(true);\n      },\n      settings: { ratio: 1, margin: 3 },\n    });\n\n    hide(this.resetLayoutButton);\n\n    let layoutStoppingTimeout: ReturnType<typeof setTimeout> | null = null;\n\n    const stopLayout = () => {\n      if (layoutStoppingTimeout) clearTimeout(layoutStoppingTimeout);\n      layoutStoppingTimeout = null;\n\n      if (this.layoutSpinner) {\n        this.layoutControls.removeChild(this.layoutSpinner[0]);\n        this.layoutSpinner[1]();\n        this.layoutSpinner = null;\n      }\n      this.layoutButton.innerHTML = playIcon;\n      this.layoutButton.setAttribute('title', 'start layout');\n      this.layout.stop();\n      this.saveLayout();\n      enable(this.noverlapButton);\n      show(this.resetLayoutButton);\n    };\n\n    const startLayout = () => {\n      this.layoutSpinner = createSpinner();\n      this.layoutButton.innerHTML = pauseIcon;\n      this.layoutControls.appendChild(this.layoutSpinner[0]);\n      this.layoutButton.setAttribute('title', 'stop layout');\n      this.layout.start();\n      disable(this.noverlapButton);\n      hide(this.resetLayoutButton);\n    };\n\n    const stopNoverlap = (disableButton: boolean = false) => {\n      if (this.layoutSpinner) {\n        this.layoutControls.removeChild(this.layoutSpinner[0]);\n        this.layoutSpinner[1]();\n        this.layoutSpinner = null;\n      }\n      this.noverlapButton.innerHTML = scatterIcon;\n      this.noverlapButton.setAttribute('title', 'spread nodes');\n      this.noverlap.stop();\n      this.saveLayout();\n      enable(this.layoutButton);\n      show(this.resetLayoutButton);\n\n      if (disableButton) disable(this.noverlapButton);\n    };\n\n    const startNoverlap = () => {\n      this.layoutSpinner = createSpinner();\n      this.noverlapButton.innerHTML = pauseIcon;\n      this.layoutControls.appendChild(this.layoutSpinner[0]);\n      this.noverlapButton.setAttribute('title', 'stop');\n      this.noverlap.start();\n      disable(this.layoutButton);\n      hide(this.resetLayoutButton);\n    };\n\n    const resetLayout = () => {\n      enable(this.noverlapButton);\n      hide(this.resetLayoutButton);\n      this.resetLayout();\n      animateNodes(graph, this.originalLayoutPositions, { duration: 250 });\n    };\n\n    if (this.model.get('start_layout')) {\n      const seconds = this.model.get('start_layout_for_seconds') as\n        | number\n        | undefined;\n\n      if (seconds) {\n        layoutStoppingTimeout = setTimeout(() => {\n          stopLayout();\n        }, seconds * 1000);\n      }\n\n      startLayout();\n    }\n\n    this.layoutButton.onclick = () => {\n      if (this.layout.isRunning()) {\n        stopLayout();\n      } else {\n        startLayout();\n      }\n    };\n\n    this.noverlapButton.onclick = () => {\n      if (this.noverlap.isRunning()) {\n        stopNoverlap();\n      } else {\n        startNoverlap();\n      }\n    };\n\n    this.resetLayoutButton.onclick = () => {\n      resetLayout();\n    };\n  }\n\n  bindSyncEvents(syncEmitter: EventEmitter) {\n    let locks = {\n      camera: false,\n      nodeAttributesUpdated: false,\n      eachNodeAttributesUpdated: false,\n      selectItem: false,\n      clearSelectedItem: false,\n    };\n\n    const syncTargets = new Set(\n      this.model.get('sync_targets') as Array<SyncTarget>\n    );\n\n    // NOTE: all of this is very sketchy. This is here to make suuuure we\n    // don't encounter a dead lock.\n    const resetLocks = () => {\n      for (const k in locks) (locks as Record<string, boolean>)[k] = false;\n    };\n\n    let resetLockFrame: ReturnType<typeof setTimeout> | null = null;\n\n    const scheduleResetLocks = () => {\n      if (resetLockFrame) return;\n\n      resetLockFrame = setTimeout(() => {\n        resetLockFrame = null;\n        resetLocks();\n      }, 0);\n    };\n\n    const lock = (name: keyof typeof locks) => {\n      locks[name] = true;\n      scheduleResetLocks();\n    };\n\n    const camera = this.renderer.getCamera();\n    const graph = this.renderer.getGraph();\n\n    // Camera\n    if (syncTargets.has('camera')) {\n      camera.on('updated', (state) => {\n        if (locks.camera) {\n          locks.camera = false;\n          return;\n        }\n\n        syncEmitter.emit('camera', { state, renderer: this.renderer });\n      });\n\n      this.syncListeners.camera = ({ state, renderer }) => {\n        if (renderer === this.renderer) return;\n\n        lock('camera');\n        camera.setState(state);\n      };\n    }\n\n    // Layout\n    if (syncTargets.has('layout')) {\n      graph.on('nodeAttributesUpdated', ({ key, attributes }) => {\n        if (locks.nodeAttributesUpdated) {\n          locks.nodeAttributesUpdated = false;\n          return;\n        }\n\n        syncEmitter.emit('nodePosition', {\n          node: key,\n          position: { x: attributes.x, y: attributes.y },\n          renderer: this.renderer,\n        });\n      });\n\n      graph.on('eachNodeAttributesUpdated', () => {\n        if (locks.eachNodeAttributesUpdated) {\n          locks.eachNodeAttributesUpdated = false;\n          return;\n        }\n\n        syncEmitter.emit('layout', {\n          layout: collectLayout(graph),\n          renderer: this.renderer,\n        });\n      });\n\n      this.syncListeners.layout = ({ layout, renderer }) => {\n        if (renderer === this.renderer) return;\n\n        lock('eachNodeAttributesUpdated');\n        assignLayout(graph, layout);\n      };\n\n      this.syncListeners.nodePosition = ({ node, position, renderer }) => {\n        if (renderer === this.renderer) return;\n\n        lock('nodeAttributesUpdated');\n        graph.mergeNodeAttributes(node, position);\n      };\n    }\n\n    // Selection\n    if (syncTargets.has('selection')) {\n      this.emitter.on('selectItem', (payload) => {\n        if (locks.selectItem) {\n          locks.selectItem = false;\n          return;\n        }\n\n        const type = payload.type;\n        let key = payload.key;\n\n        if (type === 'edge') {\n          key = this.graph.extremities(key);\n        }\n\n        syncEmitter.emit('selectItem', { type, key, renderer: this.renderer });\n      });\n\n      this.emitter.on('clearSelectedItem', () => {\n        if (locks.clearSelectedItem) {\n          locks.clearSelectedItem = false;\n          return;\n        }\n\n        syncEmitter.emit('clearSelectedItem', { renderer: this.renderer });\n      });\n\n      this.syncListeners.selectItem = ({ renderer, key, type }) => {\n        if (renderer === this.renderer) return;\n\n        lock('selectItem');\n\n        if (type === 'edge') key = this.graph.edge(key[0], key[1]);\n\n        this.selectItem(type, key);\n      };\n\n      this.syncListeners.clearSelectedItem = ({ renderer }) => {\n        if (renderer === this.renderer) return;\n\n        lock('clearSelectedItem');\n        this.clearSelectedItem();\n      };\n    }\n\n    // Hover\n    if (syncTargets.has('hover')) {\n      this.renderer.on('enterNode', ({ node }) => {\n        syncEmitter.emit('enterNode', { node, renderer: this.renderer });\n      });\n\n      this.renderer.on('leaveNode', ({ node }) => {\n        syncEmitter.emit('leaveNode', { node, renderer: this.renderer });\n      });\n\n      this.syncListeners.enterNode = ({ node, renderer }) => {\n        if (renderer === this.renderer) return;\n\n        this.syncHoveredNode = node;\n        this.renderer.scheduleRefresh();\n      };\n\n      this.syncListeners.leaveNode = ({ renderer }) => {\n        if (renderer === this.renderer) return;\n\n        this.syncHoveredNode = null;\n        this.renderer.scheduleRefresh();\n      };\n    }\n\n    // Registering events\n    for (const eventName in this.syncListeners) {\n      syncEmitter.on(eventName, this.syncListeners[eventName]);\n    }\n  }\n\n  remove() {\n    // Cleanup to avoid leaks and free GPU slots\n    if (this.renderer) this.renderer.kill();\n    if (this.layout) this.layout.kill();\n    if (this.noverlap) this.noverlap.kill();\n\n    if (this.syncKey) {\n      const syncEntry = SYNC_REGISTRY.get(this.syncKey);\n\n      if (!syncEntry) {\n        throw new Error(\n          'sync entry not found on remove. this should not happen!'\n        );\n      }\n\n      if (syncEntry.renderers.size > 1) {\n        syncEntry.renderers.delete(this.renderer);\n\n        for (const eventName in this.syncListeners) {\n          syncEntry.emitter.removeListener(\n            eventName,\n            this.syncListeners[eventName]\n          );\n        }\n      } else {\n        syncEntry.emitter.removeAllListeners();\n        SYNC_REGISTRY.delete(this.syncKey);\n      }\n    }\n\n    this.emitter.removeAllListeners();\n\n    super.remove();\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__9146__;","/**\n * chroma.js - JavaScript library for color conversions\n *\n * Copyright (c) 2011-2019, Gregor Aisch\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. The name Gregor Aisch may not be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * -------------------------------------------------------\n *\n * chroma.js includes colors from colorbrewer2.org, which are released under\n * the following license:\n *\n * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,\n * and The Pennsylvania State University.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n *\n * ------------------------------------------------------\n *\n * Named colors are taken from X11 Color Names.\n * http://www.w3.org/TR/css3-color/#svg-color\n *\n * @preserve\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.chroma = factory());\n})(this, (function () { 'use strict';\n\n    var limit$2 = function (x, min, max) {\n        if ( min === void 0 ) min=0;\n        if ( max === void 0 ) max=1;\n\n        return x < min ? min : x > max ? max : x;\n    };\n\n    var limit$1 = limit$2;\n\n    var clip_rgb$3 = function (rgb) {\n        rgb._clipped = false;\n        rgb._unclipped = rgb.slice(0);\n        for (var i=0; i<=3; i++) {\n            if (i < 3) {\n                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }\n                rgb[i] = limit$1(rgb[i], 0, 255);\n            } else if (i === 3) {\n                rgb[i] = limit$1(rgb[i], 0, 1);\n            }\n        }\n        return rgb;\n    };\n\n    // ported from jQuery's $.type\n    var classToType = {};\n    for (var i$1 = 0, list$1 = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i$1 < list$1.length; i$1 += 1) {\n        var name = list$1[i$1];\n\n        classToType[(\"[object \" + name + \"]\")] = name.toLowerCase();\n    }\n    var type$p = function(obj) {\n        return classToType[Object.prototype.toString.call(obj)] || \"object\";\n    };\n\n    var type$o = type$p;\n\n    var unpack$B = function (args, keyOrder) {\n        if ( keyOrder === void 0 ) keyOrder=null;\n\n    \t// if called with more than 3 arguments, we return the arguments\n        if (args.length >= 3) { return Array.prototype.slice.call(args); }\n        // with less than 3 args we check if first arg is object\n        // and use the keyOrder string to extract and sort properties\n    \tif (type$o(args[0]) == 'object' && keyOrder) {\n    \t\treturn keyOrder.split('')\n    \t\t\t.filter(function (k) { return args[0][k] !== undefined; })\n    \t\t\t.map(function (k) { return args[0][k]; });\n    \t}\n    \t// otherwise we just return the first argument\n    \t// (which we suppose is an array of args)\n        return args[0];\n    };\n\n    var type$n = type$p;\n\n    var last$4 = function (args) {\n        if (args.length < 2) { return null; }\n        var l = args.length-1;\n        if (type$n(args[l]) == 'string') { return args[l].toLowerCase(); }\n        return null;\n    };\n\n    var PI$2 = Math.PI;\n\n    var utils = {\n    \tclip_rgb: clip_rgb$3,\n    \tlimit: limit$2,\n    \ttype: type$p,\n    \tunpack: unpack$B,\n    \tlast: last$4,\n    \tPI: PI$2,\n    \tTWOPI: PI$2*2,\n    \tPITHIRD: PI$2/3,\n    \tDEG2RAD: PI$2 / 180,\n    \tRAD2DEG: 180 / PI$2\n    };\n\n    var input$h = {\n    \tformat: {},\n    \tautodetect: []\n    };\n\n    var last$3 = utils.last;\n    var clip_rgb$2 = utils.clip_rgb;\n    var type$m = utils.type;\n    var _input = input$h;\n\n    var Color$D = function Color() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var me = this;\n        if (type$m(args[0]) === 'object' &&\n            args[0].constructor &&\n            args[0].constructor === this.constructor) {\n            // the argument is already a Color instance\n            return args[0];\n        }\n\n        // last argument could be the mode\n        var mode = last$3(args);\n        var autodetect = false;\n\n        if (!mode) {\n            autodetect = true;\n            if (!_input.sorted) {\n                _input.autodetect = _input.autodetect.sort(function (a,b) { return b.p - a.p; });\n                _input.sorted = true;\n            }\n            // auto-detect format\n            for (var i = 0, list = _input.autodetect; i < list.length; i += 1) {\n                var chk = list[i];\n\n                mode = chk.test.apply(chk, args);\n                if (mode) { break; }\n            }\n        }\n\n        if (_input.format[mode]) {\n            var rgb = _input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));\n            me._rgb = clip_rgb$2(rgb);\n        } else {\n            throw new Error('unknown format: '+args);\n        }\n\n        // add alpha channel\n        if (me._rgb.length === 3) { me._rgb.push(1); }\n    };\n\n    Color$D.prototype.toString = function toString () {\n        if (type$m(this.hex) == 'function') { return this.hex(); }\n        return (\"[\" + (this._rgb.join(',')) + \"]\");\n    };\n\n    var Color_1 = Color$D;\n\n    var chroma$k = function () {\n    \tvar args = [], len = arguments.length;\n    \twhile ( len-- ) args[ len ] = arguments[ len ];\n\n    \treturn new (Function.prototype.bind.apply( chroma$k.Color, [ null ].concat( args) ));\n    };\n\n    chroma$k.Color = Color_1;\n    chroma$k.version = '2.4.2';\n\n    var chroma_1 = chroma$k;\n\n    var unpack$A = utils.unpack;\n    var max$2 = Math.max;\n\n    var rgb2cmyk$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$A(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var k = 1 - max$2(r,max$2(g,b));\n        var f = k < 1 ? 1 / (1-k) : 0;\n        var c = (1-r-k) * f;\n        var m = (1-g-k) * f;\n        var y = (1-b-k) * f;\n        return [c,m,y,k];\n    };\n\n    var rgb2cmyk_1 = rgb2cmyk$1;\n\n    var unpack$z = utils.unpack;\n\n    var cmyk2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$z(args, 'cmyk');\n        var c = args[0];\n        var m = args[1];\n        var y = args[2];\n        var k = args[3];\n        var alpha = args.length > 4 ? args[4] : 1;\n        if (k === 1) { return [0,0,0,alpha]; }\n        return [\n            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r\n            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g\n            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b\n            alpha\n        ];\n    };\n\n    var cmyk2rgb_1 = cmyk2rgb;\n\n    var chroma$j = chroma_1;\n    var Color$C = Color_1;\n    var input$g = input$h;\n    var unpack$y = utils.unpack;\n    var type$l = utils.type;\n\n    var rgb2cmyk = rgb2cmyk_1;\n\n    Color$C.prototype.cmyk = function() {\n        return rgb2cmyk(this._rgb);\n    };\n\n    chroma$j.cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$C, [ null ].concat( args, ['cmyk']) ));\n    };\n\n    input$g.format.cmyk = cmyk2rgb_1;\n\n    input$g.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$y(args, 'cmyk');\n            if (type$l(args) === 'array' && args.length === 4) {\n                return 'cmyk';\n            }\n        }\n    });\n\n    var unpack$x = utils.unpack;\n    var last$2 = utils.last;\n    var rnd = function (a) { return Math.round(a*100)/100; };\n\n    /*\n     * supported arguments:\n     * - hsl2css(h,s,l)\n     * - hsl2css(h,s,l,a)\n     * - hsl2css([h,s,l], mode)\n     * - hsl2css([h,s,l,a], mode)\n     * - hsl2css({h,s,l,a}, mode)\n     */\n    var hsl2css$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hsla = unpack$x(args, 'hsla');\n        var mode = last$2(args) || 'lsa';\n        hsla[0] = rnd(hsla[0] || 0);\n        hsla[1] = rnd(hsla[1]*100) + '%';\n        hsla[2] = rnd(hsla[2]*100) + '%';\n        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {\n            hsla[3] = hsla.length > 3 ? hsla[3] : 1;\n            mode = 'hsla';\n        } else {\n            hsla.length = 3;\n        }\n        return (mode + \"(\" + (hsla.join(',')) + \")\");\n    };\n\n    var hsl2css_1 = hsl2css$1;\n\n    var unpack$w = utils.unpack;\n\n    /*\n     * supported arguments:\n     * - rgb2hsl(r,g,b)\n     * - rgb2hsl(r,g,b,a)\n     * - rgb2hsl([r,g,b])\n     * - rgb2hsl([r,g,b,a])\n     * - rgb2hsl({r,g,b,a})\n     */\n    var rgb2hsl$3 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$w(args, 'rgba');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n\n        var l = (max + min) / 2;\n        var s, h;\n\n        if (max === min){\n            s = 0;\n            h = Number.NaN;\n        } else {\n            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n        }\n\n        if (r == max) { h = (g - b) / (max - min); }\n        else if (g == max) { h = 2 + (b - r) / (max - min); }\n        else if (b == max) { h = 4 + (r - g) / (max - min); }\n\n        h *= 60;\n        if (h < 0) { h += 360; }\n        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }\n        return [h,s,l];\n    };\n\n    var rgb2hsl_1 = rgb2hsl$3;\n\n    var unpack$v = utils.unpack;\n    var last$1 = utils.last;\n    var hsl2css = hsl2css_1;\n    var rgb2hsl$2 = rgb2hsl_1;\n    var round$6 = Math.round;\n\n    /*\n     * supported arguments:\n     * - rgb2css(r,g,b)\n     * - rgb2css(r,g,b,a)\n     * - rgb2css([r,g,b], mode)\n     * - rgb2css([r,g,b,a], mode)\n     * - rgb2css({r,g,b,a}, mode)\n     */\n    var rgb2css$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$v(args, 'rgba');\n        var mode = last$1(args) || 'rgb';\n        if (mode.substr(0,3) == 'hsl') {\n            return hsl2css(rgb2hsl$2(rgba), mode);\n        }\n        rgba[0] = round$6(rgba[0]);\n        rgba[1] = round$6(rgba[1]);\n        rgba[2] = round$6(rgba[2]);\n        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {\n            rgba[3] = rgba.length > 3 ? rgba[3] : 1;\n            mode = 'rgba';\n        }\n        return (mode + \"(\" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + \")\");\n    };\n\n    var rgb2css_1 = rgb2css$1;\n\n    var unpack$u = utils.unpack;\n    var round$5 = Math.round;\n\n    var hsl2rgb$1 = function () {\n        var assign;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$u(args, 'hsl');\n        var h = args[0];\n        var s = args[1];\n        var l = args[2];\n        var r,g,b;\n        if (s === 0) {\n            r = g = b = l*255;\n        } else {\n            var t3 = [0,0,0];\n            var c = [0,0,0];\n            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;\n            var t1 = 2 * l - t2;\n            var h_ = h / 360;\n            t3[0] = h_ + 1/3;\n            t3[1] = h_;\n            t3[2] = h_ - 1/3;\n            for (var i=0; i<3; i++) {\n                if (t3[i] < 0) { t3[i] += 1; }\n                if (t3[i] > 1) { t3[i] -= 1; }\n                if (6 * t3[i] < 1)\n                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }\n                else if (2 * t3[i] < 1)\n                    { c[i] = t2; }\n                else if (3 * t3[i] < 2)\n                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }\n                else\n                    { c[i] = t1; }\n            }\n            (assign = [round$5(c[0]*255),round$5(c[1]*255),round$5(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);\n        }\n        if (args.length > 3) {\n            // keep alpha channel\n            return [r,g,b,args[3]];\n        }\n        return [r,g,b,1];\n    };\n\n    var hsl2rgb_1 = hsl2rgb$1;\n\n    var hsl2rgb = hsl2rgb_1;\n    var input$f = input$h;\n\n    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;\n    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n\n    var round$4 = Math.round;\n\n    var css2rgb$1 = function (css) {\n        css = css.toLowerCase().trim();\n        var m;\n\n        if (input$f.format.named) {\n            try {\n                return input$f.format.named(css);\n            } catch (e) {\n                // eslint-disable-next-line\n            }\n        }\n\n        // rgb(250,20,0)\n        if ((m = css.match(RE_RGB))) {\n            var rgb = m.slice(1,4);\n            for (var i=0; i<3; i++) {\n                rgb[i] = +rgb[i];\n            }\n            rgb[3] = 1;  // default alpha\n            return rgb;\n        }\n\n        // rgba(250,20,0,0.4)\n        if ((m = css.match(RE_RGBA))) {\n            var rgb$1 = m.slice(1,5);\n            for (var i$1=0; i$1<4; i$1++) {\n                rgb$1[i$1] = +rgb$1[i$1];\n            }\n            return rgb$1;\n        }\n\n        // rgb(100%,0%,0%)\n        if ((m = css.match(RE_RGB_PCT))) {\n            var rgb$2 = m.slice(1,4);\n            for (var i$2=0; i$2<3; i$2++) {\n                rgb$2[i$2] = round$4(rgb$2[i$2] * 2.55);\n            }\n            rgb$2[3] = 1;  // default alpha\n            return rgb$2;\n        }\n\n        // rgba(100%,0%,0%,0.4)\n        if ((m = css.match(RE_RGBA_PCT))) {\n            var rgb$3 = m.slice(1,5);\n            for (var i$3=0; i$3<3; i$3++) {\n                rgb$3[i$3] = round$4(rgb$3[i$3] * 2.55);\n            }\n            rgb$3[3] = +rgb$3[3];\n            return rgb$3;\n        }\n\n        // hsl(0,100%,50%)\n        if ((m = css.match(RE_HSL))) {\n            var hsl = m.slice(1,4);\n            hsl[1] *= 0.01;\n            hsl[2] *= 0.01;\n            var rgb$4 = hsl2rgb(hsl);\n            rgb$4[3] = 1;\n            return rgb$4;\n        }\n\n        // hsla(0,100%,50%,0.5)\n        if ((m = css.match(RE_HSLA))) {\n            var hsl$1 = m.slice(1,4);\n            hsl$1[1] *= 0.01;\n            hsl$1[2] *= 0.01;\n            var rgb$5 = hsl2rgb(hsl$1);\n            rgb$5[3] = +m[4];  // default alpha = 1\n            return rgb$5;\n        }\n    };\n\n    css2rgb$1.test = function (s) {\n        return RE_RGB.test(s) ||\n            RE_RGBA.test(s) ||\n            RE_RGB_PCT.test(s) ||\n            RE_RGBA_PCT.test(s) ||\n            RE_HSL.test(s) ||\n            RE_HSLA.test(s);\n    };\n\n    var css2rgb_1 = css2rgb$1;\n\n    var chroma$i = chroma_1;\n    var Color$B = Color_1;\n    var input$e = input$h;\n    var type$k = utils.type;\n\n    var rgb2css = rgb2css_1;\n    var css2rgb = css2rgb_1;\n\n    Color$B.prototype.css = function(mode) {\n        return rgb2css(this._rgb, mode);\n    };\n\n    chroma$i.css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$B, [ null ].concat( args, ['css']) ));\n    };\n\n    input$e.format.css = css2rgb;\n\n    input$e.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$k(h) === 'string' && css2rgb.test(h)) {\n                return 'css';\n            }\n        }\n    });\n\n    var Color$A = Color_1;\n    var chroma$h = chroma_1;\n    var input$d = input$h;\n    var unpack$t = utils.unpack;\n\n    input$d.format.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$t(args, 'rgba');\n        rgb[0] *= 255;\n        rgb[1] *= 255;\n        rgb[2] *= 255;\n        return rgb;\n    };\n\n    chroma$h.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$A, [ null ].concat( args, ['gl']) ));\n    };\n\n    Color$A.prototype.gl = function() {\n        var rgb = this._rgb;\n        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];\n    };\n\n    var unpack$s = utils.unpack;\n\n    var rgb2hcg$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$s(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var c = delta * 100 / 255;\n        var _g = min / (255 - delta) * 100;\n        var h;\n        if (delta === 0) {\n            h = Number.NaN;\n        } else {\n            if (r === max) { h = (g - b) / delta; }\n            if (g === max) { h = 2+(b - r) / delta; }\n            if (b === max) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, c, _g];\n    };\n\n    var rgb2hcg_1 = rgb2hcg$1;\n\n    var unpack$r = utils.unpack;\n    var floor$3 = Math.floor;\n\n    /*\n     * this is basically just HSV with some minor tweaks\n     *\n     * hue.. [0..360]\n     * chroma .. [0..1]\n     * grayness .. [0..1]\n     */\n\n    var hcg2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$r(args, 'hcg');\n        var h = args[0];\n        var c = args[1];\n        var _g = args[2];\n        var r,g,b;\n        _g = _g * 255;\n        var _c = c * 255;\n        if (c === 0) {\n            r = g = b = _g;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n            var i = floor$3(h);\n            var f = h - i;\n            var p = _g * (1 - c);\n            var q = p + _c * (1 - f);\n            var t = p + _c * f;\n            var v = p + _c;\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var hcg2rgb_1 = hcg2rgb;\n\n    var unpack$q = utils.unpack;\n    var type$j = utils.type;\n    var chroma$g = chroma_1;\n    var Color$z = Color_1;\n    var input$c = input$h;\n\n    var rgb2hcg = rgb2hcg_1;\n\n    Color$z.prototype.hcg = function() {\n        return rgb2hcg(this._rgb);\n    };\n\n    chroma$g.hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$z, [ null ].concat( args, ['hcg']) ));\n    };\n\n    input$c.format.hcg = hcg2rgb_1;\n\n    input$c.autodetect.push({\n        p: 1,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$q(args, 'hcg');\n            if (type$j(args) === 'array' && args.length === 3) {\n                return 'hcg';\n            }\n        }\n    });\n\n    var unpack$p = utils.unpack;\n    var last = utils.last;\n    var round$3 = Math.round;\n\n    var rgb2hex$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$p(args, 'rgba');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var a = ref[3];\n        var mode = last(args) || 'auto';\n        if (a === undefined) { a = 1; }\n        if (mode === 'auto') {\n            mode = a < 1 ? 'rgba' : 'rgb';\n        }\n        r = round$3(r);\n        g = round$3(g);\n        b = round$3(b);\n        var u = r << 16 | g << 8 | b;\n        var str = \"000000\" + u.toString(16); //#.toUpperCase();\n        str = str.substr(str.length - 6);\n        var hxa = '0' + round$3(a * 255).toString(16);\n        hxa = hxa.substr(hxa.length - 2);\n        switch (mode.toLowerCase()) {\n            case 'rgba': return (\"#\" + str + hxa);\n            case 'argb': return (\"#\" + hxa + str);\n            default: return (\"#\" + str);\n        }\n    };\n\n    var rgb2hex_1 = rgb2hex$2;\n\n    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;\n\n    var hex2rgb$1 = function (hex) {\n        if (hex.match(RE_HEX)) {\n            // remove optional leading #\n            if (hex.length === 4 || hex.length === 7) {\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full six-digit\n            if (hex.length === 3) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];\n            }\n            var u = parseInt(hex, 16);\n            var r = u >> 16;\n            var g = u >> 8 & 0xFF;\n            var b = u & 0xFF;\n            return [r,g,b,1];\n        }\n\n        // match rgba hex format, eg #FF000077\n        if (hex.match(RE_HEXA)) {\n            if (hex.length === 5 || hex.length === 9) {\n                // remove optional leading #\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full eight-digit\n            if (hex.length === 4) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];\n            }\n            var u$1 = parseInt(hex, 16);\n            var r$1 = u$1 >> 24 & 0xFF;\n            var g$1 = u$1 >> 16 & 0xFF;\n            var b$1 = u$1 >> 8 & 0xFF;\n            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;\n            return [r$1,g$1,b$1,a];\n        }\n\n        // we used to check for css colors here\n        // if _input.css? and rgb = _input.css hex\n        //     return rgb\n\n        throw new Error((\"unknown hex color: \" + hex));\n    };\n\n    var hex2rgb_1 = hex2rgb$1;\n\n    var chroma$f = chroma_1;\n    var Color$y = Color_1;\n    var type$i = utils.type;\n    var input$b = input$h;\n\n    var rgb2hex$1 = rgb2hex_1;\n\n    Color$y.prototype.hex = function(mode) {\n        return rgb2hex$1(this._rgb, mode);\n    };\n\n    chroma$f.hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$y, [ null ].concat( args, ['hex']) ));\n    };\n\n    input$b.format.hex = hex2rgb_1;\n    input$b.autodetect.push({\n        p: 4,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$i(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {\n                return 'hex';\n            }\n        }\n    });\n\n    var unpack$o = utils.unpack;\n    var TWOPI$2 = utils.TWOPI;\n    var min$2 = Math.min;\n    var sqrt$4 = Math.sqrt;\n    var acos = Math.acos;\n\n    var rgb2hsi$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n        */\n        var ref = unpack$o(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var h;\n        var min_ = min$2(r,g,b);\n        var i = (r+g+b) / 3;\n        var s = i > 0 ? 1 - min_/i : 0;\n        if (s === 0) {\n            h = NaN;\n        } else {\n            h = ((r-g)+(r-b)) / 2;\n            h /= sqrt$4((r-g)*(r-g) + (r-b)*(g-b));\n            h = acos(h);\n            if (b > g) {\n                h = TWOPI$2 - h;\n            }\n            h /= TWOPI$2;\n        }\n        return [h*360,s,i];\n    };\n\n    var rgb2hsi_1 = rgb2hsi$1;\n\n    var unpack$n = utils.unpack;\n    var limit = utils.limit;\n    var TWOPI$1 = utils.TWOPI;\n    var PITHIRD = utils.PITHIRD;\n    var cos$4 = Math.cos;\n\n    /*\n     * hue [0..360]\n     * saturation [0..1]\n     * intensity [0..1]\n     */\n    var hsi2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n        */\n        args = unpack$n(args, 'hsi');\n        var h = args[0];\n        var s = args[1];\n        var i = args[2];\n        var r,g,b;\n\n        if (isNaN(h)) { h = 0; }\n        if (isNaN(s)) { s = 0; }\n        // normalize hue\n        if (h > 360) { h -= 360; }\n        if (h < 0) { h += 360; }\n        h /= 360;\n        if (h < 1/3) {\n            b = (1-s)/3;\n            r = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            g = 1 - (b+r);\n        } else if (h < 2/3) {\n            h -= 1/3;\n            r = (1-s)/3;\n            g = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            b = 1 - (r+g);\n        } else {\n            h -= 2/3;\n            g = (1-s)/3;\n            b = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            r = 1 - (g+b);\n        }\n        r = limit(i*r*3);\n        g = limit(i*g*3);\n        b = limit(i*b*3);\n        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];\n    };\n\n    var hsi2rgb_1 = hsi2rgb;\n\n    var unpack$m = utils.unpack;\n    var type$h = utils.type;\n    var chroma$e = chroma_1;\n    var Color$x = Color_1;\n    var input$a = input$h;\n\n    var rgb2hsi = rgb2hsi_1;\n\n    Color$x.prototype.hsi = function() {\n        return rgb2hsi(this._rgb);\n    };\n\n    chroma$e.hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$x, [ null ].concat( args, ['hsi']) ));\n    };\n\n    input$a.format.hsi = hsi2rgb_1;\n\n    input$a.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$m(args, 'hsi');\n            if (type$h(args) === 'array' && args.length === 3) {\n                return 'hsi';\n            }\n        }\n    });\n\n    var unpack$l = utils.unpack;\n    var type$g = utils.type;\n    var chroma$d = chroma_1;\n    var Color$w = Color_1;\n    var input$9 = input$h;\n\n    var rgb2hsl$1 = rgb2hsl_1;\n\n    Color$w.prototype.hsl = function() {\n        return rgb2hsl$1(this._rgb);\n    };\n\n    chroma$d.hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$w, [ null ].concat( args, ['hsl']) ));\n    };\n\n    input$9.format.hsl = hsl2rgb_1;\n\n    input$9.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$l(args, 'hsl');\n            if (type$g(args) === 'array' && args.length === 3) {\n                return 'hsl';\n            }\n        }\n    });\n\n    var unpack$k = utils.unpack;\n    var min$1 = Math.min;\n    var max$1 = Math.max;\n\n    /*\n     * supported arguments:\n     * - rgb2hsv(r,g,b)\n     * - rgb2hsv([r,g,b])\n     * - rgb2hsv({r,g,b})\n     */\n    var rgb2hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$k(args, 'rgb');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n        var min_ = min$1(r, g, b);\n        var max_ = max$1(r, g, b);\n        var delta = max_ - min_;\n        var h,s,v;\n        v = max_ / 255.0;\n        if (max_ === 0) {\n            h = Number.NaN;\n            s = 0;\n        } else {\n            s = delta / max_;\n            if (r === max_) { h = (g - b) / delta; }\n            if (g === max_) { h = 2+(b - r) / delta; }\n            if (b === max_) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, s, v]\n    };\n\n    var rgb2hsv$1 = rgb2hsl;\n\n    var unpack$j = utils.unpack;\n    var floor$2 = Math.floor;\n\n    var hsv2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$j(args, 'hsv');\n        var h = args[0];\n        var s = args[1];\n        var v = args[2];\n        var r,g,b;\n        v *= 255;\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n\n            var i = floor$2(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r,g,b,args.length > 3?args[3]:1];\n    };\n\n    var hsv2rgb_1 = hsv2rgb;\n\n    var unpack$i = utils.unpack;\n    var type$f = utils.type;\n    var chroma$c = chroma_1;\n    var Color$v = Color_1;\n    var input$8 = input$h;\n\n    var rgb2hsv = rgb2hsv$1;\n\n    Color$v.prototype.hsv = function() {\n        return rgb2hsv(this._rgb);\n    };\n\n    chroma$c.hsv = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$v, [ null ].concat( args, ['hsv']) ));\n    };\n\n    input$8.format.hsv = hsv2rgb_1;\n\n    input$8.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$i(args, 'hsv');\n            if (type$f(args) === 'array' && args.length === 3) {\n                return 'hsv';\n            }\n        }\n    });\n\n    var labConstants = {\n        // Corresponds roughly to RGB brighter/darker\n        Kn: 18,\n\n        // D65 standard referent\n        Xn: 0.950470,\n        Yn: 1,\n        Zn: 1.088830,\n\n        t0: 0.137931034,  // 4 / 29\n        t1: 0.206896552,  // 6 / 29\n        t2: 0.12841855,   // 3 * t1 * t1\n        t3: 0.008856452,  // t1 * t1 * t1\n    };\n\n    var LAB_CONSTANTS$3 = labConstants;\n    var unpack$h = utils.unpack;\n    var pow$a = Math.pow;\n\n    var rgb2lab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$h(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2xyz(r,g,b);\n        var x = ref$1[0];\n        var y = ref$1[1];\n        var z = ref$1[2];\n        var l = 116 * y - 16;\n        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n    };\n\n    var rgb_xyz = function (r) {\n        if ((r /= 255) <= 0.04045) { return r / 12.92; }\n        return pow$a((r + 0.055) / 1.055, 2.4);\n    };\n\n    var xyz_lab = function (t) {\n        if (t > LAB_CONSTANTS$3.t3) { return pow$a(t, 1 / 3); }\n        return t / LAB_CONSTANTS$3.t2 + LAB_CONSTANTS$3.t0;\n    };\n\n    var rgb2xyz = function (r,g,b) {\n        r = rgb_xyz(r);\n        g = rgb_xyz(g);\n        b = rgb_xyz(b);\n        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS$3.Xn);\n        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS$3.Yn);\n        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS$3.Zn);\n        return [x,y,z];\n    };\n\n    var rgb2lab_1 = rgb2lab$2;\n\n    var LAB_CONSTANTS$2 = labConstants;\n    var unpack$g = utils.unpack;\n    var pow$9 = Math.pow;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var lab2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$g(args, 'lab');\n        var l = args[0];\n        var a = args[1];\n        var b = args[2];\n        var x,y,z, r,g,b_;\n\n        y = (l + 16) / 116;\n        x = isNaN(a) ? y : y + a / 500;\n        z = isNaN(b) ? y : y - b / 200;\n\n        y = LAB_CONSTANTS$2.Yn * lab_xyz(y);\n        x = LAB_CONSTANTS$2.Xn * lab_xyz(x);\n        z = LAB_CONSTANTS$2.Zn * lab_xyz(z);\n\n        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB\n        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n        return [r,g,b_,args.length > 3 ? args[3] : 1];\n    };\n\n    var xyz_rgb = function (r) {\n        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$9(r, 1 / 2.4) - 0.055)\n    };\n\n    var lab_xyz = function (t) {\n        return t > LAB_CONSTANTS$2.t1 ? t * t * t : LAB_CONSTANTS$2.t2 * (t - LAB_CONSTANTS$2.t0)\n    };\n\n    var lab2rgb_1 = lab2rgb$1;\n\n    var unpack$f = utils.unpack;\n    var type$e = utils.type;\n    var chroma$b = chroma_1;\n    var Color$u = Color_1;\n    var input$7 = input$h;\n\n    var rgb2lab$1 = rgb2lab_1;\n\n    Color$u.prototype.lab = function() {\n        return rgb2lab$1(this._rgb);\n    };\n\n    chroma$b.lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$u, [ null ].concat( args, ['lab']) ));\n    };\n\n    input$7.format.lab = lab2rgb_1;\n\n    input$7.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$f(args, 'lab');\n            if (type$e(args) === 'array' && args.length === 3) {\n                return 'lab';\n            }\n        }\n    });\n\n    var unpack$e = utils.unpack;\n    var RAD2DEG = utils.RAD2DEG;\n    var sqrt$3 = Math.sqrt;\n    var atan2$2 = Math.atan2;\n    var round$2 = Math.round;\n\n    var lab2lch$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$e(args, 'lab');\n        var l = ref[0];\n        var a = ref[1];\n        var b = ref[2];\n        var c = sqrt$3(a * a + b * b);\n        var h = (atan2$2(b, a) * RAD2DEG + 360) % 360;\n        if (round$2(c*10000) === 0) { h = Number.NaN; }\n        return [l, c, h];\n    };\n\n    var lab2lch_1 = lab2lch$2;\n\n    var unpack$d = utils.unpack;\n    var rgb2lab = rgb2lab_1;\n    var lab2lch$1 = lab2lch_1;\n\n    var rgb2lch$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$d(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2lab(r,g,b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch$1(l,a,b_);\n    };\n\n    var rgb2lch_1 = rgb2lch$1;\n\n    var unpack$c = utils.unpack;\n    var DEG2RAD = utils.DEG2RAD;\n    var sin$3 = Math.sin;\n    var cos$3 = Math.cos;\n\n    var lch2lab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n        These formulas were invented by David Dalrymple to obtain maximum contrast without going\n        out of gamut if the parameters are in the range 0-1.\n\n        A saturation multiplier was added by Gregor Aisch\n        */\n        var ref = unpack$c(args, 'lch');\n        var l = ref[0];\n        var c = ref[1];\n        var h = ref[2];\n        if (isNaN(h)) { h = 0; }\n        h = h * DEG2RAD;\n        return [l, cos$3(h) * c, sin$3(h) * c]\n    };\n\n    var lch2lab_1 = lch2lab$2;\n\n    var unpack$b = utils.unpack;\n    var lch2lab$1 = lch2lab_1;\n    var lab2rgb = lab2rgb_1;\n\n    var lch2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$b(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab$1 (l,c,h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = lab2rgb (L,a,b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var lch2rgb_1 = lch2rgb$1;\n\n    var unpack$a = utils.unpack;\n    var lch2rgb = lch2rgb_1;\n\n    var hcl2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hcl = unpack$a(args, 'hcl').reverse();\n        return lch2rgb.apply(void 0, hcl);\n    };\n\n    var hcl2rgb_1 = hcl2rgb;\n\n    var unpack$9 = utils.unpack;\n    var type$d = utils.type;\n    var chroma$a = chroma_1;\n    var Color$t = Color_1;\n    var input$6 = input$h;\n\n    var rgb2lch = rgb2lch_1;\n\n    Color$t.prototype.lch = function() { return rgb2lch(this._rgb); };\n    Color$t.prototype.hcl = function() { return rgb2lch(this._rgb).reverse(); };\n\n    chroma$a.lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['lch']) ));\n    };\n    chroma$a.hcl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['hcl']) ));\n    };\n\n    input$6.format.lch = lch2rgb_1;\n    input$6.format.hcl = hcl2rgb_1;\n\n    ['lch','hcl'].forEach(function (m) { return input$6.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$9(args, m);\n            if (type$d(args) === 'array' && args.length === 3) {\n                return m;\n            }\n        }\n    }); });\n\n    /**\n    \tX11 color names\n\n    \thttp://www.w3.org/TR/css3-color/#svg-color\n    */\n\n    var w3cx11$1 = {\n        aliceblue: '#f0f8ff',\n        antiquewhite: '#faebd7',\n        aqua: '#00ffff',\n        aquamarine: '#7fffd4',\n        azure: '#f0ffff',\n        beige: '#f5f5dc',\n        bisque: '#ffe4c4',\n        black: '#000000',\n        blanchedalmond: '#ffebcd',\n        blue: '#0000ff',\n        blueviolet: '#8a2be2',\n        brown: '#a52a2a',\n        burlywood: '#deb887',\n        cadetblue: '#5f9ea0',\n        chartreuse: '#7fff00',\n        chocolate: '#d2691e',\n        coral: '#ff7f50',\n        cornflower: '#6495ed',\n        cornflowerblue: '#6495ed',\n        cornsilk: '#fff8dc',\n        crimson: '#dc143c',\n        cyan: '#00ffff',\n        darkblue: '#00008b',\n        darkcyan: '#008b8b',\n        darkgoldenrod: '#b8860b',\n        darkgray: '#a9a9a9',\n        darkgreen: '#006400',\n        darkgrey: '#a9a9a9',\n        darkkhaki: '#bdb76b',\n        darkmagenta: '#8b008b',\n        darkolivegreen: '#556b2f',\n        darkorange: '#ff8c00',\n        darkorchid: '#9932cc',\n        darkred: '#8b0000',\n        darksalmon: '#e9967a',\n        darkseagreen: '#8fbc8f',\n        darkslateblue: '#483d8b',\n        darkslategray: '#2f4f4f',\n        darkslategrey: '#2f4f4f',\n        darkturquoise: '#00ced1',\n        darkviolet: '#9400d3',\n        deeppink: '#ff1493',\n        deepskyblue: '#00bfff',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1e90ff',\n        firebrick: '#b22222',\n        floralwhite: '#fffaf0',\n        forestgreen: '#228b22',\n        fuchsia: '#ff00ff',\n        gainsboro: '#dcdcdc',\n        ghostwhite: '#f8f8ff',\n        gold: '#ffd700',\n        goldenrod: '#daa520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#adff2f',\n        grey: '#808080',\n        honeydew: '#f0fff0',\n        hotpink: '#ff69b4',\n        indianred: '#cd5c5c',\n        indigo: '#4b0082',\n        ivory: '#fffff0',\n        khaki: '#f0e68c',\n        laserlemon: '#ffff54',\n        lavender: '#e6e6fa',\n        lavenderblush: '#fff0f5',\n        lawngreen: '#7cfc00',\n        lemonchiffon: '#fffacd',\n        lightblue: '#add8e6',\n        lightcoral: '#f08080',\n        lightcyan: '#e0ffff',\n        lightgoldenrod: '#fafad2',\n        lightgoldenrodyellow: '#fafad2',\n        lightgray: '#d3d3d3',\n        lightgreen: '#90ee90',\n        lightgrey: '#d3d3d3',\n        lightpink: '#ffb6c1',\n        lightsalmon: '#ffa07a',\n        lightseagreen: '#20b2aa',\n        lightskyblue: '#87cefa',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#b0c4de',\n        lightyellow: '#ffffe0',\n        lime: '#00ff00',\n        limegreen: '#32cd32',\n        linen: '#faf0e6',\n        magenta: '#ff00ff',\n        maroon: '#800000',\n        maroon2: '#7f0000',\n        maroon3: '#b03060',\n        mediumaquamarine: '#66cdaa',\n        mediumblue: '#0000cd',\n        mediumorchid: '#ba55d3',\n        mediumpurple: '#9370db',\n        mediumseagreen: '#3cb371',\n        mediumslateblue: '#7b68ee',\n        mediumspringgreen: '#00fa9a',\n        mediumturquoise: '#48d1cc',\n        mediumvioletred: '#c71585',\n        midnightblue: '#191970',\n        mintcream: '#f5fffa',\n        mistyrose: '#ffe4e1',\n        moccasin: '#ffe4b5',\n        navajowhite: '#ffdead',\n        navy: '#000080',\n        oldlace: '#fdf5e6',\n        olive: '#808000',\n        olivedrab: '#6b8e23',\n        orange: '#ffa500',\n        orangered: '#ff4500',\n        orchid: '#da70d6',\n        palegoldenrod: '#eee8aa',\n        palegreen: '#98fb98',\n        paleturquoise: '#afeeee',\n        palevioletred: '#db7093',\n        papayawhip: '#ffefd5',\n        peachpuff: '#ffdab9',\n        peru: '#cd853f',\n        pink: '#ffc0cb',\n        plum: '#dda0dd',\n        powderblue: '#b0e0e6',\n        purple: '#800080',\n        purple2: '#7f007f',\n        purple3: '#a020f0',\n        rebeccapurple: '#663399',\n        red: '#ff0000',\n        rosybrown: '#bc8f8f',\n        royalblue: '#4169e1',\n        saddlebrown: '#8b4513',\n        salmon: '#fa8072',\n        sandybrown: '#f4a460',\n        seagreen: '#2e8b57',\n        seashell: '#fff5ee',\n        sienna: '#a0522d',\n        silver: '#c0c0c0',\n        skyblue: '#87ceeb',\n        slateblue: '#6a5acd',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#fffafa',\n        springgreen: '#00ff7f',\n        steelblue: '#4682b4',\n        tan: '#d2b48c',\n        teal: '#008080',\n        thistle: '#d8bfd8',\n        tomato: '#ff6347',\n        turquoise: '#40e0d0',\n        violet: '#ee82ee',\n        wheat: '#f5deb3',\n        white: '#ffffff',\n        whitesmoke: '#f5f5f5',\n        yellow: '#ffff00',\n        yellowgreen: '#9acd32'\n    };\n\n    var w3cx11_1 = w3cx11$1;\n\n    var Color$s = Color_1;\n    var input$5 = input$h;\n    var type$c = utils.type;\n\n    var w3cx11 = w3cx11_1;\n    var hex2rgb = hex2rgb_1;\n    var rgb2hex = rgb2hex_1;\n\n    Color$s.prototype.name = function() {\n        var hex = rgb2hex(this._rgb, 'rgb');\n        for (var i = 0, list = Object.keys(w3cx11); i < list.length; i += 1) {\n            var n = list[i];\n\n            if (w3cx11[n] === hex) { return n.toLowerCase(); }\n        }\n        return hex;\n    };\n\n    input$5.format.named = function (name) {\n        name = name.toLowerCase();\n        if (w3cx11[name]) { return hex2rgb(w3cx11[name]); }\n        throw new Error('unknown color name: '+name);\n    };\n\n    input$5.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$c(h) === 'string' && w3cx11[h.toLowerCase()]) {\n                return 'named';\n            }\n        }\n    });\n\n    var unpack$8 = utils.unpack;\n\n    var rgb2num$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$8(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        return (r << 16) + (g << 8) + b;\n    };\n\n    var rgb2num_1 = rgb2num$1;\n\n    var type$b = utils.type;\n\n    var num2rgb = function (num) {\n        if (type$b(num) == \"number\" && num >= 0 && num <= 0xFFFFFF) {\n            var r = num >> 16;\n            var g = (num >> 8) & 0xFF;\n            var b = num & 0xFF;\n            return [r,g,b,1];\n        }\n        throw new Error(\"unknown num color: \"+num);\n    };\n\n    var num2rgb_1 = num2rgb;\n\n    var chroma$9 = chroma_1;\n    var Color$r = Color_1;\n    var input$4 = input$h;\n    var type$a = utils.type;\n\n    var rgb2num = rgb2num_1;\n\n    Color$r.prototype.num = function() {\n        return rgb2num(this._rgb);\n    };\n\n    chroma$9.num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$r, [ null ].concat( args, ['num']) ));\n    };\n\n    input$4.format.num = num2rgb_1;\n\n    input$4.autodetect.push({\n        p: 5,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            if (args.length === 1 && type$a(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {\n                return 'num';\n            }\n        }\n    });\n\n    var chroma$8 = chroma_1;\n    var Color$q = Color_1;\n    var input$3 = input$h;\n    var unpack$7 = utils.unpack;\n    var type$9 = utils.type;\n    var round$1 = Math.round;\n\n    Color$q.prototype.rgb = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        if (rnd === false) { return this._rgb.slice(0,3); }\n        return this._rgb.slice(0,3).map(round$1);\n    };\n\n    Color$q.prototype.rgba = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        return this._rgb.slice(0,4).map(function (v,i) {\n            return i<3 ? (rnd === false ? v : round$1(v)) : v;\n        });\n    };\n\n    chroma$8.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$q, [ null ].concat( args, ['rgb']) ));\n    };\n\n    input$3.format.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$7(args, 'rgba');\n        if (rgba[3] === undefined) { rgba[3] = 1; }\n        return rgba;\n    };\n\n    input$3.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$7(args, 'rgba');\n            if (type$9(args) === 'array' && (args.length === 3 ||\n                args.length === 4 && type$9(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {\n                return 'rgb';\n            }\n        }\n    });\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     */\n\n    var log$1 = Math.log;\n\n    var temperature2rgb$1 = function (kelvin) {\n        var temp = kelvin / 100;\n        var r,g,b;\n        if (temp < 66) {\n            r = 255;\n            g = temp < 6 ? 0 : -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log$1(g);\n            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log$1(b);\n        } else {\n            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log$1(r);\n            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log$1(g);\n            b = 255;\n        }\n        return [r,g,b,1];\n    };\n\n    var temperature2rgb_1 = temperature2rgb$1;\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     **/\n\n    var temperature2rgb = temperature2rgb_1;\n    var unpack$6 = utils.unpack;\n    var round = Math.round;\n\n    var rgb2temperature$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$6(args, 'rgb');\n        var r = rgb[0], b = rgb[2];\n        var minTemp = 1000;\n        var maxTemp = 40000;\n        var eps = 0.4;\n        var temp;\n        while (maxTemp - minTemp > eps) {\n            temp = (maxTemp + minTemp) * 0.5;\n            var rgb$1 = temperature2rgb(temp);\n            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {\n                maxTemp = temp;\n            } else {\n                minTemp = temp;\n            }\n        }\n        return round(temp);\n    };\n\n    var rgb2temperature_1 = rgb2temperature$1;\n\n    var chroma$7 = chroma_1;\n    var Color$p = Color_1;\n    var input$2 = input$h;\n\n    var rgb2temperature = rgb2temperature_1;\n\n    Color$p.prototype.temp =\n    Color$p.prototype.kelvin =\n    Color$p.prototype.temperature = function() {\n        return rgb2temperature(this._rgb);\n    };\n\n    chroma$7.temp =\n    chroma$7.kelvin =\n    chroma$7.temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$p, [ null ].concat( args, ['temp']) ));\n    };\n\n    input$2.format.temp =\n    input$2.format.kelvin =\n    input$2.format.temperature = temperature2rgb_1;\n\n    var unpack$5 = utils.unpack;\n    var cbrt = Math.cbrt;\n    var pow$8 = Math.pow;\n    var sign$1 = Math.sign;\n\n    var rgb2oklab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        // OKLab color space implementation taken from\n        // https://bottosson.github.io/posts/oklab/\n        var ref = unpack$5(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = [rgb2lrgb(r / 255), rgb2lrgb(g / 255), rgb2lrgb(b / 255)];\n        var lr = ref$1[0];\n        var lg = ref$1[1];\n        var lb = ref$1[2];\n        var l = cbrt(0.4122214708 * lr + 0.5363325363 * lg + 0.0514459929 * lb);\n        var m = cbrt(0.2119034982 * lr + 0.6806995451 * lg + 0.1073969566 * lb);\n        var s = cbrt(0.0883024619 * lr + 0.2817188376 * lg + 0.6299787005 * lb);\n\n        return [\n            0.2104542553 * l + 0.793617785 * m - 0.0040720468 * s,\n            1.9779984951 * l - 2.428592205 * m + 0.4505937099 * s,\n            0.0259040371 * l + 0.7827717662 * m - 0.808675766 * s\n        ];\n    };\n\n    var rgb2oklab_1 = rgb2oklab$2;\n\n    function rgb2lrgb(c) {\n        var abs = Math.abs(c);\n        if (abs < 0.04045) {\n            return c / 12.92;\n        }\n        return (sign$1(c) || 1) * pow$8((abs + 0.055) / 1.055, 2.4);\n    }\n\n    var unpack$4 = utils.unpack;\n    var pow$7 = Math.pow;\n    var sign = Math.sign;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var oklab2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$4(args, 'lab');\n        var L = args[0];\n        var a = args[1];\n        var b = args[2];\n\n        var l = pow$7(L + 0.3963377774 * a + 0.2158037573 * b, 3);\n        var m = pow$7(L - 0.1055613458 * a - 0.0638541728 * b, 3);\n        var s = pow$7(L - 0.0894841775 * a - 1.291485548 * b, 3);\n\n        return [\n            255 * lrgb2rgb(+4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s),\n            255 * lrgb2rgb(-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s),\n            255 * lrgb2rgb(-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s),\n            args.length > 3 ? args[3] : 1\n        ];\n    };\n\n    var oklab2rgb_1 = oklab2rgb$1;\n\n    function lrgb2rgb(c) {\n        var abs = Math.abs(c);\n        if (abs > 0.0031308) {\n            return (sign(c) || 1) * (1.055 * pow$7(abs, 1 / 2.4) - 0.055);\n        }\n        return c * 12.92;\n    }\n\n    var unpack$3 = utils.unpack;\n    var type$8 = utils.type;\n    var chroma$6 = chroma_1;\n    var Color$o = Color_1;\n    var input$1 = input$h;\n\n    var rgb2oklab$1 = rgb2oklab_1;\n\n    Color$o.prototype.oklab = function () {\n        return rgb2oklab$1(this._rgb);\n    };\n\n    chroma$6.oklab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$o, [ null ].concat( args, ['oklab']) ));\n    };\n\n    input$1.format.oklab = oklab2rgb_1;\n\n    input$1.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$3(args, 'oklab');\n            if (type$8(args) === 'array' && args.length === 3) {\n                return 'oklab';\n            }\n        }\n    });\n\n    var unpack$2 = utils.unpack;\n    var rgb2oklab = rgb2oklab_1;\n    var lab2lch = lab2lch_1;\n\n    var rgb2oklch$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$2(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2oklab(r, g, b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch(l, a, b_);\n    };\n\n    var rgb2oklch_1 = rgb2oklch$1;\n\n    var unpack$1 = utils.unpack;\n    var lch2lab = lch2lab_1;\n    var oklab2rgb = oklab2rgb_1;\n\n    var oklch2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$1(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab(l, c, h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = oklab2rgb(L, a, b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var oklch2rgb_1 = oklch2rgb;\n\n    var unpack = utils.unpack;\n    var type$7 = utils.type;\n    var chroma$5 = chroma_1;\n    var Color$n = Color_1;\n    var input = input$h;\n\n    var rgb2oklch = rgb2oklch_1;\n\n    Color$n.prototype.oklch = function () {\n        return rgb2oklch(this._rgb);\n    };\n\n    chroma$5.oklch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$n, [ null ].concat( args, ['oklch']) ));\n    };\n\n    input.format.oklch = oklch2rgb_1;\n\n    input.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack(args, 'oklch');\n            if (type$7(args) === 'array' && args.length === 3) {\n                return 'oklch';\n            }\n        }\n    });\n\n    var Color$m = Color_1;\n    var type$6 = utils.type;\n\n    Color$m.prototype.alpha = function(a, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        if (a !== undefined && type$6(a) === 'number') {\n            if (mutate) {\n                this._rgb[3] = a;\n                return this;\n            }\n            return new Color$m([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');\n        }\n        return this._rgb[3];\n    };\n\n    var Color$l = Color_1;\n\n    Color$l.prototype.clipped = function() {\n        return this._rgb._clipped || false;\n    };\n\n    var Color$k = Color_1;\n    var LAB_CONSTANTS$1 = labConstants;\n\n    Color$k.prototype.darken = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lab = me.lab();\n    \tlab[0] -= LAB_CONSTANTS$1.Kn * amount;\n    \treturn new Color$k(lab, 'lab').alpha(me.alpha(), true);\n    };\n\n    Color$k.prototype.brighten = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.darken(-amount);\n    };\n\n    Color$k.prototype.darker = Color$k.prototype.darken;\n    Color$k.prototype.brighter = Color$k.prototype.brighten;\n\n    var Color$j = Color_1;\n\n    Color$j.prototype.get = function (mc) {\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);\n            if (i > -1) { return src[i]; }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var Color$i = Color_1;\n    var type$5 = utils.type;\n    var pow$6 = Math.pow;\n\n    var EPS = 1e-7;\n    var MAX_ITER = 20;\n\n    Color$i.prototype.luminance = function(lum) {\n        if (lum !== undefined && type$5(lum) === 'number') {\n            if (lum === 0) {\n                // return pure black\n                return new Color$i([0,0,0,this._rgb[3]], 'rgb');\n            }\n            if (lum === 1) {\n                // return pure white\n                return new Color$i([255,255,255,this._rgb[3]], 'rgb');\n            }\n            // compute new color using...\n            var cur_lum = this.luminance();\n            var mode = 'rgb';\n            var max_iter = MAX_ITER;\n\n            var test = function (low, high) {\n                var mid = low.interpolate(high, 0.5, mode);\n                var lm = mid.luminance();\n                if (Math.abs(lum - lm) < EPS || !max_iter--) {\n                    // close enough\n                    return mid;\n                }\n                return lm > lum ? test(low, mid) : test(mid, high);\n            };\n\n            var rgb = (cur_lum > lum ? test(new Color$i([0,0,0]), this) : test(this, new Color$i([255,255,255]))).rgb();\n            return new Color$i(rgb.concat( [this._rgb[3]]));\n        }\n        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));\n    };\n\n\n    var rgb2luminance = function (r,g,b) {\n        // relative luminance\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        r = luminance_x(r);\n        g = luminance_x(g);\n        b = luminance_x(b);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    };\n\n    var luminance_x = function (x) {\n        x /= 255;\n        return x <= 0.03928 ? x/12.92 : pow$6((x+0.055)/1.055, 2.4);\n    };\n\n    var interpolator$1 = {};\n\n    var Color$h = Color_1;\n    var type$4 = utils.type;\n    var interpolator = interpolator$1;\n\n    var mix$1 = function (col1, col2, f) {\n        if ( f === void 0 ) f=0.5;\n        var rest = [], len = arguments.length - 3;\n        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];\n\n        var mode = rest[0] || 'lrgb';\n        if (!interpolator[mode] && !rest.length) {\n            // fall back to the first supported mode\n            mode = Object.keys(interpolator)[0];\n        }\n        if (!interpolator[mode]) {\n            throw new Error((\"interpolation mode \" + mode + \" is not defined\"));\n        }\n        if (type$4(col1) !== 'object') { col1 = new Color$h(col1); }\n        if (type$4(col2) !== 'object') { col2 = new Color$h(col2); }\n        return interpolator[mode](col1, col2, f)\n            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n    };\n\n    var Color$g = Color_1;\n    var mix = mix$1;\n\n    Color$g.prototype.mix =\n    Color$g.prototype.interpolate = function(col2, f) {\n    \tif ( f === void 0 ) f=0.5;\n    \tvar rest = [], len = arguments.length - 2;\n    \twhile ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n    \treturn mix.apply(void 0, [ this, col2, f ].concat( rest ));\n    };\n\n    var Color$f = Color_1;\n\n    Color$f.prototype.premultiply = function(mutate) {\n    \tif ( mutate === void 0 ) mutate=false;\n\n    \tvar rgb = this._rgb;\n    \tvar a = rgb[3];\n    \tif (mutate) {\n    \t\tthis._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];\n    \t\treturn this;\n    \t} else {\n    \t\treturn new Color$f([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');\n    \t}\n    };\n\n    var Color$e = Color_1;\n    var LAB_CONSTANTS = labConstants;\n\n    Color$e.prototype.saturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lch = me.lch();\n    \tlch[1] += LAB_CONSTANTS.Kn * amount;\n    \tif (lch[1] < 0) { lch[1] = 0; }\n    \treturn new Color$e(lch, 'lch').alpha(me.alpha(), true);\n    };\n\n    Color$e.prototype.desaturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.saturate(-amount);\n    };\n\n    var Color$d = Color_1;\n    var type$3 = utils.type;\n\n    Color$d.prototype.set = function (mc, value, mutate) {\n        if ( mutate === void 0 ) mutate = false;\n\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);\n            if (i > -1) {\n                if (type$3(value) == 'string') {\n                    switch (value.charAt(0)) {\n                        case '+':\n                            src[i] += +value;\n                            break;\n                        case '-':\n                            src[i] += +value;\n                            break;\n                        case '*':\n                            src[i] *= +value.substr(1);\n                            break;\n                        case '/':\n                            src[i] /= +value.substr(1);\n                            break;\n                        default:\n                            src[i] = +value;\n                    }\n                } else if (type$3(value) === 'number') {\n                    src[i] = value;\n                } else {\n                    throw new Error(\"unsupported value for Color.set\");\n                }\n                var out = new Color$d(src, mode);\n                if (mutate) {\n                    this._rgb = out._rgb;\n                    return this;\n                }\n                return out;\n            }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var Color$c = Color_1;\n\n    var rgb = function (col1, col2, f) {\n        var xyz0 = col1._rgb;\n        var xyz1 = col2._rgb;\n        return new Color$c(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.rgb = rgb;\n\n    var Color$b = Color_1;\n    var sqrt$2 = Math.sqrt;\n    var pow$5 = Math.pow;\n\n    var lrgb = function (col1, col2, f) {\n        var ref = col1._rgb;\n        var x1 = ref[0];\n        var y1 = ref[1];\n        var z1 = ref[2];\n        var ref$1 = col2._rgb;\n        var x2 = ref$1[0];\n        var y2 = ref$1[1];\n        var z2 = ref$1[2];\n        return new Color$b(\n            sqrt$2(pow$5(x1,2) * (1-f) + pow$5(x2,2) * f),\n            sqrt$2(pow$5(y1,2) * (1-f) + pow$5(y2,2) * f),\n            sqrt$2(pow$5(z1,2) * (1-f) + pow$5(z2,2) * f),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.lrgb = lrgb;\n\n    var Color$a = Color_1;\n\n    var lab = function (col1, col2, f) {\n        var xyz0 = col1.lab();\n        var xyz1 = col2.lab();\n        return new Color$a(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'lab'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.lab = lab;\n\n    var Color$9 = Color_1;\n\n    var _hsx = function (col1, col2, f, m) {\n        var assign, assign$1;\n\n        var xyz0, xyz1;\n        if (m === 'hsl') {\n            xyz0 = col1.hsl();\n            xyz1 = col2.hsl();\n        } else if (m === 'hsv') {\n            xyz0 = col1.hsv();\n            xyz1 = col2.hsv();\n        } else if (m === 'hcg') {\n            xyz0 = col1.hcg();\n            xyz1 = col2.hcg();\n        } else if (m === 'hsi') {\n            xyz0 = col1.hsi();\n            xyz1 = col2.hsi();\n        } else if (m === 'lch' || m === 'hcl') {\n            m = 'hcl';\n            xyz0 = col1.hcl();\n            xyz1 = col2.hcl();\n        } else if (m === 'oklch') {\n            xyz0 = col1.oklch().reverse();\n            xyz1 = col2.oklch().reverse();\n        }\n\n        var hue0, hue1, sat0, sat1, lbv0, lbv1;\n        if (m.substr(0, 1) === 'h' || m === 'oklch') {\n            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);\n            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);\n        }\n\n        var sat, hue, lbv, dh;\n\n        if (!isNaN(hue0) && !isNaN(hue1)) {\n            // both colors have hue\n            if (hue1 > hue0 && hue1 - hue0 > 180) {\n                dh = hue1 - (hue0 + 360);\n            } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n                dh = hue1 + 360 - hue0;\n            } else {\n                dh = hue1 - hue0;\n            }\n            hue = hue0 + f * dh;\n        } else if (!isNaN(hue0)) {\n            hue = hue0;\n            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }\n        } else if (!isNaN(hue1)) {\n            hue = hue1;\n            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }\n        } else {\n            hue = Number.NaN;\n        }\n\n        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }\n        lbv = lbv0 + f * (lbv1 - lbv0);\n        return m === 'oklch' ? new Color$9([lbv, sat, hue], m) : new Color$9([hue, sat, lbv], m);\n    };\n\n    var interpolate_hsx$5 = _hsx;\n\n    var lch = function (col1, col2, f) {\n    \treturn interpolate_hsx$5(col1, col2, f, 'lch');\n    };\n\n    // register interpolator\n    interpolator$1.lch = lch;\n    interpolator$1.hcl = lch;\n\n    var Color$8 = Color_1;\n\n    var num = function (col1, col2, f) {\n        var c1 = col1.num();\n        var c2 = col2.num();\n        return new Color$8(c1 + f * (c2-c1), 'num')\n    };\n\n    // register interpolator\n    interpolator$1.num = num;\n\n    var interpolate_hsx$4 = _hsx;\n\n    var hcg = function (col1, col2, f) {\n    \treturn interpolate_hsx$4(col1, col2, f, 'hcg');\n    };\n\n    // register interpolator\n    interpolator$1.hcg = hcg;\n\n    var interpolate_hsx$3 = _hsx;\n\n    var hsi = function (col1, col2, f) {\n    \treturn interpolate_hsx$3(col1, col2, f, 'hsi');\n    };\n\n    // register interpolator\n    interpolator$1.hsi = hsi;\n\n    var interpolate_hsx$2 = _hsx;\n\n    var hsl = function (col1, col2, f) {\n    \treturn interpolate_hsx$2(col1, col2, f, 'hsl');\n    };\n\n    // register interpolator\n    interpolator$1.hsl = hsl;\n\n    var interpolate_hsx$1 = _hsx;\n\n    var hsv = function (col1, col2, f) {\n    \treturn interpolate_hsx$1(col1, col2, f, 'hsv');\n    };\n\n    // register interpolator\n    interpolator$1.hsv = hsv;\n\n    var Color$7 = Color_1;\n\n    var oklab = function (col1, col2, f) {\n        var xyz0 = col1.oklab();\n        var xyz1 = col2.oklab();\n        return new Color$7(\n            xyz0[0] + f * (xyz1[0] - xyz0[0]),\n            xyz0[1] + f * (xyz1[1] - xyz0[1]),\n            xyz0[2] + f * (xyz1[2] - xyz0[2]),\n            'oklab'\n        );\n    };\n\n    // register interpolator\n    interpolator$1.oklab = oklab;\n\n    var interpolate_hsx = _hsx;\n\n    var oklch = function (col1, col2, f) {\n        return interpolate_hsx(col1, col2, f, 'oklch');\n    };\n\n    // register interpolator\n    interpolator$1.oklch = oklch;\n\n    var Color$6 = Color_1;\n    var clip_rgb$1 = utils.clip_rgb;\n    var pow$4 = Math.pow;\n    var sqrt$1 = Math.sqrt;\n    var PI$1 = Math.PI;\n    var cos$2 = Math.cos;\n    var sin$2 = Math.sin;\n    var atan2$1 = Math.atan2;\n\n    var average = function (colors, mode, weights) {\n        if ( mode === void 0 ) mode='lrgb';\n        if ( weights === void 0 ) weights=null;\n\n        var l = colors.length;\n        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }\n        // normalize weights\n        var k = l / weights.reduce(function(a, b) { return a + b; });\n        weights.forEach(function (w,i) { weights[i] *= k; });\n        // convert colors to Color objects\n        colors = colors.map(function (c) { return new Color$6(c); });\n        if (mode === 'lrgb') {\n            return _average_lrgb(colors, weights)\n        }\n        var first = colors.shift();\n        var xyz = first.get(mode);\n        var cnt = [];\n        var dx = 0;\n        var dy = 0;\n        // initial color\n        for (var i=0; i<xyz.length; i++) {\n            xyz[i] = (xyz[i] || 0) * weights[0];\n            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);\n            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n                var A = xyz[i] / 180 * PI$1;\n                dx += cos$2(A) * weights[0];\n                dy += sin$2(A) * weights[0];\n            }\n        }\n\n        var alpha = first.alpha() * weights[0];\n        colors.forEach(function (c,ci) {\n            var xyz2 = c.get(mode);\n            alpha += c.alpha() * weights[ci+1];\n            for (var i=0; i<xyz.length; i++) {\n                if (!isNaN(xyz2[i])) {\n                    cnt[i] += weights[ci+1];\n                    if (mode.charAt(i) === 'h') {\n                        var A = xyz2[i] / 180 * PI$1;\n                        dx += cos$2(A) * weights[ci+1];\n                        dy += sin$2(A) * weights[ci+1];\n                    } else {\n                        xyz[i] += xyz2[i] * weights[ci+1];\n                    }\n                }\n            }\n        });\n\n        for (var i$1=0; i$1<xyz.length; i$1++) {\n            if (mode.charAt(i$1) === 'h') {\n                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;\n                while (A$1 < 0) { A$1 += 360; }\n                while (A$1 >= 360) { A$1 -= 360; }\n                xyz[i$1] = A$1;\n            } else {\n                xyz[i$1] = xyz[i$1]/cnt[i$1];\n            }\n        }\n        alpha /= l;\n        return (new Color$6(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);\n    };\n\n\n    var _average_lrgb = function (colors, weights) {\n        var l = colors.length;\n        var xyz = [0,0,0,0];\n        for (var i=0; i < colors.length; i++) {\n            var col = colors[i];\n            var f = weights[i] / l;\n            var rgb = col._rgb;\n            xyz[0] += pow$4(rgb[0],2) * f;\n            xyz[1] += pow$4(rgb[1],2) * f;\n            xyz[2] += pow$4(rgb[2],2) * f;\n            xyz[3] += rgb[3] * f;\n        }\n        xyz[0] = sqrt$1(xyz[0]);\n        xyz[1] = sqrt$1(xyz[1]);\n        xyz[2] = sqrt$1(xyz[2]);\n        if (xyz[3] > 0.9999999) { xyz[3] = 1; }\n        return new Color$6(clip_rgb$1(xyz));\n    };\n\n    // minimal multi-purpose interface\n\n    // @requires utils color analyze\n\n    var chroma$4 = chroma_1;\n    var type$2 = utils.type;\n\n    var pow$3 = Math.pow;\n\n    var scale$2 = function(colors) {\n\n        // constructor\n        var _mode = 'rgb';\n        var _nacol = chroma$4('#ccc');\n        var _spread = 0;\n        // const _fixed = false;\n        var _domain = [0, 1];\n        var _pos = [];\n        var _padding = [0,0];\n        var _classes = false;\n        var _colors = [];\n        var _out = false;\n        var _min = 0;\n        var _max = 1;\n        var _correctLightness = false;\n        var _colorCache = {};\n        var _useCache = true;\n        var _gamma = 1;\n\n        // private methods\n\n        var setColors = function(colors) {\n            colors = colors || ['#fff', '#000'];\n            if (colors && type$2(colors) === 'string' && chroma$4.brewer &&\n                chroma$4.brewer[colors.toLowerCase()]) {\n                colors = chroma$4.brewer[colors.toLowerCase()];\n            }\n            if (type$2(colors) === 'array') {\n                // handle single color\n                if (colors.length === 1) {\n                    colors = [colors[0], colors[0]];\n                }\n                // make a copy of the colors\n                colors = colors.slice(0);\n                // convert to chroma classes\n                for (var c=0; c<colors.length; c++) {\n                    colors[c] = chroma$4(colors[c]);\n                }\n                // auto-fill color position\n                _pos.length = 0;\n                for (var c$1=0; c$1<colors.length; c$1++) {\n                    _pos.push(c$1/(colors.length-1));\n                }\n            }\n            resetCache();\n            return _colors = colors;\n        };\n\n        var getClass = function(value) {\n            if (_classes != null) {\n                var n = _classes.length-1;\n                var i = 0;\n                while (i < n && value >= _classes[i]) {\n                    i++;\n                }\n                return i-1;\n            }\n            return 0;\n        };\n\n        var tMapLightness = function (t) { return t; };\n        var tMapDomain = function (t) { return t; };\n\n        // const classifyValue = function(value) {\n        //     let val = value;\n        //     if (_classes.length > 2) {\n        //         const n = _classes.length-1;\n        //         const i = getClass(value);\n        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class\n        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class\n        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));\n        //     }\n        //     return val;\n        // };\n\n        var getColor = function(val, bypassMap) {\n            var col, t;\n            if (bypassMap == null) { bypassMap = false; }\n            if (isNaN(val) || (val === null)) { return _nacol; }\n            if (!bypassMap) {\n                if (_classes && (_classes.length > 2)) {\n                    // find the class\n                    var c = getClass(val);\n                    t = c / (_classes.length-2);\n                } else if (_max !== _min) {\n                    // just interpolate between min/max\n                    t = (val - _min) / (_max - _min);\n                } else {\n                    t = 1;\n                }\n            } else {\n                t = val;\n            }\n\n            // domain map\n            t = tMapDomain(t);\n\n            if (!bypassMap) {\n                t = tMapLightness(t);  // lightness correction\n            }\n\n            if (_gamma !== 1) { t = pow$3(t, _gamma); }\n\n            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n\n            t = Math.min(1, Math.max(0, t));\n\n            var k = Math.floor(t * 10000);\n\n            if (_useCache && _colorCache[k]) {\n                col = _colorCache[k];\n            } else {\n                if (type$2(_colors) === 'array') {\n                    //for i in [0.._pos.length-1]\n                    for (var i=0; i<_pos.length; i++) {\n                        var p = _pos[i];\n                        if (t <= p) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if ((t >= p) && (i === (_pos.length-1))) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if (t > p && t < _pos[i+1]) {\n                            t = (t-p)/(_pos[i+1]-p);\n                            col = chroma$4.interpolate(_colors[i], _colors[i+1], t, _mode);\n                            break;\n                        }\n                    }\n                } else if (type$2(_colors) === 'function') {\n                    col = _colors(t);\n                }\n                if (_useCache) { _colorCache[k] = col; }\n            }\n            return col;\n        };\n\n        var resetCache = function () { return _colorCache = {}; };\n\n        setColors(colors);\n\n        // public interface\n\n        var f = function(v) {\n            var c = chroma$4(getColor(v));\n            if (_out && c[_out]) { return c[_out](); } else { return c; }\n        };\n\n        f.classes = function(classes) {\n            if (classes != null) {\n                if (type$2(classes) === 'array') {\n                    _classes = classes;\n                    _domain = [classes[0], classes[classes.length-1]];\n                } else {\n                    var d = chroma$4.analyze(_domain);\n                    if (classes === 0) {\n                        _classes = [d.min, d.max];\n                    } else {\n                        _classes = chroma$4.limits(d, 'e', classes);\n                    }\n                }\n                return f;\n            }\n            return _classes;\n        };\n\n\n        f.domain = function(domain) {\n            if (!arguments.length) {\n                return _domain;\n            }\n            _min = domain[0];\n            _max = domain[domain.length-1];\n            _pos = [];\n            var k = _colors.length;\n            if ((domain.length === k) && (_min !== _max)) {\n                // update positions\n                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {\n                    var d = list[i];\n\n                  _pos.push((d-_min) / (_max-_min));\n                }\n            } else {\n                for (var c=0; c<k; c++) {\n                    _pos.push(c/(k-1));\n                }\n                if (domain.length > 2) {\n                    // set domain map\n                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });\n                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });\n                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {\n                        tMapDomain = function (t) {\n                            if (t <= 0 || t >= 1) { return t; }\n                            var i = 0;\n                            while (t >= tBreaks[i+1]) { i++; }\n                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);\n                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);\n                            return out;\n                        };\n                    }\n\n                }\n            }\n            _domain = [_min, _max];\n            return f;\n        };\n\n        f.mode = function(_m) {\n            if (!arguments.length) {\n                return _mode;\n            }\n            _mode = _m;\n            resetCache();\n            return f;\n        };\n\n        f.range = function(colors, _pos) {\n            setColors(colors);\n            return f;\n        };\n\n        f.out = function(_o) {\n            _out = _o;\n            return f;\n        };\n\n        f.spread = function(val) {\n            if (!arguments.length) {\n                return _spread;\n            }\n            _spread = val;\n            return f;\n        };\n\n        f.correctLightness = function(v) {\n            if (v == null) { v = true; }\n            _correctLightness = v;\n            resetCache();\n            if (_correctLightness) {\n                tMapLightness = function(t) {\n                    var L0 = getColor(0, true).lab()[0];\n                    var L1 = getColor(1, true).lab()[0];\n                    var pol = L0 > L1;\n                    var L_actual = getColor(t, true).lab()[0];\n                    var L_ideal = L0 + ((L1 - L0) * t);\n                    var L_diff = L_actual - L_ideal;\n                    var t0 = 0;\n                    var t1 = 1;\n                    var max_iter = 20;\n                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {\n                        (function() {\n                            if (pol) { L_diff *= -1; }\n                            if (L_diff < 0) {\n                                t0 = t;\n                                t += (t1 - t) * 0.5;\n                            } else {\n                                t1 = t;\n                                t += (t0 - t) * 0.5;\n                            }\n                            L_actual = getColor(t, true).lab()[0];\n                            return L_diff = L_actual - L_ideal;\n                        })();\n                    }\n                    return t;\n                };\n            } else {\n                tMapLightness = function (t) { return t; };\n            }\n            return f;\n        };\n\n        f.padding = function(p) {\n            if (p != null) {\n                if (type$2(p) === 'number') {\n                    p = [p,p];\n                }\n                _padding = p;\n                return f;\n            } else {\n                return _padding;\n            }\n        };\n\n        f.colors = function(numColors, out) {\n            // If no arguments are given, return the original colors that were provided\n            if (arguments.length < 2) { out = 'hex'; }\n            var result = [];\n\n            if (arguments.length === 0) {\n                result = _colors.slice(0);\n\n            } else if (numColors === 1) {\n                result = [f(0.5)];\n\n            } else if (numColors > 1) {\n                var dm = _domain[0];\n                var dd = _domain[1] - dm;\n                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });\n\n            } else { // returns all colors based on the defined classes\n                colors = [];\n                var samples = [];\n                if (_classes && (_classes.length > 2)) {\n                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                        samples.push((_classes[i-1]+_classes[i])*0.5);\n                    }\n                } else {\n                    samples = _domain;\n                }\n                result = samples.map(function (v) { return f(v); });\n            }\n\n            if (chroma$4[out]) {\n                result = result.map(function (c) { return c[out](); });\n            }\n            return result;\n        };\n\n        f.cache = function(c) {\n            if (c != null) {\n                _useCache = c;\n                return f;\n            } else {\n                return _useCache;\n            }\n        };\n\n        f.gamma = function(g) {\n            if (g != null) {\n                _gamma = g;\n                return f;\n            } else {\n                return _gamma;\n            }\n        };\n\n        f.nodata = function(d) {\n            if (d != null) {\n                _nacol = chroma$4(d);\n                return f;\n            } else {\n                return _nacol;\n            }\n        };\n\n        return f;\n    };\n\n    function __range__(left, right, inclusive) {\n      var range = [];\n      var ascending = left < right;\n      var end = !inclusive ? right : ascending ? right + 1 : right - 1;\n      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n        range.push(i);\n      }\n      return range;\n    }\n\n    //\n    // interpolates between a set of colors uzing a bezier spline\n    //\n\n    // @requires utils lab\n    var Color$5 = Color_1;\n\n    var scale$1 = scale$2;\n\n    // nth row of the pascal triangle\n    var binom_row = function(n) {\n        var row = [1, 1];\n        for (var i = 1; i < n; i++) {\n            var newrow = [1];\n            for (var j = 1; j <= row.length; j++) {\n                newrow[j] = (row[j] || 0) + row[j - 1];\n            }\n            row = newrow;\n        }\n        return row;\n    };\n\n    var bezier = function(colors) {\n        var assign, assign$1, assign$2;\n\n        var I, lab0, lab1, lab2;\n        colors = colors.map(function (c) { return new Color$5(c); });\n        if (colors.length === 2) {\n            // linear interpolation\n            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length === 3) {\n            // quadratic bezier interpolation\n            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length === 4) {\n            // cubic bezier interpolation\n            var lab3;\n            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length >= 5) {\n            // general case (degree n bezier)\n            var labs, row, n;\n            labs = colors.map(function (c) { return c.lab(); });\n            n = colors.length - 1;\n            row = binom_row(n);\n            I = function (t) {\n                var u = 1 - t;\n                var lab = ([0, 1, 2].map(function (i) { return labs.reduce(function (sum, el, j) { return (sum + row[j] * Math.pow( u, (n - j) ) * Math.pow( t, j ) * el[i]); }, 0); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else {\n            throw new RangeError(\"No point in running bezier with only one color.\")\n        }\n        return I;\n    };\n\n    var bezier_1 = function (colors) {\n        var f = bezier(colors);\n        f.scale = function () { return scale$1(f); };\n        return f;\n    };\n\n    /*\n     * interpolates between a set of colors uzing a bezier spline\n     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n     */\n\n    var chroma$3 = chroma_1;\n\n    var blend = function (bottom, top, mode) {\n        if (!blend[mode]) {\n            throw new Error('unknown blend mode ' + mode);\n        }\n        return blend[mode](bottom, top);\n    };\n\n    var blend_f = function (f) { return function (bottom,top) {\n            var c0 = chroma$3(top).rgb();\n            var c1 = chroma$3(bottom).rgb();\n            return chroma$3.rgb(f(c0, c1));\n        }; };\n\n    var each = function (f) { return function (c0, c1) {\n            var out = [];\n            out[0] = f(c0[0], c1[0]);\n            out[1] = f(c0[1], c1[1]);\n            out[2] = f(c0[2], c1[2]);\n            return out;\n        }; };\n\n    var normal = function (a) { return a; };\n    var multiply = function (a,b) { return a * b / 255; };\n    var darken = function (a,b) { return a > b ? b : a; };\n    var lighten = function (a,b) { return a > b ? a : b; };\n    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };\n    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };\n    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };\n    var dodge = function (a,b) {\n        if (a === 255) { return 255; }\n        a = 255 * (b / 255) / (1 - a / 255);\n        return a > 255 ? 255 : a\n    };\n\n    // # add = (a,b) ->\n    // #     if (a + b > 255) then 255 else a + b\n\n    blend.normal = blend_f(each(normal));\n    blend.multiply = blend_f(each(multiply));\n    blend.screen = blend_f(each(screen));\n    blend.overlay = blend_f(each(overlay));\n    blend.darken = blend_f(each(darken));\n    blend.lighten = blend_f(each(lighten));\n    blend.dodge = blend_f(each(dodge));\n    blend.burn = blend_f(each(burn));\n    // blend.add = blend_f(each(add));\n\n    var blend_1 = blend;\n\n    // cubehelix interpolation\n    // based on D.A. Green \"A colour scheme for the display of astronomical intensity images\"\n    // http://astron-soc.in/bulletin/11June/289392011.pdf\n\n    var type$1 = utils.type;\n    var clip_rgb = utils.clip_rgb;\n    var TWOPI = utils.TWOPI;\n    var pow$2 = Math.pow;\n    var sin$1 = Math.sin;\n    var cos$1 = Math.cos;\n    var chroma$2 = chroma_1;\n\n    var cubehelix = function(start, rotations, hue, gamma, lightness) {\n        if ( start === void 0 ) start=300;\n        if ( rotations === void 0 ) rotations=-1.5;\n        if ( hue === void 0 ) hue=1;\n        if ( gamma === void 0 ) gamma=1;\n        if ( lightness === void 0 ) lightness=[0,1];\n\n        var dh = 0, dl;\n        if (type$1(lightness) === 'array') {\n            dl = lightness[1] - lightness[0];\n        } else {\n            dl = 0;\n            lightness = [lightness, lightness];\n        }\n\n        var f = function(fract) {\n            var a = TWOPI * (((start+120)/360) + (rotations * fract));\n            var l = pow$2(lightness[0] + (dl * fract), gamma);\n            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;\n            var amp = (h * l * (1-l)) / 2;\n            var cos_a = cos$1(a);\n            var sin_a = sin$1(a);\n            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));\n            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));\n            var b = l + (amp * (+1.97294 * cos_a));\n            return chroma$2(clip_rgb([r*255,g*255,b*255,1]));\n        };\n\n        f.start = function(s) {\n            if ((s == null)) { return start; }\n            start = s;\n            return f;\n        };\n\n        f.rotations = function(r) {\n            if ((r == null)) { return rotations; }\n            rotations = r;\n            return f;\n        };\n\n        f.gamma = function(g) {\n            if ((g == null)) { return gamma; }\n            gamma = g;\n            return f;\n        };\n\n        f.hue = function(h) {\n            if ((h == null)) { return hue; }\n            hue = h;\n            if (type$1(hue) === 'array') {\n                dh = hue[1] - hue[0];\n                if (dh === 0) { hue = hue[1]; }\n            } else {\n                dh = 0;\n            }\n            return f;\n        };\n\n        f.lightness = function(h) {\n            if ((h == null)) { return lightness; }\n            if (type$1(h) === 'array') {\n                lightness = h;\n                dl = h[1] - h[0];\n            } else {\n                lightness = [h,h];\n                dl = 0;\n            }\n            return f;\n        };\n\n        f.scale = function () { return chroma$2.scale(f); };\n\n        f.hue(hue);\n\n        return f;\n    };\n\n    var Color$4 = Color_1;\n    var digits = '0123456789abcdef';\n\n    var floor$1 = Math.floor;\n    var random = Math.random;\n\n    var random_1 = function () {\n        var code = '#';\n        for (var i=0; i<6; i++) {\n            code += digits.charAt(floor$1(random() * 16));\n        }\n        return new Color$4(code, 'hex');\n    };\n\n    var type = type$p;\n    var log = Math.log;\n    var pow$1 = Math.pow;\n    var floor = Math.floor;\n    var abs$1 = Math.abs;\n\n\n    var analyze = function (data, key) {\n        if ( key === void 0 ) key=null;\n\n        var r = {\n            min: Number.MAX_VALUE,\n            max: Number.MAX_VALUE*-1,\n            sum: 0,\n            values: [],\n            count: 0\n        };\n        if (type(data) === 'object') {\n            data = Object.values(data);\n        }\n        data.forEach(function (val) {\n            if (key && type(val) === 'object') { val = val[key]; }\n            if (val !== undefined && val !== null && !isNaN(val)) {\n                r.values.push(val);\n                r.sum += val;\n                if (val < r.min) { r.min = val; }\n                if (val > r.max) { r.max = val; }\n                r.count += 1;\n            }\n        });\n\n        r.domain = [r.min, r.max];\n\n        r.limits = function (mode, num) { return limits(r, mode, num); };\n\n        return r;\n    };\n\n\n    var limits = function (data, mode, num) {\n        if ( mode === void 0 ) mode='equal';\n        if ( num === void 0 ) num=7;\n\n        if (type(data) == 'array') {\n            data = analyze(data);\n        }\n        var min = data.min;\n        var max = data.max;\n        var values = data.values.sort(function (a,b) { return a-b; });\n\n        if (num === 1) { return [min,max]; }\n\n        var limits = [];\n\n        if (mode.substr(0,1) === 'c') { // continuous\n            limits.push(min);\n            limits.push(max);\n        }\n\n        if (mode.substr(0,1) === 'e') { // equal interval\n            limits.push(min);\n            for (var i=1; i<num; i++) {\n                limits.push(min+((i/num)*(max-min)));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'l') { // log scale\n            if (min <= 0) {\n                throw new Error('Logarithmic scales are only possible for values > 0');\n            }\n            var min_log = Math.LOG10E * log(min);\n            var max_log = Math.LOG10E * log(max);\n            limits.push(min);\n            for (var i$1=1; i$1<num; i$1++) {\n                limits.push(pow$1(10, min_log + ((i$1/num) * (max_log - min_log))));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'q') { // quantile scale\n            limits.push(min);\n            for (var i$2=1; i$2<num; i$2++) {\n                var p = ((values.length-1) * i$2)/num;\n                var pb = floor(p);\n                if (pb === p) {\n                    limits.push(values[pb]);\n                } else { // p > pb\n                    var pr = p - pb;\n                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));\n                }\n            }\n            limits.push(max);\n\n        }\n\n        else if (mode.substr(0,1) === 'k') { // k-means clustering\n            /*\n            implementation based on\n            http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n            simplified for 1-d input values\n            */\n            var cluster;\n            var n = values.length;\n            var assignments = new Array(n);\n            var clusterSizes = new Array(num);\n            var repeat = true;\n            var nb_iters = 0;\n            var centroids = null;\n\n            // get seed values\n            centroids = [];\n            centroids.push(min);\n            for (var i$3=1; i$3<num; i$3++) {\n                centroids.push(min + ((i$3/num) * (max-min)));\n            }\n            centroids.push(max);\n\n            while (repeat) {\n                // assignment step\n                for (var j=0; j<num; j++) {\n                    clusterSizes[j] = 0;\n                }\n                for (var i$4=0; i$4<n; i$4++) {\n                    var value = values[i$4];\n                    var mindist = Number.MAX_VALUE;\n                    var best = (void 0);\n                    for (var j$1=0; j$1<num; j$1++) {\n                        var dist = abs$1(centroids[j$1]-value);\n                        if (dist < mindist) {\n                            mindist = dist;\n                            best = j$1;\n                        }\n                        clusterSizes[best]++;\n                        assignments[i$4] = best;\n                    }\n                }\n\n                // update centroids step\n                var newCentroids = new Array(num);\n                for (var j$2=0; j$2<num; j$2++) {\n                    newCentroids[j$2] = null;\n                }\n                for (var i$5=0; i$5<n; i$5++) {\n                    cluster = assignments[i$5];\n                    if (newCentroids[cluster] === null) {\n                        newCentroids[cluster] = values[i$5];\n                    } else {\n                        newCentroids[cluster] += values[i$5];\n                    }\n                }\n                for (var j$3=0; j$3<num; j$3++) {\n                    newCentroids[j$3] *= 1/clusterSizes[j$3];\n                }\n\n                // check convergence\n                repeat = false;\n                for (var j$4=0; j$4<num; j$4++) {\n                    if (newCentroids[j$4] !== centroids[j$4]) {\n                        repeat = true;\n                        break;\n                    }\n                }\n\n                centroids = newCentroids;\n                nb_iters++;\n\n                if (nb_iters > 200) {\n                    repeat = false;\n                }\n            }\n\n            // finished k-means clustering\n            // the next part is borrowed from gabrielflor.it\n            var kClusters = {};\n            for (var j$5=0; j$5<num; j$5++) {\n                kClusters[j$5] = [];\n            }\n            for (var i$6=0; i$6<n; i$6++) {\n                cluster = assignments[i$6];\n                kClusters[cluster].push(values[i$6]);\n            }\n            var tmpKMeansBreaks = [];\n            for (var j$6=0; j$6<num; j$6++) {\n                tmpKMeansBreaks.push(kClusters[j$6][0]);\n                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);\n            }\n            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });\n            limits.push(tmpKMeansBreaks[0]);\n            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {\n                var v = tmpKMeansBreaks[i$7];\n                if (!isNaN(v) && (limits.indexOf(v) === -1)) {\n                    limits.push(v);\n                }\n            }\n        }\n        return limits;\n    };\n\n    var analyze_1 = {analyze: analyze, limits: limits};\n\n    var Color$3 = Color_1;\n\n\n    var contrast = function (a, b) {\n        // WCAG contrast ratio\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n        a = new Color$3(a);\n        b = new Color$3(b);\n        var l1 = a.luminance();\n        var l2 = b.luminance();\n        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n    };\n\n    var Color$2 = Color_1;\n    var sqrt = Math.sqrt;\n    var pow = Math.pow;\n    var min = Math.min;\n    var max = Math.max;\n    var atan2 = Math.atan2;\n    var abs = Math.abs;\n    var cos = Math.cos;\n    var sin = Math.sin;\n    var exp = Math.exp;\n    var PI = Math.PI;\n\n    var deltaE = function(a, b, Kl, Kc, Kh) {\n        if ( Kl === void 0 ) Kl=1;\n        if ( Kc === void 0 ) Kc=1;\n        if ( Kh === void 0 ) Kh=1;\n\n        // Delta E (CIE 2000)\n        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html\n        var rad2deg = function(rad) {\n            return 360 * rad / (2 * PI);\n        };\n        var deg2rad = function(deg) {\n            return (2 * PI * deg) / 360;\n        };\n        a = new Color$2(a);\n        b = new Color$2(b);\n        var ref = Array.from(a.lab());\n        var L1 = ref[0];\n        var a1 = ref[1];\n        var b1 = ref[2];\n        var ref$1 = Array.from(b.lab());\n        var L2 = ref$1[0];\n        var a2 = ref$1[1];\n        var b2 = ref$1[2];\n        var avgL = (L1 + L2)/2;\n        var C1 = sqrt(pow(a1, 2) + pow(b1, 2));\n        var C2 = sqrt(pow(a2, 2) + pow(b2, 2));\n        var avgC = (C1 + C2)/2;\n        var G = 0.5*(1-sqrt(pow(avgC, 7)/(pow(avgC, 7) + pow(25, 7))));\n        var a1p = a1*(1+G);\n        var a2p = a2*(1+G);\n        var C1p = sqrt(pow(a1p, 2) + pow(b1, 2));\n        var C2p = sqrt(pow(a2p, 2) + pow(b2, 2));\n        var avgCp = (C1p + C2p)/2;\n        var arctan1 = rad2deg(atan2(b1, a1p));\n        var arctan2 = rad2deg(atan2(b2, a2p));\n        var h1p = arctan1 >= 0 ? arctan1 : arctan1 + 360;\n        var h2p = arctan2 >= 0 ? arctan2 : arctan2 + 360;\n        var avgHp = abs(h1p - h2p) > 180 ? (h1p + h2p + 360)/2 : (h1p + h2p)/2;\n        var T = 1 - 0.17*cos(deg2rad(avgHp - 30)) + 0.24*cos(deg2rad(2*avgHp)) + 0.32*cos(deg2rad(3*avgHp + 6)) - 0.2*cos(deg2rad(4*avgHp - 63));\n        var deltaHp = h2p - h1p;\n        deltaHp = abs(deltaHp) <= 180 ? deltaHp : h2p <= h1p ? deltaHp + 360 : deltaHp - 360;\n        deltaHp = 2*sqrt(C1p*C2p)*sin(deg2rad(deltaHp)/2);\n        var deltaL = L2 - L1;\n        var deltaCp = C2p - C1p;    \n        var sl = 1 + (0.015*pow(avgL - 50, 2))/sqrt(20 + pow(avgL - 50, 2));\n        var sc = 1 + 0.045*avgCp;\n        var sh = 1 + 0.015*avgCp*T;\n        var deltaTheta = 30*exp(-pow((avgHp - 275)/25, 2));\n        var Rc = 2*sqrt(pow(avgCp, 7)/(pow(avgCp, 7) + pow(25, 7)));\n        var Rt = -Rc*sin(2*deg2rad(deltaTheta));\n        var result = sqrt(pow(deltaL/(Kl*sl), 2) + pow(deltaCp/(Kc*sc), 2) + pow(deltaHp/(Kh*sh), 2) + Rt*(deltaCp/(Kc*sc))*(deltaHp/(Kh*sh)));\n        return max(0, min(100, result));\n    };\n\n    var Color$1 = Color_1;\n\n    // simple Euclidean distance\n    var distance = function(a, b, mode) {\n        if ( mode === void 0 ) mode='lab';\n\n        // Delta E (CIE 1976)\n        // see http://www.brucelindbloom.com/index.html?Equations.html\n        a = new Color$1(a);\n        b = new Color$1(b);\n        var l1 = a.get(mode);\n        var l2 = b.get(mode);\n        var sum_sq = 0;\n        for (var i in l1) {\n            var d = (l1[i] || 0) - (l2[i] || 0);\n            sum_sq += d*d;\n        }\n        return Math.sqrt(sum_sq);\n    };\n\n    var Color = Color_1;\n\n    var valid = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        try {\n            new (Function.prototype.bind.apply( Color, [ null ].concat( args) ));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\n\n    // some pre-defined color scales:\n    var chroma$1 = chroma_1;\n\n    var scale = scale$2;\n\n    var scales = {\n    \tcool: function cool() { return scale([chroma$1.hsl(180,1,.9), chroma$1.hsl(250,.7,.4)]) },\n    \thot: function hot() { return scale(['#000','#f00','#ff0','#fff']).mode('rgb') }\n    };\n\n    /**\n        ColorBrewer colors for chroma.js\n\n        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The\n        Pennsylvania State University.\n\n        Licensed under the Apache License, Version 2.0 (the \"License\");\n        you may not use this file except in compliance with the License.\n        You may obtain a copy of the License at\n        http://www.apache.org/licenses/LICENSE-2.0\n\n        Unless required by applicable law or agreed to in writing, software distributed\n        under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n        CONDITIONS OF ANY KIND, either express or implied. See the License for the\n        specific language governing permissions and limitations under the License.\n    */\n\n    var colorbrewer = {\n        // sequential\n        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n\n        // diverging\n\n        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n\n        // qualitative\n\n        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],\n    };\n\n    // add lowercase aliases for case-insensitive matches\n    for (var i = 0, list = Object.keys(colorbrewer); i < list.length; i += 1) {\n        var key = list[i];\n\n        colorbrewer[key.toLowerCase()] = colorbrewer[key];\n    }\n\n    var colorbrewer_1 = colorbrewer;\n\n    var chroma = chroma_1;\n\n    // feel free to comment out anything to rollup\n    // a smaller chroma.js built\n\n    // io --> convert colors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    // operators --> modify existing Colors\n\n\n\n\n\n\n\n\n\n\n    // interpolators\n\n\n\n\n\n\n\n\n\n\n\n\n    // generators -- > create new colors\n    chroma.average = average;\n    chroma.bezier = bezier_1;\n    chroma.blend = blend_1;\n    chroma.cubehelix = cubehelix;\n    chroma.mix = chroma.interpolate = mix$1;\n    chroma.random = random_1;\n    chroma.scale = scale$2;\n\n    // other utility methods\n    chroma.analyze = analyze_1.analyze;\n    chroma.contrast = contrast;\n    chroma.deltaE = deltaE;\n    chroma.distance = distance;\n    chroma.limits = analyze_1.limits;\n    chroma.valid = valid;\n\n    // scale\n    chroma.scales = scales;\n\n    // colors\n    chroma.colors = w3cx11_1;\n    chroma.brewer = colorbrewer_1;\n\n    var chroma_js = chroma;\n\n    return chroma_js;\n\n}));\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default x => () => x;\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import continuous from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\n\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\n\nexport default function radial() {\n  var squared = continuous(),\n      range = [0, 1],\n      round = false,\n      unknown;\n\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n\n  scale.invert = function(y) {\n    return squared.invert(square(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return scale.range(_).round(true);\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return radial(squared.domain(), range)\n        .round(round)\n        .clamp(squared.clamp())\n        .unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n","import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare) {\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return minIndex(values);\n  if (p >= 1) return maxIndex(values);\n  var n,\n      i = Math.floor((n - 1) * p),\n      order = (i, j) => ascendingDefined(values[i], values[j]),\n      index = quickselect(Uint32Array.from(values, (_, i) => i), i, 0, n - 1, order);\n  return greatest(index.subarray(0, i + 1), i => values[i]);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport {sunday as week} from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport {utcSunday as utcWeek} from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, week, day, hour, minute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","/* eslint-disable promise/prefer-await-to-then */\n\nconst methodMap = [\n\t[\n\t\t'requestFullscreen',\n\t\t'exitFullscreen',\n\t\t'fullscreenElement',\n\t\t'fullscreenEnabled',\n\t\t'fullscreenchange',\n\t\t'fullscreenerror',\n\t],\n\t// New WebKit\n\t[\n\t\t'webkitRequestFullscreen',\n\t\t'webkitExitFullscreen',\n\t\t'webkitFullscreenElement',\n\t\t'webkitFullscreenEnabled',\n\t\t'webkitfullscreenchange',\n\t\t'webkitfullscreenerror',\n\n\t],\n\t// Old WebKit\n\t[\n\t\t'webkitRequestFullScreen',\n\t\t'webkitCancelFullScreen',\n\t\t'webkitCurrentFullScreenElement',\n\t\t'webkitCancelFullScreen',\n\t\t'webkitfullscreenchange',\n\t\t'webkitfullscreenerror',\n\n\t],\n\t[\n\t\t'mozRequestFullScreen',\n\t\t'mozCancelFullScreen',\n\t\t'mozFullScreenElement',\n\t\t'mozFullScreenEnabled',\n\t\t'mozfullscreenchange',\n\t\t'mozfullscreenerror',\n\t],\n\t[\n\t\t'msRequestFullscreen',\n\t\t'msExitFullscreen',\n\t\t'msFullscreenElement',\n\t\t'msFullscreenEnabled',\n\t\t'MSFullscreenChange',\n\t\t'MSFullscreenError',\n\t],\n];\n\nconst nativeAPI = (() => {\n\tif (typeof document === 'undefined') {\n\t\treturn false;\n\t}\n\n\tconst unprefixedMethods = methodMap[0];\n\tconst returnValue = {};\n\n\tfor (const methodList of methodMap) {\n\t\tconst exitFullscreenMethod = methodList?.[1];\n\t\tif (exitFullscreenMethod in document) {\n\t\t\tfor (const [index, method] of methodList.entries()) {\n\t\t\t\treturnValue[unprefixedMethods[index]] = method;\n\t\t\t}\n\n\t\t\treturn returnValue;\n\t\t}\n\t}\n\n\treturn false;\n})();\n\nconst eventNameMap = {\n\tchange: nativeAPI.fullscreenchange,\n\terror: nativeAPI.fullscreenerror,\n};\n\n// eslint-disable-next-line import/no-mutable-exports\nlet screenfull = {\n\t// eslint-disable-next-line default-param-last\n\trequest(element = document.documentElement, options) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst onFullScreenEntered = () => {\n\t\t\t\tscreenfull.off('change', onFullScreenEntered);\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\tscreenfull.on('change', onFullScreenEntered);\n\n\t\t\tconst returnPromise = element[nativeAPI.requestFullscreen](options);\n\n\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\treturnPromise.then(onFullScreenEntered).catch(reject);\n\t\t\t}\n\t\t});\n\t},\n\texit() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!screenfull.isFullscreen) {\n\t\t\t\tresolve();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst onFullScreenExit = () => {\n\t\t\t\tscreenfull.off('change', onFullScreenExit);\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\tscreenfull.on('change', onFullScreenExit);\n\n\t\t\tconst returnPromise = document[nativeAPI.exitFullscreen]();\n\n\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\treturnPromise.then(onFullScreenExit).catch(reject);\n\t\t\t}\n\t\t});\n\t},\n\ttoggle(element, options) {\n\t\treturn screenfull.isFullscreen ? screenfull.exit() : screenfull.request(element, options);\n\t},\n\tonchange(callback) {\n\t\tscreenfull.on('change', callback);\n\t},\n\tonerror(callback) {\n\t\tscreenfull.on('error', callback);\n\t},\n\ton(event, callback) {\n\t\tconst eventName = eventNameMap[event];\n\t\tif (eventName) {\n\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t}\n\t},\n\toff(event, callback) {\n\t\tconst eventName = eventNameMap[event];\n\t\tif (eventName) {\n\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t}\n\t},\n\traw: nativeAPI,\n};\n\nObject.defineProperties(screenfull, {\n\tisFullscreen: {\n\t\tget: () => Boolean(document[nativeAPI.fullscreenElement]),\n\t},\n\telement: {\n\t\tenumerable: true,\n\t\tget: () => document[nativeAPI.fullscreenElement] ?? undefined,\n\t},\n\tisEnabled: {\n\t\tenumerable: true,\n\t\t// Coerce to boolean in case of old WebKit.\n\t\tget: () => Boolean(document[nativeAPI.fullscreenEnabled]),\n\t},\n});\n\nif (!nativeAPI) {\n\tscreenfull = {isEnabled: false};\n}\n\nexport default screenfull;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(112);\n"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","id","array","values","l2","length","l1","i","extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__esModule","utils_1","edge_1","UNSIGNED_BYTE","WebGLRenderingContext","FLOAT","UNIFORMS","EdgeCurveProgram","_super","apply","arguments","getDefinition","VERTICES","ARRAY_ITEMS_PER_VERTEX","VERTEX_SHADER_SOURCE","FRAGMENT_SHADER_SOURCE","ATTRIBUTES","name","size","type","normalized","reallocateIndices","l","verticesCount","indices","IndicesArray","c","indicesArray","processVisibleItem","sourceData","targetData","data","thickness","x1","x","y1","y","x2","y2","color","floatColor","curveness","draw","params","gl","_a","uniformLocations","u_matrix","u_sizeRatio","u_dimensions","u_pixelRatio","uniformMatrix3fv","matrix","uniform1f","pixelRatio","sizeRatio","uniform2f","width","height","Error","drawElements","TRIANGLES","indicesType","EdgeProgram","__importDefault","mod","node_1","node_circle_1","NodeHaloProgram","haloColor","intensity","haloIntensity","Math","max","haloSize","ANGLE_1","ANGLE_2","ANGLE_3","u_correctionRatio","u_ignoreZoom","correctionRatio","drawArrays","NodeProgram","DEFAULT_CREATE_NODE_PICTOGRAM_OPTIONS","correctCentering","forcedSvgSize","undefined","keepWithinCircle","MAX_TEXTURE_SIZE","Infinity","PictogramCenteringCorrector","canvas","document","createElement","context","getContext","getCorrectionOffset","image","clearRect","drawImage","getImageData","alpha","Uint8ClampedArray","sumX","sumY","total","a","options","textureImage","assign","corrector","rebindTextureFns","images","hasReceivedImages","pendingImagesFrameID","writePositionX","writePositionY","writeRowHeight","finalizePendingImages","pendingImages","state","status","min","ctx","willReadFrequently","totalWidth","totalHeight","xOffset","yOffset","drawRow","putImageData","forEach","imageSizeInTexture","dx","dy","dxOffset","dyOffset","correction","rowImages","fn","NodePictogramProgram","renderer","_this","rebindTexture","scheduleRefresh","texture","createTexture","ImageData","bindTexture","TEXTURE_2D","texImage2D","RGBA","Uint8Array","generateMipmap","latestRenderParams","render","imageSource","pictogram","imageState","fetch","then","r","text","svgString","svg","DOMParser","parseFromString","root","documentElement","originalWidth","getAttribute","originalHeight","setAttribute","correctedSvgString","XMLSerializer","serializeToString","blob","Blob","url","URL","createObjectURL","svgImage","Image","src","addEventListener","requestAnimationFrame","revokeObjectURL","once","loadImage","pictogramColor","u_atlas","u_keepWithinCircle","uniform1i","POINTS","__assign","t","s","n","node_point_1","NodePointWithBorderProgram","borderRatio","borderSize","borderColor","factory","window","__webpack_modules__","__unused_webpack_module","defineProperty","value","clearChoices","activateChoices","filterChoices","addChoice","constants_1","label","groupId","disabled","elementId","customProperties","placeholder","keyCode","ACTION_TYPES","ADD_CHOICE","results","FILTER_CHOICES","active","ACTIVATE_CHOICES","CLEAR_CHOICES","addGroup","ADD_GROUP","highlightItem","removeItem","addItem","choiceId","ADD_ITEM","REMOVE_ITEM","highlighted","HIGHLIGHT_ITEM","setIsLoading","resetTo","clearAll","CLEAR_ALL","RESET_TO","isLoading","SET_IS_LOADING","__spreadArray","to","from","pack","ar","slice","concat","deepmerge_1","fuse_js_1","choices_1","groups_1","items_1","misc_1","components_1","defaults_1","reducers_1","store_1","templates_1","IS_IE11","style","USER_DEFAULTS","Choices","element","userConfig","allowHTML","console","warn","config","default","all","DEFAULT_CONFIG","defaults","arrayMerge","_","sourceArray","invalidConfigOptions","diff","join","passedElement","querySelector","HTMLInputElement","HTMLSelectElement","_isTextElement","TEXT_TYPE","_isSelectOneElement","SELECT_ONE_TYPE","_isSelectMultipleElement","SELECT_MULTIPLE_TYPE","_isSelectElement","searchEnabled","includes","renderSelectedChoices","addItemFilter","re","RegExp","test","bind","WrappedInput","classNames","delimiter","WrappedSelect","template","_templates","option","initialised","_store","_initialState","defaultState","_currentState","_prevState","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","generateId","_direction","dir","elementDirection","getComputedStyle","direction","_idNames","itemChoice","_presetGroups","optionGroups","_presetOptions","_presetChoices","choices","_presetItems","items","splitValues","split","innerHTML","selected","parentNode","hasAttribute","dataset","_render","_onFocus","_onBlur","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onSelectKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","isActive","silent","init","get","preventExtensions","templates","enumerable","configurable","_createTemplates","_createElements","_createStructure","subscribe","_addEventListeners","addItems","disable","callbackOnInit","destroy","_removeEventListeners","reveal","containerOuter","unwrap","clearStore","enable","isDisabled","input","item","runEvent","_b","_c","group","getGroupById","dispatch","triggerEvent","EVENTS","groupValue","unhighlightItem","highlightAll","unhighlightAll","removeActiveItemsByValue","activeItems","filter","_removeItem","removeActiveItems","excludedId","removeHighlightedItems","highlightedActiveItems","_triggerChange","showDropdown","preventInputFocus","dropdown","show","open","distanceFromTopWindow","focus","hideDropdown","preventInputBlur","hide","close","removeActiveDescendant","blur","getValue","valueOnly","reduce","selectedItems","itemValue","setValue","_setChoiceOrItem","setChoiceByValue","isArray","val","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","ReferenceError","fetcher_1","Promise","resolve","_handleLoadingState","catch","err","error","removeLoadingState","_startLoading","groupOrChoice","_addGroup","parseInt","valueKey","labelKey","choice","_addChoice","isSelected","_stopLoading","clearInput","shouldSetInputWidth","clear","_isSearching","stateChanged","groups","shouldRenderChoices","shouldRenderItems","_renderChoices","_renderItems","activeGroups","activeChoices","choiceListFragment","createDocumentFragment","choiceList","resetScrollPosition","scrollToTop","activePlaceholders","activeChoice","_createChoicesFragment","_createGroupsFragment","childNodes","canAddItem","_canAddItem","response","append","_highlightChoice","notice","_getTemplate","dropdownItem","noResultsText","noChoicesText","itemList","itemListFragment","_createItemsFragment","fragment","shouldSort","sort","sorter","groupChoices","getGroupChoices","dropdownGroup","appendChild","withinGroup","searchResultLimit","renderChoiceLimit","sortByScore","appendChoice","itemSelectText","rendererableChoices","acc","placeholderChoices","normalChoices","choiceLimit","sortedChoices","shouldSortItems","removeItemButton","map","listItem","change","_selectPlaceholderChoice","placeholderChoice","_addItem","_handleButtonAction","removeItems","itemId","itemToRemove","find","_handleItemAction","hasShiftKey","passedId","_handleChoiceAction","getChoiceById","passedKeyCode","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","some","editItems","setWidth","setLoading","placeholderItem","getChild","addLoadingState","loadingText","_handleSearch","isFocussed","searchFloor","searchChoices","hasUnactiveChoices","resultCount","_searchChoices","search","addItemText","isDuplicateValue","existsInArray","maxItemCount","maxItemText","duplicateItemsAllowed","uniqueItemText","customAddItemText","newValue","trim","currentValue","haystack","searchableChoices","needle","fuseOptions","keys","searchFields","includeMatches","passive","form","addEventListeners","removeEventListener","removeEventListeners","event","hasFocusedInput","hasItems","hasChildren","keyString","fromCharCode","wasAlphaNumericChar","BACK_KEY","KEY_CODES","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","toLowerCase","target","backKey","deleteKey","outerHTML","userHasRemovedValue","canReactivateChoices","canSearch","rawValue","ctrlKey","metaKey","activeElement","enterKey","targetWasButton","preventDefault","highlightedChoice","highlightedState","downKey","pageUpKey","pageDownKey","directionInt","selectableChoiceIdentifier","nextEl","currentEl","getAdjacentEl","isScrolledIntoView","scrollToChildElement","touches","contains","containerInner","stopPropagation","HTMLElement","firstChoice","firstElementChild","isOnScrollbar","offsetX","offsetWidth","offsetLeft","closest","shiftKey","removeFocusState","addFocusState","hasHighlightedItems_1","el","querySelectorAll","passedEl","classList","remove","indexOf","add","highlightChoice","setActiveDescendant","_d","_e","_f","_g","passedValue","passedLabel","passedOptionId","prependValue","toString","appendValue","_h","choiceLabel","choiceElementId","isType","getElementsByTagName","floor","Date","valueOf","random","isOptDisabled","args","_i","callbackOnCreateTemplates","userTemplates","strToEl","Container","labelId","position","Input","preventPaste","paste","List","Dropdown","conceal","wrap","searchPlaceholderValue","insertBefore","firstChild","_addPredefinedGroups","_addPredefinedChoices","_addPredefinedItems","placeholderOption","tagName","hasSelectedChoice","firstEnabledChoiceIndex","findIndex","index","object","string","getType","foundChoice","valueComparer","placeholderValue","isOpen","isFlipped","shouldFlip","dropdownPos","matchMedia","matches","activeDescendantID","removeAttribute","openState","flippedState","focusState","disabledState","removeChild","loadingState","getBoundingClientRect","bottom","selector","activeState","dropdown_1","container_1","input_1","list_1","wrapped_input_1","wrapped_select_1","isEqualNode","_onPaste","_onInput","set","sanitise","minWidth","scrollPos","scrollTop","offsetHeight","node","hasChildNodes","listHeight","listScrollPosition","elementHeight","elementPos","offsetTop","destination","_animateScroll","_scrollDown","strength","easing","distance","_scrollUp","SCROLLING_SPEED","choiceListScrollTop","continueAnimation","WrappedElement","hidden","tabIndex","origStyle","eventType","dispatchEvent","optionData","appendDocFragment","DEFAULT_CLASSNAMES","inputCloned","list","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","groupHeading","button","selectedState","noResults","noChoices","sortByAlpha","value1","value2","includeScore","__createBinding","o","m","k","k2","__exportStar","tmpEl","cloneObject","generateChars","getRandomNumber","prefix","replace","obj","wrapper","nextSibling","startEl","prop","sibling","parent","str","cleanedInput","firldChild","children","label2","localeCompare","sensitivity","ignorePunctuation","numeric","score","scoreA","customArgs","CustomEvent","detail","bubbles","cancelable","key","JSON","parse","stringify","aKeys","bKeys","action","addChoiceAction","addItemAction_1","removeItemAction_1","filterChoicesAction_1","activateChoicesAction_1","addGroupAction","redux_1","loading_1","loading","appReducer","combineReducers","passedState","addItemAction","highlightItemAction_1","index_1","Store","createStore","__REDUX_DEVTOOLS_EXTENSION__","onChange","getState","selectableChoices","reverse","hasActiveOptions","isSelectElement","isSelectOneElement","passedElementType","div","className","isPlaceholder","deletable","REMOVE_ITEM_TEXT","removeButton","choiceGroup","selectText","choiceDisabled","choiceSelectable","inp","autocomplete","autocapitalize","spellcheck","innerText","classes","opt","Option","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","defaultArrayMerge","source","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","property","sourceIsArray","propertyIsUnsafe","customMerge","getMergeFunction","mergeObject","prev","next","__webpack_exports__","getTag","isString","isNumber","isObject","isDefined","isBlank","Fuse","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","keyId","toJSON","path","createKeyPath","createKeyId","INVALID_KEY_WEIGHT_VALUE","Config","isCaseSensitive","sortFn","idx","findAllMatches","minMatchCharLength","location","threshold","useExtendedSearch","getFn","arr","deepGet","isObjectLike","isBoolean","result","baseToString","len","ignoreLocation","ignoreFieldNorm","fieldNormWeight","SPACE","FuseIndex","norm","mantissa","cache","Map","pow","numTokens","match","has","parseFloat","round","isCreated","setIndexRecords","setSources","docs","records","setKeys","_keysMap","doc","docIndex","_addString","_addObject","removeAt","splice","getValueForItemAtKeyId","record","v","$","keyIndex","subRecords","stack","nestedArrIndex","pop","subRecord","createIndex","myIndex","computeScore$1","pattern","errors","currentLocation","expectedLocation","accuracy","proximity","abs","MAX_BITS","createPatternAlphabet","mask","char","charAt","BitapSearch","chunks","addChunk","startIndex","alphabet","remainder","end","substr","searchIn","isMatch","allIndices","totalScore","hasMatches","patternAlphabet","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","binMin","binMid","start","finish","bitArr","j","charMatch","matchmask","convertMaskToIndices","BaseMatch","static","getMatch","multiRegex","singleRegex","exp","FuzzyMatch","super","_bitapSearch","IncludeMatch","searchers","startsWith","endsWith","searchersLen","SPACE_RE","MultiMatchSet","Set","registeredSearchers","createSearcher","searcherClass","condition","LogicalOperator","isExpression","query","convertToExplicit","auto","isQueryPath","isPath","isLeaf","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","searcher","operator","transformMatches","refIndex","transformScore","_keyStore","setCollection","_docs","_myIndex","predicate","getIndex","limit","_searchStringList","_searchObjectList","_searchLogical","Number","EPSILON","computeScore","transformers","transformer","format","expression","evaluate","_findMatches","res","child","resultMap","expResults","version","parseIndex","parseQuery","register","queryItem","found","token","isMultiMatch","isSingleMatch","numMatches","qLen","pLen","_defineProperty","writable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","formatProdErrorMessage","code","ActionTypes","applyMiddleware","bindActionCreators","compose","$$observable","observable","randomString","substring","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","unsubscribe","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","e","hasChanged","nextState","_key","previousStateForKey","nextStateForKey","bindActionCreator","actionCreator","actionCreators","boundActionCreators","_len","funcs","arg","middlewares","store","_dispatch","middlewareAPI","chain","middleware","__webpack_module_cache__","moduleId","cachedModule","getter","definition","toStringTag","_scripts_choices__WEBPACK_IMPORTED_MODULE_0__","_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default","commaNumber","inputNumber","optionalSeparator","optionalDecimalChar","decimalChar","stringNumber","number","isInteger","isNaN","isFinite","decimalIndex","lastIndexOf","decimal","parts","separator","strings","bindWith","useSourceMap","content","sourceMap","base64","cssMapping","btoa","sourceMapping","unescape","encodeURIComponent","sourceURLs","sources","sourceRoot","cssWithMappingToString","modules","mediaQuery","dedupe","alreadyImportedModules","debounce","func","wait","immediate","timeout","timestamp","later","last","now","setTimeout","debounced","callNow","clearTimeout","flush","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","Function","getOwnPropertyNames","NumberIsNaN","EventEmitter","emitter","reject","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","newListener","emit","unshift","warned","w","count","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","evlistener","ret","unwrapListeners","arrayClone","listenerCount","copy","wrapListener","RangeError","setMaxListeners","getMaxListeners","doError","er","message","addListener","prependListener","prependOnceListener","originalListener","shift","spliceOne","off","removeAllListeners","rawListeners","eventNames","XMLHttpRequest","responseType","onload","onerror","send","MouseEvent","createEvent","initMouseEvent","self","g","global","navigator","userAgent","saveAs","HTMLAnchorElement","webkitURL","download","rel","href","origin","msSaveOrOpenBlob","autoBom","title","body","safari","FileReader","onloadend","readAsDataURL","resolveDefaults","isGraph","inferType","SparseMap","SparseQueueSet","createRandomIndex","UndirectedLouvainIndex","DirectedLouvainIndex","DEFAULTS","nodeCommunityAttribute","getEdgeWeight","fastLocalMoves","randomWalk","resolution","rng","addWeightToCommunity","community","currentWeight","tieBreaker","bestCommunity","currentCommunity","targetCommunity","delta","bestDelta","undirectedLouvain","detailed","graph","queue","ci","ri","degree","targetCommunityDegree","localMoves","currentMoves","keepDendrogram","randomIndex","moveWasMade","localMoveWasMade","communities","Float64Array","C","deltaComputations","nodesVisited","moves","enqueue","dequeue","belongings","starts","neighborhood","weights","fastDeltaWithOwnCommunity","dense","vals","fastDelta","isolate","move","zoomOut","directedLouvain","offset","out","inDegree","outDegree","offsets","deltaWithOwnCommunity","louvain","forEachNode","setNodeAttribute","order","dendrogram","level","modularity","NaN","collect","output","write","createParserFunction","Document","cast","SANITIZE_PATTERN","sanitizeTagName","isGraphConstructor","mergeEdge","toMixed","toMulti","getFirstMatchingVizTag","vizElement","getElementsByTagNameNS","extractModel","elements","defaultElement","model","textContent","collectAttributes","valueElement","valueElements","z","toRGBString","shape","Graph","mergeResult","attributes","addMissingNodes","xmlDoc","GRAPH_ELEMENT","META_ELEMENT","META_ELEMENTS","NODE_ELEMENTS","EDGE_ELEMENTS","MODEL_ELEMENTS","NODE_MODEL_ELEMENTS","EDGE_MODEL_ELEMENTS","DEFAULT_EDGE_TYPE","NODE_MODEL","NODE_DEFAULT_ATTRIBUTES","EDGE_MODEL","EDGE_DEFAULT_ATTRIBUTES","meta","nodeName","collectMeta","lastModifiedDate","replaceAttributes","addNode","multi","hasDirectedEdge","hasUndirectedEdge","XMLWriter","VIZ_RESERVED_NAMES","RGBA_TEST","RGBA_MATCH","CSSColorToRGBA","DEFAULT_ELEMENT_FORMATTER","viz","isEmptyValue","inferModel","writeModel","writer","modelClass","startElement","writeAttribute","endElement","writeElements","edgeType","emptyModel","undirected","defaultEdgeType","startElementNS","encoding","pretty","formatNode","formatEdge","indent","startDocument","metaTagName","graphAttribute","graphAttributes","getAttributes","writeElement","nodes","attr","collectNodeData","edges","forEachEdge","edge","_sa","_ta","collectEdgeData","nodeModel","edgeModel","typed","createEdgeWeightGetter","INSPECT","fromEntry","selfLoopCount","NeighborhoodPointerArray","getPointerArray","NodesPointerArray","WeightsArray","M","E","U","loops","mapping","counts","unused","totalWeights","ids","undirectedDegreeWithoutSelfLoops","sa","ta","u","startSource","startTarget","totalInWeights","totalOutWeights","outDegreeWithoutSelfLoops","inDegreeWithoutSelfLoops","newCommunity","nowEmpty","computeNodeDegree","expensiveIsolate","expensiveMove","cj","adj","currentLevel","nextLevel","inducedGraph","newLabels","N","internalWeights","Q","M2","targetCommunityTotalWeight","bounds","project","projection","proxy","inBounds","outBounds","projectIn","projectOut","computeNodeInDegree","computeNodeOutDegree","inAdj","outAdj","targetCommunityTotalInWeight","targetCommunityTotalOutWeight","linLogMode","outboundAttractionDistribution","adjustSizes","edgeWeightInfluence","scalingRatio","strongGravityMode","gravity","slowDown","barnesHutOptimize","barnesHutTheta","objects","validateSettings","settings","graphToByteArrays","NodeMatrix","Float32Array","EdgeMatrix","fixed","sj","tj","assignLayoutChanges","outputReducer","updateEachNodeAttributes","readGraphPositions","collectLayoutChanges","positions","newAttr","getNodeAttributes","createWorker","xURL","objectUrl","worker","Worker","iterate","helpers","DEFAULT_SETTINGS","abstractSynchronousLayout","iterations","validationError","matrices","synchronousLayout","inferSettings","log","PPN","n1","n2","rn","outboundAttCompensation","coefficient","xDist","yDist","ewc","factor","force","swinging","traction","nodespeed","newX","newY","thetaSquared","RegionMatrix","q","q2","subdivisionAttempts","minX","maxX","minY","maxY","PPR","sqrt","NODES","EDGES","moduleShim","postMessage","buffer","workerFunction","FA2LayoutSupervisor","running","killed","handleMessage","respawnFrame","handleGraphUpdate","terminate","spawnWorker","isRunning","askForIterations","withEdges","payload","buffers","stop","kill","gridSize","margin","expansion","ratio","speed","graphToByteArray","pos","mergeNodeAttributes","jitter","converged","deltaX","deltaY","xMin","yMin","xMax","yMax","xCenter","yCenter","nxMin","nxMax","nyMin","nyMax","xMinBox","xMaxBox","yMinBox","yMaxBox","col","row","cell","grid","gridLength","s1","s2","h","dist","collisions","NoverlapLayoutSupervisor","inputReducer","callbacks","onConverged","alreadyRespawning","handleAddition","isValidNumber","DEFAULT_DIMENSIONS","collectLayout","dimensions","exhaustive","layout","validCoordinates","assignLayout","collectLayoutAsFlatArray","ArrayClass","assignLayoutAsFlatArray","escape","font","defaultColor","DEFAULT_NODE_REDUCER","reduced","labelType","DEFAULT_EDGE_REDUCER","ESCAPE_PATTERN","ESCAPE_MAP","escapeReplacer","reduceNodes","xBarycenter","yBarycenter","dMax","components","circle","line","nodeLabels","nodeData","edgesStrings","nodesStrings","nodeLabelsStrings","mergeUndirectedEdge","mergeUndirectedEdgeWithKey","mergeDirectedEdge","mergeDirectedEdgeWithKey","def","coerceWeight","nameOrFunction","defaultValue","coerceToDefault","returnDefault","fromAttributes","fromGraph","getEdgeAttributes","fromPartialEntry","fromMinimalEntry","extremities","isUndirected","createEdgeValueGetter","declaredType","directedSize","undirectedSize","addUndirectedEdgeWithKey","dropNode","getMatchingEdge","_nodes","_typeof","isEmpty","privateProperty","readOnlyProperty","descriptor","validateHints","hints","eventsModule","Iterator","iterator","Iterator$2","of","done","empty","fromSequence","sequence","is","support","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","require$$0","require$$1","iter","isView","take","iterable","step","GraphError","_Error","_inheritsLoose","_wrapNativeSuper","InvalidArgumentsGraphError","_GraphError","_this2","captureStackTrace","NotFoundGraphError","_GraphError2","_this3","UsageGraphError","_GraphError3","_this4","MixedNodeData","DirectedNodeData","UndirectedNodeData","EdgeData","findRelevantNodeData","method","mode","nodeOrEdge","nameOrEdge","add1","add2","edgeData","arg1","arg2","_edges","undirectedDegree","undirectedLoops","directedLoops","attach","outKey","inKey","attachMulti","head","previous","detach","detachMulti","NODE_ATTRIBUTES_METHODS","attacher","Class","_findRelevantNodeData","_findRelevantNodeData3","_findRelevantNodeData4","_findRelevantNodeData5","updater","_findRelevantNodeData6","_findRelevantNodeData7","_findRelevantNodeData8","_findRelevantNodeData9","EDGE_ATTRIBUTES_METHODS","iterables","current","EDGES_ITERATION","forEachSimple","breakable","callback","avoid","shouldBreak","forEachMulti","createIterator","sourceAttributes","targetAttributes","forEachForKeySimple","forEachForKeyMulti","createIteratorForKey","createEdgeArray","shouldFilter","_data","createEdgeIterator","forEachEdgeForNode","createEdgeArrayForNode","createEdgeIteratorForNode","forEachEdgeForPath","createEdgeArrayForPath","createEdgeIteratorForPath","NEIGHBORS_ITERATION","CompositeSetWrapper","A","B","forEachInObjectOnce","visited","neighborData","forEachNeighbor","createDedupedObjectIterator","neighbor","forEachAdjacency","assymetric","disconnectedNodes","hasEdges","validateSerializedNode","validateSerializedEdge","INSTANCE_ID","TYPES","EMITTER_PROPS","allowSelfLoops","unsafeAddNode","NodeDataClass","addEdge","mustGenerateKey","eventData","_edgeKeyGenerator","isSelfLoop","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","asUpdater","alreadyExistingEdgeData","info","oldAttributes","sourceWasAdded","targetWasAdded","dropEdgeFromData","_EventEmitter","_assertThisInitialized","instancePrefix","edgeId","availableEdgeKey","_options","_proto","_resetInstanceCounters","hasNode","hasEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inboundDegree","outboundDegree","directedDegreeWithoutSelfLoops","inboundDegreeWithoutSelfLoops","outboundDegreeWithoutSelfLoops","degreeWithoutSelfLoops","opposite","hasExtremity","isDirected","mergeNode","updateNode","dropEdge","dropDirectedEdge","dropUndirectedEdge","clearEdges","_attributes","updateAttribute","mergeAttributes","updateAttributes","updateEachEdgeAttributes","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","findNode","mapNodes","someNode","everyNode","filterNodes","initialValue","accumulator","nodeEntries","serialized","import","merge","addDirectedEdgeWithKey","_node","undirectedByDefault","_edge","_edge$undirected","addUndirectedEdge","addDirectedEdge","nullCopy","emptyCopy","export","inspect","multiIndex","tmp","desc","dummy","verb","generateKey","description","forEachName","toUpperCase","mapName","ea","filterName","reduceName","findEdgeName","someName","everyName","originalName","neighbors","attachNeighborArrayCreator","capitalizedSingular","findName","iteratorName","attachNeighborIteratorCreator","DirectedGraph","_Graph","finalOptions","UndirectedGraph","_Graph2","MultiGraph","_Graph3","MultiDirectedGraph","_Graph4","MultiUndirectedGraph","_Graph5","attachStaticFromMethod","instance","CONFUSION_LINES","protanope","yint","deuteranope","tritanope","CachedDistances","simulate","lab","amount","confuseX","confuseY","confuseM","confuseYint","labToRgb","sr","sg","sb","dr","dg","db","powR","powG","powB","X","Y","Z","chromaX","chromaY","deviateX","deviateY","diffX","diffZ","diffR","diffG","diffB","fitR","fitG","fitB","adjust","dcolor","rgbToLab","euclidean","lab1","lab2","cmc","L1","L2","a1","a2","b1","b2","C1","deltaC","deltaL","deltaa","deltab","deltaH","H1","atan2","PI","F","T","cos","S_L","S_C","S_H","colorblind","compromise","LAB_CONSTANTS","xyzToRgb","rgbToXyzHelper","xyzToLab","labToXyz","hexPad","RAD_TO_DEG","validateRgb","rgb","labToRgbHex","xyz","rgbToXyz","labToHcl","diffSort","colors","maxDistance","candidateIndex","diffColors","computeQualityMetrics","S","mean","Random","presets","attempts","colorFilter","colorSpace","clustering","quality","ultraPrecision","seed","VALID_CLUSTERINGS","VALID_DISTANCES","VALID_PRESETS","sampleLabColors","validColor","forceVector","dl","da","candidateLab","displacement","vectors","steps","kMeans","colorSamples","samplesClosest","linc","ainc","binc","minDistance","freeColorSamples","candidate","li","lj","userSettings","sum","charCodeAt","stringSum","preset","hmin","hmax","cmin","cmax","lmin","lmax","hcl","resolveAndValidateSettings","nextFloat","metrics","best","bestMetric","comparators","Heap","DEFAULT_COMPARATOR","reverseComparator","siftUp","compare","heap","rightIndex","endIndex","childIndex","siftDown","consume","FixedReverseHeap","comparator","capacity","peek","toArray","parentIndex","popped","pushpop","heapify","MaxHeap","isArrayLike","nsmallest","reverseCompare","guessLength","nlargest","MinHeap","MULTISET_ITEM_COMPARATOR","MultiSet","dimension","currentCount","delete","newCount","edit","am","multiplicity","bm","frequency","top","entries","scope","forEachMultiplicity","inContainer","multiplicities","isSubset","mA","isSuperset","Values","ByteArray","sparse","member","DEFAULT_REVERSE_COMPARATOR","createTupleComparator","isTypedArray","toArrayWithIndices","IndexArray","MAX_8BIT_INTEGER","MAX_16BIT_INTEGER","MAX_32BIT_INTEGER","MAX_SIGNED_8BIT_INTEGER","MAX_SIGNED_16BIT_INTEGER","MAX_SIGNED_32BIT_INTEGER","maxIndex","Uint16Array","Uint32Array","getSignedPointerArray","Int8Array","Int16Array","Int32Array","getNumberType","sign","TYPE_PRIORITY","getMinimalRepresentation","maxType","maxPriority","createRandom","createShuffleInPlace","customRandom","lastIndex","shuffleInPlace","alea","xor128","xorwow","xorshift7","xor4096","tychei","define","Alea","me","mash","s0","f","impl","opts","xg","prng","int32","double","quick","XorGen","strseed","pool","math","nodecrypto","startdenom","significance","overflow","seedrandom","shortseed","mixkey","flatten","entropy","tostring","randomBytes","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","ARC4","pass","is_math_call","keylen","depth","typ","smear","stringseed","ex","animate_1","easings_1","types_1","DEFAULT_ZOOMING_RATIO","Camera","angle","minRatio","maxRatio","nextFrame","previousState","enabled","setState","hasState","getPreviousState","getBoundedRatio","validateState","validatedState","isAnimated","validState","updateState","animate","ANIMATE_DEFAULTS","initialState","duration","animationCallback","newState","requestFrame","cancelFrame","animatedZoom","factorOrOptions","animatedUnzoom","animatedReset","TypedEventEmitter","getWheelDelta","getTouchCoords","getTouchesArray","getWheelCoords","getMouseCoords","getPosition","dom","bbox","clientX","left","clientY","sigmaDefaultPrevented","preventSigmaDefault","original","touch","Captor","container","__setModuleDefault","__importStar","captor_1","MouseCaptor","draggedEvents","downStartTime","lastMouseX","lastMouseY","isMouseDown","isMoving","movingTimeout","startCameraState","clicks","doubleClickTimeout","currentWheelDirection","handleClick","handleRightClick","handleDown","handleUp","handleMove","handleWheel","handleOut","handleDoubleClick","mouseCoords","camera","getCamera","newRatio","getViewportZoomedState","cameraState","previousCameraState","refresh","eX","eY","lastMouse","viewportToFramedGraph","mouse","offsetY","wheelCoords","ratioDiff","wheelDirection","lastWheelTriggerTime","MOUSE_ZOOM_DURATION","__read","TouchCaptor","hasMoved","touchMode","startTouchesPositions","handleStart","handleLeave","getDimensions","dispatchRelatedMouseEvent","mousePosition","mouseEvent","altKey","isFakeSigmaMouseEvent","lastTouches","lastTouchesPositions","x0","y0","startTouchesAngle","startTouchesDistance","touchesPositions","startPosition","xStart","yStart","newCameraState","angleDiff","hypot","touchGraphPosition","smallestDimension","sin","edgeLabelsToDisplayFromNodes","LabelGrid","LabelCandidate","first","second","cellSize","columns","rows","cells","resizeAndClear","ceil","xIndex","organize","getLabelsToDisplay","density","cellArea","scaledDensity","labelsToDisplayPerCell","labels","hoveredNode","highlightedNodes","displayedNodeLabels","worthyEdges","rectangleCollidesWithQuad","squareCollidesWithQuad","getCircumscribedAlignedRectangle","isRectangleAligned","extend_1","hasWarnedTooMuchOutside","rect","heightVector","tl","tr","bl","br","xL","xR","yT","qx","qy","qw","qh","pointIsInQuad","QuadTree","containers","OUTSIDE_BLOCK","lastRectangle","L","boundaries","resize","maxLevel","block","topLeftBlock","topRightBlock","bottomLeftBlock","bottomRightBlock","collidingWithTopLeft","collidingWithTopRight","collidingWithBottomLeft","collidingWithBottomRight","insertNode","hw","hh","buildQuadrants","point","rectangle","lr","collectedNodes","getNodesInAxisAlignedRectangleArea","Sigma","sigma_1","camera_1","quadtree_1","mouse_1","edgeLabelSize","edgeLabelFont","edgeLabelWeight","edgeLabelColor","attribute","fillStyle","cx","cy","sSize","tSize","sx","sy","tx","ty","textLength","measureText","acos","asin","save","translate","rotate","fillText","restore","label_1","labelSize","labelFont","labelWeight","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","textWidth","boxWidth","boxHeight","radius","angleRadian","xDeltaCoord","beginPath","moveTo","lineTo","arc","closePath","fill","labelColor","createEdgeCompoundProgram","AbstractEdgeProgram","program_1","AbstractProgram","process","STRIDE","Program","programClasses","EdgeCompoundProgram","programs","reallocate","program","createNodeCompoundProgram","AbstractNodeProgram","NodeCompoundProgram","utils_2","SIZE_FACTOR_PER_ATTRIBUTE_TYPE","WebGL2RenderingContext","BOOL","BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","_gl","_renderer","attributeLocations","createBuffer","indicesBuffer","vertexShader","loadVertexShader","fragmentShader","loadFragmentShader","loadProgram","canUse32BitsIndices","uniformName","getUniformLocation","getAttribLocation","attributeName","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","BYTES_PER_ELEMENT","sizeFactor","bufferData","DYNAMIC_DRAW","STATIC_DRAW","hasNothingToRender","useProgram","edge_arrowHead_1","edge_clamped_1","EdgeArrowProgram","edge_arrowHead_vert_glsl_1","edge_arrowHead_frag_glsl_1","EdgeArrowHeadProgram","edge_rectangle_1","edge_clamped_vert_glsl_1","EdgeClampedProgram","edge_line_vert_glsl_1","edge_line_frag_glsl_1","EdgeLineProgram","LINES","edge_rectangle_vert_glsl_1","edge_rectangle_frag_glsl_1","EdgeRectangleProgram","u_zoomRatio","zoomRatio","edge_triangle_vert_glsl_1","edge_triangle_frag_glsl_1","EdgeTriangleProgram","node_circle_vert_glsl_1","node_circle_frag_glsl_1","NodeCircleProgram","node_point_vert_glsl_1","node_point_frag_glsl_1","NodePointProgram","loadShader","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","shaders","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","resolveSettings","DEFAULT_EDGE_PROGRAM_CLASSES","DEFAULT_NODE_PROGRAM_CLASSES","hover_1","edge_label_1","edge_arrow_1","hideEdgesOnMove","hideLabelsOnMove","renderLabels","renderEdgeLabels","enableEdgeClickEvents","enableEdgeWheelEvents","enableEdgeHoverEvents","defaultNodeColor","defaultNodeType","defaultEdgeColor","stagePadding","zoomToSizeRatioFunction","labelDensity","labelGridCellSize","labelRenderedSizeThreshold","nodeReducer","edgeReducer","zIndex","minCameraRatio","maxCameraRatio","labelRenderer","hoverRenderer","edgeLabelRenderer","allowInvalidContainer","nodeProgramClasses","nodeHoverProgramClasses","edgeProgramClasses","arrow","resolvedSettings","__values","labels_1","settings_1","touch_1","matrices_1","edge_collisions_1","applyNodeDefaults","forceLabel","applyEdgeDefaults","canvasContexts","webGLContexts","activeListeners","quadtree","labelGrid","nodeDataCache","edgeDataCache","nodesWithForcedLabels","edgesWithForcedLabels","nodeExtent","identity","invMatrix","customBBox","normalizationFunction","createNormalizationFunction","cameraSizeRatio","getPixelRatio","displayedEdgeLabels","hoveredEdge","renderFrame","renderHighlightedNodesFrame","needToProcess","checkEdgesEventsFrame","nodePrograms","nodeHoverPrograms","edgePrograms","validateGraph","createWebGLContext","preserveDrawingBuffer","createCanvasContext","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","BLEND","NodeProgramClass","NodeHoverProgram","hoverNodes","EdgeProgramClass","bindCameraHandlers","mouseCaptor","touchCaptor","bindEventHandlers","bindGraphHandlers","handleSettingsUpdate","createCanvas","class","antialias","contextOptions","scheduleRender","mouseIsOnNode","nodeX","nodeY","getQuadNodes","mouseGraphPosition","getNodeAtPosition","quadNodes","nodeAtPosition","nodePosition","framedGraphToViewport","scaleSize","handleResize","baseEvent","nodeToHover","scheduleHighlightedNodesRender","checkEdgeHoverEvents","createMouseListener","getEdgeAtPoint","graphUpdate","dropNodeGraphUpdate","dropEdgeGraphUpdate","clearEdgesGraphUpdate","clearGraphUpdate","unbindGraphHandlers","edgeToHover","e_1","isPixelColored","viewportToGraph","graphX","graphY","transformationRatio","someEdge","sourceId","targetId","xs","ys","xt","yt","graphLength","graphToViewport","vp_xs","vp_ys","vp_xt","vp_yt","viewportLength","filterEdges","edgeAttributes","sourcePosition","targetPosition","doEdgeCollideWithPoint","selectedEdge","highestZIndex","edges_1","edges_1_1","getEdgeAttribute","e_1_1","return","nodeZExtent","edgeZExtent","graphExtent","nullCamera","nullCameraMatrix","matrixFromCamera","getGraphDimensions","getSetting","nodesPerPrograms","applyTo","zIndexOrdering","nodeProgram","edgesPerPrograms","labelsToDisplay","edgeLabels","edgeLabelsToDisplay","displayedLabels","renderHighlightedNodes","hovers","nodesToRender","COLOR_BUFFER_BIT","exitRender","updateCachedValues","moving","viewportDimensions","graphDimensions","padding","getMatrixImpact","getContainer","getGraph","setGraph","getMouseCaptor","getTouchCaptor","extent","getNodeDisplayData","getEdgeDisplayData","getNodeDisplayedLabels","getEdgeDisplayedLabels","getSettings","setSetting","updateSetting","previousWidth","previousHeight","scale","viewport","viewportTarget","center","graphMousePosition","graphCenterPosition","viewRectangle","marginX","marginY","p1","p2","coordinates","override","recomputeMatrix","viewportPos","multiplyVec2","viewportPoint","inverse","graphPoint","getBBox","getCustomBBox","setCustomBBox","getCanvases","rawEmitter","animateNodes","targets","startPositions","attrs","getNodeAttribute","frame","HTML_COLORS","black","silver","gray","grey","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","darkblue","mediumblue","darkgreen","darkcyan","deepskyblue","darkturquoise","mediumspringgreen","springgreen","cyan","midnightblue","dodgerblue","lightseagreen","forestgreen","seagreen","darkslategray","darkslategrey","limegreen","mediumseagreen","turquoise","royalblue","steelblue","darkslateblue","mediumturquoise","indigo","darkolivegreen","cadetblue","cornflowerblue","rebeccapurple","mediumaquamarine","dimgray","dimgrey","slateblue","olivedrab","slategray","slategrey","lightslategray","lightslategrey","mediumslateblue","lawngreen","chartreuse","aquamarine","skyblue","lightskyblue","blueviolet","darkred","darkmagenta","saddlebrown","darkseagreen","lightgreen","mediumpurple","darkviolet","palegreen","darkorchid","yellowgreen","sienna","brown","darkgray","darkgrey","lightblue","greenyellow","paleturquoise","lightsteelblue","powderblue","firebrick","darkgoldenrod","mediumorchid","rosybrown","darkkhaki","mediumvioletred","indianred","peru","chocolate","tan","lightgray","lightgrey","thistle","orchid","goldenrod","palevioletred","crimson","gainsboro","plum","burlywood","lightcyan","lavender","darksalmon","violet","palegoldenrod","lightcoral","khaki","aliceblue","honeydew","azure","sandybrown","wheat","beige","whitesmoke","mintcream","ghostwhite","salmon","antiquewhite","linen","lightgoldenrodyellow","oldlace","magenta","deeppink","orangered","tomato","hotpink","coral","darkorange","lightsalmon","orange","lightpink","pink","gold","peachpuff","navajowhite","moccasin","bisque","mistyrose","blanchedalmond","papayawhip","lavenderblush","seashell","cornsilk","lemonchiffon","floralwhite","snow","lightyellow","ivory","cubicInOut","cubicOut","cubicIn","quadraticInOut","quadraticOut","quadraticIn","linear","easings","pixels","readPixels","drawingBufferHeight","xS","yS","xT","extractPixel","getCorrectionRatio","floatArrayColor","parseColor","assignDeep","is_graph_1","data_1","cancelAnimationFrame","requestID","tag","devicePixelRatio","dX","dY","zA","zB","INT8","INT32","FLOAT32","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","FLOAT_COLOR_CACHE","htmlColor","parsed","viewportRatio","graphRatio","multiply","getExtension","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","b0","isFalse","strval","name_regex","indentString","tags","texts","comment","dtd","pi","cdata","started_write","writer_encoding","indenter","standalone","startPI","startAttribute","endAttribute","endPI","endDocument","endAttributes","writeElementNS","uri","containsTag","startAttributes","writeAttributeNS","startAttributeNS","writeComment","startComment","endComment","writeDocType","pubid","sysid","subset","startDocType","endDocType","writePI","writeCData","startCData","endCData","writeRaw","api","locals","memo","getTarget","styleTarget","HTMLIFrameElement","contentDocument","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","css","media","references","addStyle","insertStyleElement","nonce","insert","textStore","replaceText","replacement","Boolean","applyToSingletonTag","styleSheet","cssText","cssNode","createTextNode","applyToTag","singleton","singletonCounter","update","styleIndex","removeStyleElement","newObj","atob","lastIdentifiers","newList","newLastIdentifiers","_index","hoverLabel","__webpack_public_path__","zoomIcon","unzoomIcon","resetZoomIcon","resetLayoutIcon","playIcon","pauseIcon","fullscreenEnterIcon","fullscreenExitIcon","scatterIcon","getDefaultDefaultValue","kind","UNKNOWN_SHAPE","Palette","scheme","d3Chromatic","firstValidCount","USEFUL_SHAPES","SHAPES_MAP","renderToAuxiliaryCanvas","inputLayers","tmpRoot","right","tmpRenderer","fillRect","canvases","cleanup","dataURL","toDataURL","toBlob","gexf","displayData","copyGraphForGexf","rendererSettings","picto","qualifier","MODULE_VERSION","MODULE_NAME","createContinuousScale","variable","range","getContinuousDefaultValue","isConstant","isLogPlusOne","param","scaleLinear","scaleLog","scalePow","exponent","scaleSqrt","domain","chromatic","Extent","AttributeExtents","names","AttributeCategories","CategorySummary","palette","overflowing","frequencies","maxCount","topValues","fromScheme","generateFromValues","fromEntries","visualVariables","maxCategories","variables","nodeExtentAttributes","nodeCategoryAttributes","edgeExtentAttributes","edgeCategoryAttributes","variableName","nodeExtents","edgeExtents","nodeCategories","edgeCategories","readGraph","build","scales","categories","summary","fromTopValues","inferLabelRenderedSizeThreshold","nodeSize","NODE_VIZ_ATTRIBUTES","EDGE_VIZ_ATTRIBUTES","MUTED_NODE_COLOR","IPYSIGMA_KWARG_PREFIX","TEMPLATE","SigmaModel","DOMWidgetModel","_model_name","model_name","_model_module","model_module","_model_module_version","model_module_version","_view_name","view_name","_view_module","view_module","_view_module_version","view_module_version","start_layout","snapshot","clickableEdges","visual_variables","createRng","escapeHtml","unsafe","renderTypedValue","safe","display","serializers","SPINNER_STATES","createSpinner","span","SYNC_REGISTRY","SigmaView","DOMWidgetView","edgeWeightAttribute","syncHoveredNode","syncListeners","layoutSpinner","currentTab","isInformationShown","selectedNode","focusedNodes","selectedNodeCategoryValues","selectedEdgeCategoryValues","backgroundColor","buildGraph","preexistingLayout","saveLayout","originalLayoutPositions","nodeMetrics","attrName","metricSpec","metric","insertAdjacentHTML","html","getGraphDescription","zoomButton","unzoomButton","resetZoomButton","fullscreenButton","layoutControls","layoutButton","noverlapButton","resetLayoutButton","searchContainer","nodeLabelAttribute","nodeLabel","labelParts","informationDisplayElement","informationShadowDisplayElement","itemInfoElement","legendElement","nodeInfoButton","legendButton","hideInformationButton","showInformationButton","changeInformationDisplayTab","downloadPNGButton","downloadGEXFButton","downloadSVGButton","downloadJSONButton","displayed","nodeColorSaturationEnabled","nodeColorSaturation","nodeBordersEnabled","nodeBorderColor","nodeBorderSize","nodeBorderRatio","nodePictogramsEnabled","nodePictogram","nodeShapeEnabled","nodeShape","nodeHaloEnabled","nodeHaloSize","nodeHaloColor","triangle","curve","NodeShapeProgram","halo","border","maxCategoricalColors","scaleBuilder","VisualVariableScalesBuilder","updateLegend","nodeColor","edgeColor","nodeDisplayDataRegister","nodeCategoryAttribute","edgeCategoryAttribute","edgeColorFrom","nodeBorderColorFrom","categoryValue","nodeLabelSize","nodeLabelColor","hex","darken","pictogramToUrl","nodePictogramColor","shapeToPicto","edgeSize","edgeLabel","edgeCurveness","uiSettings","initialCameraState","selectItem","clearSelectedItem","hideInfoPanel","toggleInformationDisplay","hideSearch","bindMessageHandlers","bindRendererHandlers","bindChoicesHandlers","bindInformationDisplayHandlers","bindDownloadHandlers","bindFullscreenHandlers","bindLayoutHandlers","syncKey","currentSyncEntry","renderers","bindSyncEvents","renderSnapshot","renderAsDataURL","saveCameraState","resetLayout","tab","summaries","categoryMap","dataId","renderLegend","paletteItems","getSpanInfo","categorySpans","updateSpans","onclick","relatedPaletteCount","toggleCategoryValue","kwargInfo","vizInfo","vizAttributes","moveCameraToNode","msg","debouncedSaveCameraState","hoveredCount","cursor","saveAsPNG","saveAsGEXF","saveAsSVG","saveAsJSON","enter","exit","targetHeight","onchange","isFullscreen","request","inferredSettings","noverlap","stopNoverlap","layoutStoppingTimeout","stopLayout","startLayout","disableButton","startNoverlap","seconds","syncEmitter","locks","nodeAttributesUpdated","eachNodeAttributesUpdated","syncTargets","resetLockFrame","lock","resetLocks","enterNode","leaveNode","eventName","syncEntry","__WEBPACK_EXTERNAL_MODULE__9146__","limit$2","limit$1","classToType","i$1","list$1","type$p","type$o","type$n","PI$2","utils","clip_rgb","_clipped","_unclipped","unpack","keyOrder","TWOPI","PITHIRD","DEG2RAD","RAD2DEG","input$h","autodetect","last$3","clip_rgb$2","type$m","_input","Color$D","sorted","chk","_rgb","Color_1","chroma$k","Color","chroma_1","unpack$A","max$2","rgb2cmyk_1","ref","unpack$z","cmyk2rgb_1","chroma$j","Color$C","input$g","unpack$y","type$l","rgb2cmyk","cmyk","unpack$x","last$2","rnd","hsl2css_1","hsla","unpack$w","rgb2hsl_1","unpack$v","last$1","hsl2css","rgb2hsl$2","round$6","rgb2css_1","rgba","unpack$u","round$5","hsl2rgb_1","t3","t2","t1","h_","hsl2rgb","input$f","RE_RGB","RE_RGBA","RE_RGB_PCT","RE_RGBA_PCT","RE_HSL","RE_HSLA","round$4","css2rgb$1","named","rgb$1","rgb$2","i$2","rgb$3","i$3","hsl","rgb$4","hsl$1","rgb$5","chroma$i","Color$B","input$e","type$k","rgb2css","css2rgb","rest","Color$A","chroma$h","unpack$t","unpack$s","rgb2hcg_1","unpack$r","floor$3","hcg2rgb_1","assign$1","assign$2","assign$3","assign$4","assign$5","unpack$q","type$j","chroma$g","Color$z","input$c","rgb2hcg","hcg","unpack$p","round$3","rgb2hex_1","hxa","RE_HEX","RE_HEXA","hex2rgb_1","u$1","chroma$f","Color$y","type$i","input$b","rgb2hex$1","unpack$o","TWOPI$2","min$2","sqrt$4","rgb2hsi_1","min_","unpack$n","TWOPI$1","cos$4","hsi2rgb_1","unpack$m","type$h","chroma$e","Color$x","input$a","rgb2hsi","hsi","unpack$l","type$g","chroma$d","Color$w","input$9","rgb2hsl$1","unpack$k","min$1","max$1","rgb2hsv$1","max_","unpack$j","floor$2","hsv2rgb_1","unpack$i","type$f","chroma$c","Color$v","input$8","rgb2hsv","hsv","labConstants","Kn","Xn","Yn","Zn","t0","LAB_CONSTANTS$3","unpack$h","pow$a","rgb_xyz","xyz_lab","rgb2xyz","rgb2lab_1","ref$1","LAB_CONSTANTS$2","unpack$g","pow$9","xyz_rgb","lab_xyz","lab2rgb_1","unpack$f","type$e","chroma$b","Color$u","input$7","rgb2lab$1","unpack$e","sqrt$3","atan2$2","round$2","lab2lch_1","unpack$d","rgb2lab","lab2lch$1","rgb2lch_1","b_","unpack$c","sin$3","cos$3","lch2lab_1","unpack$b","lch2lab$1","lab2rgb","lch2rgb_1","unpack$a","lch2rgb","hcl2rgb_1","unpack$9","type$d","chroma$a","Color$t","input$6","rgb2lch","lch","w3cx11_1","cornflower","laserlemon","lightgoldenrod","maroon2","maroon3","purple2","purple3","input$5","type$c","w3cx11","hex2rgb","rgb2hex","unpack$8","rgb2num_1","type$b","num2rgb_1","num","chroma$9","Color$r","input$4","type$a","rgb2num","chroma$8","Color$q","input$3","unpack$7","type$9","round$1","log$1","temperature2rgb_1","kelvin","temp","temperature2rgb","unpack$6","chroma$7","Color$p","input$2","rgb2temperature","minTemp","maxTemp","eps","temperature","unpack$5","cbrt","pow$8","sign$1","rgb2oklab_1","rgb2lrgb","lg","lb","unpack$4","pow$7","oklab2rgb_1","lrgb2rgb","unpack$3","type$8","chroma$6","Color$o","input$1","rgb2oklab$1","oklab","unpack$2","rgb2oklab","lab2lch","rgb2oklch_1","unpack$1","lch2lab","oklab2rgb","oklch2rgb_1","type$7","chroma$5","Color$n","rgb2oklch","oklch","Color$m","type$6","mutate","clipped","Color$k","LAB_CONSTANTS$1","brighten","darker","brighter","mc","channel","Color$i","type$5","pow$6","luminance","lum","cur_lum","max_iter","low","high","mid","interpolate","lm","rgb2luminance","luminance_x","interpolator$1","Color$h","type$4","interpolator","mix$1","col1","col2","Color$g","mix","Color$f","premultiply","Color$e","saturate","desaturate","Color$d","type$3","Color$c","xyz0","xyz1","Color$b","sqrt$2","pow$5","lrgb","z1","z2","Color$a","Color$9","_hsx","hue0","hue1","sat0","sat1","lbv0","lbv1","sat","hue","lbv","interpolate_hsx$5","Color$8","c1","c2","interpolate_hsx$4","interpolate_hsx$3","interpolate_hsx$2","interpolate_hsx$1","Color$7","interpolate_hsx","Color$6","clip_rgb$1","pow$4","sqrt$1","PI$1","cos$2","sin$2","atan2$1","_average_lrgb","chroma$4","type$2","pow$3","scale$2","_mode","_nacol","_spread","_domain","_pos","_padding","_classes","_colors","_out","_min","_max","_correctLightness","_colorCache","_useCache","_gamma","setColors","brewer","c$1","resetCache","tMapLightness","tMapDomain","getColor","bypassMap","getClass","analyze","limits","tOut","tBreaks","every","_m","_o","spread","correctLightness","L0","pol","L_actual","L_ideal","L_diff","numColors","dm","dd","__range__","samples","asc","gamma","nodata","inclusive","ascending","Color$5","scale$1","chroma$3","blend","blend_f","c0","each","normal","overlay","lighten","dodge","burn","blend_1","type$1","pow$2","sin$1","cos$1","chroma$2","Color$4","floor$1","pow$1","abs$1","MAX_VALUE","min_log","LOG10E","max_log","pb","pr","cluster","assignments","clusterSizes","repeat","nb_iters","centroids","i$4","mindist","j$1","newCentroids","j$2","i$5","j$3","j$4","kClusters","j$5","i$6","tmpKMeansBreaks","j$6","i$7","analyze_1","Color$3","Color$2","Color$1","chroma$1","cool","hot","colorbrewer","OrRd","PuBu","BuPu","Oranges","BuGn","YlOrBr","YlGn","Reds","RdPu","Greens","YlGnBu","Purples","GnBu","Greys","YlOrRd","PuRd","Blues","PuBuGn","Viridis","Spectral","RdYlGn","RdBu","PiYG","PRGn","RdYlBu","BrBG","RdGy","PuOr","Set2","Accent","Set1","Set3","Dark2","Paired","Pastel2","Pastel1","colorbrewer_1","chroma","average","cnt","xyz2","A$1","bezier","I","lab0","lab3","labs","newrow","binom_row","cubehelix","rotations","lightness","dh","fract","amp","cos_a","sin_a","contrast","deltaE","Kl","Kc","Kh","rad2deg","rad","deg2rad","deg","avgL","avgC","G","a1p","a2p","C1p","C2p","avgCp","arctan1","arctan2","h1p","h2p","avgHp","deltaHp","deltaCp","sl","sc","sh","deltaTheta","Rt","sum_sq","valid","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","color_formatHex","formatHex","color_formatRgb","formatRgb","exec","rgbn","Rgb","rgbConvert","opacity","rgb_formatHex","rgb_formatRgb","clampa","clampi","Hsl","hslConvert","clamph","clampt","m1","m2","channels","displayable","formatHex8","formatHsl","clamp","extend","nogamma","exponential","basis","v0","v1","v2","v3","rgbGamma","rgbSpline","spline","rgbBasis","specifier","ramp","radians","degrees","D","ED","EB","BC_DA","cubehelixConvert","Cubehelix","cosh","sinh","cubehelixGamma","cubehelixLong","warm","ts","pi_1_3","pi_2_3","magma","inferno","plasma","initRange","initInterpolator","InternMap","keyof","_intern","intern_get","intern_set","intern_delete","InternSet","implicit","ordinal","unknown","band","bandwidth","ordinalRange","r0","r1","paddingInner","paddingOuter","align","rescale","rangeRound","pointish","e10","e5","e2","ticks","tickIncrement","power","LN10","tickStep","step0","step1","descending","bisector","compare1","compare2","lo","hi","zero","ascendingBisect","bisectRight","genericArray","nb","na","setTime","reA","reB","bs","bi","one","constant","date","DataView","unit","normalize","bimap","d0","d1","polymap","bisect","transform","untransform","piecewise","invert","continuous","prefixExponent","formatSpecifier","FormatSpecifier","comma","precision","formatDecimalParts","toExponential","toFixed","toLocaleString","toPrecision","formatRounded","formatPrefix","prefixes","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","i0","i1","maxIter","interval","transformLog","transformExp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","log10","log2","logp","powp","transformSymlog","log1p","transformSymexp","expm1","symlogish","symlog","transformPow","transformSqrt","transformSquare","powish","square","unsquare","radial","squared","valueof","compareDefined","sd","swap","quantile","value0","subarray","quantileSorted","thresholds","invertExtent","quantiles","quantize","locale","grouping","thousands","currencyPrefix","currency","currencySuffix","numerals","formatNumerals","percent","minus","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationYear","newInterval","floori","offseti","field","millisecond","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","timeTicks","timeTickInterval","localDate","H","utcDate","UTC","newDate","timeFormat","utcFormat","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","dISO","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","time","utcTime","k10","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","k21","r2","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","newParse","utcParse","formatLocale","methodMap","nativeAPI","unprefixedMethods","returnValue","methodList","exitFullscreenMethod","eventNameMap","fullscreenchange","fullscreenerror","screenfull","onFullScreenEntered","returnPromise","requestFullscreen","onFullScreenExit","exitFullscreen","toggle","raw","fullscreenElement","isEnabled","fullscreenEnabled","__webpack_require__","loaded","amdD","amdO","globalThis","nmd","paths","nc"],"sourceRoot":""}